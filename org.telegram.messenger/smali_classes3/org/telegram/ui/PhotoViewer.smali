.class public Lorg/telegram/ui/PhotoViewer;
.super Ljava/lang/Object;
.source "PhotoViewer.java"

# interfaces
.implements Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;
.implements Lorg/telegram/ui/Components/GestureDetector2$OnGestureListener;
.implements Lorg/telegram/ui/Components/GestureDetector2$OnDoubleTapListener;


# annotations
.annotation build Landroid/annotation/SuppressLint;
    value = {
        "WrongConstant"
    }
.end annotation

.annotation system Ldalvik/annotation/MemberClasses;
    value = {
        Lorg/telegram/ui/PhotoViewer$FirstFrameView;,
        Lorg/telegram/ui/PhotoViewer$ListAdapter;,
        Lorg/telegram/ui/PhotoViewer$QualityChooseView;,
        Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;,
        Lorg/telegram/ui/PhotoViewer$CaptionTextView;,
        Lorg/telegram/ui/PhotoViewer$CaptionScrollView;,
        Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;,
        Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;,
        Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;,
        Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;,
        Lorg/telegram/ui/PhotoViewer$EmptyPhotoViewerProvider;,
        Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;,
        Lorg/telegram/ui/PhotoViewer$PhotoProgressView;,
        Lorg/telegram/ui/PhotoViewer$CounterView;,
        Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;,
        Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;,
        Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;,
        Lorg/telegram/ui/PhotoViewer$SavedState;,
        Lorg/telegram/ui/PhotoViewer$EditState;,
        Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;,
        Lorg/telegram/ui/PhotoViewer$PhotoCountView;,
        Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;
    }
.end annotation


# static fields
.field private static volatile Instance:Lorg/telegram/ui/PhotoViewer;
    .annotation build Landroid/annotation/SuppressLint;
        value = {
            "StaticFieldLeak"
        }
    .end annotation
.end field

.field private static volatile PipInstance:Lorg/telegram/ui/PhotoViewer;

.field private static final VPC_PROGRESS:Landroid/util/Property;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Landroid/util/Property<",
            "Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;",
            "Ljava/lang/Float;",
            ">;"
        }
    .end annotation
.end field

.field private static decelerateInterpolator:Landroid/view/animation/DecelerateInterpolator;

.field private static progressDrawables:[Landroid/graphics/drawable/Drawable;

.field private static progressPaint:Landroid/graphics/Paint;


# instance fields
.field private ALLOW_USE_SURFACE:Z

.field public final FLASH_VIEW_VALUE:Landroid/util/Property;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Landroid/util/Property<",
            "Landroid/view/View;",
            "Ljava/lang/Float;",
            ">;"
        }
    .end annotation
.end field

.field private aboutToSwitchTo:I

.field private actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

.field private actionBarAnimator:Landroid/animation/AnimatorSet;

.field private actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

.field private actionBarItemsVisibility:Ljava/util/Map;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/Map<",
            "Landroid/view/View;",
            "Ljava/lang/Boolean;",
            ">;"
        }
    .end annotation
.end field

.field private actionBarWasShownBeforeByEnd:Z

.field private activityContext:Landroid/content/Context;

.field private allMediaItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

.field private allowOrder:Z

.field private allowShare:Z

.field private allowShowFullscreenButton:Z

.field private animateToMirror:F

.field private animateToRotate:F

.field private animateToScale:F

.field private animateToX:F

.field private animateToY:F

.field private animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

.field private animationEndRunnable:Ljava/lang/Runnable;

.field private animationInProgress:I

.field private animationStartTime:J

.field private animationValue:F

.field private animationValues:[[F

.field private applying:Z

.field private aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

.field private attachedToWindow:Z

.field private audioFramesSize:J

.field private avatarStartProgress:F

.field private avatarStartTime:J

.field private final avatarsArr:Ljava/util/ArrayList;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/ArrayList<",
            "Lorg/telegram/tgnet/TLRPC$Photo;",
            ">;"
        }
    .end annotation
.end field

.field private avatarsDialogId:J

.field private backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

.field private bitmapPaint:Landroid/graphics/Paint;

.field private volatile bitrate:I

.field private blackPaint:Landroid/graphics/Paint;

.field private final blurAlpha:Lorg/telegram/ui/Components/AnimatedFloat;

.field private blurBounds:Landroid/graphics/RectF;

.field private blurManager:Lorg/telegram/ui/Components/BlurringShader$BlurManager;

.field private bottomFancyShadow:Landroid/graphics/LinearGradient;

.field private bottomFancyShadowMatrix:Landroid/graphics/Matrix;

.field private bottomFancyShadowPaint:Landroid/graphics/Paint;

.field private bottomLayout:Landroid/widget/FrameLayout;

.field private canDragDown:Z

.field private canEditAvatar:Z

.field private canZoom:Z

.field private captionAnimator:Landroid/animation/ObjectAnimator;

.field private captionContainer:Landroid/widget/FrameLayout;

.field private captionDetectedLanguage:Ljava/lang/String;

.field private captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

.field private captionEditContainer:Landroid/widget/FrameLayout;

.field public captionForAllMedia:Ljava/lang/CharSequence;

.field private captionHwLayerEnabled:Z

.field private captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

.field private captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

.field private captionTranslated:Z

.field private captureFrameAtTime:J

.field private captureFrameReadyAtTime:J

.field private centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

.field private centerImage:Lorg/telegram/messenger/ImageReceiver;

.field private centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

.field private centerImageIsVideo:Z

.field private changeModeAnimation:Landroid/animation/AnimatorSet;

.field private changedTextureView:Landroid/view/TextureView;

.field private changingPage:Z

.field private changingTextureView:Z

.field private checkImageView:Lorg/telegram/ui/Components/CheckBox;

.field chooseSpeedLayout:Lorg/telegram/ui/ChooseSpeedLayout;

.field private classGuid:I

.field private clipFancyShadows:Landroid/graphics/Path;

.field private clippingImageProgress:F

.field public closePhotoAfterSelect:Z

.field private compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

.field private volatile compressionsCount:I

.field private containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

.field private countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

.field private cropInitied:Z

.field private cropItem:Landroid/widget/ImageView;

.field private cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

.field private currentAccount:I

.field private currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

.field private currentAvatarLocation:Lorg/telegram/messenger/ImageLocation;

.field private currentBitmap:Landroid/graphics/Bitmap;

.field private currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

.field private currentDialogId:J

.field private currentEditMode:I

.field private currentFileLocation:Lorg/telegram/messenger/ImageLocation;

.field private currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

.field private currentFileNames:[Ljava/lang/String;

.field private currentFilterQuery:Ljava/lang/String;

.field private currentFilterTag:Lorg/telegram/ui/Components/Reactions/ReactionsLayoutInBubble$VisibleReaction;

.field private currentFiltered:Z

.field private currentImageFaceKey:Ljava/lang/String;

.field private currentImageHasFace:I

.field private currentImagePath:Ljava/lang/String;

.field private currentIndex:I

.field private currentListViewAnimation:Landroid/animation/AnimatorSet;

.field private currentLoadingVideoRunnable:Ljava/lang/Runnable;

.field private currentMessageObject:Lorg/telegram/messenger/MessageObject;

.field private currentPageBlock:Lorg/telegram/tgnet/TLRPC$PageBlock;

.field private currentPanTranslationY:F

.field private currentPathObject:Ljava/lang/String;

.field private currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

.field private currentPlayingVideoFile:Landroid/net/Uri;

.field private currentSecureDocument:Lorg/telegram/messenger/SecureDocument;

.field private currentSubtitle:Ljava/lang/String;

.field private currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

.field private currentVideoFinishedLoading:Z

.field private currentVideoSpeed:F

.field private customTitle:Ljava/lang/CharSequence;

.field private dialogPhotos:Lorg/telegram/messenger/MessagesController$DialogPhotos;

.field private disableShowCheck:Z

.field private discardTap:Z

.field private docInfoTextView:Landroid/widget/TextView;

.field private docNameTextView:Landroid/widget/TextView;

.field private doneButtonFullWidth:Landroid/widget/TextView;

.field private doneButtonPressed:Z

.field private dontAutoPlay:Z

.field private dontChangeCaptionPosition:Z

.field private dontResetZoomOnFirstLayout:Z

.field private doubleTap:Z

.field private doubleTapEnabled:Z

.field private dragY:F

.field private draggingDown:Z

.field private drawPressedDrawable:[Z

.field private editItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

.field private editState:Lorg/telegram/ui/PhotoViewer$EditState;

.field private editing:Z

.field private editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

.field private endReached:[Z

.field private endTime:J

.field private estimatedDuration:J

.field private estimatedSize:J

.field private exitFullscreenButton:Landroid/widget/ImageView;

.field private fancyShadows:Z

.field private firstAnimationDelay:Z

.field private firstFrameRendered:Z

.field private firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

.field private flashAnimator:Landroid/animation/AnimatorSet;

.field private flashView:Landroid/view/View;

.field fromCamera:Z

.field private fullscreenButton:[Landroid/widget/ImageView;

.field private fullscreenedByButton:I

.field private gestureDetector:Lorg/telegram/ui/Components/GestureDetector2;

.field private groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

.field public hasCaptionForAllMedia:Z

.field private hideActionBarRunnable:Ljava/lang/Runnable;

.field private hideAfterAnimation:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

.field private hintView:Lorg/telegram/ui/Components/UndoView;

.field private hitRect:Landroid/graphics/Rect;

.field private ignoreDidSetImage:Z

.field private imageBounds:Landroid/graphics/RectF;

.field private imageBoundsMatrix:Landroid/graphics/Matrix;

.field private imageBoundsPoints:[F

.field private imageMoveAnimation:Landroid/animation/AnimatorSet;

.field private final imagesArr:Ljava/util/ArrayList;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/MessageObject;",
            ">;"
        }
    .end annotation
.end field

.field private final imagesArrLocals:Ljava/util/ArrayList;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/ArrayList<",
            "Ljava/lang/Object;",
            ">;"
        }
    .end annotation
.end field

.field private final imagesArrLocations:Ljava/util/ArrayList;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/ImageLocation;",
            ">;"
        }
    .end annotation
.end field

.field private final imagesArrLocationsSizes:Ljava/util/ArrayList;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/ArrayList<",
            "Ljava/lang/Long;",
            ">;"
        }
    .end annotation
.end field

.field private final imagesArrLocationsVideo:Ljava/util/ArrayList;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/ImageLocation;",
            ">;"
        }
    .end annotation
.end field

.field private final imagesArrMessages:Ljava/util/ArrayList;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/ArrayList<",
            "Lorg/telegram/tgnet/TLRPC$Message;",
            ">;"
        }
    .end annotation
.end field

.field private final imagesArrTemp:Ljava/util/ArrayList;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/MessageObject;",
            ">;"
        }
    .end annotation
.end field

.field private final imagesByIds:[Landroid/util/SparseArray;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "[",
            "Landroid/util/SparseArray<",
            "Lorg/telegram/messenger/MessageObject;",
            ">;"
        }
    .end annotation
.end field

.field private final imagesByIdsTemp:[Landroid/util/SparseArray;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "[",
            "Landroid/util/SparseArray<",
            "Lorg/telegram/messenger/MessageObject;",
            ">;"
        }
    .end annotation
.end field

.field private inBubbleMode:Z

.field private inPreview:Z

.field private injectingVideoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

.field private injectingVideoPlayerSurface:Landroid/graphics/SurfaceTexture;

.field private inlineOutAnimationProgress:F

.field private final insets:Landroid/graphics/Rect;

.field private interpolator:Landroid/view/animation/DecelerateInterpolator;

.field private invalidCoords:Z

.field private isActionBarVisible:Z

.field private isCurrentVideo:Z

.field private isDocumentsPicker:Z

.field private isEmbedVideo:Z

.field private isEvent:Z

.field private isFirstLoading:Z

.field private volatile isH264Video:Z

.field private isInline:Z

.field private isPhotosListViewVisible:Z

.field private isPlaying:Z

.field private isStreaming:Z

.field private isVisible:Z

.field private isVisibleOrAnimating:Z

.field private itemsLayout:Landroid/widget/LinearLayout;

.field private keepScreenOnFlagSet:Z

.field private keyboardSize:I

.field private lastBufferedPositionCheck:J

.field private lastCaptionTranslating:Z

.field private lastControlFrameDuration:Ljava/lang/String;

.field private lastFrameBitmap:Landroid/graphics/Bitmap;

.field private lastFrameImageView:Landroid/widget/ImageView;

.field private lastImageId:I

.field private lastPhotoSetTime:J

.field private lastSaveTime:J

.field private lastTitle:Ljava/lang/CharSequence;

.field private leftBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

.field private leftCropState:Lorg/telegram/messenger/MediaController$CropState;

.field private leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

.field private leftImage:Lorg/telegram/messenger/ImageReceiver;

.field private leftImageIsVideo:Z

.field private leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

.field private limitBulletin:Lorg/telegram/ui/Components/Bulletin;

.field private loadInitialVideo:Z

.field private loadingMoreImages:Z

.field longPressRunnable:Ljava/lang/Runnable;

.field longPressX:F

.field private manuallyPaused:Z

.field private masksAlert:Lorg/telegram/ui/Components/StickersAlert;

.field private masksItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

.field private maxSelectedPhotos:I

.field private maxX:F

.field private maxY:F

.field private menu:Lorg/telegram/ui/ActionBar/ActionBarMenu;

.field private menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

.field private menuItemIcon:Lorg/telegram/ui/Components/OptionsSpeedIconDrawable;

.field private mergeDialogId:J

.field private minX:F

.field private minY:F

.field private miniProgressAnimator:Landroid/animation/AnimatorSet;

.field private miniProgressShowRunnable:Ljava/lang/Runnable;

.field private miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

.field private mirror:F

.field private mirrorItem:Landroid/widget/ImageView;

.field private moveStartX:F

.field private moveStartY:F

.field private moving:Z

.field private muteItem:Landroid/widget/ImageView;

.field private muteVideo:Z

.field private navigationBar:Landroid/view/View;

.field private navigationBarHeight:I

.field private needCaptionLayout:Z

.field private needCaptureFrameReadyAtTime:J

.field private needSearchImageInArr:Z

.field private needShowOnReady:Z

.field private onUserLeaveHintListener:Ljava/lang/Runnable;

.field private openedFromProfile:Z

.field private openedFullScreenVideo:Z

.field private opennedFromMedia:Z

.field private orientationEventListener:Landroid/view/OrientationEventListener;

.field private volatile originalBitrate:I

.field private volatile originalHeight:I

.field private originalSize:J

.field private volatile originalWidth:I

.field private padImageForHorizontalInsets:Z

.field private pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

.field private paintItem:Landroid/widget/ImageView;

.field private paintKeyboardAnimator:Landroid/animation/AnimatorSet;

.field private paintKeyboardNotifier:Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;

.field private paintViewTouched:I

.field private paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

.field private parentActivity:Landroid/app/Activity;

.field private parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

.field private parentChatActivity:Lorg/telegram/ui/ChatActivity;

.field private parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

.field private photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

.field private photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

.field private photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

.field private photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

.field private photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

.field private photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

.field private pickerView:Landroid/widget/FrameLayout;

.field private pickerViewSendButton:Landroid/widget/ImageView;

.field private pickerViewSendDrawable:Landroid/graphics/drawable/Drawable;

.field private pinchCenterX:F

.field private pinchCenterY:F

.field private pinchStartDistance:F

.field private pinchStartScale:F

.field private pinchStartX:F

.field private pinchStartY:F

.field private pipAnimationInProgress:Z

.field private pipAvailable:Z

.field private pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

.field private pipPosition:[I

.field private pipVideoOverlayAnimateFlag:Z

.field private placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

.field private playButtonAccessibilityOverlay:Landroid/view/View;

.field private playerAutoStarted:Z

.field private playerInjected:Z

.field private playerLooping:Z

.field private playerWasPlaying:Z

.field private playerWasReady:Z

.field private pressedDrawable:[Landroid/graphics/drawable/GradientDrawable;

.field private pressedDrawableAlpha:[F

.field private prevOrientation:I

.field private previousCompression:I

.field private previousCropMirrored:Z

.field private previousCropOrientation:I

.field private previousCropPh:F

.field private previousCropPw:F

.field private previousCropPx:F

.field private previousCropPy:F

.field private previousCropRotation:F

.field private previousCropScale:F

.field private previousHasTransform:Z

.field private progressView:Lorg/telegram/ui/Components/RadialProgressView;

.field private qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

.field private qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

.field private qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

.field private requestingPreview:Z

.field private resetButton:Landroid/widget/TextView;

.field private resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

.field private volatile resultHeight:I

.field private volatile resultWidth:I

.field private rightBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

.field private rightCropState:Lorg/telegram/messenger/MediaController$CropState;

.field private rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

.field private rightImage:Lorg/telegram/messenger/ImageReceiver;

.field private rightImageIsVideo:Z

.field private rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

.field private rotate:F

.field private rotateItem:Landroid/widget/ImageView;

.field private rotationValue:I

.field private savedState:Lorg/telegram/ui/PhotoViewer$SavedState;

.field private savedVideoPositions:Landroidx/collection/ArrayMap;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Landroidx/collection/ArrayMap<",
            "Ljava/lang/String;",
            "Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;",
            ">;"
        }
    .end annotation
.end field

.field private scale:F

.field private scroller:Landroid/widget/Scroller;

.field private final secureDocuments:Ljava/util/ArrayList;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/SecureDocument;",
            ">;"
        }
    .end annotation
.end field

.field private seekToProgressPending:F

.field private seekToProgressPending2:F

.field private volatile selectedCompression:I

.field private selectedPhotosAdapter:Lorg/telegram/ui/PhotoViewer$ListAdapter;

.field private selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

.field private sendItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

.field private sendPhotoType:I

.field private sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

.field private sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

.field private setAvatarFor:Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;

.field private setLoadingRunnable:Ljava/lang/Runnable;

.field private shadowBlurer:Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;

.field private sharedMediaType:I

.field private shiftDp:F

.field private shouldSavePositionForCurrentVideo:Ljava/lang/String;

.field private shouldSavePositionForCurrentVideoShortTerm:Ljava/lang/String;

.field private showAfterAnimation:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

.field private shownControlsByEnd:Z

.field private sideImage:Lorg/telegram/messenger/ImageReceiver;

.field private skipFirstBufferingProgress:Z

.field public skipLastFrameDraw:Z

.field private slideshowMessageId:I

.field private speedGap:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$GapView;

.field private speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

.field private startOffset:I

.field private startTime:J

.field private startedPlayTime:J

.field private streamingAlertShown:Z

.field private surfaceBlackoutPaint:Landroid/graphics/Paint;

.field private surfaceTextureListener:Landroid/view/TextureView$SurfaceTextureListener;

.field private switchImageAfterAnimation:I

.field private switchToInlineRunnable:Ljava/lang/Runnable;

.field private switchingInlineMode:Z

.field private switchingToIndex:I

.field private switchingToMode:I

.field private tempInt:[I

.field private textSelectionHelper:Lorg/telegram/ui/Cells/TextSelectionHelper$SimpleTextSelectionHelper;

.field private textureImageView:Landroid/widget/ImageView;

.field private textureUploaded:Z

.field private tooltip:Lorg/telegram/ui/Components/Tooltip;

.field private topFancyShadow:Landroid/graphics/LinearGradient;

.field private topFancyShadowMatrix:Landroid/graphics/Matrix;

.field private topFancyShadowPaint:Landroid/graphics/Paint;

.field private topicId:J

.field private totalImagesCount:I

.field private totalImagesCountMerge:I

.field private touchSlop:I

.field private transitionAnimationStartTime:J

.field private transitionNotificationLocker:Lorg/telegram/messenger/AnimationNotificationsLocker;

.field private translateY:F

.field private translateYAnimator:Landroid/animation/ValueAnimator;

.field private translationX:F

.field private translationY:F

.field private tryStartRequestPreviewOnFinish:Z

.field private tuneItem:Landroid/widget/ImageView;

.field private final updateContainerFlagsRunnable:Ljava/lang/Runnable;

.field private updateProgressRunnable:Ljava/lang/Runnable;

.field private usedSurfaceView:Z

.field private velocityTracker:Landroid/view/VelocityTracker;

.field private videoAvatarTooltip:Landroid/widget/TextView;

.field private volatile videoConvertSupported:Z

.field private videoCrossfadeAlpha:F

.field private videoCrossfadeAlphaLastTime:J

.field private videoCrossfadeStarted:Z

.field private videoCutEnd:F

.field private videoCutStart:F

.field private videoDuration:F

.field private videoForwardDrawable:Lorg/telegram/ui/Components/VideoForwardDrawable;

.field private videoFrameBitmap:Landroid/graphics/Bitmap;

.field private videoFrameBitmapPaint:Landroid/graphics/Paint;

.field private videoFramerate:I

.field private videoFramesSize:J

.field private videoHeight:I

.field private videoPlayRunnable:Ljava/lang/Runnable;

.field private videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

.field private videoPlayerControlAnimator:Landroid/animation/Animator;

.field private videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

.field private videoPlayerControlVisible:Z

.field private videoPlayerCurrentTime:[I

.field videoPlayerRewinder:Lorg/telegram/messenger/video/VideoPlayerRewinder;

.field private videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

.field private videoPlayerSeekbarView:Landroid/view/View;

.field private videoPlayerTime:Lorg/telegram/ui/ActionBar/SimpleTextView;

.field private videoPlayerTotalTime:[I

.field private videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

.field private videoPreviewFrameAnimation:Landroid/animation/AnimatorSet;

.field private videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

.field private videoSizeSet:Z

.field private videoSurfaceView:Landroid/view/SurfaceView;

.field private videoTextureView:Landroid/view/TextureView;

.field private videoTimelineAnimator:Landroid/animation/ObjectAnimator;

.field private videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

.field private videoTimelineViewContainer:Landroid/widget/FrameLayout;

.field private videoWidth:I

.field private visibleDialog:Lorg/telegram/ui/ActionBar/AlertDialog;

.field private waitingForDraw:I

.field private waitingForFirstTextureUpload:I

.field private wasCountViewShown:Z

.field private wasLayout:Z

.field private wasRotated:Z

.field private windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

.field private windowView:Landroid/widget/FrameLayout;

.field private zoomAnimation:Z

.field private zooming:Z


# direct methods
.method public static synthetic $r8$lambda$-AZBnKTzUJvASvetTWijFUiS0Zo(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$onDraw$88()V

    return-void
.end method

.method public static synthetic $r8$lambda$-NA0Fx2Y3c2pICEKBCtYIjS5xNk(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$createPaintView$65()V

    return-void
.end method

.method public static synthetic $r8$lambda$04ANuH2OYjRMrZwv1MrwnRsgSXY(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$new$5()V

    return-void
.end method

.method public static synthetic $r8$lambda$0ILFlTVnA1HKUVRUKBWqjQrvk_g(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$31()V

    return-void
.end method

.method public static synthetic $r8$lambda$0OZBVflXUv4aGBydFXXzZotemSA(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;Landroid/view/WindowInsets;)Landroid/view/WindowInsets;
    .locals 0

    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$6(Landroid/view/View;Landroid/view/WindowInsets;)Landroid/view/WindowInsets;

    move-result-object p0

    return-object p0
.end method

.method public static synthetic $r8$lambda$17DtQhzX1FkP5XrQZAVsUz8VlZM(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$onDraw$89()V

    return-void
.end method

.method public static synthetic $r8$lambda$1e7nW-wsH9VGKS1mlP3n3f9fBpA(Lorg/telegram/ui/PhotoViewer;Z)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$updateResetButtonVisibility$52(Z)V

    return-void
.end method

.method public static synthetic $r8$lambda$3btRapgVD1b3QuE3V_cwktKxOlg(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$34(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$49AU7liIrKLQGH3EZgz7L7165Xg(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setVideoPlayerControlVisible$50(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$4Fs_0wlqpd5nxIEmlHvH8EcFNRs(Lorg/telegram/messenger/MediaController$SavedFilterState;Lorg/telegram/ui/Components/FilterGLThread;)V
    .locals 0

    invoke-static {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$createVideoTextureView$49(Lorg/telegram/messenger/MediaController$SavedFilterState;Lorg/telegram/ui/Components/FilterGLThread;)V

    return-void
.end method

.method public static synthetic $r8$lambda$5L6HR8LViDenlsVaSSSY-LlfJYE(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$35(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$5hAS0PBNXM2b0834KESVSZjx9WQ(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$onDraw$90()V

    return-void
.end method

.method public static synthetic $r8$lambda$6_NutMDMq_A0iRCefDMD9FEsmw8(Lorg/telegram/ui/PhotoViewer;ZLjava/io/File;Ljava/io/File;Lorg/telegram/messenger/FileLoader$FileResolver;ILorg/telegram/messenger/MessageObject;ZZZZ)V
    .locals 0

    invoke-direct/range {p0 .. p10}, Lorg/telegram/ui/PhotoViewer;->lambda$checkProgress$79(ZLjava/io/File;Ljava/io/File;Lorg/telegram/messenger/FileLoader$FileResolver;ILorg/telegram/messenger/MessageObject;ZZZZ)V

    return-void
.end method

.method public static synthetic $r8$lambda$6oKVQftaPl94y0RupZKe9r5uLds(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/messenger/ImageReceiver;ZZZ)V
    .locals 0

    invoke-direct {p0, p1, p2, p3, p4}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$33(Lorg/telegram/messenger/ImageReceiver;ZZZ)V

    return-void
.end method

.method public static synthetic $r8$lambda$7EkO2FMkaj4NwzaUjWfG27lyiwc(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/Components/CubicBezierInterpolator;FFFFLandroid/view/View;FFFLandroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct/range {p0 .. p10}, Lorg/telegram/ui/PhotoViewer;->lambda$switchToPip$44(Lorg/telegram/ui/Components/CubicBezierInterpolator;FFFFLandroid/view/View;FFFLandroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$7HnwrQf-NT18yzWElsav2tRnR4E(Lorg/telegram/messenger/MessageObject;Lorg/telegram/messenger/MessageObject;)I
    .locals 0

    invoke-static {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$onPhotoShow$74(Lorg/telegram/messenger/MessageObject;Lorg/telegram/messenger/MessageObject;)I

    move-result p0

    return p0
.end method

.method public static synthetic $r8$lambda$8BiDb8CD8kFhw6tZWJBbq8uiiEU(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$32(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$8Yx9Z7jCQnMGR0s6tHta25Cz0QM(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$onPhotoClosed$86(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    return-void
.end method

.method public static synthetic $r8$lambda$9YVDJ5cXClENnoYDjkmGblj0aCU(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$switchToEditMode$59(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$AVqGCe93uKdNYAe90ylyVb3XEbc(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$createPaintView$66(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$B8usTG0b7EYbVlwnwqkEH8nRmAo(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$switchToEditMode$57(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$BJNOG-Z_MfVJUpFGU4pplG6-0v0(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$createVideoControlsInterface$48(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$BZA6yo_qECqsQ07mBkayzvelMrQ(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$30(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$C6UA1fm21dRZTKcr38laNh_oztk(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;I)V
    .locals 0

    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$36(Landroid/view/View;I)V

    return-void
.end method

.method public static synthetic $r8$lambda$DZp9fuxTsPz9F9hjqyb8Utde7Lg(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$25(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$EImSZPnnHcsUHMPh0tTypu78ZUY(Lorg/telegram/ui/PhotoViewer;)Ljava/lang/CharSequence;
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->applyCaption()Ljava/lang/CharSequence;

    move-result-object p0

    return-object p0
.end method

.method public static synthetic $r8$lambda$F7C8zAeXx-O0keCcTfOH5cSlgc8(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$closePhoto$82(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$Fd0GCX2kvJa37lBGMMmwhDr1asc(Lorg/telegram/ui/PhotoViewer;ILorg/telegram/messenger/TranslateController;Lorg/telegram/messenger/MessageObject;Ljava/lang/String;)V
    .locals 0

    invoke-direct {p0, p1, p2, p3, p4}, Lorg/telegram/ui/PhotoViewer;->lambda$setIsAboutToSwitchToIndex$75(ILorg/telegram/messenger/TranslateController;Lorg/telegram/messenger/MessageObject;Ljava/lang/String;)V

    return-void
.end method

.method public static synthetic $r8$lambda$I8m6umDdefrLRsC9mawEDXSquWA(Lorg/telegram/ui/PhotoViewer;Landroid/text/style/ClickableSpan;Landroid/widget/TextView;)V
    .locals 0

    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->onLinkClick(Landroid/text/style/ClickableSpan;Landroid/widget/TextView;)V

    return-void
.end method

.method public static synthetic $r8$lambda$JEfLXznVg8qxZsHtdT1mXkMu7rc(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$new$0()V

    return-void
.end method

.method public static synthetic $r8$lambda$L8PtO_3sF0Mplzq0o-HuMwRedpM(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$switchToEditMode$56(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$MUdSwAuSinXWXSZ0tbEcnQAtxrc(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$createPaintView$62(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$NON_qvMFzl-kk1NXKCR01AoT5WE(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->onUserLeaveHint()V

    return-void
.end method

.method public static synthetic $r8$lambda$NR4QScktwDBaTmue0Cw5sK5be-s(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$29(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$NkkT7iUfgf_KBuUMq9AfKsYwIyg(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$createVideoControlsInterface$47()V

    return-void
.end method

.method public static synthetic $r8$lambda$O8_WwyXX3mEDbed-AAJTYFHk1so(Lorg/telegram/ui/PhotoViewer;Ljava/io/File;ZLorg/telegram/messenger/MessageObject;Z)V
    .locals 0

    invoke-direct {p0, p1, p2, p3, p4}, Lorg/telegram/ui/PhotoViewer;->lambda$openCurrentPhotoInPaintModeForSelect$80(Ljava/io/File;ZLorg/telegram/messenger/MessageObject;Z)V

    return-void
.end method

.method public static synthetic $r8$lambda$OHX67oQIc71Vyfk84fBeXSF3iUo(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$closePhoto$85(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    return-void
.end method

.method public static synthetic $r8$lambda$OemURPe_tPxA3HrRyQ_r6zcuGAo(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$switchToPip$45(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$OrtGIg9ADvgUn7lPIdRQsrd1uys(Lorg/telegram/ui/PhotoViewer;Ljava/lang/Integer;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$14(Ljava/lang/Integer;)V

    return-void
.end method

.method public static synthetic $r8$lambda$Rtp9z_5dOwKzZQ3Q3fbwRoNlZKo(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$24(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$SAj3H_xpjtzn-NjLzNQGT2h4jNI(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;Landroid/view/MotionEvent;)Z
    .locals 0

    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$17(Landroid/view/View;Landroid/view/MotionEvent;)Z

    move-result p0

    return p0
.end method

.method public static synthetic $r8$lambda$T7Fs0voHdE1BD_PsSHa2XYimsis(Lorg/telegram/ui/PhotoViewer;ZIZZLandroid/content/DialogInterface;I)V
    .locals 0

    invoke-direct/range {p0 .. p6}, Lorg/telegram/ui/PhotoViewer;->lambda$sendPressed$41(ZIZZLandroid/content/DialogInterface;I)V

    return-void
.end method

.method public static synthetic $r8$lambda$UAK0XH1A4gNE2Ezj3Do6djaJU94(Lorg/telegram/ui/PhotoViewer;Ljava/lang/String;Z)V
    .locals 0

    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->lambda$detectFaces$53(Ljava/lang/String;Z)V

    return-void
.end method

.method public static synthetic $r8$lambda$USPN9wOBNKHVcErCz00ERuYFeGg(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/messenger/ImageReceiver$BitmapHolder;ILjava/lang/String;)V
    .locals 0

    invoke-direct {p0, p1, p2, p3}, Lorg/telegram/ui/PhotoViewer;->lambda$detectFaces$55(Lorg/telegram/messenger/ImageReceiver$BitmapHolder;ILjava/lang/String;)V

    return-void
.end method

.method public static synthetic $r8$lambda$V6t3m4yQdNui7j4eeiw35D8v7Us(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$switchToPaintMode$69(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$V9Q07XJ1bVN84Kulo1Juyaz7498(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$closePhoto$83(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    return-void
.end method

.method public static synthetic $r8$lambda$VWcqH6qy5P2LiW3RNCE-HkvG0MM(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/tgnet/TLRPC$Message;)Ljava/io/File;
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$checkProgress$77(Lorg/telegram/tgnet/TLRPC$Message;)Ljava/io/File;

    move-result-object p0

    return-object p0
.end method

.method public static synthetic $r8$lambda$Vgrd5oFS3ke1-A-8qwR9EGSu_gY(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$22(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$WJkKydMvfBHUv-H1JuD2hWgeB5I(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->invalidateBlur()V

    return-void
.end method

.method public static synthetic $r8$lambda$WLrfcBhrcyPE62zYXHbRxi6MC6w(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$28()V

    return-void
.end method

.method public static synthetic $r8$lambda$WqS9eQwXtCODotzz57I3ImL51hE(Lorg/telegram/messenger/ImageReceiver;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-static {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$switchToPip$43(Lorg/telegram/messenger/ImageReceiver;Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$X33x3mqRWaH0H6nt-1hElmnaIUo(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$checkChangedTextureView$3(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$XNjkssn6VnF5zfCd1auF0osDef0(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$createPaintView$64()V

    return-void
.end method

.method public static synthetic $r8$lambda$XQRMML8WiZmysIuRVLHqC1hr2AE(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$12(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$Y-cT2p2g-zsJe61H_bCQMhMFc0s(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$toggleActionBar$71(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$ZJMVbsV8xnUKUeTIjtEzhr1Js3s(Ljava/lang/Runnable;Landroid/content/DialogInterface;)V
    .locals 0

    invoke-static {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$onLinkLongPress$2(Ljava/lang/Runnable;Landroid/content/DialogInterface;)V

    return-void
.end method

.method public static synthetic $r8$lambda$amL4qy3U7HxQotWCWcsN2iCw-eQ(Landroid/content/DialogInterface;I)V
    .locals 0

    invoke-static {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$sendPressed$40(Landroid/content/DialogInterface;I)V

    return-void
.end method

.method public static synthetic $r8$lambda$bozdBAb14mSchWEQHkMUp3yaP7w(Lorg/telegram/ui/PhotoViewer;ILjava/io/File;Ljava/io/File;ZZZZZ)V
    .locals 0

    invoke-direct/range {p0 .. p8}, Lorg/telegram/ui/PhotoViewer;->lambda$checkProgress$78(ILjava/io/File;Ljava/io/File;ZZZZZ)V

    return-void
.end method

.method public static synthetic $r8$lambda$bs5YDFNGsXIV5vEsdXS_GZXOcMI(Lorg/telegram/ui/PhotoViewer;Ljava/lang/Integer;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$13(Ljava/lang/Integer;)V

    return-void
.end method

.method public static synthetic $r8$lambda$dAycv_7mWkNqVpnhmuKQNQEhBDk(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$27(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$dDd_YbYCjiiqOQMDtemTjo43m6k(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$switchToEditMode$61(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$exYr-C1fuuR_znpO_YPsHWVnx2M(Lorg/telegram/ui/PhotoViewer;)Landroid/view/View;
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$9()Landroid/view/View;

    move-result-object p0

    return-object p0
.end method

.method public static synthetic $r8$lambda$f5JY-etdGzoZ3XAbYZ_nquvnqsM(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;Landroid/view/View;)Z
    .locals 0

    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$20(Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;Landroid/view/View;)Z

    move-result p0

    return p0
.end method

.method public static synthetic $r8$lambda$feeQ8_d7HM2ghrcDpmRtYSZ9s9U(Lorg/telegram/ui/PhotoViewer;ILandroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$19(ILandroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$g2UG7k5xw_ePIoKpQA8pTTmGdk4(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateActionBarTitlePadding()V

    return-void
.end method

.method public static synthetic $r8$lambda$g82rTgOoD3XVPwzZ23JQqB7egAw(Lorg/telegram/ui/PhotoViewer;Ljava/lang/Boolean;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$7(Ljava/lang/Boolean;)V

    return-void
.end method

.method public static synthetic $r8$lambda$g_CPZ-lh0wBShnIlgtsS-XcP3VI(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/tgnet/TLObject;)Ljava/io/File;
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$checkProgress$76(Lorg/telegram/tgnet/TLObject;)Ljava/io/File;

    move-result-object p0

    return-object p0
.end method

.method public static synthetic $r8$lambda$hIEFXSd2MA56QMueiT4j7dBk584(Lorg/telegram/ui/PhotoViewer;Landroid/content/DialogInterface;I)V
    .locals 0

    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->lambda$switchToEditMode$60(Landroid/content/DialogInterface;I)V

    return-void
.end method

.method public static synthetic $r8$lambda$hoyEXwpVF7dMlnhQ3VQvgeJMzmM(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$8(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$i44_2EKF8Bd5k6LJga1yPqnyOow(Lorg/telegram/ui/PhotoViewer;Ljava/lang/Integer;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$createPaintView$63(Ljava/lang/Integer;)V

    return-void
.end method

.method public static synthetic $r8$lambda$i4Ht5gE0AIuXtqO-d347GfB8OLE(Lorg/telegram/ui/PhotoViewer;I)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$redraw$87(I)V

    return-void
.end method

.method public static synthetic $r8$lambda$iqAHu4cVaqABarliZwnuwBt42jo(Lorg/telegram/ui/PhotoViewer;FFLandroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1, p2, p3}, Lorg/telegram/ui/PhotoViewer;->lambda$cropRotate$46(FFLandroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$iy_Jcz0TdLaXY4A0d9z7jUla_nI(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setItemVisible$72(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$j1ZTRRQAqhY6Tck0oq4ZTNIfzQI(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$11(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$jyEum4BdS2UVYYAwwPPcnHaVODY(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$21(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$kTsTR1JoypidgJrjNksHYUHgWrM(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$switchToPaintMode$70(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$kc2taUJofv18gIo1WHNGqqU0cF4(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$translateY$67(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$lMHKazHfvotAQ_dnsmOMtYhfslI(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$closePaintMode$68()V

    return-void
.end method

.method public static synthetic $r8$lambda$lPu9lAm2iM36cjD-5P7O8K_X3NQ(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/Components/ShareAlert;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$showShareAlert$42(Lorg/telegram/ui/Components/ShareAlert;)V

    return-void
.end method

.method public static synthetic $r8$lambda$m5w8VFlVE83o1YLJNPa2myVsUKI(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$showCaptionLimitBulletin$37()V

    return-void
.end method

.method public static synthetic $r8$lambda$nuNLNarPogfxbaWPBb0QX_yRD2w(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$10(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$oADMHOPYs4cW76xoTKF5gWBezUY(Lorg/telegram/ui/PhotoViewer;Landroid/text/style/URLSpan;Landroid/widget/TextView;ILandroid/content/DialogInterface;I)V
    .locals 0

    invoke-direct/range {p0 .. p5}, Lorg/telegram/ui/PhotoViewer;->lambda$onLinkLongPress$1(Landroid/text/style/URLSpan;Landroid/widget/TextView;ILandroid/content/DialogInterface;I)V

    return-void
.end method

.method public static synthetic $r8$lambda$pNNLa9LCK3D1X9v1VSlN6sCmMfQ(Lorg/telegram/ui/PhotoViewer;Landroid/text/style/URLSpan;Landroid/widget/TextView;Ljava/lang/Runnable;)V
    .locals 0

    invoke-direct {p0, p1, p2, p3}, Lorg/telegram/ui/PhotoViewer;->onLinkLongPress(Landroid/text/style/URLSpan;Landroid/widget/TextView;Ljava/lang/Runnable;)V

    return-void
.end method

.method public static synthetic $r8$lambda$pwSggDkeoEQ-1ImK3o0ORFBH6a4(Lorg/telegram/ui/PhotoViewer;Landroid/app/Activity;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$26(Landroid/app/Activity;Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$qSxb6ce-O7415HQA-I7LZS_cTG0(Lorg/telegram/ui/PhotoViewer;Landroid/view/KeyEvent;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$18(Landroid/view/KeyEvent;)V

    return-void
.end method

.method public static synthetic $r8$lambda$qZULGqJ1evsQiHAykokml9ouY20(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$closePhoto$84(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$rmdWN2DdNVDzYIenPP7w8E-BGAE(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$closePhoto$81(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$tDcL99jQbAj5gTwxZm9NtBynzEU(Lorg/telegram/ui/PhotoViewer;ZI)V
    .locals 0

    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->sendPressed(ZI)V

    return-void
.end method

.method public static synthetic $r8$lambda$tbNTPkt1vMNSoqvWNZyCo46sRAc(Lorg/telegram/ui/PhotoViewer;ZLandroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->lambda$setItemVisible$73(ZLandroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$vAvWcHYfyCvUkXWUIvDpXyrso80(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$showCaptionLimitBulletin$38()V

    return-void
.end method

.method public static synthetic $r8$lambda$wF_30EsYp3YrbI6cT5mOcYq3T54(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/messenger/ImageReceiver$BitmapHolder;Ljava/lang/String;)V
    .locals 0

    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->lambda$detectFaces$54(Lorg/telegram/messenger/ImageReceiver$BitmapHolder;Ljava/lang/String;)V

    return-void
.end method

.method public static synthetic $r8$lambda$wXPBc52L00IY0pl8iENNYUl6zm0(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$switchToEditMode$58(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$y7YfWpxHTEpEYSmAeAFsXU_V6Lw(Lorg/telegram/ui/PhotoViewer;Landroid/content/DialogInterface;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$showAlertDialog$51(Landroid/content/DialogInterface;)V

    return-void
.end method

.method public static synthetic $r8$lambda$yAKYHlJ6FRyL8ath3HSufqQFRbo(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$16(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$yd5pVPDpsQkzw0qbtyKaiI2yzUQ(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->lambda$checkChangedTextureView$4(Landroid/view/View;Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$yvQwck8Y-TlBPShsK43egSSHAxs(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$15(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$zIIvwKZeIjtyxMNFuE-wpXPYbcg(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$23(Landroid/view/View;)V

    return-void
.end method

.method static constructor <clinit>()V
    .locals 3

    .line 3107
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    const-string v1, "progress"

    const/16 v2, 0x18

    if-lt v0, v2, :cond_0

    .line 3108
    new-instance v0, Lorg/telegram/ui/PhotoViewer$10;

    invoke-direct {v0, v1}, Lorg/telegram/ui/PhotoViewer$10;-><init>(Ljava/lang/String;)V

    sput-object v0, Lorg/telegram/ui/PhotoViewer;->VPC_PROGRESS:Landroid/util/Property;

    goto :goto_0

    .line 3120
    :cond_0
    new-instance v0, Lorg/telegram/ui/PhotoViewer$11;

    const-class v2, Ljava/lang/Float;

    invoke-direct {v0, v2, v1}, Lorg/telegram/ui/PhotoViewer$11;-><init>(Ljava/lang/Class;Ljava/lang/String;)V

    sput-object v0, Lorg/telegram/ui/PhotoViewer;->VPC_PROGRESS:Landroid/util/Property;

    :goto_0
    const/4 v0, 0x0

    .line 3720
    sput-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    .line 3721
    sput-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    return-void
.end method

.method public constructor <init>()V
    .locals 10

    .line 3748
    invoke-direct {p0}, Ljava/lang/Object;-><init>()V

    .line 289
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    const/4 v1, 0x0

    const/4 v2, 0x1

    const/16 v3, 0x1e

    if-lt v0, v3, :cond_0

    const/4 v0, 0x1

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    :goto_0
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->ALLOW_USE_SURFACE:Z

    const/4 v0, -0x1

    .line 295
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->maxSelectedPhotos:I

    .line 296
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->allowOrder:Z

    .line 307
    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda60;

    invoke-direct {v3, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda60;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iput-object v3, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressShowRunnable:Ljava/lang/Runnable;

    .line 313
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    .line 318
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->closePhotoAfterSelect:Z

    .line 805
    new-instance v3, Ljava/util/HashMap;

    const/4 v4, 0x3

    invoke-direct {v3, v4}, Ljava/util/HashMap;-><init>(I)V

    iput-object v3, p0, Lorg/telegram/ui/PhotoViewer;->actionBarItemsVisibility:Ljava/util/Map;

    .line 806
    new-instance v3, Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    const/high16 v5, -0x1000000

    invoke-direct {v3, p0, v5}, Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;-><init>(Lorg/telegram/ui/PhotoViewer;I)V

    iput-object v3, p0, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    .line 807
    new-instance v3, Landroid/graphics/Paint;

    invoke-direct {v3}, Landroid/graphics/Paint;-><init>()V

    iput-object v3, p0, Lorg/telegram/ui/PhotoViewer;->blackPaint:Landroid/graphics/Paint;

    new-array v3, v4, [Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    .line 814
    iput-object v3, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    .line 832
    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda61;

    invoke-direct {v3, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda61;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iput-object v3, p0, Lorg/telegram/ui/PhotoViewer;->onUserLeaveHintListener:Ljava/lang/Runnable;

    const/4 v3, 0x2

    new-array v6, v3, [Landroid/graphics/drawable/GradientDrawable;

    .line 838
    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->pressedDrawable:[Landroid/graphics/drawable/GradientDrawable;

    new-array v6, v3, [Z

    .line 839
    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->drawPressedDrawable:[Z

    new-array v6, v3, [F

    .line 840
    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->pressedDrawableAlpha:[F

    .line 847
    new-instance v6, Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-direct {v6}, Lorg/telegram/ui/Components/Crop/CropTransform;-><init>()V

    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    .line 848
    new-instance v6, Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-direct {v6}, Lorg/telegram/ui/Components/Crop/CropTransform;-><init>()V

    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    .line 849
    new-instance v6, Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-direct {v6}, Lorg/telegram/ui/Components/Crop/CropTransform;-><init>()V

    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    const/high16 v6, -0x3f000000    # -8.0f

    .line 860
    iput v6, p0, Lorg/telegram/ui/PhotoViewer;->shiftDp:F

    .line 878
    new-instance v6, Landroid/graphics/Paint;

    invoke-direct {v6, v3}, Landroid/graphics/Paint;-><init>(I)V

    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->bitmapPaint:Landroid/graphics/Paint;

    .line 882
    new-instance v6, Landroid/graphics/Rect;

    invoke-direct {v6}, Landroid/graphics/Rect;-><init>()V

    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->insets:Landroid/graphics/Rect;

    .line 889
    new-instance v6, Lorg/telegram/ui/PhotoViewer$1;

    invoke-direct {v6, p0}, Lorg/telegram/ui/PhotoViewer$1;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->setLoadingRunnable:Ljava/lang/Runnable;

    .line 899
    new-instance v6, Lorg/telegram/ui/PhotoViewer$2;

    invoke-direct {v6, p0}, Lorg/telegram/ui/PhotoViewer$2;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->hideActionBarRunnable:Ljava/lang/Runnable;

    .line 950
    new-instance v6, Landroidx/collection/ArrayMap;

    invoke-direct {v6}, Landroidx/collection/ArrayMap;-><init>()V

    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->savedVideoPositions:Landroidx/collection/ArrayMap;

    .line 959
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlVisible:Z

    new-array v6, v3, [I

    .line 960
    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerCurrentTime:[I

    new-array v6, v3, [I

    .line 961
    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTotalTime:[I

    new-array v6, v4, [Landroid/widget/ImageView;

    .line 972
    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    new-array v6, v3, [I

    .line 974
    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->pipPosition:[I

    .line 984
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->pipVideoOverlayAnimateFlag:Z

    .line 995
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->lastImageId:I

    const/16 v6, -0xa

    .line 998
    iput v6, p0, Lorg/telegram/ui/PhotoViewer;->prevOrientation:I

    .line 1011
    new-instance v6, Lorg/telegram/ui/PhotoViewer$3;

    invoke-direct {v6, p0}, Lorg/telegram/ui/PhotoViewer$3;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerRewinder:Lorg/telegram/messenger/video/VideoPlayerRewinder;

    .line 1042
    new-instance v6, Lorg/telegram/ui/PhotoViewer$4;

    const-string v7, "flashViewAlpha"

    invoke-direct {v6, p0, v7}, Lorg/telegram/ui/PhotoViewer$4;-><init>(Lorg/telegram/ui/PhotoViewer;Ljava/lang/String;)V

    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->FLASH_VIEW_VALUE:Landroid/util/Property;

    .line 1325
    new-instance v6, Lorg/telegram/ui/PhotoViewer$5;

    invoke-direct {v6, p0}, Lorg/telegram/ui/PhotoViewer$5;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->updateProgressRunnable:Ljava/lang/Runnable;

    .line 1441
    new-instance v6, Lorg/telegram/ui/PhotoViewer$6;

    invoke-direct {v6, p0}, Lorg/telegram/ui/PhotoViewer$6;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->switchToInlineRunnable:Ljava/lang/Runnable;

    .line 1518
    new-instance v6, Lorg/telegram/ui/PhotoViewer$7;

    invoke-direct {v6, p0}, Lorg/telegram/ui/PhotoViewer$7;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->surfaceTextureListener:Landroid/view/TextureView$SurfaceTextureListener;

    new-array v6, v3, [I

    .line 1707
    fill-array-data v6, :array_0

    const-class v7, F

    invoke-static {v7, v6}, Ljava/lang/reflect/Array;->newInstance(Ljava/lang/Class;[I)Ljava/lang/Object;

    move-result-object v6

    check-cast v6, [[F

    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    .line 1735
    new-instance v6, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda55;

    invoke-direct {v6, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda55;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->updateContainerFlagsRunnable:Ljava/lang/Runnable;

    .line 1800
    new-instance v6, Lorg/telegram/messenger/ImageReceiver;

    invoke-direct {v6}, Lorg/telegram/messenger/ImageReceiver;-><init>()V

    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    .line 1801
    new-instance v6, Lorg/telegram/messenger/ImageReceiver;

    invoke-direct {v6}, Lorg/telegram/messenger/ImageReceiver;-><init>()V

    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    .line 1802
    new-instance v6, Lorg/telegram/messenger/ImageReceiver;

    invoke-direct {v6}, Lorg/telegram/messenger/ImageReceiver;-><init>()V

    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    .line 1803
    new-instance v6, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    new-instance v7, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda62;

    invoke-direct {v7, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda62;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-direct {v6, v2, v7}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;-><init>(ILjava/lang/Runnable;)V

    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->leftBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    .line 1804
    new-instance v6, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    new-instance v7, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda62;

    invoke-direct {v7, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda62;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-direct {v6, v2, v7}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;-><init>(ILjava/lang/Runnable;)V

    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    .line 1805
    new-instance v6, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    new-instance v7, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda62;

    invoke-direct {v7, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda62;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-direct {v6, v2, v7}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;-><init>(ILjava/lang/Runnable;)V

    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->rightBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    .line 1809
    new-instance v6, Landroid/graphics/Paint;

    invoke-direct {v6}, Landroid/graphics/Paint;-><init>()V

    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmapPaint:Landroid/graphics/Paint;

    const/4 v6, 0x0

    .line 1810
    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmap:Landroid/graphics/Bitmap;

    .line 1817
    new-instance v7, Lorg/telegram/ui/PhotoViewer$EditState;

    invoke-direct {v7}, Lorg/telegram/ui/PhotoViewer$EditState;-><init>()V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    new-array v7, v4, [Ljava/lang/String;

    .line 1822
    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    new-array v7, v3, [Z

    .line 1851
    fill-array-data v7, :array_1

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->endReached:[Z

    const/high16 v7, 0x3f800000    # 1.0f

    .line 1866
    iput v7, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/4 v8, 0x0

    .line 1867
    iput v8, p0, Lorg/telegram/ui/PhotoViewer;->rotate:F

    .line 1868
    iput v8, p0, Lorg/telegram/ui/PhotoViewer;->mirror:F

    .line 1878
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    .line 1883
    new-instance v8, Landroid/view/animation/DecelerateInterpolator;

    const/high16 v9, 0x3fc00000    # 1.5f

    invoke-direct {v8, v9}, Landroid/view/animation/DecelerateInterpolator;-><init>(F)V

    iput-object v8, p0, Lorg/telegram/ui/PhotoViewer;->interpolator:Landroid/view/animation/DecelerateInterpolator;

    .line 1885
    iput v7, p0, Lorg/telegram/ui/PhotoViewer;->pinchStartScale:F

    .line 1896
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->canZoom:Z

    .line 1903
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->canDragDown:Z

    .line 1909
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->shownControlsByEnd:Z

    .line 1910
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->actionBarWasShownBeforeByEnd:Z

    .line 1912
    new-instance v7, Ljava/util/ArrayList;

    invoke-direct {v7}, Ljava/util/ArrayList;-><init>()V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    new-array v7, v3, [Landroid/util/SparseArray;

    .line 1913
    new-instance v8, Landroid/util/SparseArray;

    invoke-direct {v8}, Landroid/util/SparseArray;-><init>()V

    aput-object v8, v7, v1

    new-instance v8, Landroid/util/SparseArray;

    invoke-direct {v8}, Landroid/util/SparseArray;-><init>()V

    aput-object v8, v7, v2

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->imagesByIdsTemp:[Landroid/util/SparseArray;

    .line 1914
    new-instance v7, Ljava/util/ArrayList;

    invoke-direct {v7}, Ljava/util/ArrayList;-><init>()V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    new-array v7, v3, [Landroid/util/SparseArray;

    .line 1915
    new-instance v8, Landroid/util/SparseArray;

    invoke-direct {v8}, Landroid/util/SparseArray;-><init>()V

    aput-object v8, v7, v1

    new-instance v8, Landroid/util/SparseArray;

    invoke-direct {v8}, Landroid/util/SparseArray;-><init>()V

    aput-object v8, v7, v2

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->imagesByIds:[Landroid/util/SparseArray;

    .line 1916
    new-instance v7, Ljava/util/ArrayList;

    invoke-direct {v7}, Ljava/util/ArrayList;-><init>()V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    .line 1917
    new-instance v7, Ljava/util/ArrayList;

    invoke-direct {v7}, Ljava/util/ArrayList;-><init>()V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    .line 1918
    new-instance v7, Ljava/util/ArrayList;

    invoke-direct {v7}, Ljava/util/ArrayList;-><init>()V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    .line 1919
    new-instance v7, Ljava/util/ArrayList;

    invoke-direct {v7}, Ljava/util/ArrayList;-><init>()V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrMessages:Ljava/util/ArrayList;

    .line 1920
    new-instance v7, Ljava/util/ArrayList;

    invoke-direct {v7}, Ljava/util/ArrayList;-><init>()V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    .line 1921
    new-instance v7, Ljava/util/ArrayList;

    invoke-direct {v7}, Ljava/util/ArrayList;-><init>()V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    .line 1922
    new-instance v7, Ljava/util/ArrayList;

    invoke-direct {v7}, Ljava/util/ArrayList;-><init>()V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    .line 1923
    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->currentAvatarLocation:Lorg/telegram/messenger/ImageLocation;

    .line 1924
    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->savedState:Lorg/telegram/ui/PhotoViewer$SavedState;

    .line 1943
    new-instance v6, Landroid/graphics/Rect;

    invoke-direct {v6}, Landroid/graphics/Rect;-><init>()V

    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->hitRect:Landroid/graphics/Rect;

    .line 1968
    new-instance v6, Lorg/telegram/messenger/AnimationNotificationsLocker;

    const/4 v7, 0x5

    new-array v7, v7, [I

    sget v8, Lorg/telegram/messenger/NotificationCenter;->dialogsNeedReload:I

    aput v8, v7, v1

    sget v1, Lorg/telegram/messenger/NotificationCenter;->closeChats:I

    aput v1, v7, v2

    sget v1, Lorg/telegram/messenger/NotificationCenter;->mediaCountDidLoad:I

    aput v1, v7, v3

    sget v1, Lorg/telegram/messenger/NotificationCenter;->mediaDidLoad:I

    aput v1, v7, v4

    const/4 v1, 0x4

    sget v2, Lorg/telegram/messenger/NotificationCenter;->dialogPhotosUpdate:I

    aput v2, v7, v1

    invoke-direct {v6, v7}, Lorg/telegram/messenger/AnimationNotificationsLocker;-><init>([I)V

    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->transitionNotificationLocker:Lorg/telegram/messenger/AnimationNotificationsLocker;

    .line 15641
    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda52;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda52;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->longPressRunnable:Ljava/lang/Runnable;

    new-array v1, v3, [I

    .line 16982
    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->tempInt:[I

    const-wide/16 v1, -0x1

    .line 17516
    iput-wide v1, p0, Lorg/telegram/ui/PhotoViewer;->captureFrameAtTime:J

    .line 17517
    iput-wide v1, p0, Lorg/telegram/ui/PhotoViewer;->captureFrameReadyAtTime:J

    .line 17518
    iput-wide v1, p0, Lorg/telegram/ui/PhotoViewer;->needCaptureFrameReadyAtTime:J

    .line 17521
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    .line 18390
    new-instance v1, Lorg/telegram/ui/Components/AnimatedFloat;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda62;

    invoke-direct {v2, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda62;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    const-wide/16 v6, 0xb4

    sget-object v3, Lorg/telegram/ui/Components/CubicBezierInterpolator;->EASE_OUT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-direct {v1, v2, v6, v7, v3}, Lorg/telegram/ui/Components/AnimatedFloat;-><init>(Ljava/lang/Runnable;JLandroid/animation/TimeInterpolator;)V

    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->blurAlpha:Lorg/telegram/ui/Components/AnimatedFloat;

    .line 3749
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->blackPaint:Landroid/graphics/Paint;

    invoke-virtual {v1, v5}, Landroid/graphics/Paint;->setColor(I)V

    .line 3750
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmapPaint:Landroid/graphics/Paint;

    invoke-virtual {v1, v0}, Landroid/graphics/Paint;->setColor(I)V

    .line 3751
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v4}, Lorg/telegram/messenger/ImageReceiver;->setFileLoadingPriority(I)V

    return-void

    :array_0
    .array-data 4
        0x2
        0xd
    .end array-data

    :array_1
    .array-data 1
        0x0t
        0x1t
    .end array-data
.end method

.method static synthetic access$100(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/messenger/MessageObject;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    return-object p0
.end method

.method static synthetic access$1000(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/VideoForwardDrawable;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoForwardDrawable:Lorg/telegram/ui/Components/VideoForwardDrawable;

    return-object p0
.end method

.method static synthetic access$10000(Lorg/telegram/ui/PhotoViewer;)F
    .locals 0

    .line 285
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    return p0
.end method

.method static synthetic access$10002(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    return p1
.end method

.method static synthetic access$10100(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/PaintingOverlay;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    return-object p0
.end method

.method static synthetic access$102(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/messenger/MessageObject;)Lorg/telegram/messenger/MessageObject;
    .locals 0

    .line 285
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    return-object p1
.end method

.method static synthetic access$10200(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/PaintingOverlay;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    return-object p0
.end method

.method static synthetic access$10300(Lorg/telegram/ui/PhotoViewer;)Landroid/view/View;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    return-object p0
.end method

.method static synthetic access$10400(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->editing:Z

    return p0
.end method

.method static synthetic access$10500(Lorg/telegram/ui/PhotoViewer;)[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    return-object p0
.end method

.method static synthetic access$10600(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/ActionBar/SimpleTextView;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTime:Lorg/telegram/ui/ActionBar/SimpleTextView;

    return-object p0
.end method

.method static synthetic access$10700(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/ImageView;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->exitFullscreenButton:Landroid/widget/ImageView;

    return-object p0
.end method

.method static synthetic access$10800(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->playerWasReady:Z

    return p0
.end method

.method static synthetic access$10900(Lorg/telegram/ui/PhotoViewer;)Ljava/lang/Runnable;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->hideActionBarRunnable:Ljava/lang/Runnable;

    return-object p0
.end method

.method static synthetic access$1100(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/VideoPlayerSeekBar;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    return-object p0
.end method

.method static synthetic access$11000(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->scheduleActionBarHide()V

    return-void
.end method

.method static synthetic access$11100(Lorg/telegram/ui/PhotoViewer;)Landroid/graphics/Rect;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->insets:Landroid/graphics/Rect;

    return-object p0
.end method

.method static synthetic access$11200(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 285
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->navigationBarHeight:I

    return p0
.end method

.method static synthetic access$11302(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 285
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->wasLayout:Z

    return p1
.end method

.method static synthetic access$11400(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->dontResetZoomOnFirstLayout:Z

    return p0
.end method

.method static synthetic access$11402(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 285
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->dontResetZoomOnFirstLayout:Z

    return p1
.end method

.method static synthetic access$11502(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    return p1
.end method

.method static synthetic access$11600(Lorg/telegram/ui/PhotoViewer;F)V
    .locals 0

    .line 285
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    return-void
.end method

.method static synthetic access$11700(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/CheckBox;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    return-object p0
.end method

.method static synthetic access$11800(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->setScaleToFill()V

    return-void
.end method

.method static synthetic access$11900(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/messenger/ImageReceiver;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    return-object p0
.end method

.method static synthetic access$1200(Lorg/telegram/ui/PhotoViewer;)Landroid/view/View;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbarView:Landroid/view/View;

    return-object p0
.end method

.method static synthetic access$12000(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/messenger/ImageReceiver;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    return-object p0
.end method

.method static synthetic access$12102(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 285
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->attachedToWindow:Z

    return p1
.end method

.method static synthetic access$12200(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Cells/TextSelectionHelper$SimpleTextSelectionHelper;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->textSelectionHelper:Lorg/telegram/ui/Cells/TextSelectionHelper$SimpleTextSelectionHelper;

    return-object p0
.end method

.method static synthetic access$12300(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result p0

    return p0
.end method

.method static synthetic access$12400(Lorg/telegram/ui/PhotoViewer;Z)V
    .locals 0

    .line 285
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->closeCaptionEnter(Z)V

    return-void
.end method

.method static synthetic access$12500(Lorg/telegram/ui/PhotoViewer;)Landroid/graphics/Paint;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->blackPaint:Landroid/graphics/Paint;

    return-object p0
.end method

.method static synthetic access$12600(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/ChatActivity;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    return-object p0
.end method

.method static synthetic access$12700(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$CounterView;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    return-object p0
.end method

.method static synthetic access$12800(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    return-object p0
.end method

.method static synthetic access$12802(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;)Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;
    .locals 0

    .line 285
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    return-object p1
.end method

.method static synthetic access$12900(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 285
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    return p0
.end method

.method static synthetic access$12902(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    return p1
.end method

.method static synthetic access$1300(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    return-object p0
.end method

.method static synthetic access$13000(Lorg/telegram/ui/PhotoViewer;I[J)Lorg/telegram/tgnet/TLObject;
    .locals 0

    .line 285
    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->getFileLocation(I[J)Lorg/telegram/tgnet/TLObject;

    move-result-object p0

    return-object p0
.end method

.method static synthetic access$13100(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/messenger/ImageLocation;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    return-object p0
.end method

.method static synthetic access$13200(Lorg/telegram/ui/PhotoViewer;)J
    .locals 2

    .line 285
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    return-wide v0
.end method

.method static synthetic access$13300(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->isEvent:Z

    return p0
.end method

.method static synthetic access$13400(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    return-object p0
.end method

.method static synthetic access$13500(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->showDownloadAlert()V

    return-void
.end method

.method static synthetic access$13600(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 285
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result p0

    return p0
.end method

.method static synthetic access$13700(Lorg/telegram/ui/PhotoViewer;)J
    .locals 2

    .line 285
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    return-wide v0
.end method

.method static synthetic access$13802(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 285
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->disableShowCheck:Z

    return p1
.end method

.method static synthetic access$13900(Lorg/telegram/ui/PhotoViewer;Ljava/util/ArrayList;)V
    .locals 0

    .line 285
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->showShareAlert(Ljava/util/ArrayList;)V

    return-void
.end method

.method static synthetic access$1400(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/PhotoCropView;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    return-object p0
.end method

.method static synthetic access$14000(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->openCurrentPhotoInPaintModeForSelect()V

    return-void
.end method

.method static synthetic access$14100(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    return p0
.end method

.method static synthetic access$14200(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/messenger/ImageLocation;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    return-object p0
.end method

.method static synthetic access$14300(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->onSharePressed()V

    return-void
.end method

.method static synthetic access$14400(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/StickersAlert;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->masksAlert:Lorg/telegram/ui/Components/StickersAlert;

    return-object p0
.end method

.method static synthetic access$14402(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/Components/StickersAlert;)Lorg/telegram/ui/Components/StickersAlert;
    .locals 0

    .line 285
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->masksAlert:Lorg/telegram/ui/Components/StickersAlert;

    return-object p1
.end method

.method static synthetic access$14500(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/ActionBar/ActionBarMenuItem;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    return-object p0
.end method

.method static synthetic access$14600()Lorg/telegram/ui/PhotoViewer;
    .locals 1

    .line 285
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    return-object v0
.end method

.method static synthetic access$14602(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer;
    .locals 0

    .line 285
    sput-object p0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    return-object p0
.end method

.method static synthetic access$14702(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 285
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isVisibleOrAnimating:Z

    return p1
.end method

.method static synthetic access$14802(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->clippingImageProgress:F

    return p1
.end method

.method static synthetic access$14900(Lorg/telegram/ui/PhotoViewer;Z)V
    .locals 0

    .line 285
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->switchToPip(Z)V

    return-void
.end method

.method static synthetic access$1500(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/VideoPlayer;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    return-object p0
.end method

.method static synthetic access$15000(Lorg/telegram/ui/PhotoViewer;Z)V
    .locals 0

    .line 285
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->releasePlayer(Z)V

    return-void
.end method

.method static synthetic access$15100(Lorg/telegram/ui/PhotoViewer;)Ljava/util/ArrayList;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    return-object p0
.end method

.method static synthetic access$15202(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/messenger/ImageLocation;)Lorg/telegram/messenger/ImageLocation;
    .locals 0

    .line 285
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAvatarLocation:Lorg/telegram/messenger/ImageLocation;

    return-object p1
.end method

.method static synthetic access$15300(Lorg/telegram/ui/PhotoViewer;)Ljava/util/ArrayList;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    return-object p0
.end method

.method static synthetic access$15400(Lorg/telegram/ui/PhotoViewer;)Ljava/util/ArrayList;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    return-object p0
.end method

.method static synthetic access$15500(Lorg/telegram/ui/PhotoViewer;)Ljava/util/ArrayList;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    return-object p0
.end method

.method static synthetic access$15600(Lorg/telegram/ui/PhotoViewer;)Ljava/util/ArrayList;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrMessages:Ljava/util/ArrayList;

    return-object p0
.end method

.method static synthetic access$15700(Lorg/telegram/ui/PhotoViewer;I)V
    .locals 0

    .line 285
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    return-void
.end method

.method static synthetic access$15800(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/UndoView;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->hintView:Lorg/telegram/ui/Components/UndoView;

    return-object p0
.end method

.method static synthetic access$15900(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 285
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    return p0
.end method

.method static synthetic access$1600(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/PhotoViewerWebView;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    return-object p0
.end method

.method static synthetic access$16000(Lorg/telegram/ui/PhotoViewer;)Ljava/util/ArrayList;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    return-object p0
.end method

.method static synthetic access$16102(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 285
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->captionTranslated:Z

    return p1
.end method

.method static synthetic access$16200(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateCaptionTranslated()V

    return-void
.end method

.method static synthetic access$16300(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/messenger/SecureDocument;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->currentSecureDocument:Lorg/telegram/messenger/SecureDocument;

    return-object p0
.end method

.method static synthetic access$16400(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 285
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->slideshowMessageId:I

    return p0
.end method

.method static synthetic access$16500(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCurrentAvatarSet()Z

    move-result p0

    return p0
.end method

.method static synthetic access$16600(Lorg/telegram/ui/PhotoViewer;)Ljava/util/ArrayList;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    return-object p0
.end method

.method static synthetic access$16700(Lorg/telegram/ui/PhotoViewer;)F
    .locals 0

    .line 285
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    return p0
.end method

.method static synthetic access$16702(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    return p1
.end method

.method static synthetic access$16800(Lorg/telegram/ui/PhotoViewer;ZZ)V
    .locals 0

    .line 285
    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->setMenuItemIcon(ZZ)V

    return-void
.end method

.method static synthetic access$16900(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/messenger/ImageReceiver$BitmapHolder;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    return-object p0
.end method

.method static synthetic access$16902(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/messenger/ImageReceiver$BitmapHolder;)Lorg/telegram/messenger/ImageReceiver$BitmapHolder;
    .locals 0

    .line 285
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    return-object p1
.end method

.method static synthetic access$1700(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    return p0
.end method

.method static synthetic access$17002(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 285
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->dontAutoPlay:Z

    return p1
.end method

.method static synthetic access$17100(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/messenger/MessageObject;)Z
    .locals 0

    .line 285
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->shouldMessageObjectAutoPlayed(Lorg/telegram/messenger/MessageObject;)Z

    move-result p0

    return p0
.end method

.method static synthetic access$17202(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 285
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->playerAutoStarted:Z

    return p1
.end method

.method static synthetic access$17300(Lorg/telegram/ui/PhotoViewer;Z)V
    .locals 0

    .line 285
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->onActionClick(Z)V

    return-void
.end method

.method static synthetic access$17400(Lorg/telegram/ui/PhotoViewer;IZZ)V
    .locals 0

    .line 285
    invoke-direct {p0, p1, p2, p3}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    return-void
.end method

.method static synthetic access$17500(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateAccessibilityOverlayVisibility()V

    return-void
.end method

.method static synthetic access$17600(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->fancyShadows:Z

    return p0
.end method

.method static synthetic access$17700(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/TextView;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    return-object p0
.end method

.method static synthetic access$17800(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/LinearLayout;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->itemsLayout:Landroid/widget/LinearLayout;

    return-object p0
.end method

.method static synthetic access$17900(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/ImageView;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    return-object p0
.end method

.method static synthetic access$1800(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/VideoTimelinePlayView;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    return-object p0
.end method

.method static synthetic access$18000(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/BlurringShader$BlurManager;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->blurManager:Lorg/telegram/ui/Components/BlurringShader$BlurManager;

    return-object p0
.end method

.method static synthetic access$18100(Lorg/telegram/ui/PhotoViewer;Landroid/graphics/Canvas;Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;IIZZZ)V
    .locals 0

    .line 285
    invoke-direct/range {p0 .. p7}, Lorg/telegram/ui/PhotoViewer;->drawCaptionBlur(Landroid/graphics/Canvas;Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;IIZZZ)V

    return-void
.end method

.method static synthetic access$18200(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateVideoInfo()V

    return-void
.end method

.method static synthetic access$18300(Lorg/telegram/ui/PhotoViewer;)F
    .locals 0

    .line 285
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    return p0
.end method

.method static synthetic access$18302(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    return p1
.end method

.method static synthetic access$18400(Lorg/telegram/ui/PhotoViewer;)J
    .locals 2

    .line 285
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->needCaptureFrameReadyAtTime:J

    return-wide v0
.end method

.method static synthetic access$18402(Lorg/telegram/ui/PhotoViewer;J)J
    .locals 0

    .line 285
    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->needCaptureFrameReadyAtTime:J

    return-wide p1
.end method

.method static synthetic access$18500(Lorg/telegram/ui/PhotoViewer;)J
    .locals 2

    .line 285
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->captureFrameReadyAtTime:J

    return-wide v0
.end method

.method static synthetic access$18502(Lorg/telegram/ui/PhotoViewer;J)J
    .locals 0

    .line 285
    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->captureFrameReadyAtTime:J

    return-wide p1
.end method

.method static synthetic access$18600(Lorg/telegram/ui/PhotoViewer;)F
    .locals 0

    .line 285
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->avatarStartProgress:F

    return p0
.end method

.method static synthetic access$18602(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->avatarStartProgress:F

    return p1
.end method

.method static synthetic access$18700(Lorg/telegram/ui/PhotoViewer;)J
    .locals 2

    .line 285
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->avatarStartTime:J

    return-wide v0
.end method

.method static synthetic access$18702(Lorg/telegram/ui/PhotoViewer;J)J
    .locals 0

    .line 285
    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->avatarStartTime:J

    return-wide p1
.end method

.method static synthetic access$18802(Lorg/telegram/ui/PhotoViewer;J)J
    .locals 0

    .line 285
    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->captureFrameAtTime:J

    return-wide p1
.end method

.method static synthetic access$18900(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->cancelFlashAnimations()V

    return-void
.end method

.method static synthetic access$1900(Lorg/telegram/ui/PhotoViewer;)J
    .locals 2

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoPosition()J

    move-result-wide v0

    return-wide v0
.end method

.method static synthetic access$19000(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isVideoPlaying()Z

    move-result p0

    return p0
.end method

.method static synthetic access$19100(Lorg/telegram/ui/PhotoViewer;)Landroid/view/View;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->flashView:Landroid/view/View;

    return-object p0
.end method

.method static synthetic access$19200(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->captureCurrentFrame()V

    return-void
.end method

.method static synthetic access$19300(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/Bulletin;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->limitBulletin:Lorg/telegram/ui/Components/Bulletin;

    return-object p0
.end method

.method static synthetic access$19400(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->invalidateBlur()V

    return-void
.end method

.method static synthetic access$19500(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/VideoCompressButton;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    return-object p0
.end method

.method static synthetic access$19600(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 285
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    return p0
.end method

.method static synthetic access$19602(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    return p1
.end method

.method static synthetic access$19700(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/ImageView;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->lastFrameImageView:Landroid/widget/ImageView;

    return-object p0
.end method

.method static synthetic access$19702(Lorg/telegram/ui/PhotoViewer;Landroid/widget/ImageView;)Landroid/widget/ImageView;
    .locals 0

    .line 285
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->lastFrameImageView:Landroid/widget/ImageView;

    return-object p1
.end method

.method static synthetic access$19800(Lorg/telegram/ui/PhotoViewer;)Landroid/graphics/Bitmap;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->lastFrameBitmap:Landroid/graphics/Bitmap;

    return-object p0
.end method

.method static synthetic access$19802(Lorg/telegram/ui/PhotoViewer;Landroid/graphics/Bitmap;)Landroid/graphics/Bitmap;
    .locals 0

    .line 285
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->lastFrameBitmap:Landroid/graphics/Bitmap;

    return-object p1
.end method

.method static synthetic access$19900(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->requestAdjust()V

    return-void
.end method

.method static synthetic access$200(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlVisible:Z

    return p0
.end method

.method static synthetic access$2000(Lorg/telegram/ui/PhotoViewer;)J
    .locals 2

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getVideoDuration()J

    move-result-wide v0

    return-wide v0
.end method

.method static synthetic access$20000(Lorg/telegram/ui/PhotoViewer;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->flashAnimator:Landroid/animation/AnimatorSet;

    return-object p0
.end method

.method static synthetic access$20002(Lorg/telegram/ui/PhotoViewer;Landroid/animation/AnimatorSet;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 285
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->flashAnimator:Landroid/animation/AnimatorSet;

    return-object p1
.end method

.method static synthetic access$20102(Lorg/telegram/ui/PhotoViewer;Ljava/lang/Runnable;)Ljava/lang/Runnable;
    .locals 0

    .line 285
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayRunnable:Ljava/lang/Runnable;

    return-object p1
.end method

.method static synthetic access$20200(Lorg/telegram/ui/PhotoViewer;)Ljava/lang/Runnable;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->switchToInlineRunnable:Ljava/lang/Runnable;

    return-object p0
.end method

.method static synthetic access$20300(Lorg/telegram/ui/PhotoViewer;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    return-object p0
.end method

.method static synthetic access$20302(Lorg/telegram/ui/PhotoViewer;Landroid/animation/AnimatorSet;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 285
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    return-object p1
.end method

.method static synthetic access$20400(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/ImageView;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    return-object p0
.end method

.method static synthetic access$20502(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->mirror:F

    return p1
.end method

.method static synthetic access$20602(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->animateToMirror:F

    return p1
.end method

.method static synthetic access$20702(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->rotate:F

    return p1
.end method

.method static synthetic access$20802(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->animateToRotate:F

    return p1
.end method

.method static synthetic access$20902(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    return p1
.end method

.method static synthetic access$2100(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->shownControlsByEnd:Z

    return p0
.end method

.method static synthetic access$21000(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/ImageView;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    return-object p0
.end method

.method static synthetic access$21100(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$EditState;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    return-object p0
.end method

.method static synthetic access$21200(Lorg/telegram/ui/PhotoViewer;)F
    .locals 0

    .line 285
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->inlineOutAnimationProgress:F

    return p0
.end method

.method static synthetic access$21302(Lorg/telegram/ui/PhotoViewer;Landroid/animation/AnimatorSet;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 285
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrameAnimation:Landroid/animation/AnimatorSet;

    return-object p1
.end method

.method static synthetic access$21400(Lorg/telegram/ui/PhotoViewer;Z)V
    .locals 0

    .line 285
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->showVideoSeekPreviewPosition(Z)V

    return-void
.end method

.method static synthetic access$21502(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 285
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->needShowOnReady:Z

    return p1
.end method

.method static synthetic access$21600(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/VideoSeekPreviewImage;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    return-object p0
.end method

.method static synthetic access$21700(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateVideoSeekPreviewPosition()V

    return-void
.end method

.method static synthetic access$21800(Lorg/telegram/ui/PhotoViewer;)[I
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerCurrentTime:[I

    return-object p0
.end method

.method static synthetic access$21900(Lorg/telegram/ui/PhotoViewer;)[I
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTotalTime:[I

    return-object p0
.end method

.method static synthetic access$2200(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarWasShownBeforeByEnd:Z

    return p0
.end method

.method static synthetic access$22100(Lorg/telegram/ui/PhotoViewer;)Landroid/view/OrientationEventListener;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->orientationEventListener:Landroid/view/OrientationEventListener;

    return-object p0
.end method

.method static synthetic access$22200(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 285
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenedByButton:I

    return p0
.end method

.method static synthetic access$22202(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenedByButton:I

    return p1
.end method

.method static synthetic access$22300(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->wasRotated:Z

    return p0
.end method

.method static synthetic access$22302(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 285
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->wasRotated:Z

    return p1
.end method

.method static synthetic access$22400(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 285
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->prevOrientation:I

    return p0
.end method

.method static synthetic access$22500(Lorg/telegram/ui/PhotoViewer;Z)V
    .locals 0

    .line 285
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->playOrStopAnimatedStickers(Z)V

    return-void
.end method

.method static synthetic access$22600(Lorg/telegram/ui/PhotoViewer;J)V
    .locals 0

    .line 285
    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->seekAnimatedStickersTo(J)V

    return-void
.end method

.method static synthetic access$22702(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 285
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameRendered:Z

    return p1
.end method

.method static synthetic access$22800(Lorg/telegram/ui/PhotoViewer;)Ljava/util/ArrayList;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    return-object p0
.end method

.method static synthetic access$22900(Lorg/telegram/ui/PhotoViewer;ZI)V
    .locals 0

    .line 285
    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->updatePlayerState(ZI)V

    return-void
.end method

.method static synthetic access$2300(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->inPreview:Z

    return p0
.end method

.method static synthetic access$23000(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    return-object p0
.end method

.method static synthetic access$23100(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->setCropBitmap()V

    return-void
.end method

.method static synthetic access$23202(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 285
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    return p1
.end method

.method static synthetic access$23300(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    return p0
.end method

.method static synthetic access$23302(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 285
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    return p1
.end method

.method static synthetic access$23400(Lorg/telegram/ui/PhotoViewer;)Landroid/view/TextureView$SurfaceTextureListener;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->surfaceTextureListener:Landroid/view/TextureView$SurfaceTextureListener;

    return-object p0
.end method

.method static synthetic access$23500(Lorg/telegram/ui/PhotoViewer;Z)V
    .locals 0

    .line 285
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->updateResetButtonVisibility(Z)V

    return-void
.end method

.method static synthetic access$23600(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->toggleVideoPlayer()V

    return-void
.end method

.method static synthetic access$23700(Lorg/telegram/ui/PhotoViewer;F)Z
    .locals 0

    .line 285
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->cropRotate(F)Z

    move-result p0

    return p0
.end method

.method static synthetic access$23800(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->cropMirror()Z

    move-result p0

    return p0
.end method

.method static synthetic access$2400(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 285
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    return p0
.end method

.method static synthetic access$24000(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/PickerBottomLayoutViewer;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    return-object p0
.end method

.method static synthetic access$2402(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    return p1
.end method

.method static synthetic access$24100(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/PhotoFilterView;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    return-object p0
.end method

.method static synthetic access$24102(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/Components/PhotoFilterView;)Lorg/telegram/ui/Components/PhotoFilterView;
    .locals 0

    .line 285
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    return-object p1
.end method

.method static synthetic access$24200(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->paintKeyboardNotifier:Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;

    return-object p0
.end method

.method static synthetic access$24302(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->translateY:F

    return p1
.end method

.method static synthetic access$24402(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 285
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->applying:Z

    return p1
.end method

.method static synthetic access$24502(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    return p1
.end method

.method static synthetic access$24602(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    return p1
.end method

.method static synthetic access$24700(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$SavedState;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->savedState:Lorg/telegram/ui/PhotoViewer$SavedState;

    return-object p0
.end method

.method static synthetic access$24702(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/PhotoViewer$SavedState;)Lorg/telegram/ui/PhotoViewer$SavedState;
    .locals 0

    .line 285
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->savedState:Lorg/telegram/ui/PhotoViewer$SavedState;

    return-object p1
.end method

.method static synthetic access$24800(Lorg/telegram/ui/PhotoViewer;ZZLorg/telegram/ui/PhotoViewer$ActionBarToggleParams;)V
    .locals 0

    .line 285
    invoke-direct {p0, p1, p2, p3}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZLorg/telegram/ui/PhotoViewer$ActionBarToggleParams;)V

    return-void
.end method

.method static synthetic access$24900(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->useFullWidthSendButton()Z

    move-result p0

    return p0
.end method

.method static synthetic access$2500(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/FrameLayout;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    return-object p0
.end method

.method static synthetic access$25000(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateActionBarTitlePadding()V

    return-void
.end method

.method static synthetic access$25100(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->videoConvertSupported:Z

    return p0
.end method

.method static synthetic access$25102(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 285
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->videoConvertSupported:Z

    return p1
.end method

.method static synthetic access$25202(Lorg/telegram/ui/PhotoViewer;Landroid/animation/AnimatorSet;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 285
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    return-object p1
.end method

.method static synthetic access$25302(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 285
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isPhotosListViewVisible:Z

    return p1
.end method

.method static synthetic access$25400(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/Crop/CropTransform;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    return-object p0
.end method

.method static synthetic access$25500(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result p0

    return p0
.end method

.method static synthetic access$25600(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result p0

    return p0
.end method

.method static synthetic access$25700(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 285
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth(I)I

    move-result p0

    return p0
.end method

.method static synthetic access$25800(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 285
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(I)I

    move-result p0

    return p0
.end method

.method static synthetic access$25900(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result p0

    return p0
.end method

.method static synthetic access$26000(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getRightInset()I

    move-result p0

    return p0
.end method

.method static synthetic access$2602(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 285
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->manuallyPaused:Z

    return p1
.end method

.method static synthetic access$26102(Lorg/telegram/ui/PhotoViewer;J)J
    .locals 0

    .line 285
    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    return-wide p1
.end method

.method static synthetic access$26202(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 285
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    return p1
.end method

.method static synthetic access$26302(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 285
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->padImageForHorizontalInsets:Z

    return p1
.end method

.method static synthetic access$26400(Lorg/telegram/ui/PhotoViewer;Z)F
    .locals 0

    .line 285
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->getCropFillScale(Z)F

    move-result p0

    return p0
.end method

.method static synthetic access$26500(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->switchToPaintMode()V

    return-void
.end method

.method static synthetic access$26600(Lorg/telegram/ui/PhotoViewer;)J
    .locals 2

    .line 285
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->startTime:J

    return-wide v0
.end method

.method static synthetic access$26700(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->makeFocusable()V

    return-void
.end method

.method static synthetic access$26800(Lorg/telegram/ui/PhotoViewer;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    return-object p0
.end method

.method static synthetic access$26802(Lorg/telegram/ui/PhotoViewer;Landroid/animation/AnimatorSet;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 285
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    return-object p1
.end method

.method static synthetic access$26900(Lorg/telegram/ui/PhotoViewer;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarAnimator:Landroid/animation/AnimatorSet;

    return-object p0
.end method

.method static synthetic access$26902(Lorg/telegram/ui/PhotoViewer;Landroid/animation/AnimatorSet;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 285
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->actionBarAnimator:Landroid/animation/AnimatorSet;

    return-object p1
.end method

.method static synthetic access$2700(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->cancelVideoPlayRunnable()V

    return-void
.end method

.method static synthetic access$27000(Lorg/telegram/ui/PhotoViewer;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->currentListViewAnimation:Landroid/animation/AnimatorSet;

    return-object p0
.end method

.method static synthetic access$27002(Lorg/telegram/ui/PhotoViewer;Landroid/animation/AnimatorSet;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 285
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentListViewAnimation:Landroid/animation/AnimatorSet;

    return-object p1
.end method

.method static synthetic access$27100(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    return p0
.end method

.method static synthetic access$27300(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/FrameLayout;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->captionContainer:Landroid/widget/FrameLayout;

    return-object p0
.end method

.method static synthetic access$27400(Lorg/telegram/ui/PhotoViewer;)[Landroid/widget/ImageView;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    return-object p0
.end method

.method static synthetic access$27500(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->allowShowFullscreenButton:Z

    return p0
.end method

.method static synthetic access$27600(Lorg/telegram/ui/PhotoViewer;)[[F
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    return-object p0
.end method

.method static synthetic access$27700(Lorg/telegram/ui/PhotoViewer;)Ljava/lang/Runnable;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->animationEndRunnable:Ljava/lang/Runnable;

    return-object p0
.end method

.method static synthetic access$27702(Lorg/telegram/ui/PhotoViewer;Ljava/lang/Runnable;)Ljava/lang/Runnable;
    .locals 0

    .line 285
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->animationEndRunnable:Ljava/lang/Runnable;

    return-object p1
.end method

.method static synthetic access$27800(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->openedFullScreenVideo:Z

    return p0
.end method

.method static synthetic access$27900(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/messenger/AnimationNotificationsLocker;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->transitionNotificationLocker:Lorg/telegram/messenger/AnimationNotificationsLocker;

    return-object p0
.end method

.method static synthetic access$2800(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    return p0
.end method

.method static synthetic access$28000(Lorg/telegram/ui/PhotoViewer;Z)V
    .locals 0

    .line 285
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->setCaptionHwLayerEnabled(Z)V

    return-void
.end method

.method static synthetic access$28102(Lorg/telegram/ui/PhotoViewer;J)J
    .locals 0

    .line 285
    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->transitionAnimationStartTime:J

    return-wide p1
.end method

.method static synthetic access$28302(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/messenger/MediaController$CropState;)Lorg/telegram/messenger/MediaController$CropState;
    .locals 0

    .line 285
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->leftCropState:Lorg/telegram/messenger/MediaController$CropState;

    return-object p1
.end method

.method static synthetic access$28400(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/Crop/CropTransform;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    return-object p0
.end method

.method static synthetic access$28502(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/messenger/MediaController$CropState;)Lorg/telegram/messenger/MediaController$CropState;
    .locals 0

    .line 285
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->rightCropState:Lorg/telegram/messenger/MediaController$CropState;

    return-object p1
.end method

.method static synthetic access$28600(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/Crop/CropTransform;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    return-object p0
.end method

.method static synthetic access$28700(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->setImages()V

    return-void
.end method

.method static synthetic access$28800(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->showAfterAnimation:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    return-object p0
.end method

.method static synthetic access$28900(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->hideAfterAnimation:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    return-object p0
.end method

.method static synthetic access$2900(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 285
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    return p0
.end method

.method static synthetic access$29000(Lorg/telegram/ui/PhotoViewer;I)V
    .locals 0

    .line 285
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->initEmbedVideo(I)V

    return-void
.end method

.method static synthetic access$29100(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 285
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    return p0
.end method

.method static synthetic access$29102(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    return p1
.end method

.method static synthetic access$29200(Lorg/telegram/ui/PhotoViewer;Z)V
    .locals 0

    .line 285
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->didChangedCompressionLevel(Z)V

    return-void
.end method

.method static synthetic access$29300(Lorg/telegram/ui/PhotoViewer;I)V
    .locals 0

    .line 285
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->requestVideoPreview(I)V

    return-void
.end method

.method static synthetic access$29402(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 285
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->moving:Z

    return p1
.end method

.method static synthetic access$29600(Lorg/telegram/ui/PhotoViewer;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    return-object p0
.end method

.method static synthetic access$29602(Lorg/telegram/ui/PhotoViewer;Landroid/animation/AnimatorSet;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 285
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    return-object p1
.end method

.method static synthetic access$29700(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$QualityChooseView;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    return-object p0
.end method

.method static synthetic access$29800(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/PickerBottomLayoutViewer;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    return-object p0
.end method

.method static synthetic access$29900(Lorg/telegram/ui/PhotoViewer;)Ljava/lang/Runnable;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->currentLoadingVideoRunnable:Ljava/lang/Runnable;

    return-object p0
.end method

.method static synthetic access$29902(Lorg/telegram/ui/PhotoViewer;Ljava/lang/Runnable;)Ljava/lang/Runnable;
    .locals 0

    .line 285
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentLoadingVideoRunnable:Ljava/lang/Runnable;

    return-object p1
.end method

.method static synthetic access$300(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    return p0
.end method

.method static synthetic access$3000(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 285
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    return p0
.end method

.method static synthetic access$30002(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->originalBitrate:I

    return p1
.end method

.method static synthetic access$3002(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    return p1
.end method

.method static synthetic access$30100(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 285
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    return p0
.end method

.method static synthetic access$30102(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    return p1
.end method

.method static synthetic access$30200(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 285
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    return p0
.end method

.method static synthetic access$30202(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    return p1
.end method

.method static synthetic access$30300(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 285
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    return p0
.end method

.method static synthetic access$30302(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    return p1
.end method

.method static synthetic access$30400(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 285
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    return p0
.end method

.method static synthetic access$30402(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    return p1
.end method

.method static synthetic access$30500(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 285
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    return p0
.end method

.method static synthetic access$30502(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    return p1
.end method

.method static synthetic access$30600(Lorg/telegram/ui/PhotoViewer;II)V
    .locals 0

    .line 285
    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->updateCompressionsCount(II)V

    return-void
.end method

.method static synthetic access$30700(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->selectCompression()I

    move-result p0

    return p0
.end method

.method static synthetic access$30800(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->prepareRealEncoderBitrate()V

    return-void
.end method

.method static synthetic access$30902(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 285
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isH264Video:Z

    return p1
.end method

.method static synthetic access$3100(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->playVideoOrWeb()V

    return-void
.end method

.method static synthetic access$31002(Lorg/telegram/ui/PhotoViewer;J)J
    .locals 0

    .line 285
    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->audioFramesSize:J

    return-wide p1
.end method

.method static synthetic access$31102(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->videoFramerate:I

    return p1
.end method

.method static synthetic access$31202(Lorg/telegram/ui/PhotoViewer;J)J
    .locals 0

    .line 285
    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->videoFramesSize:J

    return-wide p1
.end method

.method static synthetic access$31300(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 285
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->rotationValue:I

    return p0
.end method

.method static synthetic access$31302(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->rotationValue:I

    return p1
.end method

.method static synthetic access$31400(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateWidthHeightBitrateForCompression()V

    return-void
.end method

.method static synthetic access$31500(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/messenger/VideoEditedInfo;
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoEditedInfo()Lorg/telegram/messenger/VideoEditedInfo;

    move-result-object p0

    return-object p0
.end method

.method static synthetic access$31600(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$ListAdapter;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosAdapter:Lorg/telegram/ui/PhotoViewer$ListAdapter;

    return-object p0
.end method

.method static synthetic access$31700(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateSelectedCount()V

    return-void
.end method

.method static synthetic access$3200(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->pauseVideoOrWeb()V

    return-void
.end method

.method static synthetic access$3300(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateVideoPlayerTime()V

    return-void
.end method

.method static synthetic access$3400(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoFinishedLoading:Z

    return p0
.end method

.method static synthetic access$3500(Lorg/telegram/ui/PhotoViewer;)J
    .locals 2

    .line 285
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->lastBufferedPositionCheck:J

    return-wide v0
.end method

.method static synthetic access$3502(Lorg/telegram/ui/PhotoViewer;J)J
    .locals 0

    .line 285
    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->lastBufferedPositionCheck:J

    return-wide p1
.end method

.method static synthetic access$3600(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->isStreaming:Z

    return p0
.end method

.method static synthetic access$3700(Lorg/telegram/ui/PhotoViewer;)F
    .locals 0

    .line 285
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending:F

    return p0
.end method

.method static synthetic access$3702(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending:F

    return p1
.end method

.method static synthetic access$3800(Lorg/telegram/ui/PhotoViewer;)[Ljava/lang/String;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    return-object p0
.end method

.method static synthetic access$3900(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 285
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    return p0
.end method

.method static synthetic access$400(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/ActionBar/ActionBarMenuItem;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    return-object p0
.end method

.method static synthetic access$4000(Lorg/telegram/ui/PhotoViewer;J)V
    .locals 0

    .line 285
    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->seekVideoOrWebTo(J)V

    return-void
.end method

.method static synthetic access$4100(Lorg/telegram/ui/PhotoViewer;)Ljava/lang/String;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideo:Ljava/lang/String;

    return-object p0
.end method

.method static synthetic access$4200(Lorg/telegram/ui/PhotoViewer;)J
    .locals 2

    .line 285
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->lastSaveTime:J

    return-wide v0
.end method

.method static synthetic access$4202(Lorg/telegram/ui/PhotoViewer;J)J
    .locals 0

    .line 285
    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->lastSaveTime:J

    return-wide p1
.end method

.method static synthetic access$4300(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$FirstFrameView;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    return-object p0
.end method

.method static synthetic access$4500(Lorg/telegram/ui/PhotoViewer;)Ljava/lang/Runnable;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->updateProgressRunnable:Ljava/lang/Runnable;

    return-object p0
.end method

.method static synthetic access$4600(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->switchingInlineMode:Z

    return p0
.end method

.method static synthetic access$4602(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 285
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->switchingInlineMode:Z

    return p1
.end method

.method static synthetic access$4700(Lorg/telegram/ui/PhotoViewer;)Landroid/graphics/Bitmap;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    return-object p0
.end method

.method static synthetic access$4702(Lorg/telegram/ui/PhotoViewer;Landroid/graphics/Bitmap;)Landroid/graphics/Bitmap;
    .locals 0

    .line 285
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    return-object p1
.end method

.method static synthetic access$4800(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->changingTextureView:Z

    return p0
.end method

.method static synthetic access$4802(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 285
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->changingTextureView:Z

    return p1
.end method

.method static synthetic access$4900(Lorg/telegram/ui/PhotoViewer;)Landroid/app/Activity;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    return-object p0
.end method

.method static synthetic access$500(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$CaptionScrollView;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    return-object p0
.end method

.method static synthetic access$5000(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    return p0
.end method

.method static synthetic access$5100(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/ImageView;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    return-object p0
.end method

.method static synthetic access$5200(Lorg/telegram/ui/PhotoViewer;)Landroid/view/SurfaceView;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    return-object p0
.end method

.method static synthetic access$5300(Lorg/telegram/ui/PhotoViewer;)Landroid/view/TextureView;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    return-object p0
.end method

.method static synthetic access$5400(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->isInline:Z

    return p0
.end method

.method static synthetic access$5402(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 285
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isInline:Z

    return p1
.end method

.method static synthetic access$5500(Lorg/telegram/ui/PhotoViewer;)Landroid/view/TextureView;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->changedTextureView:Landroid/view/TextureView;

    return-object p0
.end method

.method static synthetic access$5502(Lorg/telegram/ui/PhotoViewer;Landroid/view/TextureView;)Landroid/view/TextureView;
    .locals 0

    .line 285
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->changedTextureView:Landroid/view/TextureView;

    return-object p1
.end method

.method static synthetic access$5600(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 285
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->videoWidth:I

    return p0
.end method

.method static synthetic access$5602(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->videoWidth:I

    return p1
.end method

.method static synthetic access$5700(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 285
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->videoHeight:I

    return p0
.end method

.method static synthetic access$5702(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->videoHeight:I

    return p1
.end method

.method static synthetic access$5800(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->pipVideoOverlayAnimateFlag:Z

    return p0
.end method

.method static synthetic access$5802(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 285
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->pipVideoOverlayAnimateFlag:Z

    return p1
.end method

.method static synthetic access$5900(Lorg/telegram/ui/PhotoViewer;)Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    return-object p0
.end method

.method static synthetic access$600(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/RadialProgressView;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    return-object p0
.end method

.method static synthetic access$6000(Lorg/telegram/ui/PhotoViewer;Z)V
    .locals 0

    .line 285
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->checkChangedTextureView(Z)V

    return-void
.end method

.method static synthetic access$6100(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 285
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->waitingForFirstTextureUpload:I

    return p0
.end method

.method static synthetic access$6102(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->waitingForFirstTextureUpload:I

    return p1
.end method

.method static synthetic access$6200(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->dismissInternal()V

    return-void
.end method

.method static synthetic access$6302(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 285
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    return p1
.end method

.method static synthetic access$6400(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    return-object p0
.end method

.method static synthetic access$6402(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;)Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;
    .locals 0

    .line 285
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    return-object p1
.end method

.method static synthetic access$6500(Lorg/telegram/ui/PhotoViewer;)Landroid/view/WindowManager$LayoutParams;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    return-object p0
.end method

.method static synthetic access$6600(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/FrameLayout;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    return-object p0
.end method

.method static synthetic access$6700(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    return-object p0
.end method

.method static synthetic access$6800(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/List;ILorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V
    .locals 0

    .line 285
    invoke-direct/range {p0 .. p9}, Lorg/telegram/ui/PhotoViewer;->onPhotoShow(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/List;ILorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    return-void
.end method

.method static synthetic access$6900(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    return p0
.end method

.method static synthetic access$6902(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 285
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    return p1
.end method

.method static synthetic access$700()Lorg/telegram/ui/PhotoViewer;
    .locals 1

    .line 285
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    return-object v0
.end method

.method static synthetic access$7000(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/ChatAttachAlert;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

    return-object p0
.end method

.method static synthetic access$702(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer;
    .locals 0

    .line 285
    sput-object p0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    return-object p0
.end method

.method static synthetic access$7100(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 285
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    return p0
.end method

.method static synthetic access$7102(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    return p1
.end method

.method static synthetic access$7200(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    return-object p0
.end method

.method static synthetic access$7300(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/ClippingImageView;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    return-object p0
.end method

.method static synthetic access$7400()Landroid/view/animation/DecelerateInterpolator;
    .locals 1

    .line 285
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->decelerateInterpolator:Landroid/view/animation/DecelerateInterpolator;

    return-object v0
.end method

.method static synthetic access$7402(Landroid/view/animation/DecelerateInterpolator;)Landroid/view/animation/DecelerateInterpolator;
    .locals 0

    .line 285
    sput-object p0, Lorg/telegram/ui/PhotoViewer;->decelerateInterpolator:Landroid/view/animation/DecelerateInterpolator;

    return-object p0
.end method

.method static synthetic access$7500()Landroid/graphics/Paint;
    .locals 1

    .line 285
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->progressPaint:Landroid/graphics/Paint;

    return-object v0
.end method

.method static synthetic access$7502(Landroid/graphics/Paint;)Landroid/graphics/Paint;
    .locals 0

    .line 285
    sput-object p0, Lorg/telegram/ui/PhotoViewer;->progressPaint:Landroid/graphics/Paint;

    return-object p0
.end method

.method static synthetic access$7600(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result p0

    return p0
.end method

.method static synthetic access$7700(Lorg/telegram/ui/PhotoViewer;)F
    .locals 0

    .line 285
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->currentPanTranslationY:F

    return p0
.end method

.method static synthetic access$7800()[Landroid/graphics/drawable/Drawable;
    .locals 1

    .line 285
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->progressDrawables:[Landroid/graphics/drawable/Drawable;

    return-object v0
.end method

.method static synthetic access$7900(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    return p0
.end method

.method static synthetic access$800(Lorg/telegram/ui/PhotoViewer;ZZ)V
    .locals 0

    .line 285
    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    return-void
.end method

.method static synthetic access$8000(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    return-object p0
.end method

.method static synthetic access$8100(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/FrameLayout;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    return-object p0
.end method

.method static synthetic access$8200(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/GroupedPhotosListView;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    return-object p0
.end method

.method static synthetic access$8300(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    return-object p0
.end method

.method static synthetic access$8600(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/PaintingOverlay;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    return-object p0
.end method

.method static synthetic access$8700(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/messenger/ImageReceiver;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    return-object p0
.end method

.method static synthetic access$8800(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/CaptionPhotoViewer;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    return-object p0
.end method

.method static synthetic access$8900(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->inBubbleMode:Z

    return p0
.end method

.method static synthetic access$900(Lorg/telegram/ui/PhotoViewer;Landroid/view/MotionEvent;)Z
    .locals 0

    .line 285
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->onTouchEvent(Landroid/view/MotionEvent;)Z

    move-result p0

    return p0
.end method

.method static synthetic access$9000(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 285
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->dontChangeCaptionPosition:Z

    return p0
.end method

.method static synthetic access$9102(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->keyboardSize:I

    return p1
.end method

.method static synthetic access$9200(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    return-object p0
.end method

.method static synthetic access$9300(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/ActionBar/ActionBar;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    return-object p0
.end method

.method static synthetic access$9400(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/ImageView;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    return-object p0
.end method

.method static synthetic access$9500(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/FrameLayout;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    return-object p0
.end method

.method static synthetic access$9600(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/FrameLayout;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->captionEditContainer:Landroid/widget/FrameLayout;

    return-object p0
.end method

.method static synthetic access$9700(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/TextView;
    .locals 0

    .line 285
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    return-object p0
.end method

.method static synthetic access$9800(Lorg/telegram/ui/PhotoViewer;Landroid/graphics/Canvas;)V
    .locals 0

    .line 285
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->onDraw(Landroid/graphics/Canvas;)V

    return-void
.end method

.method static synthetic access$9900(Lorg/telegram/ui/PhotoViewer;)F
    .locals 0

    .line 285
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    return p0
.end method

.method static synthetic access$9902(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 285
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    return p1
.end method

.method private animateTo(FFFZ)V
    .locals 6

    const/16 v5, 0xfa

    move-object v0, p0

    move v1, p1

    move v2, p2

    move v3, p3

    move v4, p4

    .line 16033
    invoke-direct/range {v0 .. v5}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZI)V

    return-void
.end method

.method private animateTo(FFFZI)V
    .locals 1

    .line 16037
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    cmpl-float v0, v0, p1

    if-nez v0, :cond_0

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    cmpl-float v0, v0, p2

    if-nez v0, :cond_0

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    cmpl-float v0, v0, p3

    if-nez v0, :cond_0

    return-void

    .line 16040
    :cond_0
    iput-boolean p4, p0, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    .line 16041
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    .line 16042
    iput p2, p0, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    .line 16043
    iput p3, p0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 16044
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide p1

    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    .line 16045
    new-instance p1, Landroid/animation/AnimatorSet;

    invoke-direct {p1}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    const/4 p2, 0x1

    new-array p2, p2, [Landroid/animation/Animator;

    const/4 p3, 0x0

    .line 16046
    sget-object p4, Lorg/telegram/ui/Components/AnimationProperties;->PHOTO_VIEWER_ANIMATION_VALUE:Landroid/util/Property;

    const/4 v0, 0x2

    new-array v0, v0, [F

    fill-array-data v0, :array_0

    .line 16047
    invoke-static {p0, p4, v0}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object p4

    aput-object p4, p2, p3

    .line 16046
    invoke-virtual {p1, p2}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    .line 16049
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->interpolator:Landroid/view/animation/DecelerateInterpolator;

    invoke-virtual {p1, p2}, Landroid/animation/AnimatorSet;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    .line 16050
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    int-to-long p2, p5

    invoke-virtual {p1, p2, p3}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 16051
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    new-instance p2, Lorg/telegram/ui/PhotoViewer$71;

    invoke-direct {p2, p0}, Lorg/telegram/ui/PhotoViewer$71;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {p1, p2}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 16058
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {p1}, Landroid/animation/AnimatorSet;->start()V

    return-void

    :array_0
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data
.end method

.method private applyCaption()Ljava/lang/CharSequence;
    .locals 4

    .line 8102
    invoke-virtual {p0}, Lorg/telegram/ui/PhotoViewer;->isVisible()Z

    move-result v0

    if-eqz v0, :cond_6

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v0, :cond_6

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz v0, :cond_6

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt v0, v1, :cond_0

    goto :goto_1

    .line 8105
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    .line 8107
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v1}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->getText()Ljava/lang/CharSequence;

    move-result-object v1

    .line 8110
    iget-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->hasCaptionForAllMedia:Z

    if-eqz v2, :cond_1

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->captionForAllMedia:Ljava/lang/CharSequence;

    invoke-static {v2, v1}, Landroid/text/TextUtils;->equals(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Z

    move-result v2

    if-nez v2, :cond_1

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v2, v3}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getPhotoIndex(I)I

    move-result v2

    if-eqz v2, :cond_1

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getSelectedCount()I

    move-result v2

    if-lez v2, :cond_1

    const/4 v2, 0x0

    .line 8111
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->hasCaptionForAllMedia:Z

    .line 8115
    :cond_1
    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->captionForAllMedia:Ljava/lang/CharSequence;

    .line 8117
    instance-of v2, v0, Lorg/telegram/messenger/MediaController$PhotoEntry;

    if-eqz v2, :cond_2

    .line 8118
    check-cast v0, Lorg/telegram/messenger/MediaController$PhotoEntry;

    .line 8119
    iput-object v1, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->caption:Ljava/lang/CharSequence;

    goto :goto_0

    .line 8121
    :cond_2
    instance-of v2, v0, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v2, :cond_3

    .line 8122
    check-cast v0, Lorg/telegram/messenger/MediaController$SearchImage;

    .line 8123
    iput-object v1, v0, Lorg/telegram/messenger/MediaController$SearchImage;->caption:Ljava/lang/CharSequence;

    .line 8127
    :cond_3
    :goto_0
    invoke-interface {v1}, Ljava/lang/CharSequence;->length()I

    move-result v0

    if-eqz v0, :cond_4

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->isPhotoChecked(I)Z

    move-result v0

    if-nez v0, :cond_4

    .line 8128
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->setPhotoChecked()V

    .line 8130
    :cond_4
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v0, :cond_5

    .line 8131
    invoke-interface {v0, v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->onApplyCaption(Ljava/lang/CharSequence;)V

    :cond_5
    return-object v1

    :cond_6
    :goto_1
    const/4 v0, 0x0

    return-object v0
.end method

.method private applyCrop(Landroid/graphics/Canvas;IIIIFLorg/telegram/ui/Components/Crop/CropTransform;Lorg/telegram/messenger/MediaController$CropState;)[I
    .locals 22

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move/from16 v2, p2

    move-object/from16 v3, p8

    int-to-float v2, v2

    move/from16 v4, p4

    int-to-float v5, v4

    div-float v6, v2, v5

    move/from16 v7, p3

    int-to-float v7, v7

    move/from16 v8, p5

    int-to-float v9, v8

    div-float v10, v7, v9

    .line 16987
    invoke-static {v6, v10}, Ljava/lang/Math;->min(FF)F

    move-result v11

    .line 16990
    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v12

    const/16 v13, 0x5a

    if-eq v12, v13, :cond_1

    const/16 v13, 0x10e

    if-ne v12, v13, :cond_0

    goto :goto_0

    :cond_0
    move/from16 v21, v8

    move v8, v4

    move/from16 v4, v21

    .line 17001
    :cond_1
    :goto_0
    iget v13, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v14, 0x3

    const/4 v15, 0x1

    const/high16 v16, 0x3f800000    # 1.0f

    if-eq v13, v15, :cond_3

    iget v13, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v13, v14, :cond_2

    iget v13, v0, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-ne v13, v14, :cond_3

    :cond_2
    :goto_1
    const/high16 v13, 0x3f800000    # 1.0f

    goto :goto_2

    .line 17003
    :cond_3
    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    if-eqz v13, :cond_7

    iget v13, v0, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    const/4 v14, -0x1

    if-eq v13, v14, :cond_7

    .line 17004
    iget v14, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v14, v15, :cond_2

    if-eq v13, v15, :cond_2

    const/4 v15, 0x2

    if-eq v14, v15, :cond_4

    const/4 v15, 0x3

    if-ne v14, v15, :cond_5

    :cond_4
    const/4 v14, -0x1

    if-ne v13, v14, :cond_5

    goto :goto_1

    :cond_5
    if-nez v13, :cond_6

    .line 17007
    iget v13, v0, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    goto :goto_2

    .line 17009
    :cond_6
    iget v13, v0, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    sub-float v13, v16, v13

    goto :goto_2

    .line 17012
    :cond_7
    iget v13, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v14, 0x2

    if-eq v13, v14, :cond_8

    const/4 v14, 0x3

    if-ne v13, v14, :cond_2

    :cond_8
    const/4 v13, 0x0

    .line 17014
    :goto_2
    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPw()F

    move-result v14

    .line 17015
    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPh()F

    move-result v15

    int-to-float v8, v8

    sub-float v17, v16, v14

    sub-float v18, v16, v13

    mul-float v17, v17, v18

    add-float v14, v14, v17

    mul-float v14, v14, v8

    float-to-int v14, v14

    int-to-float v4, v4

    sub-float v17, v16, v15

    mul-float v17, v17, v18

    add-float v15, v15, v17

    mul-float v15, v15, v4

    float-to-int v15, v15

    move/from16 p3, v10

    int-to-float v10, v14

    div-float v17, v2, v10

    move/from16 p4, v14

    int-to-float v14, v15

    mul-float v19, v17, v14

    cmpl-float v19, v19, v7

    if-lez v19, :cond_9

    div-float v17, v7, v14

    :cond_9
    move/from16 v19, v15

    .line 17022
    iget v15, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    move/from16 v20, v12

    const/4 v12, 0x1

    if-eq v15, v12, :cond_c

    iget v15, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v15, v12, :cond_a

    iget v12, v0, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-nez v12, :cond_c

    :cond_a
    if-eqz v3, :cond_c

    mul-float v10, v10, v17

    mul-float v14, v14, v17

    mul-float v12, v6, v9

    cmpl-float v12, v12, v7

    if-lez v12, :cond_b

    move/from16 v6, p3

    :cond_b
    mul-float v5, v5, v6

    div-float v5, v5, p6

    mul-float v9, v9, v6

    div-float v9, v9, p6

    sub-float/2addr v5, v10

    mul-float v5, v5, v18

    add-float/2addr v10, v5

    sub-float/2addr v9, v14

    mul-float v9, v9, v18

    add-float/2addr v14, v9

    neg-float v5, v10

    const/high16 v6, 0x40000000    # 2.0f

    div-float/2addr v5, v6

    neg-float v9, v14

    div-float/2addr v9, v6

    div-float/2addr v10, v6

    div-float/2addr v14, v6

    .line 17035
    invoke-virtual {v1, v5, v9, v10, v14}, Landroid/graphics/Canvas;->clipRect(FFFF)Z

    .line 17037
    :cond_c
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v6, 0x1

    if-eq v5, v6, :cond_d

    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->hasViewTransform()Z

    move-result v5

    if-eqz v5, :cond_18

    .line 17039
    :cond_d
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v5, v6, :cond_10

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v5, v6, :cond_e

    goto :goto_4

    :cond_e
    if-eqz v3, :cond_f

    .line 17055
    iget v2, v3, Lorg/telegram/messenger/MediaController$CropState;->cropScale:F

    goto :goto_3

    :cond_f
    const/high16 v2, 0x3f800000    # 1.0f

    :goto_3
    sub-float v3, v2, v16

    mul-float v3, v3, v18

    add-float v3, v3, v16

    div-float v17, v17, v11

    div-float v17, v17, v3

    mul-float v2, v2, v17

    goto :goto_7

    .line 17040
    :cond_10
    :goto_4
    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getTrueCropScale()F

    move-result v3

    sub-float v3, v3, v16

    mul-float v3, v3, v18

    add-float v3, v3, v16

    .line 17041
    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getScale()F

    move-result v5

    div-float/2addr v5, v3

    div-float/2addr v2, v8

    mul-float v3, v2, v4

    cmpl-float v3, v3, v7

    if-lez v3, :cond_11

    div-float v2, v7, v4

    :cond_11
    div-float/2addr v2, v11

    mul-float v5, v5, v2

    .line 17047
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v3, 0x1

    if-ne v2, v3, :cond_14

    .line 17048
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v3, 0x3

    if-eq v2, v3, :cond_13

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-ne v2, v3, :cond_12

    goto :goto_5

    :cond_12
    if-nez v2, :cond_14

    .line 17051
    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getMinScale()F

    move-result v2

    goto :goto_6

    .line 17049
    :cond_13
    :goto_5
    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getMinScale()F

    move-result v2

    sub-float v2, v2, v16

    mul-float v2, v2, v18

    add-float v2, v2, v16

    :goto_6
    div-float/2addr v5, v2

    :cond_14
    move v2, v5

    .line 17060
    :goto_7
    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropAreaX()F

    move-result v3

    mul-float v3, v3, v13

    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropAreaY()F

    move-result v5

    mul-float v5, v5, v13

    invoke-virtual {v1, v3, v5}, Landroid/graphics/Canvas;->translate(FF)V

    .line 17061
    invoke-virtual {v1, v2, v2}, Landroid/graphics/Canvas;->scale(FF)V

    .line 17062
    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPx()F

    move-result v2

    mul-float v2, v2, v8

    mul-float v2, v2, v11

    mul-float v2, v2, v13

    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPy()F

    move-result v3

    mul-float v3, v3, v4

    mul-float v3, v3, v11

    mul-float v3, v3, v13

    invoke-virtual {v1, v2, v3}, Landroid/graphics/Canvas;->translate(FF)V

    .line 17063
    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getRotation()F

    move-result v2

    move/from16 v3, v20

    int-to-float v3, v3

    add-float/2addr v2, v3

    const/high16 v3, 0x43340000    # 180.0f

    cmpl-float v3, v2, v3

    if-lez v3, :cond_15

    const/high16 v3, 0x43b40000    # 360.0f

    sub-float/2addr v2, v3

    .line 17067
    :cond_15
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v4, 0x1

    if-ne v3, v4, :cond_17

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v4, 0x3

    if-eq v3, v4, :cond_16

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-ne v3, v4, :cond_17

    .line 17068
    :cond_16
    invoke-virtual {v1, v2}, Landroid/graphics/Canvas;->rotate(F)V

    goto :goto_8

    :cond_17
    mul-float v2, v2, v13

    .line 17070
    invoke-virtual {v1, v2}, Landroid/graphics/Canvas;->rotate(F)V

    .line 17073
    :cond_18
    :goto_8
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->tempInt:[I

    const/4 v2, 0x0

    aput p4, v1, v2

    const/4 v2, 0x1

    .line 17074
    aput v19, v1, v2

    return-object v1
.end method

.method private applyCurrentEditMode()V
    .locals 44

    move-object/from16 v7, p0

    .line 9345
    iget v0, v7, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz v0, :cond_49

    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt v0, v1, :cond_0

    goto/16 :goto_27

    .line 9348
    :cond_0
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    .line 9349
    instance-of v0, v0, Lorg/telegram/messenger/MediaController$MediaEditState;

    if-nez v0, :cond_1

    return-void

    :cond_1
    const/4 v8, 0x1

    new-array v0, v8, [Landroid/graphics/Bitmap;

    .line 9359
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v2, v7, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v1, v2}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    move-object v9, v1

    check-cast v9, Lorg/telegram/messenger/MediaController$MediaEditState;

    .line 9360
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/high16 v2, 0x447a0000    # 1000.0f

    const/4 v10, 0x3

    const/high16 v3, 0x44000000    # 512.0f

    const/4 v11, 0x2

    const/4 v12, 0x0

    const/4 v13, 0x0

    if-eq v1, v8, :cond_7

    if-nez v1, :cond_2

    iget v4, v7, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v4, v8, :cond_2

    goto/16 :goto_1

    :cond_2
    if-ne v1, v11, :cond_3

    .line 9381
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/PhotoFilterView;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v1

    .line 9382
    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/PhotoFilterView;->getSavedFilterState()Lorg/telegram/messenger/MediaController$SavedFilterState;

    move-result-object v4

    move-object v6, v1

    move-object v5, v4

    move-object v1, v12

    move-object v4, v1

    move-object v15, v4

    goto/16 :goto_5

    :cond_3
    if-ne v1, v10, :cond_6

    .line 9384
    sget v1, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v4, 0x12

    if-lt v1, v4, :cond_5

    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eqz v1, :cond_4

    if-eq v1, v8, :cond_4

    if-ne v1, v11, :cond_5

    .line 9385
    :cond_4
    new-instance v1, Ljava/util/ArrayList;

    invoke-direct {v1}, Ljava/util/ArrayList;-><init>()V

    goto :goto_0

    :cond_5
    move-object v1, v12

    .line 9387
    :goto_0
    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->hasChanges()Z

    move-result v4

    .line 9388
    iget-object v5, v7, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v5, v1, v0}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getBitmap(Ljava/util/ArrayList;[Landroid/graphics/Bitmap;)Landroid/graphics/Bitmap;

    move-result-object v5

    .line 9389
    iget-object v6, v7, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v6}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getMasks()Ljava/util/List;

    move-result-object v6

    .line 9391
    iget-object v14, v7, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v14}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->onCleanupEntities()V

    move/from16 v22, v4

    move-object v15, v6

    move-object v4, v1

    move-object v6, v5

    move-object v1, v12

    move-object v5, v1

    goto/16 :goto_6

    :cond_6
    move-object v1, v12

    move-object v4, v1

    move-object v5, v4

    move-object v6, v5

    move-object v15, v6

    goto/16 :goto_5

    .line 9361
    :cond_7
    :goto_1
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v1, v9}, Lorg/telegram/ui/Components/PhotoCropView;->makeCrop(Lorg/telegram/messenger/MediaController$MediaEditState;)V

    .line 9362
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-nez v1, :cond_8

    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v1, v8, :cond_8

    return-void

    .line 9365
    :cond_8
    iget-boolean v1, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v1, :cond_b

    .line 9366
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->filterPath:Ljava/lang/String;

    invoke-static {v1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v1

    if-nez v1, :cond_9

    .line 9367
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->filterPath:Ljava/lang/String;

    invoke-static {v1, v12, v3, v3, v8}, Lorg/telegram/messenger/ImageLoader;->loadBitmap(Ljava/lang/String;Landroid/net/Uri;FFZ)Landroid/graphics/Bitmap;

    move-result-object v1

    :goto_2
    move-object v6, v1

    move-object v1, v12

    move-object v4, v1

    goto :goto_4

    .line 9369
    :cond_9
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v1, v8, :cond_a

    new-array v1, v8, [I

    .line 9371
    invoke-virtual {v9}, Lorg/telegram/messenger/MediaController$MediaEditState;->getPath()Ljava/lang/String;

    move-result-object v4

    iget-wide v5, v7, Lorg/telegram/ui/PhotoViewer;->avatarStartTime:J

    const-wide/16 v14, 0x3e8

    div-long/2addr v5, v14

    invoke-static {v4, v5, v6, v1, v8}, Lorg/telegram/messenger/SendMessagesHelper;->createVideoThumbnailAtTime(Ljava/lang/String;J[IZ)Landroid/graphics/Bitmap;

    move-result-object v4

    move-object v6, v4

    goto :goto_3

    .line 9373
    :cond_a
    invoke-virtual {v9}, Lorg/telegram/messenger/MediaController$MediaEditState;->getPath()Ljava/lang/String;

    move-result-object v1

    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v4

    iget-object v5, v7, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v5}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v5

    long-to-float v5, v5

    mul-float v4, v4, v5

    mul-float v4, v4, v2

    float-to-long v4, v4

    invoke-static {v1, v4, v5}, Lorg/telegram/messenger/SendMessagesHelper;->createVideoThumbnailAtTime(Ljava/lang/String;J)Landroid/graphics/Bitmap;

    move-result-object v1

    goto :goto_2

    .line 9377
    :cond_b
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v1

    new-array v4, v11, [I

    .line 9378
    iget-object v5, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v5}, Lorg/telegram/messenger/ImageReceiver;->getOrientation()I

    move-result v5

    aput v5, v4, v13

    iget-object v5, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v5}, Lorg/telegram/messenger/ImageReceiver;->getInvert()I

    move-result v5

    aput v5, v4, v8

    move-object v6, v1

    move-object v1, v4

    :goto_3
    move-object v4, v12

    :goto_4
    move-object v5, v4

    move-object v15, v5

    :goto_5
    const/16 v22, 0x0

    :goto_6
    if-nez v6, :cond_c

    return-void

    .line 9397
    :cond_c
    iget-object v14, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->thumbPath:Ljava/lang/String;

    if-eqz v14, :cond_d

    .line 9398
    new-instance v14, Ljava/io/File;

    iget-object v3, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->thumbPath:Ljava/lang/String;

    invoke-direct {v14, v3}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    invoke-virtual {v14}, Ljava/io/File;->delete()Z

    .line 9399
    iput-object v12, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->thumbPath:Ljava/lang/String;

    .line 9401
    :cond_d
    iget-object v3, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    if-eqz v3, :cond_e

    .line 9402
    new-instance v3, Ljava/io/File;

    iget-object v14, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    invoke-direct {v3, v14}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    invoke-virtual {v3}, Ljava/io/File;->delete()Z

    .line 9403
    iput-object v12, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    .line 9406
    :cond_e
    iget v3, v7, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const-string v14, "_temp.jpg"

    const/4 v10, 0x4

    if-eq v3, v8, :cond_35

    if-nez v3, :cond_f

    iget v2, v7, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v8, :cond_f

    goto/16 :goto_1d

    :cond_f
    if-ne v3, v11, :cond_1a

    .line 9448
    iget-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->filterPath:Ljava/lang/String;

    if-eqz v0, :cond_10

    .line 9449
    new-instance v0, Ljava/io/File;

    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->filterPath:Ljava/lang/String;

    invoke-direct {v0, v1}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    invoke-virtual {v0}, Ljava/io/File;->delete()Z

    .line 9451
    :cond_10
    sget-object v15, Landroid/graphics/Bitmap$CompressFormat;->JPEG:Landroid/graphics/Bitmap$CompressFormat;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v0

    int-to-float v0, v0

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v1

    int-to-float v1, v1

    const/16 v18, 0x57

    const/16 v19, 0x0

    const/16 v20, 0x65

    const/16 v21, 0x65

    move-object v4, v14

    move-object v14, v6

    move/from16 v16, v0

    move/from16 v17, v1

    invoke-static/range {v14 .. v21}, Lorg/telegram/messenger/ImageLoader;->scaleAndSaveImage(Landroid/graphics/Bitmap;Landroid/graphics/Bitmap$CompressFormat;FFIZII)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v0

    .line 9452
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    invoke-virtual {v1, v0, v8}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v0

    invoke-virtual {v0}, Ljava/io/File;->toString()Ljava/lang/String;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->filterPath:Ljava/lang/String;

    .line 9453
    iget-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v0, :cond_11

    invoke-direct {v7, v6, v0, v12, v8}, Lorg/telegram/ui/PhotoViewer;->createCroppedBitmap(Landroid/graphics/Bitmap;Lorg/telegram/messenger/MediaController$CropState;[IZ)Landroid/graphics/Bitmap;

    move-result-object v0

    move-object/from16 v23, v0

    goto :goto_7

    :cond_11
    move-object/from16 v23, v6

    .line 9454
    :goto_7
    iget-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->paintPath:Ljava/lang/String;

    if-nez v0, :cond_13

    .line 9455
    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v0, :cond_12

    .line 9456
    sget-object v15, Landroid/graphics/Bitmap$CompressFormat;->JPEG:Landroid/graphics/Bitmap$CompressFormat;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v0

    int-to-float v0, v0

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v1

    int-to-float v1, v1

    const/16 v18, 0x57

    const/16 v19, 0x0

    const/16 v20, 0x65

    const/16 v21, 0x65

    move-object/from16 v14, v23

    move/from16 v16, v0

    move/from16 v17, v1

    invoke-static/range {v14 .. v21}, Lorg/telegram/messenger/ImageLoader;->scaleAndSaveImage(Landroid/graphics/Bitmap;Landroid/graphics/Bitmap$CompressFormat;FFIZII)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v0

    .line 9457
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    invoke-virtual {v1, v0, v8}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v0

    invoke-virtual {v0}, Ljava/io/File;->toString()Ljava/lang/String;

    move-result-object v0

    iput-object v0, v7, Lorg/telegram/ui/PhotoViewer;->currentImagePath:Ljava/lang/String;

    iput-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    .line 9459
    :cond_12
    sget-object v15, Landroid/graphics/Bitmap$CompressFormat;->JPEG:Landroid/graphics/Bitmap$CompressFormat;

    const/high16 v16, 0x44000000    # 512.0f

    const/high16 v17, 0x44000000    # 512.0f

    const/16 v18, 0x53

    const/16 v19, 0x0

    const/16 v20, 0x65

    const/16 v21, 0x65

    move-object/from16 v14, v23

    invoke-static/range {v14 .. v21}, Lorg/telegram/messenger/ImageLoader;->scaleAndSaveImage(Landroid/graphics/Bitmap;Landroid/graphics/Bitmap$CompressFormat;FFIZII)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v0

    .line 9460
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    invoke-virtual {v1, v0, v8}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v0

    invoke-virtual {v0}, Ljava/io/File;->toString()Ljava/lang/String;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->thumbPath:Ljava/lang/String;

    move-object/from16 v26, v5

    move-object v14, v6

    goto/16 :goto_d

    .line 9462
    :cond_13
    iget-object v3, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->fullPaintPath:Ljava/lang/String;

    .line 9463
    invoke-virtual {v0, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-eqz v0, :cond_14

    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PaintingOverlay;->getThumb()Landroid/graphics/Bitmap;

    move-result-object v0

    goto :goto_8

    :cond_14
    move-object v0, v12

    .line 9466
    :goto_8
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v1, :cond_16

    if-nez v0, :cond_15

    .line 9468
    iget-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->fullPaintPath:Ljava/lang/String;

    invoke-static {v0}, Landroid/graphics/BitmapFactory;->decodeFile(Ljava/lang/String;)Landroid/graphics/Bitmap;

    move-result-object v0

    .line 9469
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    invoke-direct {v7, v0, v1, v12, v13}, Lorg/telegram/ui/PhotoViewer;->createCroppedBitmap(Landroid/graphics/Bitmap;Lorg/telegram/messenger/MediaController$CropState;[IZ)Landroid/graphics/Bitmap;

    move-result-object v1

    .line 9470
    invoke-virtual {v0}, Landroid/graphics/Bitmap;->recycle()V

    move-object v0, v1

    goto :goto_9

    .line 9472
    :cond_15
    invoke-direct {v7, v0, v1, v12, v13}, Lorg/telegram/ui/PhotoViewer;->createCroppedBitmap(Landroid/graphics/Bitmap;Lorg/telegram/messenger/MediaController$CropState;[IZ)Landroid/graphics/Bitmap;

    move-result-object v0

    :goto_9
    move-object/from16 v24, v0

    const/16 v25, 0x1

    goto :goto_a

    :cond_16
    move-object/from16 v24, v0

    const/16 v25, 0x0

    .line 9479
    :goto_a
    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v0, :cond_18

    .line 9480
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->hasAnimatedMediaEntities()Z

    move-result v0

    if-eqz v0, :cond_17

    .line 9481
    sget-object v15, Landroid/graphics/Bitmap$CompressFormat;->JPEG:Landroid/graphics/Bitmap$CompressFormat;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v0

    int-to-float v0, v0

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v1

    int-to-float v1, v1

    const/16 v18, 0x57

    const/16 v19, 0x0

    const/16 v20, 0x65

    const/16 v21, 0x65

    move-object/from16 v14, v23

    move/from16 v16, v0

    move/from16 v17, v1

    invoke-static/range {v14 .. v21}, Lorg/telegram/messenger/ImageLoader;->scaleAndSaveImage(Landroid/graphics/Bitmap;Landroid/graphics/Bitmap$CompressFormat;FFIZII)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v0

    .line 9482
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    invoke-virtual {v1, v0, v8}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v0

    invoke-virtual {v0}, Ljava/io/File;->toString()Ljava/lang/String;

    move-result-object v0

    iput-object v0, v7, Lorg/telegram/ui/PhotoViewer;->currentImagePath:Ljava/lang/String;

    iput-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    goto :goto_b

    .line 9484
    :cond_17
    new-instance v0, Ljava/io/File;

    invoke-static {v10}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v1

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {}, Lorg/telegram/messenger/SharedConfig;->getLastLocalId()I

    move-result v14

    invoke-virtual {v2, v14}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-direct {v0, v1, v2}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 9485
    invoke-virtual {v0}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;

    move-result-object v1

    iput-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v0

    int-to-float v14, v0

    const/4 v15, 0x1

    move-object/from16 v0, p0

    move-object v2, v3

    move-object/from16 v16, v3

    move-object/from16 v3, v24

    move-object v11, v4

    move-object/from16 v4, v23

    move-object/from16 v26, v5

    move v5, v14

    move-object v14, v6

    move v6, v15

    invoke-direct/range {v0 .. v6}, Lorg/telegram/ui/PhotoViewer;->mergeImages(Ljava/lang/String;Ljava/lang/String;Landroid/graphics/Bitmap;Landroid/graphics/Bitmap;FZ)V

    goto :goto_c

    :cond_18
    :goto_b
    move-object/from16 v16, v3

    move-object v11, v4

    move-object/from16 v26, v5

    move-object v14, v6

    .line 9488
    :goto_c
    new-instance v0, Ljava/io/File;

    invoke-static {v10}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v1

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {}, Lorg/telegram/messenger/SharedConfig;->getLastLocalId()I

    move-result v3

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v2, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-direct {v0, v1, v2}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 9489
    invoke-virtual {v0}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;

    move-result-object v1

    iput-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->thumbPath:Ljava/lang/String;

    const/high16 v5, 0x44000000    # 512.0f

    const/4 v6, 0x1

    move-object/from16 v0, p0

    move-object/from16 v2, v16

    move-object/from16 v3, v24

    move-object/from16 v4, v23

    invoke-direct/range {v0 .. v6}, Lorg/telegram/ui/PhotoViewer;->mergeImages(Ljava/lang/String;Ljava/lang/String;Landroid/graphics/Bitmap;Landroid/graphics/Bitmap;FZ)V

    if-eqz v25, :cond_19

    .line 9491
    invoke-virtual/range {v24 .. v24}, Landroid/graphics/Bitmap;->recycle()V

    .line 9494
    :cond_19
    :goto_d
    iget-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v0, :cond_34

    .line 9495
    invoke-virtual/range {v23 .. v23}, Landroid/graphics/Bitmap;->recycle()V

    goto/16 :goto_1c

    :cond_1a
    move-object/from16 v26, v5

    move-object v11, v14

    const/4 v1, 0x3

    move-object v14, v6

    if-ne v3, v1, :cond_34

    .line 9498
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->paintPath:Ljava/lang/String;

    if-eqz v1, :cond_1b

    .line 9499
    new-instance v1, Ljava/io/File;

    iget-object v2, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->paintPath:Ljava/lang/String;

    invoke-direct {v1, v2}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    invoke-virtual {v1}, Ljava/io/File;->delete()Z

    .line 9500
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->paintPath:Ljava/lang/String;

    iget-object v2, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->fullPaintPath:Ljava/lang/String;

    invoke-virtual {v1, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v1

    if-nez v1, :cond_1b

    .line 9501
    new-instance v1, Ljava/io/File;

    iget-object v2, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->fullPaintPath:Ljava/lang/String;

    invoke-direct {v1, v2}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    invoke-virtual {v1}, Ljava/io/File;->delete()Z

    .line 9504
    :cond_1b
    sget-object v1, Landroid/graphics/Bitmap$CompressFormat;->PNG:Landroid/graphics/Bitmap$CompressFormat;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v2

    int-to-float v2, v2

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v3

    int-to-float v3, v3

    const/16 v18, 0x57

    const/16 v19, 0x0

    const/16 v20, 0x65

    const/16 v21, 0x65

    move-object v6, v14

    move-object v5, v15

    move-object v15, v1

    move/from16 v16, v2

    move/from16 v17, v3

    invoke-static/range {v14 .. v21}, Lorg/telegram/messenger/ImageLoader;->scaleAndSaveImage(Landroid/graphics/Bitmap;Landroid/graphics/Bitmap$CompressFormat;FFIZII)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v1

    if-eqz v5, :cond_1c

    .line 9506
    new-instance v2, Ljava/util/ArrayList;

    invoke-direct {v2, v5}, Ljava/util/ArrayList;-><init>(Ljava/util/Collection;)V

    goto :goto_e

    :cond_1c
    move-object v2, v12

    :goto_e
    iput-object v2, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->stickers:Ljava/util/ArrayList;

    .line 9507
    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget v3, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v3}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v3

    invoke-virtual {v3, v1, v8}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v1

    invoke-virtual {v1}, Ljava/io/File;->toString()Ljava/lang/String;

    move-result-object v1

    iput-object v1, v2, Lorg/telegram/ui/PhotoViewer$EditState;->paintPath:Ljava/lang/String;

    iput-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->paintPath:Ljava/lang/String;

    .line 9508
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    if-eqz v4, :cond_1d

    invoke-virtual {v4}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v3

    if-eqz v3, :cond_1e

    :cond_1d
    move-object v4, v12

    :cond_1e
    iput-object v4, v2, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    iput-object v4, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->mediaEntities:Ljava/util/ArrayList;

    iget-boolean v2, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    invoke-virtual {v1, v4, v2, v8}, Lorg/telegram/ui/Components/PaintingOverlay;->setEntities(Ljava/util/ArrayList;ZZ)V

    .line 9509
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getLcm()J

    move-result-wide v2

    iput-wide v2, v1, Lorg/telegram/ui/PhotoViewer$EditState;->averageDuration:J

    iput-wide v2, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->averageDuration:J

    .line 9510
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->mediaEntities:Ljava/util/ArrayList;

    if-eqz v1, :cond_1f

    aget-object v1, v0, v13

    if-eqz v1, :cond_1f

    .line 9511
    aget-object v14, v0, v13

    sget-object v15, Landroid/graphics/Bitmap$CompressFormat;->PNG:Landroid/graphics/Bitmap$CompressFormat;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v1

    int-to-float v1, v1

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v2

    int-to-float v2, v2

    const/16 v18, 0x57

    const/16 v19, 0x0

    const/16 v20, 0x65

    const/16 v21, 0x65

    move/from16 v16, v1

    move/from16 v17, v2

    invoke-static/range {v14 .. v21}, Lorg/telegram/messenger/ImageLoader;->scaleAndSaveImage(Landroid/graphics/Bitmap;Landroid/graphics/Bitmap$CompressFormat;FFIZII)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v1

    .line 9512
    iget v2, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    invoke-virtual {v2, v1, v8}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v1

    invoke-virtual {v1}, Ljava/io/File;->toString()Ljava/lang/String;

    move-result-object v1

    iput-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->fullPaintPath:Ljava/lang/String;

    goto :goto_f

    .line 9514
    :cond_1f
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->paintPath:Ljava/lang/String;

    iput-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->fullPaintPath:Ljava/lang/String;

    .line 9516
    :goto_f
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v1, v6}, Lorg/telegram/ui/Components/PaintingOverlay;->setBitmap(Landroid/graphics/Bitmap;)V

    .line 9518
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v1, :cond_24

    iget-boolean v1, v1, Lorg/telegram/messenger/MediaController$CropState;->initied:Z

    if-eqz v1, :cond_24

    .line 9519
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v1, v1, Lorg/telegram/ui/PhotoViewer$EditState;->paintPath:Ljava/lang/String;

    invoke-static {v1}, Lorg/telegram/ui/Components/Crop/CropView;->getCopy(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v1

    .line 9520
    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    if-eqz v2, :cond_20

    .line 9521
    new-instance v2, Ljava/io/File;

    iget-object v3, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v3, v3, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    invoke-direct {v2, v3}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    invoke-virtual {v2}, Ljava/io/File;->delete()Z

    .line 9522
    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iput-object v12, v2, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    .line 9524
    :cond_20
    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iput-object v1, v2, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    .line 9525
    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    if-eqz v2, :cond_21

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-nez v2, :cond_21

    .line 9526
    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    new-instance v3, Ljava/util/ArrayList;

    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v4, v4, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    invoke-virtual {v4}, Ljava/util/ArrayList;->size()I

    move-result v4

    invoke-direct {v3, v4}, Ljava/util/ArrayList;-><init>(I)V

    iput-object v3, v2, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    .line 9527
    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    const/4 v3, 0x0

    :goto_10
    if-ge v3, v2, :cond_22

    .line 9528
    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v5, v4, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    iget-object v4, v4, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    invoke-virtual {v4, v3}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;

    invoke-virtual {v4}, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;->copy()Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;

    move-result-object v4

    invoke-virtual {v5, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    add-int/lit8 v3, v3, 0x1

    goto :goto_10

    .line 9531
    :cond_21
    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iput-object v12, v2, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    .line 9533
    :cond_22
    iget-object v2, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iget v3, v2, Lorg/telegram/messenger/MediaController$CropState;->width:I

    iget v2, v2, Lorg/telegram/messenger/MediaController$CropState;->height:I

    sget-object v4, Landroid/graphics/Bitmap$Config;->ARGB_8888:Landroid/graphics/Bitmap$Config;

    invoke-static {v3, v2, v4}, Landroid/graphics/Bitmap;->createBitmap(IILandroid/graphics/Bitmap$Config;)Landroid/graphics/Bitmap;

    move-result-object v2

    .line 9534
    new-instance v3, Landroid/graphics/Canvas;

    invoke-direct {v3, v2}, Landroid/graphics/Canvas;-><init>(Landroid/graphics/Bitmap;)V

    .line 9536
    iget-boolean v4, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v4, :cond_23

    .line 9537
    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    check-cast v4, Lorg/telegram/ui/Components/VideoEditTextureView;

    .line 9538
    invoke-virtual {v4}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoWidth()I

    move-result v5

    .line 9539
    invoke-virtual {v4}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoHeight()I

    move-result v4

    move/from16 v35, v4

    move/from16 v34, v5

    goto :goto_11

    .line 9541
    :cond_23
    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v4}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v4

    .line 9542
    iget-object v5, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v5}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v5

    move/from16 v34, v4

    move/from16 v35, v5

    .line 9544
    :goto_11
    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const/16 v29, 0x0

    sget-object v32, Landroid/graphics/Bitmap$CompressFormat;->PNG:Landroid/graphics/Bitmap$CompressFormat;

    iget-object v5, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iget-object v14, v5, Lorg/telegram/messenger/MediaController$CropState;->matrix:Landroid/graphics/Matrix;

    iget v15, v5, Lorg/telegram/messenger/MediaController$CropState;->stateScale:F

    iget v10, v5, Lorg/telegram/messenger/MediaController$CropState;->cropRotate:F

    iget v8, v5, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    int-to-float v8, v8

    iget v5, v5, Lorg/telegram/messenger/MediaController$CropState;->scale:F

    const/16 v40, 0x0

    iget-object v12, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v12, v12, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    const/16 v42, 0x0

    move-object/from16 v27, v4

    move-object/from16 v28, v1

    move-object/from16 v30, v3

    move-object/from16 v31, v2

    move-object/from16 v33, v14

    move/from16 v36, v15

    move/from16 v37, v10

    move/from16 v38, v8

    move/from16 v39, v5

    move-object/from16 v41, v12

    invoke-static/range {v27 .. v42}, Lorg/telegram/ui/Components/Crop/CropView;->editBitmap(Landroid/content/Context;Ljava/lang/String;Landroid/graphics/Bitmap;Landroid/graphics/Canvas;Landroid/graphics/Bitmap;Landroid/graphics/Bitmap$CompressFormat;Landroid/graphics/Matrix;IIFFFFZLjava/util/ArrayList;Z)V

    .line 9545
    invoke-virtual {v2}, Landroid/graphics/Bitmap;->recycle()V

    .line 9547
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    iput-object v2, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->croppedPaintPath:Ljava/lang/String;

    .line 9548
    iget-object v1, v1, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    iput-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->croppedMediaEntities:Ljava/util/ArrayList;

    .line 9552
    :cond_24
    aget-object v1, v0, v13

    if-eqz v1, :cond_25

    aget-object v0, v0, v13

    goto :goto_12

    :cond_25
    move-object v0, v6

    .line 9554
    :goto_12
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v1, :cond_26

    iget-boolean v2, v1, Lorg/telegram/messenger/MediaController$CropState;->initied:Z

    if-eqz v2, :cond_26

    const/4 v2, 0x0

    .line 9555
    invoke-direct {v7, v0, v1, v2, v13}, Lorg/telegram/ui/PhotoViewer;->createCroppedBitmap(Landroid/graphics/Bitmap;Lorg/telegram/messenger/MediaController$CropState;[IZ)Landroid/graphics/Bitmap;

    move-result-object v0

    move-object v8, v0

    const/4 v10, 0x1

    goto :goto_13

    :cond_26
    move-object v8, v0

    const/4 v10, 0x0

    .line 9561
    :goto_13
    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    const/high16 v12, 0x3f800000    # 1.0f

    if-eqz v0, :cond_29

    .line 9563
    iget-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->filterPath:Ljava/lang/String;

    if-nez v0, :cond_27

    .line 9564
    invoke-virtual {v9}, Lorg/telegram/messenger/MediaController$MediaEditState;->getPath()Ljava/lang/String;

    move-result-object v0

    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v1

    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v2

    long-to-float v2, v2

    mul-float v1, v1, v2

    const/high16 v2, 0x447a0000    # 1000.0f

    mul-float v1, v1, v2

    float-to-long v1, v1

    invoke-static {v0, v1, v2}, Lorg/telegram/messenger/SendMessagesHelper;->createVideoThumbnailAtTime(Ljava/lang/String;J)Landroid/graphics/Bitmap;

    move-result-object v0

    const/4 v2, 0x0

    const/4 v3, 0x1

    goto :goto_14

    :cond_27
    const/high16 v1, 0x44000000    # 512.0f

    const/4 v2, 0x0

    const/4 v3, 0x1

    .line 9566
    invoke-static {v0, v2, v1, v1, v3}, Lorg/telegram/messenger/ImageLoader;->loadBitmap(Ljava/lang/String;Landroid/net/Uri;FFZ)Landroid/graphics/Bitmap;

    move-result-object v0

    .line 9568
    :goto_14
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v1, :cond_28

    invoke-direct {v7, v0, v1, v2, v3}, Lorg/telegram/ui/PhotoViewer;->createCroppedBitmap(Landroid/graphics/Bitmap;Lorg/telegram/messenger/MediaController$CropState;[IZ)Landroid/graphics/Bitmap;

    move-result-object v1

    goto :goto_15

    :cond_28
    move-object v1, v0

    .line 9569
    :goto_15
    iget-object v2, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v2, :cond_2a

    .line 9570
    invoke-virtual {v0}, Landroid/graphics/Bitmap;->recycle()V

    goto :goto_16

    :cond_29
    const/4 v0, 0x2

    new-array v1, v0, [I

    .line 9574
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getOrientation()I

    move-result v0

    aput v0, v1, v13

    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getInvert()I

    move-result v0

    const/4 v2, 0x1

    aput v0, v1, v2

    .line 9575
    iget-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v0, :cond_2b

    .line 9576
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    iget-object v3, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    invoke-direct {v7, v0, v3, v1, v2}, Lorg/telegram/ui/PhotoViewer;->createCroppedBitmap(Landroid/graphics/Bitmap;Lorg/telegram/messenger/MediaController$CropState;[IZ)Landroid/graphics/Bitmap;

    move-result-object v1

    :cond_2a
    :goto_16
    move-object v14, v1

    const/4 v15, 0x1

    goto :goto_18

    .line 9579
    :cond_2b
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v27

    .line 9580
    aget v0, v1, v13

    if-eqz v0, :cond_2e

    .line 9581
    new-instance v0, Landroid/graphics/Matrix;

    invoke-direct {v0}, Landroid/graphics/Matrix;-><init>()V

    .line 9582
    aget v3, v1, v13

    int-to-float v3, v3

    invoke-virtual {v0, v3}, Landroid/graphics/Matrix;->postRotate(F)Z

    .line 9583
    aget v3, v1, v2

    const/high16 v4, -0x40800000    # -1.0f

    if-ne v3, v2, :cond_2c

    .line 9584
    invoke-virtual {v0, v4, v12}, Landroid/graphics/Matrix;->postScale(FF)Z

    goto :goto_17

    .line 9585
    :cond_2c
    aget v1, v1, v2

    const/4 v2, 0x2

    if-ne v1, v2, :cond_2d

    .line 9586
    invoke-virtual {v0, v12, v4}, Landroid/graphics/Matrix;->postScale(FF)Z

    :cond_2d
    :goto_17
    const/16 v28, 0x0

    const/16 v29, 0x0

    .line 9588
    invoke-virtual/range {v27 .. v27}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v30

    invoke-virtual/range {v27 .. v27}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v31

    const/16 v33, 0x1

    move-object/from16 v32, v0

    invoke-static/range {v27 .. v33}, Lorg/telegram/messenger/Bitmaps;->createBitmap(Landroid/graphics/Bitmap;IIIILandroid/graphics/Matrix;Z)Landroid/graphics/Bitmap;

    move-result-object v1

    goto :goto_16

    :cond_2e
    move-object/from16 v14, v27

    const/4 v15, 0x0

    .line 9595
    :goto_18
    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v0, :cond_30

    .line 9596
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->hasAnimatedMediaEntities()Z

    move-result v0

    if-eqz v0, :cond_2f

    .line 9597
    sget-object v28, Landroid/graphics/Bitmap$CompressFormat;->JPEG:Landroid/graphics/Bitmap$CompressFormat;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v0

    int-to-float v0, v0

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v1

    int-to-float v1, v1

    const/16 v31, 0x57

    const/16 v32, 0x0

    const/16 v33, 0x65

    const/16 v34, 0x65

    move-object/from16 v27, v14

    move/from16 v29, v0

    move/from16 v30, v1

    invoke-static/range {v27 .. v34}, Lorg/telegram/messenger/ImageLoader;->scaleAndSaveImage(Landroid/graphics/Bitmap;Landroid/graphics/Bitmap$CompressFormat;FFIZII)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v0

    .line 9598
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    const/4 v2, 0x1

    invoke-virtual {v1, v0, v2}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v0

    invoke-virtual {v0}, Ljava/io/File;->toString()Ljava/lang/String;

    move-result-object v0

    iput-object v0, v7, Lorg/telegram/ui/PhotoViewer;->currentImagePath:Ljava/lang/String;

    iput-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    goto :goto_19

    .line 9600
    :cond_2f
    new-instance v0, Ljava/io/File;

    const/4 v1, 0x4

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v2

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {}, Lorg/telegram/messenger/SharedConfig;->getLastLocalId()I

    move-result v3

    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v1, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-direct {v0, v2, v1}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 9601
    invoke-virtual {v0}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;

    move-result-object v1

    iput-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    const/4 v2, 0x0

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v0

    int-to-float v5, v0

    const/16 v19, 0x0

    move-object/from16 v0, p0

    move-object v3, v14

    move-object v4, v8

    move-object/from16 v43, v6

    move/from16 v6, v19

    invoke-direct/range {v0 .. v6}, Lorg/telegram/ui/PhotoViewer;->mergeImages(Ljava/lang/String;Ljava/lang/String;Landroid/graphics/Bitmap;Landroid/graphics/Bitmap;FZ)V

    goto :goto_1a

    :cond_30
    :goto_19
    move-object/from16 v43, v6

    .line 9604
    :goto_1a
    new-instance v0, Ljava/io/File;

    const/4 v1, 0x4

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v2

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {}, Lorg/telegram/messenger/SharedConfig;->getLastLocalId()I

    move-result v3

    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v1, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-direct {v0, v2, v1}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 9605
    invoke-virtual {v0}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;

    move-result-object v1

    iput-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->thumbPath:Ljava/lang/String;

    const/4 v2, 0x0

    const/high16 v5, 0x44000000    # 512.0f

    const/4 v6, 0x0

    move-object/from16 v0, p0

    move-object v3, v14

    move-object v4, v8

    invoke-direct/range {v0 .. v6}, Lorg/telegram/ui/PhotoViewer;->mergeImages(Ljava/lang/String;Ljava/lang/String;Landroid/graphics/Bitmap;Landroid/graphics/Bitmap;FZ)V

    if-eqz v10, :cond_31

    if-eqz v8, :cond_31

    .line 9608
    invoke-virtual {v8}, Landroid/graphics/Bitmap;->recycle()V

    :cond_31
    if-eqz v15, :cond_32

    if-eqz v14, :cond_32

    .line 9611
    invoke-virtual {v14}, Landroid/graphics/Bitmap;->recycle()V

    .line 9613
    :cond_32
    iget v0, v7, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v1, 0x1

    if-ne v0, v1, :cond_3c

    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_3c

    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v0, :cond_3c

    invoke-direct {v7, v13}, Lorg/telegram/ui/PhotoViewer;->getAnimatedMediaEntitiesCount(Z)I

    move-result v0

    if-ne v0, v1, :cond_3c

    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v0

    const/4 v1, 0x0

    cmpg-float v0, v0, v1

    if-gtz v0, :cond_3c

    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getRightProgress()F

    move-result v0

    cmpl-float v0, v0, v12

    if-ltz v0, :cond_3c

    .line 9614
    iget-wide v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->averageDuration:J

    .line 9615
    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v2

    :goto_1b
    const-wide/16 v4, 0xbb8

    cmp-long v6, v0, v4

    if-gez v6, :cond_33

    cmp-long v4, v0, v2

    if-gez v4, :cond_33

    .line 9617
    iget-wide v4, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->averageDuration:J

    add-long/2addr v0, v4

    goto :goto_1b

    .line 9619
    :cond_33
    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    long-to-float v0, v0

    long-to-float v1, v2

    div-float/2addr v0, v1

    invoke-static {v12, v0}, Ljava/lang/Math;->min(FF)F

    move-result v0

    invoke-virtual {v4, v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setRightProgress(F)V

    goto/16 :goto_20

    :cond_34
    :goto_1c
    move-object v12, v14

    goto/16 :goto_21

    :cond_35
    :goto_1d
    move-object/from16 v26, v5

    move-object/from16 v43, v6

    move-object v11, v14

    .line 9407
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    .line 9408
    iget-object v3, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->croppedPaintPath:Ljava/lang/String;

    iput-object v3, v0, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    .line 9409
    iget-object v3, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->croppedMediaEntities:Ljava/util/ArrayList;

    iput-object v3, v0, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    if-eqz v2, :cond_3c

    move-object/from16 v12, v43

    const/4 v0, 0x1

    .line 9412
    invoke-direct {v7, v12, v2, v1, v0}, Lorg/telegram/ui/PhotoViewer;->createCroppedBitmap(Landroid/graphics/Bitmap;Lorg/telegram/messenger/MediaController$CropState;[IZ)Landroid/graphics/Bitmap;

    move-result-object v8

    .line 9413
    iget-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->paintPath:Ljava/lang/String;

    if-eqz v0, :cond_39

    .line 9414
    iget-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->fullPaintPath:Ljava/lang/String;

    invoke-static {v0}, Landroid/graphics/BitmapFactory;->decodeFile(Ljava/lang/String;)Landroid/graphics/Bitmap;

    move-result-object v10

    .line 9415
    iget-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    const/4 v1, 0x0

    invoke-direct {v7, v10, v0, v1, v13}, Lorg/telegram/ui/PhotoViewer;->createCroppedBitmap(Landroid/graphics/Bitmap;Lorg/telegram/messenger/MediaController$CropState;[IZ)Landroid/graphics/Bitmap;

    move-result-object v14

    .line 9417
    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v0, :cond_37

    .line 9418
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->hasAnimatedMediaEntities()Z

    move-result v0

    if-eqz v0, :cond_36

    .line 9419
    sget-object v28, Landroid/graphics/Bitmap$CompressFormat;->JPEG:Landroid/graphics/Bitmap$CompressFormat;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v0

    int-to-float v0, v0

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v1

    int-to-float v1, v1

    const/16 v31, 0x57

    const/16 v32, 0x0

    const/16 v33, 0x65

    const/16 v34, 0x65

    move-object/from16 v27, v8

    move/from16 v29, v0

    move/from16 v30, v1

    invoke-static/range {v27 .. v34}, Lorg/telegram/messenger/ImageLoader;->scaleAndSaveImage(Landroid/graphics/Bitmap;Landroid/graphics/Bitmap$CompressFormat;FFIZII)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v0

    .line 9420
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    const/4 v2, 0x1

    invoke-virtual {v1, v0, v2}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v0

    invoke-virtual {v0}, Ljava/io/File;->toString()Ljava/lang/String;

    move-result-object v0

    iput-object v0, v7, Lorg/telegram/ui/PhotoViewer;->currentImagePath:Ljava/lang/String;

    iput-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    goto :goto_1e

    .line 9422
    :cond_36
    new-instance v0, Ljava/io/File;

    const/4 v1, 0x4

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v2

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {}, Lorg/telegram/messenger/SharedConfig;->getLastLocalId()I

    move-result v3

    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v1, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-direct {v0, v2, v1}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 9423
    invoke-virtual {v0}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;

    move-result-object v1

    iput-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    const/4 v2, 0x0

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v0

    int-to-float v5, v0

    const/4 v6, 0x1

    move-object/from16 v0, p0

    move-object v3, v14

    move-object v4, v8

    invoke-direct/range {v0 .. v6}, Lorg/telegram/ui/PhotoViewer;->mergeImages(Ljava/lang/String;Ljava/lang/String;Landroid/graphics/Bitmap;Landroid/graphics/Bitmap;FZ)V

    .line 9426
    :cond_37
    :goto_1e
    new-instance v0, Ljava/io/File;

    const/4 v1, 0x4

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v2

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {}, Lorg/telegram/messenger/SharedConfig;->getLastLocalId()I

    move-result v3

    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v1, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-direct {v0, v2, v1}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 9427
    invoke-virtual {v0}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;

    move-result-object v1

    iput-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->thumbPath:Ljava/lang/String;

    const/4 v2, 0x0

    const/high16 v5, 0x44000000    # 512.0f

    const/4 v6, 0x1

    move-object/from16 v0, p0

    move-object v3, v14

    move-object v4, v8

    invoke-direct/range {v0 .. v6}, Lorg/telegram/ui/PhotoViewer;->mergeImages(Ljava/lang/String;Ljava/lang/String;Landroid/graphics/Bitmap;Landroid/graphics/Bitmap;FZ)V

    if-eqz v14, :cond_38

    .line 9429
    invoke-virtual {v14}, Landroid/graphics/Bitmap;->recycle()V

    :cond_38
    if-eqz v10, :cond_3b

    .line 9432
    invoke-virtual {v10}, Landroid/graphics/Bitmap;->recycle()V

    goto :goto_1f

    .line 9435
    :cond_39
    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v0, :cond_3a

    .line 9436
    sget-object v28, Landroid/graphics/Bitmap$CompressFormat;->JPEG:Landroid/graphics/Bitmap$CompressFormat;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v0

    int-to-float v0, v0

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v1

    int-to-float v1, v1

    const/16 v31, 0x57

    const/16 v32, 0x0

    const/16 v33, 0x65

    const/16 v34, 0x65

    move-object/from16 v27, v8

    move/from16 v29, v0

    move/from16 v30, v1

    invoke-static/range {v27 .. v34}, Lorg/telegram/messenger/ImageLoader;->scaleAndSaveImage(Landroid/graphics/Bitmap;Landroid/graphics/Bitmap$CompressFormat;FFIZII)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v0

    .line 9437
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    const/4 v2, 0x1

    invoke-virtual {v1, v0, v2}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v0

    invoke-virtual {v0}, Ljava/io/File;->toString()Ljava/lang/String;

    move-result-object v0

    iput-object v0, v7, Lorg/telegram/ui/PhotoViewer;->currentImagePath:Ljava/lang/String;

    iput-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    :cond_3a
    const/high16 v28, 0x44000000    # 512.0f

    const/high16 v29, 0x44000000    # 512.0f

    const/16 v30, 0x46

    const/16 v31, 0x0

    const/16 v32, 0x65

    const/16 v33, 0x65

    move-object/from16 v27, v8

    .line 9439
    invoke-static/range {v27 .. v33}, Lorg/telegram/messenger/ImageLoader;->scaleAndSaveImage(Landroid/graphics/Bitmap;FFIZII)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v0

    .line 9440
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    const/4 v2, 0x1

    invoke-virtual {v1, v0, v2}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v0

    invoke-virtual {v0}, Ljava/io/File;->toString()Ljava/lang/String;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->thumbPath:Ljava/lang/String;

    .line 9442
    :cond_3b
    :goto_1f
    iget v0, v7, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v0, :cond_3d

    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v0, :cond_3d

    .line 9443
    invoke-virtual {v12}, Landroid/graphics/Bitmap;->recycle()V

    move-object v6, v8

    goto :goto_22

    :cond_3c
    :goto_20
    move-object/from16 v12, v43

    :cond_3d
    :goto_21
    move-object v6, v12

    .line 9623
    :goto_22
    invoke-static {}, Lorg/telegram/messenger/SharedConfig;->saveConfig()V

    move-object/from16 v12, v26

    if-eqz v12, :cond_3e

    .line 9626
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iput-object v12, v0, Lorg/telegram/ui/PhotoViewer$EditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    iput-object v12, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    .line 9628
    :cond_3e
    iget v0, v7, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v1, 0x1

    if-ne v0, v1, :cond_3f

    .line 9629
    iput-boolean v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->isCropped:Z

    .line 9631
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    new-instance v2, Landroid/graphics/PorterDuffColorFilter;

    sget v3, Lorg/telegram/ui/ActionBar/Theme;->key_chat_editMediaButton:I

    invoke-direct {v7, v3}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v3

    sget-object v4, Landroid/graphics/PorterDuff$Mode;->MULTIPLY:Landroid/graphics/PorterDuff$Mode;

    invoke-direct {v2, v3, v4}, Landroid/graphics/PorterDuffColorFilter;-><init>(ILandroid/graphics/PorterDuff$Mode;)V

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    goto :goto_23

    :cond_3f
    const/4 v2, 0x2

    if-ne v0, v2, :cond_40

    .line 9636
    iput-boolean v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->isFiltered:Z

    .line 9637
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    new-instance v2, Landroid/graphics/PorterDuffColorFilter;

    sget v3, Lorg/telegram/ui/ActionBar/Theme;->key_chat_editMediaButton:I

    invoke-direct {v7, v3}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v3

    sget-object v4, Landroid/graphics/PorterDuff$Mode;->MULTIPLY:Landroid/graphics/PorterDuff$Mode;

    invoke-direct {v2, v3, v4}, Landroid/graphics/PorterDuffColorFilter;-><init>(ILandroid/graphics/PorterDuff$Mode;)V

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    goto :goto_23

    :cond_40
    const/4 v2, 0x3

    if-ne v0, v2, :cond_41

    if-eqz v22, :cond_41

    .line 9640
    iput-boolean v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->isPainted:Z

    .line 9641
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    new-instance v1, Landroid/graphics/PorterDuffColorFilter;

    sget v2, Lorg/telegram/ui/ActionBar/Theme;->key_chat_editMediaButton:I

    invoke-direct {v7, v2}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v2

    sget-object v3, Landroid/graphics/PorterDuff$Mode;->MULTIPLY:Landroid/graphics/PorterDuff$Mode;

    invoke-direct {v1, v2, v3}, Landroid/graphics/PorterDuffColorFilter;-><init>(ILandroid/graphics/PorterDuff$Mode;)V

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 9645
    :cond_41
    :goto_23
    iget v0, v7, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eqz v0, :cond_42

    const/4 v1, 0x4

    if-ne v0, v1, :cond_43

    :cond_42
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v0, :cond_43

    .line 9646
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->updatePhotoAtIndex(I)V

    .line 9647
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->isPhotoChecked(I)Z

    move-result v0

    if-nez v0, :cond_43

    .line 9648
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->setPhotoChecked()V

    .line 9651
    :cond_43
    iget v0, v7, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v1, 0x1

    if-ne v0, v1, :cond_44

    .line 9652
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoCropView;->getRectSizeX()F

    move-result v0

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v1

    int-to-float v1, v1

    div-float/2addr v0, v1

    .line 9653
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/PhotoCropView;->getRectSizeY()F

    move-result v1

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v2

    int-to-float v2, v2

    div-float/2addr v1, v2

    .line 9654
    invoke-static {v0, v1}, Ljava/lang/Math;->max(FF)F

    move-result v0

    iput v0, v7, Lorg/telegram/ui/PhotoViewer;->scale:F

    .line 9655
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoCropView;->getRectX()F

    move-result v0

    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/PhotoCropView;->getRectSizeX()F

    move-result v1

    const/high16 v2, 0x40000000    # 2.0f

    div-float/2addr v1, v2

    add-float/2addr v0, v1

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v1

    const/4 v3, 0x2

    div-int/2addr v1, v3

    int-to-float v1, v1

    sub-float/2addr v0, v1

    iput v0, v7, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 9656
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoCropView;->getRectY()F

    move-result v0

    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/PhotoCropView;->getRectSizeY()F

    move-result v1

    div-float/2addr v1, v2

    add-float/2addr v0, v1

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v1

    div-int/2addr v1, v3

    int-to-float v1, v1

    sub-float/2addr v0, v1

    iput v0, v7, Lorg/telegram/ui/PhotoViewer;->translationY:F

    const/4 v0, 0x1

    .line 9657
    iput-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    .line 9660
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/PhotoCropView;->onDisappear()V

    goto :goto_24

    :cond_44
    const/4 v0, 0x1

    .line 9662
    :goto_24
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    const/4 v2, 0x0

    invoke-virtual {v1, v2}, Lorg/telegram/messenger/ImageReceiver;->setParentView(Landroid/view/View;)V

    .line 9663
    iput-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->ignoreDidSetImage:Z

    .line 9665
    iget-boolean v1, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v1, :cond_47

    .line 9666
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v1, v0, :cond_46

    if-nez v1, :cond_45

    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v1, v0, :cond_45

    goto :goto_25

    :cond_45
    const/4 v3, 0x0

    goto :goto_26

    :cond_46
    :goto_25
    const/4 v3, 0x1

    goto :goto_26

    .line 9668
    :cond_47
    iget v0, v7, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v1, 0x2

    if-ne v0, v1, :cond_45

    goto :goto_25

    :goto_26
    if-eqz v3, :cond_48

    .line 9671
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v6}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/Bitmap;)V

    .line 9672
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    const/4 v1, 0x1

    invoke-virtual {v0, v13, v1}, Lorg/telegram/messenger/ImageReceiver;->setOrientation(IZ)V

    .line 9673
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;->destroy()V

    .line 9674
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;->requestLayout()V

    .line 9676
    :cond_48
    iput-boolean v13, v7, Lorg/telegram/ui/PhotoViewer;->ignoreDidSetImage:Z

    .line 9677
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0, v1}, Lorg/telegram/messenger/ImageReceiver;->setParentView(Landroid/view/View;)V

    :cond_49
    :goto_27
    return-void
.end method

.method private calculateEstimatedVideoSize(ZZ)V
    .locals 6

    if-eqz p1, :cond_1

    if-eqz p2, :cond_0

    const-wide/16 p1, 0x0

    goto :goto_0

    .line 17714
    :cond_0
    iget-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->audioFramesSize:J

    :goto_0
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->videoFramesSize:J

    add-long/2addr p1, v0

    long-to-float p1, p1

    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->estimatedDuration:J

    long-to-float p2, v0

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    div-float/2addr p2, v0

    mul-float p1, p1, p2

    float-to-long p1, p1

    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->estimatedSize:J

    const-wide/32 v0, 0x8000

    .line 17715
    div-long v0, p1, v0

    const-wide/16 v2, 0x10

    mul-long v0, v0, v2

    add-long/2addr p1, v0

    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->estimatedSize:J

    goto :goto_1

    .line 17717
    :cond_1
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->originalSize:J

    long-to-float p1, v0

    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->estimatedDuration:J

    long-to-float v2, v0

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    div-float/2addr v2, v3

    mul-float p1, p1, v2

    float-to-long v4, p1

    iput-wide v4, p0, Lorg/telegram/ui/PhotoViewer;->estimatedSize:J

    if-eqz p2, :cond_2

    .line 17719
    iget-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->audioFramesSize:J

    long-to-float p1, p1

    long-to-float p2, v0

    div-float/2addr p2, v3

    mul-float p1, p1, p2

    float-to-long p1, p1

    sub-long/2addr v4, p1

    iput-wide v4, p0, Lorg/telegram/ui/PhotoViewer;->estimatedSize:J

    :cond_2
    :goto_1
    return-void
.end method

.method private calculateResultVideoSize()Lorg/telegram/messenger/camera/Size;
    .locals 6

    .line 17864
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    const/4 v1, 0x1

    if-ne v0, v1, :cond_0

    .line 17865
    new-instance v0, Lorg/telegram/messenger/camera/Size;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    invoke-direct {v0, v1, v2}, Lorg/telegram/messenger/camera/Size;-><init>(II)V

    return-object v0

    .line 17870
    :cond_0
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    const/4 v2, 0x2

    if-eqz v0, :cond_3

    if-eq v0, v1, :cond_2

    if-eq v0, v2, :cond_1

    const/high16 v0, 0x44f00000    # 1920.0f

    goto :goto_0

    :cond_1
    const/high16 v0, 0x44a00000    # 1280.0f

    goto :goto_0

    :cond_2
    const v0, 0x44558000    # 854.0f

    goto :goto_0

    :cond_3
    const/high16 v0, 0x43f00000    # 480.0f

    .line 17885
    :goto_0
    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    if-le v3, v4, :cond_4

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    goto :goto_1

    :cond_4
    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    :goto_1
    int-to-float v3, v3

    div-float/2addr v0, v3

    .line 17886
    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    sub-int/2addr v4, v1

    if-ne v3, v4, :cond_5

    const/high16 v1, 0x3f800000    # 1.0f

    cmpl-float v1, v0, v1

    if-ltz v1, :cond_5

    .line 17887
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    .line 17888
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    goto :goto_2

    .line 17890
    :cond_5
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    int-to-float v1, v1

    mul-float v1, v1, v0

    const/high16 v3, 0x40000000    # 2.0f

    div-float/2addr v1, v3

    invoke-static {v1}, Ljava/lang/Math;->round(F)I

    move-result v1

    mul-int/lit8 v1, v1, 0x2

    .line 17891
    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    int-to-float v4, v4

    mul-float v4, v4, v0

    div-float/2addr v4, v3

    invoke-static {v4}, Ljava/lang/Math;->round(F)I

    move-result v0

    mul-int/lit8 v0, v0, 0x2

    move v5, v1

    move v1, v0

    move v0, v5

    .line 17893
    :goto_2
    new-instance v2, Lorg/telegram/messenger/camera/Size;

    invoke-direct {v2, v0, v1}, Lorg/telegram/messenger/camera/Size;-><init>(II)V

    return-object v2
.end method

.method private canDoubleTapSeekVideo(Landroid/view/MotionEvent;)Z
    .locals 9

    .line 17415
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    const/4 v1, 0x0

    if-nez v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v0

    if-nez v0, :cond_1

    :cond_0
    return v1

    .line 17418
    :cond_1
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v0

    .line 17419
    invoke-virtual {p1}, Landroid/view/MotionEvent;->getX()F

    move-result p1

    .line 17420
    div-int/lit8 v0, v0, 0x3

    mul-int/lit8 v0, v0, 0x2

    int-to-float v0, v0

    const/4 v2, 0x1

    cmpl-float p1, p1, v0

    if-ltz p1, :cond_2

    const/4 p1, 0x1

    goto :goto_0

    :cond_2
    const/4 p1, 0x0

    .line 17421
    :goto_0
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoPosition()J

    move-result-wide v3

    .line 17422
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getVideoDuration()J

    move-result-wide v5

    const-wide v7, -0x7fffffffffffffffL    # -4.9E-324

    cmp-long v0, v3, v7

    if-eqz v0, :cond_4

    const-wide/16 v7, 0x3a98

    cmp-long v0, v5, v7

    if-lez v0, :cond_4

    if-eqz p1, :cond_3

    sub-long/2addr v5, v3

    const-wide/16 v3, 0x2710

    cmp-long p1, v5, v3

    if-lez p1, :cond_4

    :cond_3
    const/4 v1, 0x1

    :cond_4
    return v1
.end method

.method private canSendMediaToParentChatActivity()Z
    .locals 2

    .line 11901
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v0, :cond_1

    iget-object v1, v0, Lorg/telegram/ui/ChatActivity;->currentUser:Lorg/telegram/tgnet/TLRPC$User;

    if-nez v1, :cond_0

    iget-object v0, v0, Lorg/telegram/ui/ChatActivity;->currentChat:Lorg/telegram/tgnet/TLRPC$Chat;

    if-eqz v0, :cond_1

    invoke-static {v0}, Lorg/telegram/messenger/ChatObject;->isNotInChat(Lorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v0

    if-nez v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    iget-object v0, v0, Lorg/telegram/ui/ChatActivity;->currentChat:Lorg/telegram/tgnet/TLRPC$Chat;

    invoke-static {v0}, Lorg/telegram/messenger/ChatObject;->canSendPhoto(Lorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v0

    if-nez v0, :cond_0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    iget-object v0, v0, Lorg/telegram/ui/ChatActivity;->currentChat:Lorg/telegram/tgnet/TLRPC$Chat;

    invoke-static {v0}, Lorg/telegram/messenger/ChatObject;->canSendVideo(Lorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v0

    if-eqz v0, :cond_1

    :cond_0
    const/4 v0, 0x1

    goto :goto_0

    :cond_1
    const/4 v0, 0x0

    :goto_0
    return v0
.end method

.method private cancelFlashAnimations()V
    .locals 3

    .line 1266
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->flashView:Landroid/view/View;

    const/4 v1, 0x0

    if-eqz v0, :cond_0

    .line 1267
    invoke-virtual {v0}, Landroid/view/View;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    invoke-virtual {v0, v1}, Landroid/view/ViewPropertyAnimator;->setListener(Landroid/animation/Animator$AnimatorListener;)Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    invoke-virtual {v0}, Landroid/view/ViewPropertyAnimator;->cancel()V

    .line 1268
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->flashView:Landroid/view/View;

    const/4 v2, 0x0

    invoke-virtual {v0, v2}, Landroid/view/View;->setAlpha(F)V

    .line 1270
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->flashAnimator:Landroid/animation/AnimatorSet;

    if-eqz v0, :cond_1

    .line 1271
    invoke-virtual {v0}, Landroid/animation/AnimatorSet;->cancel()V

    .line 1272
    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->flashAnimator:Landroid/animation/AnimatorSet;

    .line 1274
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    if-eqz v0, :cond_2

    .line 1275
    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoCropView;->cancelThumbAnimation()V

    :cond_2
    return-void
.end method

.method private cancelMoveZoomAnimation()V
    .locals 7

    .line 16009
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    if-nez v0, :cond_0

    return-void

    .line 16013
    :cond_0
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    sub-float/2addr v2, v1

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    mul-float v2, v2, v3

    add-float/2addr v1, v2

    .line 16014
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    sub-float/2addr v4, v2

    mul-float v4, v4, v3

    add-float/2addr v2, v4

    .line 16015
    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    sub-float/2addr v5, v4

    mul-float v5, v5, v3

    add-float/2addr v4, v5

    .line 16016
    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->rotate:F

    iget v6, p0, Lorg/telegram/ui/PhotoViewer;->animateToRotate:F

    sub-float/2addr v6, v5

    mul-float v6, v6, v3

    add-float/2addr v5, v6

    .line 16017
    invoke-virtual {v0}, Landroid/animation/AnimatorSet;->cancel()V

    .line 16018
    iput v1, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    .line 16019
    iput v2, p0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 16020
    iput v4, p0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    const-wide/16 v2, 0x0

    .line 16021
    iput-wide v2, p0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    .line 16022
    iput v5, p0, Lorg/telegram/ui/PhotoViewer;->rotate:F

    .line 16023
    invoke-direct {p0, v1}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    const/4 v0, 0x0

    .line 16024
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    .line 16025
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    return-void
.end method

.method private cancelVideoPlayRunnable()V
    .locals 1

    .line 1280
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayRunnable:Ljava/lang/Runnable;

    if-eqz v0, :cond_0

    .line 1281
    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    const/4 v0, 0x0

    .line 1282
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayRunnable:Ljava/lang/Runnable;

    :cond_0
    return-void
.end method

.method private captureCurrentFrame()V
    .locals 5

    .line 6977
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->captureFrameAtTime:J

    const-wide/16 v2, -0x1

    cmp-long v4, v0, v2

    if-eqz v4, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-nez v0, :cond_0

    goto :goto_0

    .line 6980
    :cond_0
    iput-wide v2, p0, Lorg/telegram/ui/PhotoViewer;->captureFrameAtTime:J

    .line 6981
    invoke-virtual {v0}, Landroid/view/TextureView;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    .line 6982
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->flashView:Landroid/view/View;

    invoke-virtual {v1}, Landroid/view/View;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object v1

    const/high16 v2, 0x3f800000    # 1.0f

    invoke-virtual {v1, v2}, Landroid/view/ViewPropertyAnimator;->alpha(F)Landroid/view/ViewPropertyAnimator;

    move-result-object v1

    sget-object v2, Lorg/telegram/ui/Components/CubicBezierInterpolator;->EASE_BOTH:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-virtual {v1, v2}, Landroid/view/ViewPropertyAnimator;->setInterpolator(Landroid/animation/TimeInterpolator;)Landroid/view/ViewPropertyAnimator;

    move-result-object v1

    const-wide/16 v2, 0x55

    invoke-virtual {v1, v2, v3}, Landroid/view/ViewPropertyAnimator;->setDuration(J)Landroid/view/ViewPropertyAnimator;

    move-result-object v1

    new-instance v2, Lorg/telegram/ui/PhotoViewer$34;

    invoke-direct {v2, p0, v0}, Lorg/telegram/ui/PhotoViewer$34;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/graphics/Bitmap;)V

    invoke-virtual {v1, v2}, Landroid/view/ViewPropertyAnimator;->setListener(Landroid/animation/Animator$AnimatorListener;)Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    .line 7012
    invoke-virtual {v0}, Landroid/view/ViewPropertyAnimator;->start()V

    :cond_1
    :goto_0
    return-void
.end method

.method private checkAnimation()Z
    .locals 6

    .line 14276
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    const/4 v1, 0x0

    if-eqz v0, :cond_1

    .line 14277
    iget-wide v2, p0, Lorg/telegram/ui/PhotoViewer;->transitionAnimationStartTime:J

    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v4

    sub-long/2addr v2, v4

    invoke-static {v2, v3}, Ljava/lang/Math;->abs(J)J

    move-result-wide v2

    const-wide/16 v4, 0x1f4

    cmp-long v0, v2, v4

    if-ltz v0, :cond_1

    .line 14278
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->animationEndRunnable:Ljava/lang/Runnable;

    if-eqz v0, :cond_0

    .line 14279
    invoke-interface {v0}, Ljava/lang/Runnable;->run()V

    const/4 v0, 0x0

    .line 14280
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->animationEndRunnable:Ljava/lang/Runnable;

    .line 14282
    :cond_0
    iput v1, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    .line 14283
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->invalidateBlur()V

    .line 14286
    :cond_1
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-eqz v0, :cond_2

    const/4 v1, 0x1

    :cond_2
    return v1
.end method

.method private checkBufferedProgress(F)V
    .locals 8

    .line 8221
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isStreaming:Z

    if-eqz v0, :cond_8

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-eqz v0, :cond_8

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->streamingAlertShown:Z

    if-nez v0, :cond_8

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_8

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-nez v0, :cond_0

    goto/16 :goto_2

    .line 8224
    :cond_0
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v0

    if-nez v0, :cond_1

    return-void

    .line 8228
    :cond_1
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->getDuration()D

    move-result-wide v1

    const-wide/high16 v3, 0x4034000000000000L    # 20.0

    cmpg-double v5, v1, v3

    if-gez v5, :cond_2

    return-void

    .line 8232
    :cond_2
    iget-wide v1, v0, Lorg/telegram/tgnet/TLRPC$Document;->size:J

    const-wide v3, 0x80000000L

    const/4 v5, 0x0

    const/4 v6, 0x1

    cmp-long v7, v1, v3

    if-ltz v7, :cond_3

    const/4 v1, 0x1

    goto :goto_0

    :cond_3
    const/4 v1, 0x0

    .line 8233
    :goto_0
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/DownloadController;->getInstance(I)Lorg/telegram/messenger/DownloadController;

    move-result-object v2

    invoke-virtual {v2}, Lorg/telegram/messenger/DownloadController;->getAutodownloadMask()I

    move-result v2

    and-int/lit8 v2, v2, 0x4

    if-eqz v2, :cond_4

    const/4 v5, 0x1

    :cond_4
    if-eqz v5, :cond_8

    const v2, 0x3f666666    # 0.9f

    cmpg-float v2, p1, v2

    if-gez v2, :cond_8

    .line 8234
    iget-wide v2, v0, Lorg/telegram/tgnet/TLRPC$Document;->size:J

    long-to-float v0, v2

    mul-float v0, v0, p1

    const/high16 v4, 0x4aa00000    # 5242880.0f

    cmpl-float v0, v0, v4

    if-gez v0, :cond_5

    const/high16 v0, 0x3f000000    # 0.5f

    cmpl-float p1, p1, v0

    if-ltz p1, :cond_8

    const-wide/32 v4, 0x200000

    cmp-long p1, v2, v4

    if-ltz p1, :cond_8

    :cond_5
    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v2

    iget-wide v4, p0, Lorg/telegram/ui/PhotoViewer;->startedPlayTime:J

    sub-long/2addr v2, v4

    invoke-static {v2, v3}, Ljava/lang/Math;->abs(J)J

    move-result-wide v2

    if-eqz v1, :cond_6

    const/16 p1, 0x2710

    goto :goto_1

    :cond_6
    const/16 p1, 0xbb8

    :goto_1
    int-to-long v0, p1

    cmp-long p1, v2, v0

    if-ltz p1, :cond_8

    .line 8235
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v0

    const-wide v2, -0x7fffffffffffffffL    # -4.9E-324

    cmp-long p1, v0, v2

    if-nez p1, :cond_7

    .line 8237
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    sget v0, Lorg/telegram/messenger/R$string;->VideoDoesNotSupportStreaming:I

    const-string v1, "VideoDoesNotSupportStreaming"

    invoke-static {v1, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    invoke-static {p1, v0, v6}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object p1

    .line 8238
    invoke-virtual {p1}, Landroid/widget/Toast;->show()V

    .line 8240
    :cond_7
    iput-boolean v6, p0, Lorg/telegram/ui/PhotoViewer;->streamingAlertShown:Z

    :cond_8
    :goto_2
    return-void
.end method

.method private checkChangedTextureView(Z)V
    .locals 13

    if-eqz p1, :cond_1

    .line 1557
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->changedTextureView:Landroid/view/TextureView;

    if-nez p1, :cond_0

    return-void

    .line 1560
    :cond_0
    invoke-virtual {p1}, Landroid/view/TextureView;->getViewTreeObserver()Landroid/view/ViewTreeObserver;

    move-result-object p1

    new-instance v0, Lorg/telegram/ui/PhotoViewer$8;

    invoke-direct {v0, p0}, Lorg/telegram/ui/PhotoViewer$8;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {p1, v0}, Landroid/view/ViewTreeObserver;->addOnPreDrawListener(Landroid/view/ViewTreeObserver$OnPreDrawListener;)V

    .line 1592
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->changedTextureView:Landroid/view/TextureView;

    invoke-virtual {p1}, Landroid/view/TextureView;->invalidate()V

    goto/16 :goto_6

    .line 1594
    :cond_1
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->waitingForFirstTextureUpload:I

    const/4 v0, 0x2

    if-ne p1, v0, :cond_f

    .line 1595
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    if-eqz p1, :cond_2

    const/4 v1, 0x4

    .line 1604
    invoke-virtual {p1, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 1605
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    const/4 v1, 0x0

    invoke-virtual {p1, v1}, Landroid/widget/ImageView;->setImageDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 1606
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    if-eqz p1, :cond_2

    .line 1607
    invoke-virtual {p1}, Landroid/graphics/Bitmap;->recycle()V

    .line 1608
    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    :cond_2
    const/4 p1, 0x0

    .line 1613
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->switchingInlineMode:Z

    .line 1615
    sget v1, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v2, 0x15

    const/4 v3, 0x1

    if-lt v1, v2, :cond_e

    .line 1616
    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v1, :cond_3

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    goto :goto_0

    :cond_3
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    .line 1617
    :goto_0
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    if-nez v2, :cond_4

    return-void

    .line 1620
    :cond_4
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->pipPosition:[I

    invoke-virtual {v2, v4}, Landroid/widget/FrameLayout;->getLocationInWindow([I)V

    .line 1622
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->pipPosition:[I

    aget v4, v2, v3

    int-to-float v4, v4

    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v5}, Landroid/widget/FrameLayout;->getTranslationY()F

    move-result v5

    sub-float/2addr v4, v5

    float-to-int v4, v4

    aput v4, v2, v3

    .line 1623
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    if-eqz v2, :cond_5

    .line 1624
    invoke-virtual {v2}, Landroid/widget/ImageView;->getTranslationX()F

    move-result v4

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v5

    int-to-float v5, v5

    add-float/2addr v4, v5

    invoke-virtual {v2, v4}, Landroid/widget/ImageView;->setTranslationX(F)V

    :cond_5
    if-eqz v1, :cond_6

    .line 1627
    invoke-virtual {v1}, Landroid/view/View;->getTranslationX()F

    move-result v2

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v4

    int-to-float v4, v4

    add-float/2addr v2, v4

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getX()F

    move-result v4

    sub-float/2addr v2, v4

    invoke-virtual {v1, v2}, Landroid/view/View;->setTranslationX(F)V

    .line 1629
    :cond_6
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v2, :cond_7

    .line 1630
    invoke-virtual {v1}, Landroid/view/View;->getTranslationX()F

    move-result v4

    invoke-virtual {v2, v4}, Landroid/widget/ImageView;->setTranslationX(F)V

    :cond_7
    new-array v2, v0, [F

    .line 1633
    fill-array-data v2, :array_0

    invoke-static {v2}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v2

    .line 1634
    new-instance v4, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda8;

    invoke-direct {v4, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda8;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v2, v4}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 1636
    iget-boolean v4, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    const/4 v5, 0x0

    if-eqz v4, :cond_8

    const/4 v4, 0x0

    goto :goto_1

    :cond_8
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->pipPosition:[I

    aget v4, v4, p1

    int-to-float v4, v4

    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getX()F

    move-result v6

    sub-float/2addr v4, v6

    .line 1637
    :goto_1
    iget-boolean v6, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v6, :cond_9

    const/4 v6, 0x0

    goto :goto_2

    :cond_9
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->pipPosition:[I

    aget v6, v6, v3

    int-to-float v6, v6

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v7}, Landroid/widget/FrameLayout;->getY()F

    move-result v7

    sub-float/2addr v6, v7

    .line 1638
    :goto_2
    new-instance v7, Landroid/animation/AnimatorSet;

    invoke-direct {v7}, Landroid/animation/AnimatorSet;-><init>()V

    .line 1639
    new-instance v8, Ljava/util/ArrayList;

    invoke-direct {v8}, Ljava/util/ArrayList;-><init>()V

    .line 1640
    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1641
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    sget-object v9, Landroid/view/View;->SCALE_X:Landroid/util/Property;

    new-array v10, v3, [F

    const/high16 v11, 0x3f800000    # 1.0f

    aput v11, v10, p1

    invoke-static {v2, v9, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1642
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    sget-object v9, Landroid/view/View;->SCALE_Y:Landroid/util/Property;

    new-array v10, v3, [F

    aput v11, v10, p1

    invoke-static {v2, v9, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1643
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    sget-object v9, Landroid/view/View;->TRANSLATION_X:Landroid/util/Property;

    new-array v10, v3, [F

    iget-boolean v12, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v12, :cond_a

    const/4 v12, 0x0

    goto :goto_3

    :cond_a
    iget-object v12, p0, Lorg/telegram/ui/PhotoViewer;->pipPosition:[I

    aget v12, v12, p1

    int-to-float v12, v12

    :goto_3
    aput v12, v10, p1

    invoke-static {v2, v9, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1644
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    sget-object v9, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v10, v3, [F

    iget-boolean v12, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v12, :cond_b

    goto :goto_4

    :cond_b
    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->pipPosition:[I

    aget v5, v5, v3

    int-to-float v5, v5

    :goto_4
    aput v5, v10, p1

    invoke-static {v2, v9, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1645
    sget-object v2, Landroid/view/View;->SCALE_X:Landroid/util/Property;

    new-array v5, v3, [F

    aput v11, v5, p1

    invoke-static {v1, v2, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1646
    sget-object v2, Landroid/view/View;->SCALE_Y:Landroid/util/Property;

    new-array v5, v3, [F

    aput v11, v5, p1

    invoke-static {v1, v2, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1647
    sget-object v2, Landroid/view/View;->TRANSLATION_X:Landroid/util/Property;

    new-array v5, v3, [F

    aput v4, v5, p1

    invoke-static {v1, v2, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1648
    sget-object v2, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v5, v3, [F

    aput v6, v5, p1

    invoke-static {v1, v2, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1649
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    sget-object v5, Lorg/telegram/ui/Components/AnimationProperties;->COLOR_DRAWABLE_ALPHA:Landroid/util/Property;

    new-array v9, v3, [I

    const/16 v10, 0xff

    aput v10, v9, p1

    invoke-static {v2, v5, v9}, Landroid/animation/ObjectAnimator;->ofInt(Ljava/lang/Object;Landroid/util/Property;[I)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1650
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v2, :cond_c

    .line 1651
    sget-object v5, Landroid/view/View;->SCALE_X:Landroid/util/Property;

    new-array v9, v3, [F

    aput v11, v9, p1

    invoke-static {v2, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1652
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    sget-object v5, Landroid/view/View;->SCALE_Y:Landroid/util/Property;

    new-array v9, v3, [F

    aput v11, v9, p1

    invoke-static {v2, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1653
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    sget-object v5, Landroid/view/View;->TRANSLATION_X:Landroid/util/Property;

    new-array v9, v3, [F

    aput v4, v9, p1

    invoke-static {v2, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1654
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    sget-object v4, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v5, v3, [F

    aput v6, v5, p1

    invoke-static {v2, v4, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1657
    :cond_c
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v2}, Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;->getAspectRatio()F

    move-result v2

    invoke-static {p1, v2}, Lorg/telegram/ui/Components/PipVideoOverlay;->getPipRect(ZF)Lorg/telegram/ui/Components/Rect;

    move-result-object v2

    .line 1658
    iget v2, v2, Lorg/telegram/ui/Components/Rect;->width:F

    invoke-virtual {v1}, Landroid/view/View;->getWidth()I

    new-array v0, v0, [F

    .line 1659
    fill-array-data v0, :array_1

    invoke-static {v0}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v0

    .line 1660
    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda17;

    invoke-direct {v2, p0, v1}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda17;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V

    invoke-virtual {v0, v2}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 1670
    invoke-virtual {v8, v0}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1672
    invoke-virtual {v7, v8}, Landroid/animation/AnimatorSet;->playTogether(Ljava/util/Collection;)V

    .line 1673
    new-instance v0, Landroid/view/animation/DecelerateInterpolator;

    invoke-direct {v0}, Landroid/view/animation/DecelerateInterpolator;-><init>()V

    .line 1674
    invoke-virtual {v7, v0}, Landroid/animation/AnimatorSet;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    const-wide/16 v4, 0xfa

    .line 1675
    invoke-virtual {v7, v4, v5}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 1676
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    if-eqz v2, :cond_d

    .line 1677
    invoke-virtual {v2, p1}, Landroid/view/SurfaceView;->setVisibility(I)V

    .line 1679
    :cond_d
    new-instance v2, Lorg/telegram/ui/PhotoViewer$9;

    invoke-direct {v2, p0, v1}, Lorg/telegram/ui/PhotoViewer$9;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V

    invoke-virtual {v7, v2}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 1695
    invoke-virtual {v7}, Landroid/animation/AnimatorSet;->start()V

    .line 1696
    new-instance v1, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    invoke-direct {v1}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;-><init>()V

    invoke-virtual {v1, p1}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableStatusBarAnimation(Z)Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    move-result-object v1

    invoke-virtual {v1, p1}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableTranslationAnimation(Z)Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    move-result-object v1

    const/16 v2, 0xfa

    invoke-virtual {v1, v2}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->animationDuration(I)Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    move-result-object v1

    invoke-virtual {v1, v0}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->animationInterpolator(Landroid/view/animation/Interpolator;)Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    move-result-object v0

    invoke-direct {p0, v3, v3, v0}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZLorg/telegram/ui/PhotoViewer$ActionBarToggleParams;)V

    goto :goto_5

    .line 1698
    :cond_e
    invoke-direct {p0, v3, p1}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    .line 1702
    :goto_5
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->waitingForFirstTextureUpload:I

    :cond_f
    :goto_6
    return-void

    nop

    :array_0
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data

    :array_1
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data
.end method

.method private checkInlinePermissions()Z
    .locals 4

    .line 6965
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const/4 v1, 0x0

    if-nez v0, :cond_0

    return v1

    .line 6968
    :cond_0
    sget v2, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v3, 0x17

    if-lt v2, v3, :cond_2

    invoke-static {v0}, Landroid/provider/Settings;->canDrawOverlays(Landroid/content/Context;)Z

    move-result v0

    if-eqz v0, :cond_1

    goto :goto_0

    .line 6971
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const/4 v2, 0x0

    invoke-static {v0, v2}, Lorg/telegram/ui/Components/AlertsCreator;->createDrawOverlayPermissionDialog(Landroid/app/Activity;Landroid/content/DialogInterface$OnClickListener;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    move-result-object v0

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->show()Lorg/telegram/ui/ActionBar/AlertDialog;

    return v1

    :cond_2
    :goto_0
    const/4 v0, 0x1

    return v0
.end method

.method private checkMinMax(Z)V
    .locals 5

    .line 15974
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 15975
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 15976
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    invoke-direct {p0, v2}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    .line 15977
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpg-float v4, v2, v3

    if-gez v4, :cond_0

    :goto_0
    move v0, v3

    goto :goto_1

    .line 15979
    :cond_0
    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpl-float v2, v2, v3

    if-lez v2, :cond_1

    goto :goto_0

    .line 15982
    :cond_1
    :goto_1
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->minY:F

    cmpg-float v4, v2, v3

    if-gez v4, :cond_2

    :goto_2
    move v1, v3

    goto :goto_3

    .line 15984
    :cond_2
    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->maxY:F

    cmpl-float v2, v2, v3

    if-lez v2, :cond_3

    goto :goto_2

    .line 15987
    :cond_3
    :goto_3
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    invoke-direct {p0, v2, v0, v1, p1}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZ)V

    return-void
.end method

.method private checkProgress(IZZ)V
    .locals 16

    move-object/from16 v12, p0

    move/from16 v6, p1

    move/from16 v11, p3

    .line 13390
    iget v0, v12, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    const/4 v1, 0x1

    if-ne v6, v1, :cond_0

    add-int/lit8 v2, v0, 0x1

    goto :goto_0

    :cond_0
    const/4 v2, 0x2

    if-ne v6, v2, :cond_1

    add-int/lit8 v2, v0, -0x1

    goto :goto_0

    :cond_1
    move v2, v0

    .line 13396
    :goto_0
    iget-object v3, v12, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v3, v3, v6

    const/4 v4, 0x3

    const/4 v5, -0x1

    const/4 v7, 0x0

    if-eqz v3, :cond_21

    if-nez v6, :cond_2

    if-nez v0, :cond_2

    .line 13405
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    if-eqz v0, :cond_2

    .line 13406
    invoke-virtual {v0}, Lorg/telegram/ui/Components/AnimatedFileDrawable;->hasBitmap()Z

    move-result v0

    move v3, v0

    goto :goto_1

    :cond_2
    const/4 v3, 0x0

    .line 13408
    :goto_1
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    const/4 v8, 0x0

    if-eqz v0, :cond_a

    if-ltz v2, :cond_9

    .line 13409
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    if-lt v2, v0, :cond_3

    goto/16 :goto_6

    .line 13413
    :cond_3
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lorg/telegram/messenger/MessageObject;

    .line 13414
    invoke-direct {v12, v0}, Lorg/telegram/ui/PhotoViewer;->shouldMessageObjectAutoPlayed(Lorg/telegram/messenger/MessageObject;)Z

    move-result v4

    .line 13415
    iget v9, v12, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    if-ne v9, v1, :cond_4

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->canPreviewDocument()Z

    move-result v9

    if-nez v9, :cond_4

    .line 13416
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v6

    invoke-virtual {v0, v5, v11, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    return-void

    .line 13419
    :cond_4
    iget-object v5, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v5, v5, Lorg/telegram/tgnet/TLRPC$Message;->attachPath:Ljava/lang/String;

    invoke-static {v5}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v5

    if-nez v5, :cond_5

    .line 13420
    new-instance v5, Ljava/io/File;

    iget-object v9, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v9, v9, Lorg/telegram/tgnet/TLRPC$Message;->attachPath:Ljava/lang/String;

    invoke-direct {v5, v9}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    goto :goto_2

    :cond_5
    move-object v5, v8

    .line 13422
    :goto_2
    iget-object v9, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v9}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v9

    instance-of v9, v9, Lorg/telegram/tgnet/TLRPC$TL_messageMediaWebPage;

    if-eqz v9, :cond_6

    iget-object v9, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v9}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v9

    iget-object v9, v9, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    if-eqz v9, :cond_6

    iget-object v9, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v9}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v9

    iget-object v9, v9, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    iget-object v9, v9, Lorg/telegram/tgnet/TLRPC$WebPage;->document:Lorg/telegram/tgnet/TLRPC$Document;

    if-nez v9, :cond_6

    .line 13423
    invoke-direct {v12, v2, v8}, Lorg/telegram/ui/PhotoViewer;->getFileLocation(I[J)Lorg/telegram/tgnet/TLObject;

    move-result-object v2

    .line 13424
    new-instance v9, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda83;

    invoke-direct {v9, v12, v2}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda83;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/tgnet/TLObject;)V

    goto :goto_3

    .line 13426
    :cond_6
    iget-object v2, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    .line 13427
    new-instance v9, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda84;

    invoke-direct {v9, v12, v2}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda84;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/tgnet/TLRPC$Message;)V

    .line 13429
    :goto_3
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v2

    if-eqz v2, :cond_8

    .line 13430
    sget-boolean v2, Lorg/telegram/messenger/SharedConfig;->streamMedia:Z

    if-eqz v2, :cond_7

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->canStreamVideo()Z

    move-result v2

    if-eqz v2, :cond_7

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v13

    invoke-static {v13, v14}, Lorg/telegram/messenger/DialogObject;->isEncryptedDialog(J)Z

    move-result v2

    if-nez v2, :cond_7

    const/4 v2, 0x1

    goto :goto_4

    :cond_7
    const/4 v2, 0x0

    :goto_4
    move v10, v2

    move v2, v4

    move-object v4, v8

    move-object v8, v9

    const/4 v13, 0x1

    goto :goto_5

    :cond_8
    move v2, v4

    move-object v4, v8

    move-object v8, v9

    const/4 v10, 0x0

    const/4 v13, 0x0

    :goto_5
    move-object v9, v0

    goto/16 :goto_14

    .line 13410
    :cond_9
    :goto_6
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v6

    invoke-virtual {v0, v5, v11, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    return-void

    .line 13433
    :cond_a
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    const/4 v9, 0x4

    if-eqz v0, :cond_13

    if-ltz v2, :cond_12

    .line 13434
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    if-lt v2, v0, :cond_b

    goto/16 :goto_b

    .line 13438
    :cond_b
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    .line 13439
    iget-object v2, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->type:Ljava/lang/String;

    const-string v5, "video"

    invoke-virtual {v2, v5}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v2

    if-nez v2, :cond_f

    iget-object v2, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    invoke-static {v2}, Lorg/telegram/messenger/MessageObject;->isVideoDocument(Lorg/telegram/tgnet/TLRPC$Document;)Z

    move-result v2

    if-eqz v2, :cond_c

    goto :goto_8

    .line 13446
    :cond_c
    iget-object v2, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    if-eqz v2, :cond_d

    .line 13447
    new-instance v0, Ljava/io/File;

    invoke-static {v4}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v2

    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v4, v4, v6

    invoke-direct {v0, v2, v4}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    goto :goto_7

    .line 13448
    :cond_d
    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    if-eqz v0, :cond_e

    .line 13449
    new-instance v0, Ljava/io/File;

    invoke-static {v7}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v2

    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v4, v4, v6

    invoke-direct {v0, v2, v4}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    goto :goto_7

    :cond_e
    move-object v0, v8

    :goto_7
    const/4 v2, 0x0

    goto :goto_a

    .line 13440
    :cond_f
    :goto_8
    iget-object v2, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    if-eqz v2, :cond_10

    .line 13441
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    invoke-virtual {v2, v0}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;)Ljava/io/File;

    move-result-object v0

    goto :goto_9

    .line 13442
    :cond_10
    iget-object v2, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    instance-of v2, v2, Lorg/telegram/tgnet/TLRPC$TL_webDocument;

    if-eqz v2, :cond_11

    .line 13443
    new-instance v2, Ljava/io/File;

    invoke-static {v9}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v4

    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    iget-object v10, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    iget-object v10, v10, Lorg/telegram/tgnet/TLRPC$WebDocument;->url:Ljava/lang/String;

    invoke-static {v10}, Lorg/telegram/messenger/Utilities;->MD5(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v10

    invoke-virtual {v5, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    const-string v10, "."

    invoke-virtual {v5, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$WebDocument;->url:Ljava/lang/String;

    const-string v10, "mp4"

    invoke-static {v0, v10}, Lorg/telegram/messenger/ImageLoader;->getHttpUrlExtension(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-direct {v2, v4, v0}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    move-object v0, v2

    goto :goto_9

    :cond_11
    move-object v0, v8

    :goto_9
    const/4 v2, 0x1

    .line 13451
    :goto_a
    new-instance v4, Ljava/io/File;

    invoke-static {v9}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v5

    iget-object v9, v12, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v9, v9, v6

    invoke-direct {v4, v5, v9}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    move-object v5, v0

    move v13, v2

    move-object v9, v8

    const/4 v2, 0x0

    goto/16 :goto_12

    .line 13435
    :cond_12
    :goto_b
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v6

    invoke-virtual {v0, v5, v11, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    return-void

    .line 13452
    :cond_13
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    if-eqz v0, :cond_17

    if-ltz v2, :cond_16

    .line 13453
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    if-lt v2, v0, :cond_14

    goto :goto_c

    .line 13457
    :cond_14
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lorg/telegram/messenger/ImageLocation;

    if-eqz v0, :cond_15

    .line 13459
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    iget-object v4, v0, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    invoke-static {v0}, Lorg/telegram/ui/PhotoViewer;->getFileLocationExt(Lorg/telegram/messenger/ImageLocation;)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v2, v4, v5, v7}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Ljava/lang/String;Z)Ljava/io/File;

    move-result-object v2

    .line 13460
    iget v4, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v4}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v4

    iget-object v5, v0, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    invoke-static {v0}, Lorg/telegram/ui/PhotoViewer;->getFileLocationExt(Lorg/telegram/messenger/ImageLocation;)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {v4, v5, v0, v1}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Ljava/lang/String;Z)Ljava/io/File;

    move-result-object v0

    goto :goto_d

    :cond_15
    move-object v0, v8

    move-object v2, v0

    goto :goto_d

    .line 13454
    :cond_16
    :goto_c
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v6

    invoke-virtual {v0, v5, v11, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    return-void

    .line 13462
    :cond_17
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentSecureDocument:Lorg/telegram/messenger/SecureDocument;

    if-eqz v0, :cond_1a

    if-ltz v2, :cond_19

    .line 13463
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    if-lt v2, v0, :cond_18

    goto :goto_e

    .line 13467
    :cond_18
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lorg/telegram/messenger/SecureDocument;

    .line 13468
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    invoke-virtual {v2, v0, v1}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v2

    .line 13469
    iget v4, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v4}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v4

    invoke-virtual {v4, v0, v7}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v0

    :goto_d
    move-object v4, v0

    move-object v5, v2

    goto :goto_f

    .line 13464
    :cond_19
    :goto_e
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v6

    invoke-virtual {v0, v5, v11, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    return-void

    .line 13470
    :cond_1a
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    if-eqz v0, :cond_1b

    .line 13471
    new-instance v0, Ljava/io/File;

    invoke-static {v4}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v2

    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v4, v4, v6

    invoke-direct {v0, v2, v4}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 13472
    new-instance v2, Ljava/io/File;

    invoke-static {v9}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v4

    iget-object v5, v12, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v5, v5, v6

    invoke-direct {v2, v4, v5}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    move-object v5, v0

    move-object v4, v2

    :goto_f
    move-object v9, v8

    goto :goto_13

    .line 13473
    :cond_1b
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v0, :cond_1e

    .line 13474
    invoke-interface {v0, v2}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getFile(I)Ljava/io/File;

    move-result-object v0

    .line 13475
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v4, v2}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isVideo(I)Z

    move-result v4

    if-nez v4, :cond_1d

    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v4, v2}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isHardwarePlayer(I)Z

    move-result v4

    if-eqz v4, :cond_1c

    goto :goto_10

    :cond_1c
    const/4 v4, 0x0

    goto :goto_11

    :cond_1d
    :goto_10
    const/4 v4, 0x1

    .line 13476
    :goto_11
    invoke-direct {v12, v2}, Lorg/telegram/ui/PhotoViewer;->shouldIndexAutoPlayed(I)Z

    move-result v2

    move-object v5, v0

    move v13, v4

    move-object v4, v8

    move-object v9, v4

    :goto_12
    const/4 v10, 0x0

    goto :goto_14

    :cond_1e
    move-object v4, v8

    move-object v5, v4

    move-object v9, v5

    :goto_13
    const/4 v2, 0x0

    const/4 v10, 0x0

    const/4 v13, 0x0

    :goto_14
    if-nez v6, :cond_1f

    .line 13483
    iget-boolean v0, v12, Lorg/telegram/ui/PhotoViewer;->dontAutoPlay:Z

    if-nez v0, :cond_20

    :cond_1f
    if-eqz v2, :cond_20

    const/4 v14, 0x1

    goto :goto_15

    :cond_20
    const/4 v14, 0x0

    .line 13487
    :goto_15
    sget-object v15, Lorg/telegram/messenger/Utilities;->globalQueue:Lorg/telegram/messenger/DispatchQueue;

    new-instance v7, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda81;

    move-object v0, v7

    move-object/from16 v1, p0

    move v2, v3

    move-object v3, v5

    move-object v5, v8

    move/from16 v6, p1

    move-object v8, v7

    move-object v7, v9

    move-object v9, v8

    move v8, v10

    move-object v10, v9

    move v9, v13

    move-object v13, v10

    move v10, v14

    move/from16 v11, p3

    invoke-direct/range {v0 .. v11}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda81;-><init>(Lorg/telegram/ui/PhotoViewer;ZLjava/io/File;Ljava/io/File;Lorg/telegram/messenger/FileLoader$FileResolver;ILorg/telegram/messenger/MessageObject;ZZZZ)V

    invoke-virtual {v15, v13}, Lorg/telegram/messenger/DispatchQueue;->postRunnable(Ljava/lang/Runnable;)Z

    goto :goto_16

    .line 13567
    :cond_21
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_22

    if-ltz v2, :cond_22

    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    if-ge v2, v0, :cond_22

    .line 13568
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    .line 13569
    instance-of v2, v0, Lorg/telegram/messenger/MediaController$PhotoEntry;

    if-eqz v2, :cond_22

    .line 13570
    check-cast v0, Lorg/telegram/messenger/MediaController$PhotoEntry;

    .line 13571
    iget-boolean v7, v0, Lorg/telegram/messenger/MediaController$PhotoEntry;->isVideo:Z

    :cond_22
    if-eqz v7, :cond_23

    .line 13575
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v6

    invoke-virtual {v0, v4, v11, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    goto :goto_16

    .line 13577
    :cond_23
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v6

    invoke-virtual {v0, v5, v11, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    :goto_16
    return-void
.end method

.method private closeCaptionEnter(Z)V
    .locals 2

    .line 8088
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz v0, :cond_3

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-ge v0, v1, :cond_3

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result v0

    if-nez v0, :cond_0

    goto :goto_0

    .line 8091
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    if-eqz p1, :cond_1

    .line 8093
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->applyCaption()Ljava/lang/CharSequence;

    .line 8095
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object p1, p1, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->editText:Lorg/telegram/ui/Components/EditTextEmoji;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/EditTextEmoji;->isPopupShowing()Z

    move-result p1

    if-eqz p1, :cond_2

    .line 8096
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object p1, p1, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->editText:Lorg/telegram/ui/Components/EditTextEmoji;

    const/4 v0, 0x1

    invoke-virtual {p1, v0}, Lorg/telegram/ui/Components/EditTextEmoji;->hidePopup(Z)V

    .line 8098
    :cond_2
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object p1, p1, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->editText:Lorg/telegram/ui/Components/EditTextEmoji;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/EditTextEmoji;->closeKeyboard()V

    :cond_3
    :goto_0
    return-void
.end method

.method private closePaintMode()V
    .locals 3

    .line 10640
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda66;

    invoke-direct {v2, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda66;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, p0, v1, v2}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->maybeShowDismissalAlert(Lorg/telegram/ui/PhotoViewer;Landroid/app/Activity;Ljava/lang/Runnable;)V

    return-void
.end method

.method private createCropView()V
    .locals 10

    .line 9728
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    if-eqz v0, :cond_0

    return-void

    .line 9731
    :cond_0
    new-instance v0, Lorg/telegram/ui/Components/PhotoCropView;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    invoke-direct {v0, v1, v2}, Lorg/telegram/ui/Components/PhotoCropView;-><init>(Landroid/content/Context;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    const/16 v1, 0x8

    .line 9732
    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 9733
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoCropView;->onDisappear()V

    .line 9734
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->indexOfChild(Landroid/view/View;)I

    move-result v0

    .line 9735
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    add-int/lit8 v0, v0, -0x1

    const/4 v3, -0x1

    const/high16 v4, -0x40800000    # -1.0f

    const/16 v5, 0x33

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/high16 v9, 0x42400000    # 48.0f

    invoke-static/range {v3 .. v9}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IFIFFFF)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v1, v2, v0, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;ILandroid/view/ViewGroup$LayoutParams;)V

    .line 9736
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$51;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$51;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/PhotoCropView;->setDelegate(Lorg/telegram/ui/Components/PhotoCropView$PhotoCropViewDelegate;)V

    return-void
.end method

.method private createCroppedBitmap(Landroid/graphics/Bitmap;Lorg/telegram/messenger/MediaController$CropState;[IZ)Landroid/graphics/Bitmap;
    .locals 16

    move-object/from16 v0, p2

    move-object/from16 v1, p3

    .line 9303
    :try_start_0
    iget v2, v0, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    const/4 v3, 0x0

    if-eqz v1, :cond_0

    aget v4, v1, v3

    goto :goto_0

    :cond_0
    const/4 v4, 0x0

    :goto_0
    add-int/2addr v2, v4

    rem-int/lit16 v2, v2, 0x168

    const/4 v4, 0x1

    if-eqz v1, :cond_1

    .line 9304
    array-length v5, v1

    if-le v5, v4, :cond_1

    aget v3, v1, v4

    .line 9305
    :cond_1
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v1

    .line 9306
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v5

    const/16 v6, 0x10e

    const/16 v7, 0x5a

    if-eq v2, v7, :cond_3

    if-ne v2, v6, :cond_2

    goto :goto_1

    :cond_2
    move v8, v1

    move v9, v5

    goto :goto_2

    :cond_3
    :goto_1
    move v9, v1

    move v8, v5

    :goto_2
    int-to-float v8, v8

    .line 9314
    iget v10, v0, Lorg/telegram/messenger/MediaController$CropState;->cropPw:F

    mul-float v10, v10, v8

    float-to-int v10, v10

    int-to-float v9, v9

    .line 9315
    iget v11, v0, Lorg/telegram/messenger/MediaController$CropState;->cropPh:F

    mul-float v11, v11, v9

    float-to-int v11, v11

    .line 9316
    sget-object v12, Landroid/graphics/Bitmap$Config;->ARGB_8888:Landroid/graphics/Bitmap$Config;

    invoke-static {v10, v11, v12}, Landroid/graphics/Bitmap;->createBitmap(IILandroid/graphics/Bitmap$Config;)Landroid/graphics/Bitmap;

    move-result-object v12

    .line 9317
    new-instance v13, Landroid/graphics/Matrix;

    invoke-direct {v13}, Landroid/graphics/Matrix;-><init>()V

    neg-int v1, v1

    const/4 v14, 0x2

    .line 9318
    div-int/2addr v1, v14

    int-to-float v1, v1

    neg-int v5, v5

    div-int/2addr v5, v14

    int-to-float v5, v5

    invoke-virtual {v13, v1, v5}, Landroid/graphics/Matrix;->postTranslate(FF)Z

    const/high16 v1, 0x3f800000    # 1.0f

    const/high16 v5, -0x40800000    # -1.0f

    if-eqz p4, :cond_6

    .line 9319
    iget-boolean v15, v0, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v15, :cond_6

    if-eq v2, v7, :cond_5

    if-ne v2, v6, :cond_4

    goto :goto_3

    .line 9323
    :cond_4
    invoke-virtual {v13, v5, v1}, Landroid/graphics/Matrix;->postScale(FF)Z

    goto :goto_4

    .line 9321
    :cond_5
    :goto_3
    invoke-virtual {v13, v1, v5}, Landroid/graphics/Matrix;->postScale(FF)Z

    :cond_6
    :goto_4
    if-ne v3, v4, :cond_7

    .line 9327
    invoke-virtual {v13, v5, v1}, Landroid/graphics/Matrix;->postScale(FF)Z

    goto :goto_5

    :cond_7
    if-ne v3, v14, :cond_8

    .line 9329
    invoke-virtual {v13, v1, v5}, Landroid/graphics/Matrix;->postScale(FF)Z

    .line 9331
    :cond_8
    :goto_5
    iget v1, v0, Lorg/telegram/messenger/MediaController$CropState;->cropRotate:F

    int-to-float v2, v2

    add-float/2addr v1, v2

    invoke-virtual {v13, v1}, Landroid/graphics/Matrix;->postRotate(F)Z

    .line 9332
    iget v1, v0, Lorg/telegram/messenger/MediaController$CropState;->cropPx:F

    mul-float v1, v1, v8

    iget v2, v0, Lorg/telegram/messenger/MediaController$CropState;->cropPy:F

    mul-float v2, v2, v9

    invoke-virtual {v13, v1, v2}, Landroid/graphics/Matrix;->postTranslate(FF)Z

    .line 9333
    iget v0, v0, Lorg/telegram/messenger/MediaController$CropState;->cropScale:F

    invoke-virtual {v13, v0, v0}, Landroid/graphics/Matrix;->postScale(FF)Z

    .line 9334
    div-int/2addr v10, v14

    int-to-float v0, v10

    div-int/2addr v11, v14

    int-to-float v1, v11

    invoke-virtual {v13, v0, v1}, Landroid/graphics/Matrix;->postTranslate(FF)Z

    .line 9335
    new-instance v0, Landroid/graphics/Canvas;

    invoke-direct {v0, v12}, Landroid/graphics/Canvas;-><init>(Landroid/graphics/Bitmap;)V

    .line 9336
    new-instance v1, Landroid/graphics/Paint;

    invoke-direct {v1, v14}, Landroid/graphics/Paint;-><init>(I)V

    move-object/from16 v2, p1

    invoke-virtual {v0, v2, v13, v1}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;Landroid/graphics/Matrix;Landroid/graphics/Paint;)V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    return-object v12

    :catchall_0
    move-exception v0

    .line 9339
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    const/4 v0, 0x0

    return-object v0
.end method

.method private createPaintView()V
    .locals 14

    .line 10497
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-nez v0, :cond_7

    .line 10500
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v0, :cond_1

    .line 10501
    check-cast v0, Lorg/telegram/ui/Components/VideoEditTextureView;

    .line 10502
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoWidth()I

    move-result v1

    .line 10503
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoHeight()I

    move-result v0

    :goto_0
    const/16 v2, 0x500

    if-gt v1, v2, :cond_0

    if-le v0, v2, :cond_2

    .line 10505
    :cond_0
    div-int/lit8 v1, v1, 0x2

    .line 10506
    div-int/lit8 v0, v0, 0x2

    goto :goto_0

    .line 10509
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v1

    .line 10510
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v0

    .line 10512
    :cond_2
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/PaintingOverlay;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v2

    if-nez v2, :cond_3

    .line 10514
    sget-object v2, Landroid/graphics/Bitmap$Config;->ARGB_8888:Landroid/graphics/Bitmap$Config;

    invoke-static {v1, v0, v2}, Landroid/graphics/Bitmap;->createBitmap(IILandroid/graphics/Bitmap$Config;)Landroid/graphics/Bitmap;

    move-result-object v0

    move-object v5, v0

    goto :goto_1

    :cond_3
    move-object v5, v2

    .line 10517
    :goto_1
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v1, 0x1

    if-ne v0, v1, :cond_4

    .line 10518
    new-instance v0, Lorg/telegram/messenger/MediaController$CropState;

    invoke-direct {v0}, Lorg/telegram/messenger/MediaController$CropState;-><init>()V

    .line 10519
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v2

    iput v2, v0, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    goto :goto_2

    .line 10521
    :cond_4
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    :goto_2
    move-object v9, v0

    .line 10523
    new-instance v0, Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda91;

    invoke-direct {v3, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda91;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-direct {v0, v2, v3}, Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;-><init>(Landroid/view/View;Lorg/telegram/messenger/Utilities$Callback;)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->paintKeyboardNotifier:Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;

    .line 10552
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v3, 0x3

    const/4 v12, 0x0

    if-eq v2, v3, :cond_5

    goto :goto_3

    :cond_5
    const/4 v1, 0x0

    :goto_3
    invoke-virtual {v0, v1}, Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;->ignore(Z)V

    .line 10553
    new-instance v13, Lorg/telegram/ui/PhotoViewer$56;

    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v0, :cond_6

    const/4 v0, 0x0

    goto :goto_4

    :cond_6
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    :goto_4
    move-object v6, v0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getOrientation()I

    move-result v7

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    new-instance v10, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda64;

    invoke-direct {v10, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda64;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iget-object v11, p0, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    move-object v0, v13

    move-object v1, p0

    move-object v2, v3

    invoke-direct/range {v0 .. v11}, Lorg/telegram/ui/PhotoViewer$56;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;Landroid/app/Activity;ILandroid/graphics/Bitmap;Landroid/graphics/Bitmap;ILjava/util/ArrayList;Lorg/telegram/messenger/MediaController$CropState;Ljava/lang/Runnable;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    iput-object v13, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    .line 10605
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v13}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getView()Landroid/view/View;

    move-result-object v1

    const/4 v2, -0x1

    const/high16 v3, -0x40800000    # -1.0f

    invoke-static {v2, v3}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IF)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 10606
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda54;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda54;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->setOnDoneButtonClickedListener(Ljava/lang/Runnable;)V

    .line 10611
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getCancelView()Landroid/view/View;

    move-result-object v0

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda30;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda30;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Landroid/view/View;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 10612
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    const/high16 v1, 0x42fc0000    # 126.0f

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v1

    int-to-float v1, v1

    const/4 v2, 0x0

    invoke-virtual {v0, v1, v2, v12, v12}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->setOffsetTranslationY(FFIZ)V

    .line 10613
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    const/high16 v1, 0x41400000    # 12.0f

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v1

    neg-int v1, v1

    int-to-float v1, v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->setOffsetTranslationX(F)V

    :cond_7
    return-void
.end method

.method private createVideoControlsInterface()V
    .locals 12

    .line 7797
    new-instance v0, Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v1

    invoke-direct {v0, p0, v1}, Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    .line 7798
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/4 v2, -0x1

    const/16 v3, 0x30

    const/16 v4, 0x53

    invoke-static {v2, v3, v4}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v1, v0, v4}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 7800
    new-instance v0, Lorg/telegram/ui/PhotoViewer$42;

    invoke-direct {v0, p0}, Lorg/telegram/ui/PhotoViewer$42;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    .line 7830
    new-instance v1, Lorg/telegram/ui/PhotoViewer$43;

    invoke-direct {v1, p0, v0}, Lorg/telegram/ui/PhotoViewer$43;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/Components/VideoPlayerSeekBar$SeekBarDelegate;)V

    .line 7850
    new-instance v4, Lorg/telegram/ui/PhotoViewer$44;

    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v5}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v5

    invoke-direct {v4, p0, v5}, Lorg/telegram/ui/PhotoViewer$44;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v4, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbarView:Landroid/view/View;

    .line 7856
    invoke-virtual {v4, v1}, Landroid/view/View;->setAccessibilityDelegate(Landroid/view/View$AccessibilityDelegate;)V

    .line 7857
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbarView:Landroid/view/View;

    const/4 v4, 0x1

    invoke-virtual {v1, v4}, Landroid/view/View;->setImportantForAccessibility(I)V

    .line 7858
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbarView:Landroid/view/View;

    const/high16 v5, -0x40800000    # -1.0f

    invoke-static {v2, v5}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IF)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v5

    invoke-virtual {v1, v4, v5}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 7860
    new-instance v1, Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbarView:Landroid/view/View;

    invoke-direct {v1, v4}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;-><init>(Landroid/view/View;)V

    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    const/high16 v4, 0x40000000    # 2.0f

    .line 7861
    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v4

    invoke-virtual {v1, v4}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setHorizontalPadding(I)V

    .line 7862
    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    const v6, 0x33ffffff

    const v7, 0x33ffffff

    const/4 v8, -0x1

    const/4 v9, -0x1

    const/4 v10, -0x1

    const v11, 0x59ffffff

    invoke-virtual/range {v5 .. v11}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setColors(IIIIII)V

    .line 7863
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {v1, v0}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setDelegate(Lorg/telegram/ui/Components/VideoPlayerSeekBar$SeekBarDelegate;)V

    .line 7865
    new-instance v0, Lorg/telegram/ui/PhotoViewer$45;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v1

    new-instance v4, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda97;

    invoke-direct {v4, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda97;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-direct {v0, p0, v1, v4}, Lorg/telegram/ui/PhotoViewer$45;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;Lorg/telegram/ui/Components/VideoSeekPreviewImage$VideoSeekPreviewImageDelegate;)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    const/4 v1, 0x0

    .line 7884
    invoke-virtual {v0, v1}, Landroid/view/View;->setAlpha(F)V

    .line 7885
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    const/4 v4, -0x2

    const/high16 v5, -0x40000000    # -2.0f

    const/16 v6, 0x53

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x0

    const/high16 v10, 0x42680000    # 58.0f

    invoke-static/range {v4 .. v10}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IFIFFFF)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v0, v1, v4}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 7887
    new-instance v0, Lorg/telegram/ui/ActionBar/SimpleTextView;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v1

    invoke-direct {v0, v1}, Lorg/telegram/ui/ActionBar/SimpleTextView;-><init>(Landroid/content/Context;)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTime:Lorg/telegram/ui/ActionBar/SimpleTextView;

    .line 7888
    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/SimpleTextView;->setTextColor(I)V

    .line 7889
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTime:Lorg/telegram/ui/ActionBar/SimpleTextView;

    const/16 v1, 0x35

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/SimpleTextView;->setGravity(I)V

    .line 7890
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTime:Lorg/telegram/ui/ActionBar/SimpleTextView;

    const/16 v2, 0xe

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/SimpleTextView;->setTextSize(I)V

    .line 7891
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTime:Lorg/telegram/ui/ActionBar/SimpleTextView;

    const/4 v2, 0x2

    invoke-virtual {v0, v2}, Landroid/view/View;->setImportantForAccessibility(I)V

    .line 7892
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTime:Lorg/telegram/ui/ActionBar/SimpleTextView;

    const/4 v4, -0x2

    const/16 v6, 0x35

    const/high16 v8, 0x41700000    # 15.0f

    const/high16 v9, 0x41400000    # 12.0f

    const/4 v10, 0x0

    invoke-static/range {v4 .. v10}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IFIFFFF)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v0, v2, v4}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 7894
    new-instance v0, Landroid/widget/ImageView;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v2

    invoke-direct {v0, v2}, Landroid/widget/ImageView;-><init>(Landroid/content/Context;)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->exitFullscreenButton:Landroid/widget/ImageView;

    .line 7895
    sget v2, Lorg/telegram/messenger/R$drawable;->msg_minvideo:I

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 7896
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->exitFullscreenButton:Landroid/widget/ImageView;

    sget v2, Lorg/telegram/messenger/R$string;->AccExitFullscreen:I

    const-string v4, "AccExitFullscreen"

    invoke-static {v4, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 7897
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->exitFullscreenButton:Landroid/widget/ImageView;

    sget-object v2, Landroid/widget/ImageView$ScaleType;->CENTER:Landroid/widget/ImageView$ScaleType;

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setScaleType(Landroid/widget/ImageView$ScaleType;)V

    .line 7898
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->exitFullscreenButton:Landroid/widget/ImageView;

    const v2, 0x40ffffff    # 7.9999995f

    invoke-static {v2}, Lorg/telegram/ui/ActionBar/Theme;->createSelectorDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setBackground(Landroid/graphics/drawable/Drawable;)V

    .line 7899
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->exitFullscreenButton:Landroid/widget/ImageView;

    const/4 v2, 0x4

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 7900
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->exitFullscreenButton:Landroid/widget/ImageView;

    invoke-static {v3, v3, v1}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v1

    invoke-virtual {v0, v2, v1}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 7901
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->exitFullscreenButton:Landroid/widget/ImageView;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda31;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda31;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    return-void
.end method

.method private createVideoTextureView(Lorg/telegram/messenger/MediaController$SavedFilterState;)V
    .locals 7

    .line 8955
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v0, :cond_0

    return-void

    .line 8958
    :cond_0
    new-instance v0, Lorg/telegram/ui/PhotoViewer$49;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, p0, v1}, Lorg/telegram/ui/PhotoViewer$49;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    const/4 v1, 0x0

    .line 8990
    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setWillNotDraw(Z)V

    .line 8991
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    const/4 v2, 0x4

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 8992
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    const/4 v3, -0x1

    const/16 v4, 0x11

    invoke-static {v3, v3, v4}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v5

    invoke-virtual {v0, v2, v1, v5}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;ILandroid/view/ViewGroup$LayoutParams;)V

    .line 8993
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    .line 8995
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    const/4 v2, 0x1

    if-eqz v0, :cond_2

    .line 8996
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->ALLOW_USE_SURFACE:Z

    if-eqz p1, :cond_1

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->injectingVideoPlayerSurface:Landroid/graphics/SurfaceTexture;

    if-nez p1, :cond_1

    .line 8997
    new-instance p1, Landroid/view/SurfaceView;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {p1, v0}, Landroid/view/SurfaceView;-><init>(Landroid/content/Context;)V

    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    .line 8998
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    goto :goto_0

    .line 9000
    :cond_1
    new-instance p1, Landroid/view/TextureView;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {p1, v0}, Landroid/view/TextureView;-><init>(Landroid/content/Context;)V

    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    goto :goto_0

    .line 9003
    :cond_2
    new-instance v0, Lorg/telegram/ui/Components/VideoEditTextureView;

    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-direct {v0, v5, v6}, Lorg/telegram/ui/Components/VideoEditTextureView;-><init>(Landroid/content/Context;Lorg/telegram/ui/Components/VideoPlayer;)V

    .line 9004
    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->blurManager:Lorg/telegram/ui/Components/BlurringShader$BlurManager;

    invoke-virtual {v5}, Lorg/telegram/ui/Components/BlurringShader$BlurManager;->resetBitmap()V

    .line 9005
    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->blurManager:Lorg/telegram/ui/Components/BlurringShader$BlurManager;

    invoke-virtual {v0, v5}, Lorg/telegram/ui/Components/VideoEditTextureView;->updateUiBlurManager(Lorg/telegram/ui/Components/BlurringShader$BlurManager;)V

    if-eqz p1, :cond_3

    .line 9007
    new-instance v5, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda96;

    invoke-direct {v5, p1}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda96;-><init>(Lorg/telegram/messenger/MediaController$SavedFilterState;)V

    invoke-virtual {v0, v5}, Lorg/telegram/ui/Components/VideoEditTextureView;->setDelegate(Lorg/telegram/ui/Components/VideoEditTextureView$VideoEditTextureViewDelegate;)V

    .line 9009
    :cond_3
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    .line 9011
    :goto_0
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->injectingVideoPlayerSurface:Landroid/graphics/SurfaceTexture;

    if-eqz p1, :cond_4

    .line 9012
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-virtual {v0, p1}, Landroid/view/TextureView;->setSurfaceTexture(Landroid/graphics/SurfaceTexture;)V

    .line 9013
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    .line 9014
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    const/4 p1, 0x0

    .line 9015
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->injectingVideoPlayerSurface:Landroid/graphics/SurfaceTexture;

    .line 9017
    :cond_4
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    const/4 v0, 0x0

    if-eqz p1, :cond_5

    .line 9018
    invoke-virtual {p1, v0}, Landroid/view/TextureView;->setPivotX(F)V

    .line 9019
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-virtual {p1, v0}, Landroid/view/TextureView;->setPivotY(F)V

    .line 9020
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-virtual {p1, v1}, Landroid/view/TextureView;->setOpaque(Z)V

    .line 9021
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-static {v3, v3, v4}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v5

    invoke-virtual {p1, v1, v5}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    goto :goto_1

    .line 9023
    :cond_5
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    invoke-static {v3, v3, v4}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v5

    invoke-virtual {p1, v1, v5}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 9026
    :goto_1
    new-instance p1, Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {p1, p0, v1}, Lorg/telegram/ui/PhotoViewer$FirstFrameView;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    .line 9027
    invoke-virtual {p1, v0}, Landroid/widget/ImageView;->setPivotX(F)V

    .line 9028
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-virtual {p1, v0}, Landroid/widget/ImageView;->setPivotY(F)V

    .line 9029
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    sget-object v1, Landroid/widget/ImageView$ScaleType;->FIT_XY:Landroid/widget/ImageView$ScaleType;

    invoke-virtual {p1, v1}, Landroid/widget/ImageView;->setScaleType(Landroid/widget/ImageView$ScaleType;)V

    .line 9030
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-static {v3, v3, v4}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v5

    invoke-virtual {p1, v1, v5}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 9032
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne p1, v2, :cond_6

    .line 9033
    new-instance p1, Landroid/view/View;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {p1, v1}, Landroid/view/View;-><init>(Landroid/content/Context;)V

    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->flashView:Landroid/view/View;

    .line 9034
    invoke-virtual {p1, v3}, Landroid/view/View;->setBackgroundColor(I)V

    .line 9035
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->flashView:Landroid/view/View;

    invoke-virtual {p1, v0}, Landroid/view/View;->setAlpha(F)V

    .line 9036
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->flashView:Landroid/view/View;

    invoke-static {v3, v3, v4}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v1

    invoke-virtual {p1, v0, v1}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    :cond_6
    return-void
.end method

.method private cropMirror()Z
    .locals 6

    .line 7472
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    const/4 v1, 0x0

    if-nez v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    if-nez v0, :cond_0

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    .line 7475
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->mirror:F

    const/high16 v0, 0x3f800000    # 1.0f

    .line 7476
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->animateToMirror:F

    .line 7477
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v2

    iput-wide v2, p0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    .line 7478
    new-instance v0, Landroid/animation/AnimatorSet;

    invoke-direct {v0}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    const/4 v2, 0x1

    new-array v3, v2, [Landroid/animation/Animator;

    .line 7479
    sget-object v4, Lorg/telegram/ui/Components/AnimationProperties;->PHOTO_VIEWER_ANIMATION_VALUE:Landroid/util/Property;

    const/4 v5, 0x2

    new-array v5, v5, [F

    fill-array-data v5, :array_0

    invoke-static {p0, v4, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    aput-object v4, v3, v1

    invoke-virtual {v0, v3}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    .line 7480
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    const-wide/16 v3, 0xfa

    invoke-virtual {v0, v3, v4}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 7481
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    sget-object v1, Lorg/telegram/ui/Components/CubicBezierInterpolator;->DEFAULT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-virtual {v0, v1}, Landroid/animation/AnimatorSet;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    .line 7482
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$38;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$38;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 7498
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {v0}, Landroid/animation/AnimatorSet;->start()V

    .line 7499
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    iget-object v0, v0, Lorg/telegram/ui/Components/PhotoCropView;->cropView:Lorg/telegram/ui/Components/Crop/CropView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropView;->isMirrored()Z

    move-result v0

    xor-int/2addr v0, v2

    return v0

    :cond_1
    :goto_0
    return v1

    :array_0
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data
.end method

.method private cropRotate(F)Z
    .locals 2

    const/4 v0, 0x0

    const/4 v1, 0x0

    .line 7503
    invoke-direct {p0, p1, v0, v1}, Lorg/telegram/ui/PhotoViewer;->cropRotate(FZLjava/lang/Runnable;)Z

    move-result p1

    return p1
.end method

.method private cropRotate(FZLjava/lang/Runnable;)Z
    .locals 9

    .line 7507
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    const/4 v1, 0x0

    if-eqz v0, :cond_0

    return v1

    .line 7510
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    if-nez v0, :cond_1

    return v1

    .line 7513
    :cond_1
    iget-object v0, v0, Lorg/telegram/ui/Components/PhotoCropView;->cropView:Lorg/telegram/ui/Components/Crop/CropView;

    const/4 v2, 0x1

    invoke-virtual {v0, v2}, Lorg/telegram/ui/Components/Crop/CropView;->maximize(Z)V

    const/4 v0, 0x0

    .line 7514
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->rotate:F

    add-float v3, v0, p1

    .line 7515
    iput v3, p0, Lorg/telegram/ui/PhotoViewer;->animateToRotate:F

    const/high16 v3, 0x3f800000    # 1.0f

    if-eqz p2, :cond_2

    .line 7517
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->mirror:F

    .line 7518
    iput v3, p0, Lorg/telegram/ui/PhotoViewer;->animateToMirror:F

    .line 7520
    :cond_2
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v4

    iput-wide v4, p0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    .line 7521
    new-instance p2, Landroid/animation/AnimatorSet;

    invoke-direct {p2}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    .line 7522
    iget p2, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v0, 0x2

    if-ne p2, v2, :cond_3

    .line 7523
    iput v3, p0, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    goto :goto_1

    .line 7524
    :cond_3
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-eqz p2, :cond_7

    .line 7525
    invoke-virtual {p2}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result p2

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v4}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v4

    .line 7526
    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    iget-object v5, v5, Lorg/telegram/ui/Components/PhotoCropView;->cropView:Lorg/telegram/ui/Components/Crop/CropView;

    invoke-virtual {v5}, Lorg/telegram/ui/Components/Crop/CropView;->getStateOrientation()F

    move-result v5

    float-to-int v5, v5

    div-int/lit8 v5, v5, 0x5a

    rem-int/2addr v5, v0

    invoke-static {v5}, Ljava/lang/Math;->abs(I)I

    move-result v5

    if-ne v5, v2, :cond_4

    move v8, v4

    move v4, p2

    move p2, v8

    .line 7531
    :cond_4
    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v5, v5, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v5, :cond_5

    int-to-float p2, p2

    .line 7532
    iget v6, v5, Lorg/telegram/messenger/MediaController$CropState;->cropPw:F

    mul-float p2, p2, v6

    float-to-int p2, p2

    int-to-float v4, v4

    .line 7533
    iget v5, v5, Lorg/telegram/messenger/MediaController$CropState;->cropPh:F

    mul-float v4, v4, v5

    float-to-int v4, v4

    .line 7535
    :cond_5
    invoke-direct {p0, v2}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth(I)I

    move-result v5

    int-to-float v5, v5

    int-to-float p2, p2

    div-float/2addr v5, p2

    invoke-direct {p0, v2}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(I)I

    move-result v6

    int-to-float v6, v6

    int-to-float v4, v4

    div-float/2addr v6, v4

    invoke-static {v5, v6}, Ljava/lang/Math;->min(FF)F

    move-result v5

    const/high16 v6, 0x42b40000    # 90.0f

    div-float v6, p1, v6

    const/high16 v7, 0x40000000    # 2.0f

    rem-float/2addr v6, v7

    .line 7537
    invoke-static {v6}, Ljava/lang/Math;->abs(F)F

    move-result v6

    cmpl-float v3, v6, v3

    if-nez v3, :cond_6

    .line 7538
    invoke-direct {p0, v2}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth(I)I

    move-result v3

    int-to-float v3, v3

    div-float/2addr v3, v4

    invoke-direct {p0, v2}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(I)I

    move-result v4

    int-to-float v4, v4

    div-float/2addr v4, p2

    invoke-static {v3, v4}, Ljava/lang/Math;->min(FF)F

    move-result p2

    goto :goto_0

    :cond_6
    move p2, v5

    :goto_0
    div-float/2addr p2, v5

    .line 7540
    iput p2, p0, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    :cond_7
    :goto_1
    new-array p2, v0, [F

    .line 7542
    fill-array-data p2, :array_0

    invoke-static {p2}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object p2

    .line 7543
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    iget-object v3, v3, Lorg/telegram/ui/Components/PhotoCropView;->wheelView:Lorg/telegram/ui/Components/Crop/CropRotationWheel;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropRotationWheel;->getRotation()F

    move-result v3

    .line 7544
    new-instance v4, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda16;

    invoke-direct {v4, p0, p1, v3}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda16;-><init>(Lorg/telegram/ui/PhotoViewer;FF)V

    invoke-virtual {p2, v4}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 7548
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    new-array v4, v0, [Landroid/animation/Animator;

    sget-object v5, Lorg/telegram/ui/Components/AnimationProperties;->PHOTO_VIEWER_ANIMATION_VALUE:Landroid/util/Property;

    new-array v0, v0, [F

    fill-array-data v0, :array_1

    .line 7549
    invoke-static {p0, v5, v0}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v0

    aput-object v0, v4, v1

    aput-object p2, v4, v2

    .line 7548
    invoke-virtual {v3, v4}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    .line 7552
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    const-wide/16 v3, 0xfa

    invoke-virtual {p2, v3, v4}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 7553
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    sget-object v0, Lorg/telegram/ui/Components/CubicBezierInterpolator;->DEFAULT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-virtual {p2, v0}, Landroid/animation/AnimatorSet;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    .line 7554
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    new-instance v0, Lorg/telegram/ui/PhotoViewer$39;

    invoke-direct {v0, p0, p1, p3}, Lorg/telegram/ui/PhotoViewer$39;-><init>(Lorg/telegram/ui/PhotoViewer;FLjava/lang/Runnable;)V

    invoke-virtual {p2, v0}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 7580
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {p2}, Landroid/animation/AnimatorSet;->start()V

    .line 7581
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    iget-object p2, p2, Lorg/telegram/ui/Components/PhotoCropView;->cropView:Lorg/telegram/ui/Components/Crop/CropView;

    invoke-virtual {p2}, Lorg/telegram/ui/Components/Crop/CropView;->getStateOrientation()F

    move-result p2

    add-float/2addr p2, p1

    invoke-static {p2}, Ljava/lang/Math;->abs(F)F

    move-result p1

    const p2, 0x3c23d70a    # 0.01f

    cmpl-float p1, p1, p2

    if-lez p1, :cond_8

    const/4 v1, 0x1

    :cond_8
    return v1

    :array_0
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data

    :array_1
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data
.end method

.method private detectFaces()V
    .locals 3

    .line 9801
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getAnimation()Lorg/telegram/ui/Components/AnimatedFileDrawable;

    move-result-object v0

    if-nez v0, :cond_2

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_2

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v1, 0x1

    if-ne v0, v1, :cond_0

    goto :goto_0

    .line 9804
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getImageKey()Ljava/lang/String;

    move-result-object v0

    .line 9805
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentImageFaceKey:Ljava/lang/String;

    if-eqz v1, :cond_1

    invoke-virtual {v1, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v1

    if-eqz v1, :cond_1

    return-void

    :cond_1
    const/4 v1, 0x0

    .line 9808
    iput v1, p0, Lorg/telegram/ui/PhotoViewer;->currentImageHasFace:I

    .line 9809
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapSafe()Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    move-result-object v1

    .line 9810
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v2}, Lorg/telegram/messenger/ImageReceiver;->getOrientation()I

    move-result v2

    invoke-direct {p0, v0, v1, v2}, Lorg/telegram/ui/PhotoViewer;->detectFaces(Ljava/lang/String;Lorg/telegram/messenger/ImageReceiver$BitmapHolder;I)V

    :cond_2
    :goto_0
    return-void
.end method

.method private detectFaces(Ljava/lang/String;Lorg/telegram/messenger/ImageReceiver$BitmapHolder;I)V
    .locals 2

    if-eqz p1, :cond_1

    if-eqz p2, :cond_1

    .line 9814
    iget-object v0, p2, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    if-nez v0, :cond_0

    goto :goto_0

    .line 9817
    :cond_0
    sget-object v0, Lorg/telegram/messenger/Utilities;->globalQueue:Lorg/telegram/messenger/DispatchQueue;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda73;

    invoke-direct {v1, p0, p2, p3, p1}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda73;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/messenger/ImageReceiver$BitmapHolder;ILjava/lang/String;)V

    invoke-virtual {v0, v1}, Lorg/telegram/messenger/DispatchQueue;->postRunnable(Ljava/lang/Runnable;)Z

    :cond_1
    :goto_0
    return-void
.end method

.method private didChangedCompressionLevel(Z)V
    .locals 5

    .line 17701
    invoke-static {}, Lorg/telegram/messenger/MessagesController;->getGlobalMainSettings()Landroid/content/SharedPreferences;

    move-result-object v0

    .line 17702
    invoke-interface {v0}, Landroid/content/SharedPreferences;->edit()Landroid/content/SharedPreferences$Editor;

    move-result-object v0

    const/4 v1, 0x1

    new-array v2, v1, [Ljava/lang/Object;

    .line 17703
    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    const/4 v4, 0x0

    aput-object v3, v2, v4

    const-string v3, "compress_video_%d"

    invoke-static {v3, v2}, Ljava/lang/String;->format(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v2

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    invoke-interface {v0, v2, v3}, Landroid/content/SharedPreferences$Editor;->putInt(Ljava/lang/String;I)Landroid/content/SharedPreferences$Editor;

    .line 17704
    invoke-interface {v0}, Landroid/content/SharedPreferences$Editor;->commit()Z

    .line 17705
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateWidthHeightBitrateForCompression()V

    .line 17706
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateVideoInfo()V

    if-eqz p1, :cond_0

    .line 17708
    invoke-direct {p0, v1}, Lorg/telegram/ui/PhotoViewer;->requestVideoPreview(I)V

    :cond_0
    return-void
.end method

.method private dismissInternal()V
    .locals 2

    .line 7269
    :try_start_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getParent()Landroid/view/ViewParent;

    move-result-object v0

    if-eqz v0, :cond_1

    .line 7270
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    instance-of v1, v0, Lorg/telegram/ui/LaunchActivity;

    if-eqz v1, :cond_0

    .line 7271
    check-cast v0, Lorg/telegram/ui/LaunchActivity;

    iget-object v0, v0, Lorg/telegram/ui/LaunchActivity;->drawerLayoutContainer:Lorg/telegram/ui/ActionBar/DrawerLayoutContainer;

    const/4 v1, 0x1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/DrawerLayoutContainer;->setAllowDrawContent(Z)V

    .line 7273
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const-string v1, "window"

    invoke-virtual {v0, v1}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/view/WindowManager;

    .line 7274
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-interface {v0, v1}, Landroid/view/WindowManager;->removeView(Landroid/view/View;)V

    .line 7275
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->onHideView()V
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_0

    :catch_0
    move-exception v0

    .line 7278
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :cond_1
    :goto_0
    return-void
.end method

.method private drawCaptionBlur(Landroid/graphics/Canvas;Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;IIZZZ)V
    .locals 44

    move-object/from16 v9, p0

    move-object/from16 v10, p1

    move-object/from16 v11, p2

    move/from16 v0, p3

    move/from16 v12, p4

    .line 18398
    sget-boolean v1, Lorg/telegram/messenger/SharedConfig;->photoViewerBlur:Z

    const/4 v13, 0x3

    const/4 v14, 0x0

    const/4 v15, 0x2

    const/4 v8, 0x1

    const/high16 v7, 0x3f800000    # 1.0f

    if-nez v1, :cond_0

    const/high16 v6, 0x3f800000    # 1.0f

    goto :goto_2

    :cond_0
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->blurAlpha:Lorg/telegram/ui/Components/AnimatedFloat;

    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-eqz v2, :cond_2

    if-eq v2, v15, :cond_2

    if-ne v2, v13, :cond_1

    goto :goto_0

    :cond_1
    const/4 v2, 0x0

    goto :goto_1

    :cond_2
    :goto_0
    const/4 v2, 0x1

    :goto_1
    invoke-virtual {v1, v2}, Lorg/telegram/ui/Components/AnimatedFloat;->set(Z)F

    move-result v1

    move v6, v1

    .line 18400
    :goto_2
    iget-object v1, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    const/4 v5, 0x0

    invoke-virtual {v1, v5}, Landroid/graphics/Paint;->setShader(Landroid/graphics/Shader;)Landroid/graphics/Shader;

    const v4, 0x3f333333    # 0.7f

    if-eqz v0, :cond_4

    .line 18402
    iget-object v1, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v1, v0}, Landroid/graphics/Paint;->setColor(I)V

    .line 18403
    iget-object v0, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v0}, Landroid/graphics/Paint;->getAlpha()I

    move-result v1

    int-to-float v1, v1

    if-eqz p6, :cond_3

    move v2, v6

    goto :goto_3

    :cond_3
    const/high16 v2, 0x3f800000    # 1.0f

    :goto_3
    invoke-static {v4, v7, v2}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result v2

    mul-float v1, v1, v2

    float-to-int v1, v1

    invoke-virtual {v0, v1}, Landroid/graphics/Paint;->setAlpha(I)V

    .line 18404
    iget-object v0, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v10, v0}, Landroid/graphics/Canvas;->drawPaint(Landroid/graphics/Paint;)V

    .line 18407
    :cond_4
    sget-boolean v0, Lorg/telegram/messenger/SharedConfig;->photoViewerBlur:Z

    const/4 v3, 0x0

    if-eqz v0, :cond_71

    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-eqz v0, :cond_5

    goto/16 :goto_39

    :cond_5
    if-eqz p7, :cond_b

    .line 18418
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    if-nez v0, :cond_6

    new-array v0, v13, [Lorg/telegram/ui/Components/AnimatedFloat;

    .line 18419
    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    .line 18420
    new-instance v1, Lorg/telegram/ui/Components/AnimatedFloat;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda62;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda62;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    sget-object v4, Lorg/telegram/ui/Components/CubicBezierInterpolator;->EASE_OUT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    move/from16 v17, v6

    const-wide/16 v5, 0xb4

    invoke-direct {v1, v2, v5, v6, v4}, Lorg/telegram/ui/Components/AnimatedFloat;-><init>(Ljava/lang/Runnable;JLandroid/animation/TimeInterpolator;)V

    aput-object v1, v0, v14

    .line 18421
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    new-instance v1, Lorg/telegram/ui/Components/AnimatedFloat;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda62;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda62;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-direct {v1, v2, v5, v6, v4}, Lorg/telegram/ui/Components/AnimatedFloat;-><init>(Ljava/lang/Runnable;JLandroid/animation/TimeInterpolator;)V

    aput-object v1, v0, v8

    .line 18422
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    new-instance v1, Lorg/telegram/ui/Components/AnimatedFloat;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda62;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda62;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-direct {v1, v2, v5, v6, v4}, Lorg/telegram/ui/Components/AnimatedFloat;-><init>(Ljava/lang/Runnable;JLandroid/animation/TimeInterpolator;)V

    aput-object v1, v0, v15

    goto :goto_4

    :cond_6
    move/from16 v17, v6

    .line 18425
    :goto_4
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    aget-object v0, v0, v14

    invoke-virtual {v0, v7, v8}, Lorg/telegram/ui/Components/AnimatedFloat;->set(FZ)F

    .line 18426
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    aget-object v0, v0, v15

    invoke-virtual {v0, v7, v8}, Lorg/telegram/ui/Components/AnimatedFloat;->set(FZ)F

    .line 18427
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->blurBounds:Landroid/graphics/RectF;

    if-nez v0, :cond_7

    .line 18428
    new-instance v0, Landroid/graphics/RectF;

    invoke-direct {v0}, Landroid/graphics/RectF;-><init>()V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->blurBounds:Landroid/graphics/RectF;

    .line 18430
    :cond_7
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBounds:Landroid/graphics/RectF;

    if-nez v0, :cond_8

    .line 18431
    new-instance v0, Landroid/graphics/RectF;

    invoke-direct {v0}, Landroid/graphics/RectF;-><init>()V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBounds:Landroid/graphics/RectF;

    .line 18433
    :cond_8
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    if-nez v0, :cond_9

    .line 18434
    new-instance v0, Landroid/graphics/Matrix;

    invoke-direct {v0}, Landroid/graphics/Matrix;-><init>()V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    .line 18436
    :cond_9
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    if-nez v0, :cond_a

    const/16 v0, 0x8

    new-array v0, v0, [F

    .line 18437
    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    .line 18439
    :cond_a
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->blurBounds:Landroid/graphics/RectF;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v1}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->getBounds()Landroid/graphics/RectF;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/graphics/RectF;->set(Landroid/graphics/RectF;)V

    .line 18440
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->blurBounds:Landroid/graphics/RectF;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->captionEditContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getX()F

    move-result v1

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->captionEditContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getY()F

    move-result v2

    invoke-virtual {v0, v1, v2}, Landroid/graphics/RectF;->offset(FF)V

    .line 18441
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->blurBounds:Landroid/graphics/RectF;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getX()F

    move-result v1

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getY()F

    move-result v2

    invoke-virtual {v0, v1, v2}, Landroid/graphics/RectF;->offset(FF)V

    .line 18442
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v0}, Landroid/graphics/Matrix;->reset()V

    goto :goto_5

    :cond_b
    move/from16 v17, v6

    .line 18445
    :goto_5
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->getSaveCount()I

    move-result v6

    .line 18446
    iget-boolean v0, v9, Lorg/telegram/ui/PhotoViewer;->padImageForHorizontalInsets:Z

    if-eqz v0, :cond_c

    .line 18447
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 18448
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v0

    div-int/2addr v0, v15

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getRightInset()I

    move-result v1

    div-int/2addr v1, v15

    sub-int/2addr v0, v1

    int-to-float v0, v0

    invoke-virtual {v10, v0, v3}, Landroid/graphics/Canvas;->translate(FF)V

    if-eqz p7, :cond_c

    .line 18450
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v1

    div-int/2addr v1, v15

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getRightInset()I

    move-result v2

    div-int/2addr v2, v15

    sub-int/2addr v1, v2

    int-to-float v1, v1

    invoke-virtual {v0, v1, v3}, Landroid/graphics/Matrix;->preTranslate(FF)Z

    .line 18459
    :cond_c
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    if-eqz v0, :cond_d

    .line 18460
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->mirror:F

    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->animateToMirror:F

    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    invoke-static {v0, v1, v2}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result v0

    .line 18461
    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->scale:F

    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    iget v4, v9, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    invoke-static {v1, v2, v4}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result v1

    .line 18462
    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->rotate:F

    iget v4, v9, Lorg/telegram/ui/PhotoViewer;->animateToRotate:F

    iget v5, v9, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    invoke-static {v2, v4, v5}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result v2

    .line 18463
    iget v4, v9, Lorg/telegram/ui/PhotoViewer;->translationY:F

    iget v5, v9, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    iget v13, v9, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    invoke-static {v4, v5, v13}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result v4

    .line 18464
    iget v5, v9, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v13, v9, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    iget v3, v9, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    invoke-static {v5, v13, v3}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result v3

    move v14, v0

    move/from16 v22, v1

    goto :goto_6

    .line 18466
    :cond_d
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->scale:F

    .line 18467
    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->mirror:F

    .line 18468
    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->rotate:F

    .line 18469
    iget v4, v9, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 18470
    iget v3, v9, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 18471
    iget-wide v14, v9, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    const-wide/16 v20, 0x0

    cmp-long v5, v14, v20

    if-eqz v5, :cond_e

    .line 18472
    iget v3, v9, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    .line 18473
    iget v4, v9, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 18474
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    :cond_e
    move/from16 v22, v0

    move v14, v1

    :goto_6
    move v15, v2

    move/from16 v20, v3

    move/from16 v21, v4

    .line 18478
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v5

    .line 18479
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v4

    .line 18481
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v0, :cond_10

    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v0, v8, :cond_10

    .line 18482
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->scale:F

    cmpl-float v0, v0, v7

    if-ltz v0, :cond_10

    iget-boolean v0, v9, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    if-nez v0, :cond_10

    iget-boolean v0, v9, Lorg/telegram/ui/PhotoViewer;->zooming:Z

    if-nez v0, :cond_10

    .line 18483
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->maxX:F

    const/high16 v1, 0x40a00000    # 5.0f

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v2

    int-to-float v2, v2

    add-float/2addr v0, v2

    cmpl-float v0, v20, v0

    if-lez v0, :cond_f

    .line 18484
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    :goto_7
    move-object v3, v0

    goto :goto_8

    .line 18485
    :cond_f
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->minX:F

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v1

    int-to-float v1, v1

    sub-float/2addr v0, v1

    cmpg-float v0, v20, v0

    if-gez v0, :cond_10

    .line 18486
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    goto :goto_7

    :cond_10
    const/4 v3, 0x0

    .line 18490
    :goto_8
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    const v23, 0x3e99999a    # 0.3f

    const/high16 v24, 0x41f00000    # 30.0f

    const/high16 v25, 0x40400000    # 3.0f

    const/high16 v26, 0x437f0000    # 255.0f

    if-ne v3, v0, :cond_1a

    if-eqz p7, :cond_11

    .line 18491
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    const/4 v1, 0x0

    aget-object v0, v0, v1

    invoke-virtual {v0, v7, v8}, Lorg/telegram/ui/Components/AnimatedFloat;->set(FZ)F

    move-result v0

    move/from16 v27, v0

    goto :goto_9

    :cond_11
    const/high16 v27, 0x3f800000    # 1.0f

    .line 18495
    :goto_9
    iget-boolean v0, v9, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    if-nez v0, :cond_12

    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpg-float v1, v20, v0

    if-gez v1, :cond_12

    sub-float v0, v0, v20

    int-to-float v1, v5

    div-float/2addr v0, v1

    .line 18496
    invoke-static {v7, v0}, Ljava/lang/Math;->min(FF)F

    move-result v0

    sub-float v1, v7, v0

    mul-float v1, v1, v23

    neg-int v2, v5

    .line 18498
    invoke-static/range {v24 .. v24}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v28

    const/16 v19, 0x2

    div-int/lit8 v28, v28, 0x2

    sub-int v2, v2, v28

    int-to-float v2, v2

    move/from16 v28, v0

    goto :goto_a

    :cond_12
    move/from16 v2, v20

    const/4 v1, 0x0

    const/high16 v28, 0x3f800000    # 1.0f

    .line 18501
    :goto_a
    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->hasBitmapImage()Z

    move-result v0

    if-eqz v0, :cond_1a

    .line 18502
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 18503
    div-int/lit8 v0, v5, 0x2

    int-to-float v0, v0

    div-int/lit8 v8, v4, 0x2

    int-to-float v8, v8

    invoke-virtual {v10, v0, v8}, Landroid/graphics/Canvas;->translate(FF)V

    .line 18504
    invoke-static/range {v24 .. v24}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v0

    const/4 v8, 0x2

    div-int/2addr v0, v8

    add-int/2addr v0, v5

    int-to-float v0, v0

    add-float/2addr v0, v2

    const/4 v8, 0x0

    invoke-virtual {v10, v0, v8}, Landroid/graphics/Canvas;->translate(FF)V

    sub-float v0, v7, v1

    .line 18505
    invoke-virtual {v10, v0, v0}, Landroid/graphics/Canvas;->scale(FF)V

    .line 18506
    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v2

    .line 18507
    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v1

    .line 18508
    iget-boolean v0, v9, Lorg/telegram/ui/PhotoViewer;->rightImageIsVideo:Z

    if-nez v0, :cond_13

    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->rightCropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v0, :cond_13

    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->hasViewTransform()Z

    move-result v0

    if-eqz v0, :cond_13

    const/high16 v30, 0x3f800000    # 1.0f

    .line 18509
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    iget-object v8, v9, Lorg/telegram/ui/PhotoViewer;->rightCropState:Lorg/telegram/messenger/MediaController$CropState;

    move-object/from16 v31, v0

    move-object/from16 v0, p0

    move/from16 v32, v1

    move-object/from16 v1, p1

    move/from16 v33, v2

    const/high16 v13, -0x40800000    # -1.0f

    move v2, v5

    move-object/from16 v34, v3

    move v3, v4

    move v13, v4

    move/from16 v4, v33

    move v12, v5

    move/from16 v16, v14

    const/4 v14, 0x0

    move/from16 v5, v32

    move/from16 v36, v6

    move/from16 v35, v17

    move/from16 v6, v30

    const/high16 v14, 0x3f800000    # 1.0f

    move-object/from16 v7, v31

    const/4 v14, 0x1

    invoke-direct/range {v0 .. v8}, Lorg/telegram/ui/PhotoViewer;->applyCrop(Landroid/graphics/Canvas;IIIIFLorg/telegram/ui/Components/Crop/CropTransform;Lorg/telegram/messenger/MediaController$CropState;)[I

    goto :goto_b

    :cond_13
    move/from16 v32, v1

    move/from16 v33, v2

    move-object/from16 v34, v3

    move v13, v4

    move v12, v5

    move/from16 v36, v6

    move/from16 v16, v14

    move/from16 v35, v17

    const/4 v14, 0x1

    :goto_b
    int-to-float v0, v12

    move/from16 v1, v33

    int-to-float v1, v1

    div-float/2addr v0, v1

    int-to-float v2, v13

    move/from16 v3, v32

    int-to-float v3, v3

    div-float/2addr v2, v3

    .line 18513
    invoke-static {v0, v2}, Ljava/lang/Math;->min(FF)F

    move-result v0

    mul-float v1, v1, v0

    float-to-int v1, v1

    mul-float v3, v3, v0

    float-to-int v0, v3

    .line 18517
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-nez v2, :cond_16

    .line 18518
    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v2, v14, :cond_15

    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v14, :cond_14

    goto :goto_c

    .line 18521
    :cond_14
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->rightCropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v2, :cond_16

    iget-boolean v2, v2, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v2, :cond_16

    const/4 v8, 0x1

    goto :goto_d

    .line 18519
    :cond_15
    :goto_c
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/Crop/CropTransform;->isMirrored()Z

    move-result v2

    move v8, v2

    goto :goto_d

    :cond_16
    const/4 v8, 0x0

    :goto_d
    if-eqz v8, :cond_17

    const/high16 v2, -0x40800000    # -1.0f

    const/high16 v3, 0x3f800000    # 1.0f

    .line 18525
    invoke-virtual {v10, v2, v3}, Landroid/graphics/Canvas;->scale(FF)V

    .line 18529
    :cond_17
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->rightBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    move-object/from16 v8, v34

    invoke-virtual {v2, v8}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;->getBitmap(Lorg/telegram/messenger/ImageReceiver;)Landroid/graphics/Bitmap;

    move-result-object v2

    if-eqz v2, :cond_19

    .line 18531
    iget-object v3, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    const/4 v4, 0x0

    invoke-virtual {v3, v4}, Landroid/graphics/Paint;->setShader(Landroid/graphics/Shader;)Landroid/graphics/Shader;

    .line 18532
    iget-object v3, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    mul-float v28, v28, v26

    move/from16 v7, v35

    mul-float v28, v28, v7

    mul-float v4, v28, v27

    float-to-int v4, v4

    invoke-virtual {v3, v4}, Landroid/graphics/Paint;->setAlpha(I)V

    .line 18533
    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v3

    int-to-float v3, v3

    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v4

    int-to-float v4, v4

    sub-float v4, v4, v25

    div-float/2addr v3, v4

    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v4

    int-to-float v4, v4

    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v5

    int-to-float v5, v5

    sub-float v5, v5, v25

    div-float/2addr v4, v5

    invoke-virtual {v10, v3, v4}, Landroid/graphics/Canvas;->scale(FF)V

    neg-int v3, v1

    const/4 v4, 0x2

    .line 18534
    div-int/2addr v3, v4

    int-to-float v3, v3

    neg-int v5, v0

    div-int/2addr v5, v4

    int-to-float v4, v5

    invoke-virtual {v10, v3, v4}, Landroid/graphics/Canvas;->translate(FF)V

    int-to-float v1, v1

    const/high16 v3, 0x3f800000    # 1.0f

    mul-float v1, v1, v3

    .line 18535
    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v4

    int-to-float v4, v4

    div-float/2addr v1, v4

    int-to-float v0, v0

    mul-float v0, v0, v3

    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v3

    int-to-float v3, v3

    div-float/2addr v0, v3

    invoke-virtual {v10, v1, v0}, Landroid/graphics/Canvas;->scale(FF)V

    const/4 v6, 0x0

    if-eqz p5, :cond_18

    float-to-int v0, v6

    .line 18538
    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v1

    sub-int/2addr v1, v0

    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v3

    sub-int/2addr v3, v0

    invoke-virtual {v10, v0, v0, v1, v3}, Landroid/graphics/Canvas;->clipRect(IIII)Z

    .line 18540
    :cond_18
    iget-object v0, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v10, v2, v6, v6, v0}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;FFLandroid/graphics/Paint;)V

    goto :goto_e

    :cond_19
    move/from16 v7, v35

    const/4 v6, 0x0

    .line 18543
    :goto_e
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    goto :goto_f

    :cond_1a
    move-object v8, v3

    move v13, v4

    move v12, v5

    move/from16 v36, v6

    move/from16 v16, v14

    move/from16 v7, v17

    const/4 v6, 0x0

    const/4 v14, 0x1

    .line 18550
    :goto_f
    iget-boolean v0, v9, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    if-nez v0, :cond_1b

    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpl-float v1, v20, v0

    if-lez v1, :cond_1b

    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v1, :cond_1b

    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v1, v14, :cond_1b

    sub-float v0, v20, v0

    int-to-float v1, v12

    div-float/2addr v0, v1

    const/high16 v1, 0x3f800000    # 1.0f

    .line 18551
    invoke-static {v1, v0}, Ljava/lang/Math;->min(FF)F

    move-result v0

    mul-float v3, v0, v23

    sub-float v0, v1, v0

    .line 18554
    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->maxX:F

    goto :goto_10

    :cond_1b
    move/from16 v1, v20

    const/high16 v0, 0x3f800000    # 1.0f

    const/4 v3, 0x0

    .line 18557
    :goto_10
    iget-boolean v2, v9, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    if-eqz v2, :cond_1c

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    if-eqz v2, :cond_1c

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v2

    if-nez v2, :cond_1c

    const/4 v2, 0x1

    goto :goto_11

    :cond_1c
    const/4 v2, 0x0

    .line 18558
    :goto_11
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v4}, Lorg/telegram/messenger/ImageReceiver;->hasBitmapImage()Z

    move-result v4

    if-nez v4, :cond_1e

    if-eqz v2, :cond_1d

    iget-boolean v4, v9, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    if-eqz v4, :cond_1d

    goto :goto_12

    :cond_1d
    move/from16 v32, v7

    move-object/from16 v39, v8

    move/from16 v38, v12

    move/from16 v31, v13

    const/4 v8, 0x0

    goto/16 :goto_33

    .line 18559
    :cond_1e
    :goto_12
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 18560
    div-int/lit8 v4, v12, 0x2

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getAdditionX()I

    move-result v23

    add-int v5, v4, v23

    int-to-float v5, v5

    div-int/lit8 v23, v13, 0x2

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getAdditionY()I

    move-result v28

    add-int v14, v23, v28

    int-to-float v14, v14

    invoke-virtual {v10, v5, v14}, Landroid/graphics/Canvas;->translate(FF)V

    .line 18561
    iget v5, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v14, 0x3

    if-eq v5, v14, :cond_1f

    iget v5, v9, Lorg/telegram/ui/PhotoViewer;->currentPanTranslationY:F

    goto :goto_13

    :cond_1f
    const/4 v5, 0x0

    :goto_13
    add-float v5, v21, v5

    invoke-virtual {v10, v1, v5}, Landroid/graphics/Canvas;->translate(FF)V

    sub-float v3, v22, v3

    .line 18562
    invoke-virtual {v10, v3, v3}, Landroid/graphics/Canvas;->scale(FF)V

    .line 18563
    invoke-virtual {v10, v15}, Landroid/graphics/Canvas;->rotate(F)V

    if-eqz p7, :cond_21

    .line 18565
    iget-object v5, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getAdditionX()I

    move-result v14

    add-int/2addr v4, v14

    int-to-float v4, v4

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getAdditionY()I

    move-result v14

    add-int v14, v23, v14

    int-to-float v14, v14

    invoke-virtual {v5, v4, v14}, Landroid/graphics/Matrix;->preTranslate(FF)Z

    .line 18566
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    iget v5, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v14, 0x3

    if-eq v5, v14, :cond_20

    iget v5, v9, Lorg/telegram/ui/PhotoViewer;->currentPanTranslationY:F

    goto :goto_14

    :cond_20
    const/4 v5, 0x0

    :goto_14
    add-float v5, v21, v5

    invoke-virtual {v4, v1, v5}, Landroid/graphics/Matrix;->preTranslate(FF)Z

    .line 18567
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v1, v3, v3, v6, v6}, Landroid/graphics/Matrix;->preScale(FFFF)Z

    .line 18568
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v1, v15}, Landroid/graphics/Matrix;->preRotate(F)Z

    .line 18570
    :cond_21
    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v4, 0x3

    if-ne v1, v4, :cond_23

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v1, :cond_23

    const/4 v1, 0x0

    const/4 v4, 0x1

    .line 18571
    invoke-direct {v9, v4, v1}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(ZI)I

    move-result v5

    .line 18572
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    sget-object v14, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v14, v14, Landroid/graphics/Point;->y:I

    sget v15, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    add-int/2addr v14, v15

    sub-int/2addr v14, v5

    invoke-static {v14}, Ljava/lang/Math;->abs(I)I

    move-result v14

    const/high16 v15, 0x41a00000    # 20.0f

    invoke-static {v15}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v15

    if-ge v14, v15, :cond_22

    const/4 v14, 0x1

    goto :goto_15

    :cond_22
    const/4 v14, 0x0

    :goto_15
    invoke-virtual {v4, v14}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getEmojiPadding(Z)I

    move-result v4

    sub-int/2addr v5, v4

    const/4 v1, 0x0

    .line 18573
    invoke-direct {v9, v1, v1}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(ZI)I

    move-result v4

    sub-int/2addr v5, v4

    int-to-float v4, v5

    const/high16 v5, 0x40000000    # 2.0f

    div-float/2addr v4, v5

    .line 18574
    iget-object v5, v9, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v5}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->adjustPanLayoutHelperProgress()F

    move-result v5

    const/high16 v14, 0x3f800000    # 1.0f

    sub-float v5, v14, v5

    mul-float v5, v5, v4

    invoke-virtual {v10, v6, v5}, Landroid/graphics/Canvas;->translate(FF)V

    if-eqz p7, :cond_23

    .line 18576
    iget-object v5, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    iget-object v15, v9, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v15}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->adjustPanLayoutHelperProgress()F

    move-result v15

    sub-float v15, v14, v15

    mul-float v4, v4, v15

    invoke-virtual {v5, v6, v4}, Landroid/graphics/Matrix;->preTranslate(FF)Z

    :cond_23
    if-eqz v2, :cond_25

    .line 18582
    iget-boolean v4, v9, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    if-eqz v4, :cond_25

    iget-boolean v4, v9, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    if-eqz v4, :cond_25

    .line 18583
    iget-boolean v4, v9, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v4, :cond_24

    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    goto :goto_16

    :cond_24
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    .line 18584
    :goto_16
    invoke-virtual {v4}, Landroid/view/View;->getMeasuredWidth()I

    move-result v5

    .line 18585
    invoke-virtual {v4}, Landroid/view/View;->getMeasuredHeight()I

    move-result v4

    goto :goto_17

    .line 18587
    :cond_25
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v4}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v5

    .line 18588
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v4}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v4

    :goto_17
    int-to-float v14, v12

    int-to-float v15, v5

    div-float v1, v14, v15

    int-to-float v6, v13

    move/from16 v21, v5

    int-to-float v5, v4

    move/from16 v23, v4

    div-float v4, v6, v5

    .line 18591
    invoke-static {v1, v4}, Ljava/lang/Math;->min(FF)F

    move-result v28

    move/from16 v30, v4

    mul-float v4, v15, v28

    float-to-int v4, v4

    move/from16 v31, v13

    mul-float v13, v5, v28

    float-to-int v13, v13

    int-to-float v4, v4

    int-to-float v13, v13

    move/from16 v32, v4

    .line 18595
    iget-boolean v4, v9, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    const/16 v33, 0x7

    const/16 v34, 0x6

    const/16 v35, 0x5

    const/16 v37, 0x4

    if-nez v4, :cond_31

    if-eqz v2, :cond_27

    iget-boolean v2, v9, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    if-nez v2, :cond_26

    iget-boolean v2, v9, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    if-eqz v2, :cond_27

    :cond_26
    iget-boolean v2, v9, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeStarted:Z

    if-eqz v2, :cond_27

    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    const/high16 v4, 0x3f800000    # 1.0f

    cmpl-float v2, v2, v4

    if-eqz v2, :cond_31

    .line 18596
    :cond_27
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmap:Landroid/graphics/Bitmap;

    if-eqz v2, :cond_28

    iget-boolean v2, v9, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v2, :cond_31

    .line 18597
    :cond_28
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v2}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v2

    int-to-float v2, v2

    .line 18598
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v4}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v4

    int-to-float v4, v4

    .line 18600
    iget-boolean v13, v9, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v13, :cond_29

    iget v13, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v13, :cond_29

    iget v13, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    move/from16 v38, v12

    const/4 v12, 0x1

    if-ne v13, v12, :cond_2a

    const/4 v12, 0x0

    .line 18601
    invoke-direct {v9, v12}, Lorg/telegram/ui/PhotoViewer;->getCropFillScale(Z)F

    move-result v13

    goto :goto_18

    :cond_29
    move/from16 v38, v12

    :cond_2a
    div-float v13, v14, v2

    div-float v12, v6, v4

    .line 18603
    invoke-static {v13, v12}, Ljava/lang/Math;->min(FF)F

    move-result v13

    :goto_18
    mul-float v2, v2, v13

    mul-float v13, v13, v4

    .line 18607
    iget-boolean v4, v9, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v4, :cond_30

    if-eqz p7, :cond_2b

    .line 18610
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    neg-float v12, v2

    const/high16 v27, 0x40000000    # 2.0f

    div-float v12, v12, v27

    move-object/from16 v39, v8

    neg-float v8, v13

    div-float v8, v8, v27

    invoke-virtual {v4, v12, v8}, Landroid/graphics/Matrix;->preTranslate(FF)Z

    .line 18611
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    const/4 v8, 0x0

    const/4 v12, 0x0

    aput v12, v4, v8

    const/16 v29, 0x1

    .line 18612
    aput v12, v4, v29

    const/16 v19, 0x2

    .line 18613
    aput v2, v4, v19

    const/16 v18, 0x3

    .line 18614
    aput v12, v4, v18

    .line 18615
    aput v2, v4, v37

    .line 18616
    aput v13, v4, v35

    .line 18617
    aput v12, v4, v34

    .line 18618
    aput v13, v4, v33

    .line 18619
    iget-object v12, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v12, v4}, Landroid/graphics/Matrix;->mapPoints([F)V

    .line 18620
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->imageBounds:Landroid/graphics/RectF;

    iget-object v12, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    move/from16 p6, v3

    const/4 v8, 0x0

    aget v3, v12, v8

    aget v12, v12, v19

    .line 18621
    invoke-static {v3, v12}, Ljava/lang/Math;->min(FF)F

    move-result v3

    iget-object v12, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    aget v8, v12, v37

    aget v12, v12, v34

    invoke-static {v8, v12}, Ljava/lang/Math;->min(FF)F

    move-result v8

    invoke-static {v3, v8}, Ljava/lang/Math;->min(FF)F

    move-result v3

    iget-object v8, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    move/from16 v40, v15

    const/4 v12, 0x1

    aget v15, v8, v12

    const/4 v12, 0x3

    aget v8, v8, v12

    .line 18622
    invoke-static {v15, v8}, Ljava/lang/Math;->min(FF)F

    move-result v8

    iget-object v12, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    aget v15, v12, v35

    aget v12, v12, v33

    invoke-static {v15, v12}, Ljava/lang/Math;->min(FF)F

    move-result v12

    invoke-static {v8, v12}, Ljava/lang/Math;->min(FF)F

    move-result v8

    iget-object v12, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    move/from16 v41, v1

    const/4 v15, 0x0

    aget v1, v12, v15

    const/16 v19, 0x2

    aget v12, v12, v19

    .line 18623
    invoke-static {v1, v12}, Ljava/lang/Math;->max(FF)F

    move-result v1

    iget-object v12, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    aget v15, v12, v37

    aget v12, v12, v34

    invoke-static {v15, v12}, Ljava/lang/Math;->max(FF)F

    move-result v12

    invoke-static {v1, v12}, Ljava/lang/Math;->max(FF)F

    move-result v1

    iget-object v12, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    move/from16 v42, v5

    const/4 v15, 0x1

    aget v5, v12, v15

    const/16 v18, 0x3

    aget v12, v12, v18

    .line 18624
    invoke-static {v5, v12}, Ljava/lang/Math;->max(FF)F

    move-result v5

    iget-object v12, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    aget v15, v12, v35

    aget v12, v12, v33

    invoke-static {v15, v12}, Ljava/lang/Math;->max(FF)F

    move-result v12

    invoke-static {v5, v12}, Ljava/lang/Math;->max(FF)F

    move-result v5

    .line 18620
    invoke-virtual {v4, v3, v8, v1, v5}, Landroid/graphics/RectF;->set(FFFF)V

    .line 18626
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    const/4 v3, 0x1

    aget-object v1, v1, v3

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->blurBounds:Landroid/graphics/RectF;

    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->imageBounds:Landroid/graphics/RectF;

    invoke-virtual {v3, v4}, Landroid/graphics/RectF;->intersect(Landroid/graphics/RectF;)Z

    move-result v3

    invoke-virtual {v1, v3}, Lorg/telegram/ui/Components/AnimatedFloat;->set(Z)F

    move-result v1

    goto :goto_19

    :cond_2b
    move/from16 v41, v1

    move/from16 p6, v3

    move/from16 v42, v5

    move-object/from16 v39, v8

    move/from16 v40, v15

    const/high16 v1, 0x3f800000    # 1.0f

    .line 18631
    :goto_19
    iget v3, v9, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    const/high16 v4, 0x3f800000    # 1.0f

    cmpg-float v3, v3, v4

    if-gez v3, :cond_2d

    .line 18632
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3, v4}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;->getBitmap(Lorg/telegram/messenger/ImageReceiver;)Landroid/graphics/Bitmap;

    move-result-object v3

    if-eqz v3, :cond_2d

    .line 18634
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 18635
    iget-object v4, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    const/4 v5, 0x0

    invoke-virtual {v4, v5}, Landroid/graphics/Paint;->setShader(Landroid/graphics/Shader;)Landroid/graphics/Shader;

    .line 18636
    iget-object v4, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    mul-float v5, v1, v26

    mul-float v5, v5, v0

    iget v8, v9, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    const/high16 v12, 0x3f800000    # 1.0f

    sub-float v8, v12, v8

    mul-float v5, v5, v8

    mul-float v5, v5, v7

    float-to-int v5, v5

    invoke-virtual {v4, v5}, Landroid/graphics/Paint;->setAlpha(I)V

    .line 18637
    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v4

    int-to-float v4, v4

    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v5

    int-to-float v5, v5

    sub-float v5, v5, v25

    div-float/2addr v4, v5

    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v5

    int-to-float v5, v5

    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v8

    int-to-float v8, v8

    sub-float v8, v8, v25

    div-float/2addr v5, v8

    invoke-virtual {v10, v4, v5}, Landroid/graphics/Canvas;->scale(FF)V

    neg-float v4, v2

    const/high16 v5, 0x40000000    # 2.0f

    div-float/2addr v4, v5

    neg-float v8, v13

    div-float/2addr v8, v5

    .line 18638
    invoke-virtual {v10, v4, v8}, Landroid/graphics/Canvas;->translate(FF)V

    const/high16 v4, 0x3f800000    # 1.0f

    mul-float v5, v2, v4

    .line 18639
    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v8

    int-to-float v8, v8

    div-float/2addr v5, v8

    mul-float v8, v13, v4

    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v4

    int-to-float v4, v4

    div-float/2addr v8, v4

    invoke-virtual {v10, v5, v8}, Landroid/graphics/Canvas;->scale(FF)V

    const/4 v4, 0x0

    if-eqz p5, :cond_2c

    float-to-int v5, v4

    .line 18642
    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v8

    sub-int/2addr v8, v5

    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v12

    sub-int/2addr v12, v5

    invoke-virtual {v10, v5, v5, v8, v12}, Landroid/graphics/Canvas;->clipRect(IIII)Z

    .line 18644
    :cond_2c
    iget-object v5, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v10, v3, v4, v4, v5}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;FFLandroid/graphics/Paint;)V

    .line 18645
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    goto :goto_1a

    :cond_2d
    const/4 v4, 0x0

    .line 18648
    :goto_1a
    iget v3, v9, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    cmpl-float v3, v3, v4

    if-lez v3, :cond_2f

    .line 18649
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->blurManager:Lorg/telegram/ui/Components/BlurringShader$BlurManager;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/BlurringShader$BlurManager;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v3

    if-eqz v3, :cond_2f

    .line 18651
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 18652
    iget-object v4, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    const/4 v5, 0x0

    invoke-virtual {v4, v5}, Landroid/graphics/Paint;->setShader(Landroid/graphics/Shader;)Landroid/graphics/Shader;

    .line 18653
    iget-object v4, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    mul-float v1, v1, v26

    mul-float v1, v1, v0

    iget v5, v9, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    mul-float v1, v1, v5

    mul-float v1, v1, v7

    float-to-int v1, v1

    invoke-virtual {v4, v1}, Landroid/graphics/Paint;->setAlpha(I)V

    .line 18654
    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v1

    int-to-float v1, v1

    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v4

    int-to-float v4, v4

    sub-float v4, v4, v25

    div-float/2addr v1, v4

    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v4

    int-to-float v4, v4

    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v5

    int-to-float v5, v5

    sub-float v5, v5, v25

    div-float/2addr v4, v5

    invoke-virtual {v10, v1, v4}, Landroid/graphics/Canvas;->scale(FF)V

    neg-float v1, v2

    const/high16 v4, 0x40000000    # 2.0f

    div-float/2addr v1, v4

    neg-float v5, v13

    div-float/2addr v5, v4

    .line 18655
    invoke-virtual {v10, v1, v5}, Landroid/graphics/Canvas;->translate(FF)V

    const/high16 v1, 0x3f800000    # 1.0f

    mul-float v4, v2, v1

    .line 18656
    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v5

    int-to-float v5, v5

    div-float/2addr v4, v5

    mul-float v5, v13, v1

    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v1

    int-to-float v1, v1

    div-float/2addr v5, v1

    invoke-virtual {v10, v4, v5}, Landroid/graphics/Canvas;->scale(FF)V

    const/4 v1, 0x0

    if-eqz p5, :cond_2e

    float-to-int v4, v1

    .line 18659
    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v5

    sub-int/2addr v5, v4

    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v8

    sub-int/2addr v8, v4

    invoke-virtual {v10, v4, v4, v5, v8}, Landroid/graphics/Canvas;->clipRect(IIII)Z

    .line 18661
    :cond_2e
    iget-object v4, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v10, v3, v1, v1, v4}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;FFLandroid/graphics/Paint;)V

    .line 18662
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    :cond_2f
    move v4, v2

    const/4 v8, 0x1

    goto :goto_1c

    :cond_30
    move/from16 v41, v1

    move/from16 p6, v3

    move/from16 v42, v5

    move-object/from16 v39, v8

    move/from16 v40, v15

    move v4, v2

    goto :goto_1b

    :cond_31
    move/from16 v41, v1

    move/from16 p6, v3

    move/from16 v42, v5

    move-object/from16 v39, v8

    move/from16 v38, v12

    move/from16 v40, v15

    move/from16 v4, v32

    :goto_1b
    const/4 v8, 0x0

    .line 18672
    :goto_1c
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    const/4 v2, -0x1

    if-nez v1, :cond_36

    .line 18673
    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v3, 0x3

    if-eq v1, v3, :cond_35

    iget v5, v9, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-ne v5, v3, :cond_32

    goto :goto_1d

    .line 18675
    :cond_32
    iget v12, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v15, 0x1

    if-ne v12, v15, :cond_33

    if-eqz v5, :cond_35

    if-eq v1, v3, :cond_36

    const/4 v3, 0x2

    if-eq v1, v3, :cond_36

    goto :goto_1d

    .line 18678
    :cond_33
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    if-eqz v3, :cond_34

    if-ne v5, v2, :cond_35

    :cond_34
    if-eqz v1, :cond_35

    const/4 v3, 0x1

    if-eq v1, v3, :cond_35

    if-eq v5, v2, :cond_36

    :cond_35
    :goto_1d
    const/4 v1, 0x1

    goto :goto_1e

    :cond_36
    const/4 v1, 0x0

    :goto_1e
    if-eqz v1, :cond_54

    .line 18686
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v1

    const/16 v3, 0x5a

    if-eq v1, v3, :cond_38

    const/16 v3, 0x10e

    if-ne v1, v3, :cond_37

    goto :goto_1f

    :cond_37
    move/from16 v3, v21

    move/from16 v5, v23

    goto :goto_20

    :cond_38
    :goto_1f
    move/from16 v5, v21

    move/from16 v3, v23

    .line 18697
    :goto_20
    iget v12, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v15, 0x1

    if-eq v12, v15, :cond_3a

    iget v12, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v15, 0x3

    if-eq v12, v15, :cond_39

    iget v12, v9, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-ne v12, v15, :cond_3a

    :cond_39
    :goto_21
    const/high16 v2, 0x3f800000    # 1.0f

    goto :goto_22

    .line 18699
    :cond_3a
    iget-object v12, v9, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    if-eqz v12, :cond_3e

    iget v12, v9, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-eq v12, v2, :cond_3e

    .line 18700
    iget v15, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v2, 0x1

    if-eq v15, v2, :cond_39

    if-eq v12, v2, :cond_39

    const/4 v2, 0x2

    if-eq v15, v2, :cond_3b

    const/4 v2, 0x3

    if-ne v15, v2, :cond_3c

    :cond_3b
    const/4 v2, -0x1

    if-ne v12, v2, :cond_3c

    goto :goto_21

    :cond_3c
    if-nez v12, :cond_3d

    .line 18703
    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    goto :goto_22

    .line 18705
    :cond_3d
    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    const/high16 v12, 0x3f800000    # 1.0f

    sub-float v2, v12, v2

    goto :goto_22

    .line 18708
    :cond_3e
    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v12, 0x2

    if-eq v2, v12, :cond_3f

    const/4 v12, 0x3

    if-ne v2, v12, :cond_39

    :cond_3f
    const/4 v2, 0x0

    .line 18710
    :goto_22
    iget-object v12, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v12}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPw()F

    move-result v12

    .line 18711
    iget-object v15, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v15}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPh()F

    move-result v15

    int-to-float v3, v3

    const/high16 v17, 0x3f800000    # 1.0f

    sub-float v21, v17, v12

    sub-float v23, v17, v2

    mul-float v21, v21, v23

    add-float v12, v12, v21

    mul-float v12, v12, v3

    float-to-int v12, v12

    int-to-float v5, v5

    sub-float v21, v17, v15

    mul-float v21, v21, v23

    add-float v15, v15, v21

    mul-float v15, v15, v5

    float-to-int v15, v15

    int-to-float v12, v12

    div-float v21, v14, v12

    int-to-float v15, v15

    mul-float v32, v21, v15

    cmpl-float v32, v32, v6

    if-lez v32, :cond_40

    div-float v21, v6, v15

    :cond_40
    move/from16 v32, v7

    .line 18718
    iget v7, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    move/from16 v43, v0

    const/4 v0, 0x1

    if-eq v7, v0, :cond_43

    iget v7, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v7, v0, :cond_41

    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-nez v0, :cond_43

    :cond_41
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v0, :cond_43

    mul-float v12, v12, v21

    mul-float v15, v15, v21

    mul-float v0, v41, v42

    cmpl-float v0, v0, v6

    if-lez v0, :cond_42

    move/from16 v41, v30

    :cond_42
    mul-float v0, v40, v41

    div-float v0, v0, p6

    mul-float v7, v42, v41

    div-float v7, v7, p6

    sub-float/2addr v0, v12

    mul-float v0, v0, v23

    add-float/2addr v12, v0

    sub-float/2addr v7, v15

    mul-float v7, v7, v23

    add-float/2addr v15, v7

    neg-float v0, v12

    const/high16 v7, 0x40000000    # 2.0f

    div-float/2addr v0, v7

    neg-float v11, v15

    div-float/2addr v11, v7

    div-float/2addr v12, v7

    div-float/2addr v15, v7

    .line 18731
    invoke-virtual {v10, v0, v11, v12, v15}, Landroid/graphics/Canvas;->clipRect(FFFF)Z

    .line 18733
    :cond_43
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v7, 0x1

    if-eq v0, v7, :cond_44

    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->hasViewTransform()Z

    move-result v0

    if-eqz v0, :cond_55

    .line 18735
    :cond_44
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v0, v7, :cond_49

    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v0, v7, :cond_45

    goto :goto_25

    .line 18757
    :cond_45
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v0, :cond_47

    .line 18758
    iget-object v6, v9, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v6, v6, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v6, :cond_46

    iget-boolean v6, v6, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v6, :cond_46

    const/high16 v7, -0x40800000    # -1.0f

    goto :goto_23

    :cond_46
    const/high16 v7, 0x3f800000    # 1.0f

    :goto_23
    invoke-virtual {v0, v7}, Landroid/view/TextureView;->setScaleX(F)V

    .line 18759
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v0, :cond_47

    .line 18760
    iget-object v6, v9, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-virtual {v6}, Landroid/view/TextureView;->getScaleX()F

    move-result v6

    invoke-virtual {v0, v6}, Landroid/widget/ImageView;->setScaleX(F)V

    .line 18763
    :cond_47
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v0, :cond_48

    iget v7, v0, Lorg/telegram/messenger/MediaController$CropState;->cropScale:F

    const/high16 v0, 0x3f800000    # 1.0f

    goto :goto_24

    :cond_48
    const/high16 v0, 0x3f800000    # 1.0f

    const/high16 v7, 0x3f800000    # 1.0f

    :goto_24
    sub-float v6, v7, v0

    mul-float v6, v6, v23

    add-float/2addr v6, v0

    div-float v21, v21, v28

    div-float v21, v21, v6

    mul-float v7, v7, v21

    goto :goto_29

    .line 18736
    :cond_49
    :goto_25
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v0, :cond_4b

    .line 18737
    iget-object v7, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v7}, Lorg/telegram/ui/Components/Crop/CropTransform;->isMirrored()Z

    move-result v7

    if-eqz v7, :cond_4a

    const/high16 v7, -0x40800000    # -1.0f

    goto :goto_26

    :cond_4a
    const/high16 v7, 0x3f800000    # 1.0f

    :goto_26
    invoke-virtual {v0, v7}, Landroid/view/TextureView;->setScaleX(F)V

    .line 18738
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v0, :cond_4b

    .line 18739
    iget-object v7, v9, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-virtual {v7}, Landroid/view/TextureView;->getScaleX()F

    move-result v7

    invoke-virtual {v0, v7}, Landroid/widget/ImageView;->setScaleX(F)V

    .line 18742
    :cond_4b
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->getTrueCropScale()F

    move-result v0

    const/high16 v7, 0x3f800000    # 1.0f

    sub-float/2addr v0, v7

    mul-float v0, v0, v23

    add-float/2addr v0, v7

    .line 18743
    iget-object v7, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getScale()F

    move-result v7

    div-float/2addr v7, v0

    div-float/2addr v14, v3

    mul-float v0, v14, v5

    cmpl-float v0, v0, v6

    if-lez v0, :cond_4c

    div-float v14, v6, v5

    :cond_4c
    div-float v14, v14, v28

    mul-float v7, v7, v14

    .line 18749
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v6, 0x1

    if-ne v0, v6, :cond_4f

    .line 18750
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v6, 0x3

    if-eq v0, v6, :cond_4e

    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-ne v0, v6, :cond_4d

    goto :goto_27

    :cond_4d
    if-nez v0, :cond_4f

    .line 18753
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->getMinScale()F

    move-result v0

    goto :goto_28

    .line 18751
    :cond_4e
    :goto_27
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->getMinScale()F

    move-result v0

    const/high16 v6, 0x3f800000    # 1.0f

    sub-float/2addr v0, v6

    mul-float v0, v0, v23

    add-float/2addr v0, v6

    :goto_28
    div-float/2addr v7, v0

    .line 18768
    :cond_4f
    :goto_29
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropAreaX()F

    move-result v0

    mul-float v0, v0, v2

    iget-object v6, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v6}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropAreaY()F

    move-result v6

    mul-float v6, v6, v2

    invoke-virtual {v10, v0, v6}, Landroid/graphics/Canvas;->translate(FF)V

    .line 18769
    invoke-virtual {v10, v7, v7}, Landroid/graphics/Canvas;->scale(FF)V

    .line 18770
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPx()F

    move-result v0

    mul-float v0, v0, v3

    mul-float v0, v0, v28

    mul-float v0, v0, v2

    iget-object v6, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v6}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPy()F

    move-result v6

    mul-float v6, v6, v5

    mul-float v6, v6, v28

    mul-float v6, v6, v2

    invoke-virtual {v10, v0, v6}, Landroid/graphics/Canvas;->translate(FF)V

    if-eqz p7, :cond_50

    .line 18772
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    iget-object v6, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v6}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropAreaX()F

    move-result v6

    mul-float v6, v6, v2

    iget-object v11, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropAreaY()F

    move-result v11

    mul-float v11, v11, v2

    invoke-virtual {v0, v6, v11}, Landroid/graphics/Matrix;->preTranslate(FF)Z

    .line 18773
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v0, v7, v7}, Landroid/graphics/Matrix;->preScale(FF)Z

    .line 18774
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    iget-object v6, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v6}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPx()F

    move-result v6

    mul-float v6, v6, v3

    mul-float v6, v6, v28

    mul-float v6, v6, v2

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPy()F

    move-result v3

    mul-float v3, v3, v5

    mul-float v3, v3, v28

    mul-float v3, v3, v2

    invoke-virtual {v0, v6, v3}, Landroid/graphics/Matrix;->preTranslate(FF)Z

    .line 18776
    :cond_50
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->getRotation()F

    move-result v0

    int-to-float v1, v1

    add-float/2addr v0, v1

    const/high16 v1, 0x43340000    # 180.0f

    cmpl-float v1, v0, v1

    if-lez v1, :cond_51

    const/high16 v1, 0x43b40000    # 360.0f

    sub-float/2addr v0, v1

    .line 18780
    :cond_51
    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v3, 0x1

    if-ne v1, v3, :cond_53

    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v3, 0x3

    if-eq v1, v3, :cond_52

    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-ne v1, v3, :cond_53

    .line 18781
    :cond_52
    invoke-virtual {v10, v0}, Landroid/graphics/Canvas;->rotate(F)V

    if-eqz p7, :cond_55

    .line 18783
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v1, v0}, Landroid/graphics/Matrix;->preRotate(F)Z

    goto :goto_2a

    :cond_53
    mul-float v0, v0, v2

    .line 18786
    invoke-virtual {v10, v0}, Landroid/graphics/Canvas;->rotate(F)V

    if-eqz p7, :cond_55

    .line 18788
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v1, v0}, Landroid/graphics/Matrix;->preRotate(F)Z

    goto :goto_2a

    :cond_54
    move/from16 v43, v0

    move/from16 v32, v7

    :cond_55
    :goto_2a
    if-nez v8, :cond_62

    .line 18796
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_58

    .line 18797
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v1, 0x1

    if-eq v0, v1, :cond_57

    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v0, v1, :cond_56

    goto :goto_2b

    .line 18800
    :cond_56
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v0, :cond_58

    iget-boolean v0, v0, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v0, :cond_58

    const/4 v8, 0x1

    goto :goto_2c

    .line 18798
    :cond_57
    :goto_2b
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->isMirrored()Z

    move-result v0

    move v8, v0

    goto :goto_2c

    :cond_58
    const/4 v8, 0x0

    :goto_2c
    if-eqz v8, :cond_59

    .line 18805
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    const/high16 v0, -0x40800000    # -1.0f

    const/high16 v1, 0x3f800000    # 1.0f

    .line 18806
    invoke-virtual {v10, v0, v1}, Landroid/graphics/Canvas;->scale(FF)V

    const/4 v0, 0x0

    const/4 v8, 0x1

    goto :goto_2d

    :cond_59
    const/high16 v1, 0x3f800000    # 1.0f

    const/4 v0, 0x0

    const/4 v8, 0x0

    :goto_2d
    cmpl-float v2, v16, v0

    if-lez v2, :cond_5b

    if-nez v8, :cond_5a

    .line 18811
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    const/high16 v0, 0x40000000    # 2.0f

    const/4 v8, 0x1

    goto :goto_2e

    :cond_5a
    const/high16 v0, 0x40000000    # 2.0f

    :goto_2e
    mul-float v14, v16, v0

    sub-float v7, v1, v14

    .line 18814
    invoke-virtual {v10, v7, v1}, Landroid/graphics/Canvas;->scale(FF)V

    const/high16 v0, 0x40800000    # 4.0f

    mul-float v14, v16, v0

    sub-float v7, v1, v16

    mul-float v14, v14, v7

    const/high16 v0, 0x3e800000    # 0.25f

    mul-float v14, v14, v0

    const/4 v0, 0x0

    .line 18815
    invoke-virtual {v10, v0, v14}, Landroid/graphics/Canvas;->skew(FF)V

    .line 18817
    :cond_5b
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_5d

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isLoaded()Z

    move-result v0

    if-nez v0, :cond_5c

    goto :goto_2f

    :cond_5c
    move-object/from16 v11, p2

    goto/16 :goto_31

    :cond_5d
    :goto_2f
    if-eqz p7, :cond_5e

    .line 18820
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    neg-float v1, v4

    const/high16 v2, 0x40000000    # 2.0f

    div-float/2addr v1, v2

    neg-float v3, v13

    div-float/2addr v3, v2

    invoke-virtual {v0, v1, v3}, Landroid/graphics/Matrix;->preTranslate(FF)Z

    .line 18821
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    const/4 v1, 0x0

    const/4 v2, 0x0

    aput v2, v0, v1

    const/4 v3, 0x1

    .line 18822
    aput v2, v0, v3

    const/4 v3, 0x2

    .line 18823
    aput v4, v0, v3

    const/4 v5, 0x3

    .line 18824
    aput v2, v0, v5

    .line 18825
    aput v4, v0, v37

    .line 18826
    aput v13, v0, v35

    .line 18827
    aput v2, v0, v34

    .line 18828
    aput v13, v0, v33

    .line 18829
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v2, v0}, Landroid/graphics/Matrix;->mapPoints([F)V

    .line 18830
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBounds:Landroid/graphics/RectF;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    const/4 v1, 0x0

    aget v5, v2, v1

    aget v2, v2, v3

    .line 18831
    invoke-static {v5, v2}, Ljava/lang/Math;->min(FF)F

    move-result v2

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    aget v5, v3, v37

    aget v3, v3, v34

    invoke-static {v5, v3}, Ljava/lang/Math;->min(FF)F

    move-result v3

    invoke-static {v2, v3}, Ljava/lang/Math;->min(FF)F

    move-result v2

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    const/4 v5, 0x1

    aget v6, v3, v5

    const/4 v5, 0x3

    aget v3, v3, v5

    .line 18832
    invoke-static {v6, v3}, Ljava/lang/Math;->min(FF)F

    move-result v3

    iget-object v5, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    aget v6, v5, v35

    aget v5, v5, v33

    invoke-static {v6, v5}, Ljava/lang/Math;->min(FF)F

    move-result v5

    invoke-static {v3, v5}, Ljava/lang/Math;->min(FF)F

    move-result v3

    iget-object v5, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    const/4 v1, 0x0

    aget v6, v5, v1

    const/4 v7, 0x2

    aget v5, v5, v7

    .line 18833
    invoke-static {v6, v5}, Ljava/lang/Math;->max(FF)F

    move-result v5

    iget-object v6, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    aget v7, v6, v37

    aget v6, v6, v34

    invoke-static {v7, v6}, Ljava/lang/Math;->max(FF)F

    move-result v6

    invoke-static {v5, v6}, Ljava/lang/Math;->max(FF)F

    move-result v5

    iget-object v6, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    const/4 v7, 0x1

    aget v11, v6, v7

    const/4 v12, 0x3

    aget v6, v6, v12

    .line 18834
    invoke-static {v11, v6}, Ljava/lang/Math;->max(FF)F

    move-result v6

    iget-object v11, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    aget v12, v11, v35

    aget v11, v11, v33

    invoke-static {v12, v11}, Ljava/lang/Math;->max(FF)F

    move-result v11

    invoke-static {v6, v11}, Ljava/lang/Math;->max(FF)F

    move-result v6

    .line 18830
    invoke-virtual {v0, v2, v3, v5, v6}, Landroid/graphics/RectF;->set(FFFF)V

    .line 18836
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    aget-object v0, v0, v7

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->blurBounds:Landroid/graphics/RectF;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->imageBounds:Landroid/graphics/RectF;

    invoke-virtual {v2, v3}, Landroid/graphics/RectF;->intersect(Landroid/graphics/RectF;)Z

    move-result v2

    invoke-virtual {v0, v2}, Lorg/telegram/ui/Components/AnimatedFloat;->set(Z)F

    move-result v7

    goto :goto_30

    :cond_5e
    const/high16 v7, 0x3f800000    # 1.0f

    .line 18840
    :goto_30
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->blurManager:Lorg/telegram/ui/Components/BlurringShader$BlurManager;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/BlurringShader$BlurManager;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    if-nez v0, :cond_5f

    .line 18842
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v2}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;->getBitmap(Lorg/telegram/messenger/ImageReceiver;)Landroid/graphics/Bitmap;

    move-result-object v0

    :cond_5f
    if-eqz v0, :cond_5c

    move-object/from16 v11, p2

    .line 18845
    iget-object v2, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    const/4 v3, 0x0

    invoke-virtual {v2, v3}, Landroid/graphics/Paint;->setShader(Landroid/graphics/Shader;)Landroid/graphics/Shader;

    .line 18846
    iget-object v2, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    mul-float v3, v43, v26

    mul-float v3, v3, v7

    mul-float v3, v3, v32

    float-to-int v3, v3

    invoke-virtual {v2, v3}, Landroid/graphics/Paint;->setAlpha(I)V

    .line 18847
    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v2

    int-to-float v2, v2

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v3

    int-to-float v3, v3

    sub-float v3, v3, v25

    div-float/2addr v2, v3

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v3

    int-to-float v3, v3

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v5

    int-to-float v5, v5

    sub-float v5, v5, v25

    div-float/2addr v3, v5

    invoke-virtual {v10, v2, v3}, Landroid/graphics/Canvas;->scale(FF)V

    neg-float v2, v4

    const/high16 v3, 0x40000000    # 2.0f

    div-float/2addr v2, v3

    neg-float v5, v13

    div-float/2addr v5, v3

    .line 18848
    invoke-virtual {v10, v2, v5}, Landroid/graphics/Canvas;->translate(FF)V

    const/high16 v2, 0x3f800000    # 1.0f

    mul-float v4, v4, v2

    .line 18849
    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v3

    int-to-float v3, v3

    div-float/2addr v4, v3

    mul-float v13, v13, v2

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v2

    int-to-float v2, v2

    div-float/2addr v13, v2

    invoke-virtual {v10, v4, v13}, Landroid/graphics/Canvas;->scale(FF)V

    const/4 v2, 0x0

    if-eqz p5, :cond_60

    float-to-int v3, v2

    .line 18852
    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v4

    sub-int/2addr v4, v3

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v5

    sub-int/2addr v5, v3

    invoke-virtual {v10, v3, v3, v4, v5}, Landroid/graphics/Canvas;->clipRect(IIII)Z

    .line 18854
    :cond_60
    iget-object v3, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v10, v0, v2, v2, v3}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;FFLandroid/graphics/Paint;)V

    :goto_31
    if-eqz v8, :cond_61

    .line 18858
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    :cond_61
    const/4 v8, 0x1

    goto :goto_32

    :cond_62
    move-object/from16 v11, p2

    .line 18862
    :goto_32
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    :goto_33
    if-nez v8, :cond_66

    .line 18864
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v0}, Landroid/view/View;->getVisibility()I

    move-result v0

    if-nez v0, :cond_66

    .line 18865
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 18866
    iget-boolean v0, v9, Lorg/telegram/ui/PhotoViewer;->padImageForHorizontalInsets:Z

    if-eqz v0, :cond_63

    .line 18867
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getRightInset()I

    move-result v0

    const/4 v2, 0x2

    div-int/2addr v0, v2

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v3

    div-int/2addr v3, v2

    sub-int/2addr v0, v3

    int-to-float v0, v0

    const/4 v2, 0x0

    invoke-virtual {v10, v0, v2}, Landroid/graphics/Canvas;->translate(FF)V

    .line 18869
    :cond_63
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v0}, Landroid/view/View;->getX()F

    move-result v0

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v2}, Landroid/view/View;->getY()F

    move-result v2

    invoke-virtual {v10, v0, v2}, Landroid/graphics/Canvas;->translate(FF)V

    .line 18870
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v0}, Landroid/view/View;->getScaleX()F

    move-result v0

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v2}, Landroid/view/View;->getScaleY()F

    move-result v2

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v3}, Landroid/view/View;->getPivotX()F

    move-result v3

    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v4}, Landroid/view/View;->getPivotY()F

    move-result v4

    invoke-virtual {v10, v0, v2, v3, v4}, Landroid/graphics/Canvas;->scale(FFFF)V

    .line 18873
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/ClippingImageView;->getBitmapHolder()Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    move-result-object v2

    invoke-virtual {v0, v2}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;->getBitmap(Lorg/telegram/messenger/ImageReceiver$BitmapHolder;)Landroid/graphics/Bitmap;

    move-result-object v0

    if-eqz v0, :cond_65

    .line 18875
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 18876
    iget-object v2, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    const/4 v3, 0x0

    invoke-virtual {v2, v3}, Landroid/graphics/Paint;->setShader(Landroid/graphics/Shader;)Landroid/graphics/Shader;

    .line 18877
    iget-object v2, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    mul-float v6, v32, v26

    float-to-int v3, v6

    invoke-virtual {v2, v3}, Landroid/graphics/Paint;->setAlpha(I)V

    .line 18878
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v2}, Landroid/view/View;->getWidth()I

    move-result v2

    int-to-float v2, v2

    const/high16 v3, 0x3f800000    # 1.0f

    mul-float v2, v2, v3

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v4

    int-to-float v4, v4

    div-float/2addr v2, v4

    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v4}, Landroid/view/View;->getHeight()I

    move-result v4

    int-to-float v4, v4

    mul-float v4, v4, v3

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v3

    int-to-float v3, v3

    div-float/2addr v4, v3

    invoke-virtual {v10, v2, v4}, Landroid/graphics/Canvas;->scale(FF)V

    .line 18879
    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v2

    int-to-float v2, v2

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v3

    int-to-float v3, v3

    sub-float v3, v3, v25

    div-float/2addr v2, v3

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v3

    int-to-float v3, v3

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v4

    int-to-float v4, v4

    sub-float v4, v4, v25

    div-float/2addr v3, v4

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v4

    int-to-float v4, v4

    const/high16 v5, 0x40000000    # 2.0f

    div-float/2addr v4, v5

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v6

    int-to-float v6, v6

    div-float/2addr v6, v5

    invoke-virtual {v10, v2, v3, v4, v6}, Landroid/graphics/Canvas;->scale(FFFF)V

    .line 18880
    iget-object v2, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    const/4 v3, 0x0

    invoke-virtual {v10, v0, v3, v3, v2}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;FFLandroid/graphics/Paint;)V

    if-eqz p5, :cond_64

    float-to-int v2, v3

    .line 18883
    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v3

    sub-int/2addr v3, v2

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v0

    sub-int/2addr v0, v2

    invoke-virtual {v10, v2, v2, v3, v0}, Landroid/graphics/Canvas;->clipRect(IIII)Z

    .line 18885
    :cond_64
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    .line 18888
    :cond_65
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    .line 18892
    :cond_66
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    move-object/from16 v8, v39

    if-ne v8, v0, :cond_6f

    if-eqz p7, :cond_67

    .line 18893
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    const/4 v12, 0x0

    aget-object v0, v0, v12

    const/4 v1, 0x1

    const/high16 v2, 0x3f800000    # 1.0f

    invoke-virtual {v0, v2, v1}, Lorg/telegram/ui/Components/AnimatedFloat;->set(FZ)F

    move-result v7

    move v13, v7

    goto :goto_34

    :cond_67
    const/4 v12, 0x0

    const/high16 v13, 0x3f800000    # 1.0f

    :goto_34
    if-eqz v8, :cond_6f

    .line 18894
    invoke-virtual {v8}, Lorg/telegram/messenger/ImageReceiver;->hasBitmapImage()Z

    move-result v0

    if-eqz v0, :cond_6f

    .line 18895
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 18896
    div-int/lit8 v5, v38, 0x2

    int-to-float v0, v5

    div-int/lit8 v4, v31, 0x2

    int-to-float v1, v4

    invoke-virtual {v10, v0, v1}, Landroid/graphics/Canvas;->translate(FF)V

    move/from16 v2, v38

    int-to-float v14, v2

    .line 18897
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/high16 v1, 0x3f800000    # 1.0f

    add-float/2addr v0, v1

    mul-float v0, v0, v14

    invoke-static/range {v24 .. v24}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v1

    int-to-float v1, v1

    add-float/2addr v0, v1

    neg-float v0, v0

    const/high16 v1, 0x40000000    # 2.0f

    div-float/2addr v0, v1

    add-float v0, v0, v20

    const/4 v6, 0x0

    invoke-virtual {v10, v0, v6}, Landroid/graphics/Canvas;->translate(FF)V

    .line 18898
    invoke-virtual {v8}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v15

    .line 18899
    invoke-virtual {v8}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v7

    .line 18900
    iget-boolean v0, v9, Lorg/telegram/ui/PhotoViewer;->leftImageIsVideo:Z

    if-nez v0, :cond_68

    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->leftCropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v0, :cond_68

    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->hasViewTransform()Z

    move-result v0

    if-eqz v0, :cond_68

    .line 18901
    iget-object v5, v9, Lorg/telegram/ui/PhotoViewer;->leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->leftCropState:Lorg/telegram/messenger/MediaController$CropState;

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move/from16 v3, v31

    move-object/from16 v16, v4

    move v4, v15

    move-object/from16 v18, v5

    move v5, v7

    const/4 v12, 0x0

    move/from16 v6, v22

    move/from16 p7, v13

    move/from16 v12, v32

    move v13, v7

    move-object/from16 v7, v18

    move/from16 v35, v12

    move-object v12, v8

    move-object/from16 v8, v16

    invoke-direct/range {v0 .. v8}, Lorg/telegram/ui/PhotoViewer;->applyCrop(Landroid/graphics/Canvas;IIIIFLorg/telegram/ui/Components/Crop/CropTransform;Lorg/telegram/messenger/MediaController$CropState;)[I

    goto :goto_35

    :cond_68
    move-object v12, v8

    move/from16 p7, v13

    move/from16 v35, v32

    move v13, v7

    :goto_35
    int-to-float v0, v15

    div-float/2addr v14, v0

    move/from16 v1, v31

    int-to-float v1, v1

    int-to-float v2, v13

    div-float/2addr v1, v2

    .line 18905
    invoke-static {v14, v1}, Ljava/lang/Math;->min(FF)F

    move-result v1

    mul-float v0, v0, v1

    float-to-int v0, v0

    mul-float v2, v2, v1

    float-to-int v1, v2

    .line 18910
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-nez v2, :cond_6b

    .line 18911
    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v3, 0x1

    if-eq v2, v3, :cond_6a

    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v3, :cond_69

    goto :goto_36

    .line 18914
    :cond_69
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->leftCropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v2, :cond_6b

    iget-boolean v2, v2, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v2, :cond_6b

    const/4 v14, 0x1

    goto :goto_37

    .line 18912
    :cond_6a
    :goto_36
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/Crop/CropTransform;->isMirrored()Z

    move-result v14

    goto :goto_37

    :cond_6b
    const/4 v14, 0x0

    :goto_37
    if-eqz v14, :cond_6c

    const/high16 v2, -0x40800000    # -1.0f

    const/high16 v3, 0x3f800000    # 1.0f

    .line 18918
    invoke-virtual {v10, v2, v3}, Landroid/graphics/Canvas;->scale(FF)V

    .line 18921
    :cond_6c
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->leftBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    invoke-virtual {v2, v12}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;->getBitmap(Lorg/telegram/messenger/ImageReceiver;)Landroid/graphics/Bitmap;

    move-result-object v2

    if-eqz v2, :cond_6e

    .line 18924
    iget-object v3, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    const/4 v4, 0x0

    invoke-virtual {v3, v4}, Landroid/graphics/Paint;->setShader(Landroid/graphics/Shader;)Landroid/graphics/Shader;

    .line 18925
    iget-object v3, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    mul-float v6, v35, v26

    mul-float v6, v6, p7

    float-to-int v4, v6

    invoke-virtual {v3, v4}, Landroid/graphics/Paint;->setAlpha(I)V

    .line 18926
    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v3

    int-to-float v3, v3

    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v4

    int-to-float v4, v4

    sub-float v4, v4, v25

    div-float/2addr v3, v4

    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v4

    int-to-float v4, v4

    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v5

    int-to-float v5, v5

    sub-float v5, v5, v25

    div-float/2addr v4, v5

    invoke-virtual {v10, v3, v4}, Landroid/graphics/Canvas;->scale(FF)V

    neg-int v3, v0

    const/4 v4, 0x2

    .line 18927
    div-int/2addr v3, v4

    int-to-float v3, v3

    neg-int v5, v1

    div-int/2addr v5, v4

    int-to-float v4, v5

    invoke-virtual {v10, v3, v4}, Landroid/graphics/Canvas;->translate(FF)V

    int-to-float v0, v0

    const/high16 v3, 0x3f800000    # 1.0f

    mul-float v0, v0, v3

    .line 18928
    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v4

    int-to-float v4, v4

    div-float/2addr v0, v4

    int-to-float v1, v1

    mul-float v1, v1, v3

    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v3

    int-to-float v3, v3

    div-float/2addr v1, v3

    invoke-virtual {v10, v0, v1}, Landroid/graphics/Canvas;->scale(FF)V

    const/4 v0, 0x0

    if-eqz p5, :cond_6d

    float-to-int v1, v0

    .line 18931
    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v3

    sub-int/2addr v3, v1

    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v4

    sub-int/2addr v4, v1

    invoke-virtual {v10, v1, v1, v3, v4}, Landroid/graphics/Canvas;->clipRect(IIII)Z

    .line 18933
    :cond_6d
    iget-object v1, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v10, v2, v0, v0, v1}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;FFLandroid/graphics/Paint;)V

    .line 18936
    :cond_6e
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    goto :goto_38

    :cond_6f
    move/from16 v35, v32

    :goto_38
    move/from16 v0, v36

    .line 18940
    invoke-virtual {v10, v0}, Landroid/graphics/Canvas;->restoreToCount(I)V

    move/from16 v0, p4

    if-eqz v0, :cond_70

    .line 18943
    iget-object v1, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v1, v0}, Landroid/graphics/Paint;->setColor(I)V

    .line 18944
    iget-object v0, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v0}, Landroid/graphics/Paint;->getAlpha()I

    move-result v1

    int-to-float v1, v1

    move/from16 v7, v35

    const v2, 0x3f333333    # 0.7f

    const/high16 v3, 0x3f800000    # 1.0f

    invoke-static {v2, v3, v7}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result v2

    mul-float v1, v1, v2

    float-to-int v1, v1

    invoke-virtual {v0, v1}, Landroid/graphics/Paint;->setAlpha(I)V

    .line 18945
    iget-object v0, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v10, v0}, Landroid/graphics/Canvas;->drawPaint(Landroid/graphics/Paint;)V

    :cond_70
    return-void

    :cond_71
    :goto_39
    move v7, v6

    move v0, v12

    const v2, 0x3f333333    # 0.7f

    .line 18408
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->blurAlpha:Lorg/telegram/ui/Components/AnimatedFloat;

    const/4 v3, 0x0

    const/4 v4, 0x1

    invoke-virtual {v1, v3, v4}, Lorg/telegram/ui/Components/AnimatedFloat;->set(FZ)F

    if-eqz v0, :cond_73

    .line 18410
    iget-object v1, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v1, v0}, Landroid/graphics/Paint;->setColor(I)V

    .line 18411
    iget-object v0, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v0}, Landroid/graphics/Paint;->getAlpha()I

    move-result v1

    int-to-float v1, v1

    const/high16 v3, 0x3f800000    # 1.0f

    if-eqz p6, :cond_72

    goto :goto_3a

    :cond_72
    const/high16 v7, 0x3f800000    # 1.0f

    :goto_3a
    invoke-static {v2, v3, v7}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result v2

    mul-float v1, v1, v2

    float-to-int v1, v1

    invoke-virtual {v0, v1}, Landroid/graphics/Paint;->setAlpha(I)V

    .line 18412
    iget-object v0, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v10, v0}, Landroid/graphics/Canvas;->drawPaint(Landroid/graphics/Paint;)V

    :cond_73
    return-void
.end method

.method private drawCenterImageInternal(Landroid/graphics/Canvas;FF)V
    .locals 5

    .line 16912
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    const/4 v1, 0x0

    const/4 v2, 0x1

    if-nez v0, :cond_2

    .line 16913
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v0, v2, :cond_1

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v0, v2, :cond_0

    goto :goto_0

    .line 16916
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v0, :cond_2

    iget-boolean v0, v0, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v0, :cond_2

    const/4 v0, 0x1

    goto :goto_1

    .line 16914
    :cond_1
    :goto_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->isMirrored()Z

    move-result v0

    goto :goto_1

    :cond_2
    const/4 v0, 0x0

    :goto_1
    const/high16 v3, 0x3f800000    # 1.0f

    if-eqz v0, :cond_3

    .line 16921
    invoke-virtual {p1}, Landroid/graphics/Canvas;->save()I

    const/high16 v0, -0x40800000    # -1.0f

    .line 16922
    invoke-virtual {p1, v0, v3}, Landroid/graphics/Canvas;->scale(FF)V

    const/4 v1, 0x1

    :cond_3
    const/4 v0, 0x0

    cmpl-float v4, p2, v0

    if-lez v4, :cond_5

    if-nez v1, :cond_4

    .line 16927
    invoke-virtual {p1}, Landroid/graphics/Canvas;->save()I

    goto :goto_2

    :cond_4
    move v2, v1

    :goto_2
    const/high16 v1, 0x40000000    # 2.0f

    mul-float v1, v1, p2

    sub-float v1, v3, v1

    .line 16930
    invoke-virtual {p1, v1, v3}, Landroid/graphics/Canvas;->scale(FF)V

    const/high16 v1, 0x40800000    # 4.0f

    mul-float v1, v1, p2

    sub-float/2addr v3, p2

    mul-float v1, v1, v3

    const/high16 p2, 0x3e800000    # 0.25f

    mul-float v1, v1, p2

    .line 16931
    invoke-virtual {p1, v0, v1}, Landroid/graphics/Canvas;->skew(FF)V

    move v1, v2

    .line 16933
    :cond_5
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz p2, :cond_6

    invoke-virtual {p2}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isLoaded()Z

    move-result p2

    if-nez p2, :cond_7

    .line 16934
    :cond_6
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {p2, p3}, Lorg/telegram/messenger/ImageReceiver;->setAlpha(F)V

    .line 16935
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {p2, p1}, Lorg/telegram/messenger/ImageReceiver;->draw(Landroid/graphics/Canvas;)Z

    :cond_7
    if-eqz v1, :cond_8

    .line 16938
    invoke-virtual {p1}, Landroid/graphics/Canvas;->restore()V

    :cond_8
    return-void
.end method

.method private drawFancyShadows(Landroid/graphics/Canvas;)V
    .locals 29

    move-object/from16 v8, p0

    move-object/from16 v9, p1

    .line 16862
    iget-boolean v0, v8, Lorg/telegram/ui/PhotoViewer;->fancyShadows:Z

    if-nez v0, :cond_0

    return-void

    .line 16865
    :cond_0
    sget-boolean v0, Lorg/telegram/messenger/SharedConfig;->photoViewerBlur:Z

    const/4 v1, 0x0

    const/4 v2, 0x1

    const/high16 v10, 0x3f800000    # 1.0f

    const/4 v3, 0x2

    if-nez v0, :cond_1

    const/high16 v0, 0x3f800000    # 1.0f

    goto :goto_2

    :cond_1
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->blurAlpha:Lorg/telegram/ui/Components/AnimatedFloat;

    iget v4, v8, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-eqz v4, :cond_3

    if-eq v4, v3, :cond_3

    const/4 v5, 0x3

    if-ne v4, v5, :cond_2

    goto :goto_0

    :cond_2
    const/4 v4, 0x0

    goto :goto_1

    :cond_3
    :goto_0
    const/4 v4, 0x1

    :goto_1
    invoke-virtual {v0, v4}, Lorg/telegram/ui/Components/AnimatedFloat;->set(Z)F

    move-result v0

    :goto_2
    const/4 v11, 0x0

    cmpg-float v4, v0, v11

    if-gtz v4, :cond_4

    return-void

    .line 16870
    :cond_4
    sget v4, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    int-to-float v4, v4

    const/high16 v5, 0x3fc00000    # 1.5f

    mul-float v4, v4, v5

    float-to-int v4, v4

    invoke-static {}, Lorg/telegram/ui/ActionBar/ActionBar;->getCurrentActionBarHeight()I

    move-result v5

    add-int v7, v4, v5

    .line 16871
    sget v4, Lorg/telegram/messenger/AndroidUtilities;->navigationBarHeight:I

    iget-object v5, v8, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v5}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v5

    add-int/2addr v4, v5

    iget-object v5, v8, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v5}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v5

    if-nez v5, :cond_5

    iget-object v1, v8, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v1}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->getEditTextHeightClosedKeyboard()I

    move-result v1

    div-int/2addr v1, v3

    const/high16 v5, 0x41a00000    # 20.0f

    invoke-static {v5}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v5

    add-int/2addr v1, v5

    :cond_5
    add-int v12, v4, v1

    .line 16873
    iget-object v1, v8, Lorg/telegram/ui/PhotoViewer;->clipFancyShadows:Landroid/graphics/Path;

    if-nez v1, :cond_6

    .line 16874
    new-instance v1, Landroid/graphics/Path;

    invoke-direct {v1}, Landroid/graphics/Path;-><init>()V

    iput-object v1, v8, Lorg/telegram/ui/PhotoViewer;->clipFancyShadows:Landroid/graphics/Path;

    .line 16875
    new-instance v1, Landroid/graphics/Paint;

    invoke-direct {v1, v2}, Landroid/graphics/Paint;-><init>(I)V

    iput-object v1, v8, Lorg/telegram/ui/PhotoViewer;->topFancyShadowPaint:Landroid/graphics/Paint;

    .line 16876
    new-instance v4, Landroid/graphics/PorterDuffXfermode;

    sget-object v5, Landroid/graphics/PorterDuff$Mode;->DST_IN:Landroid/graphics/PorterDuff$Mode;

    invoke-direct {v4, v5}, Landroid/graphics/PorterDuffXfermode;-><init>(Landroid/graphics/PorterDuff$Mode;)V

    invoke-virtual {v1, v4}, Landroid/graphics/Paint;->setXfermode(Landroid/graphics/Xfermode;)Landroid/graphics/Xfermode;

    .line 16877
    new-instance v1, Landroid/graphics/Paint;

    invoke-direct {v1, v2}, Landroid/graphics/Paint;-><init>(I)V

    iput-object v1, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadowPaint:Landroid/graphics/Paint;

    .line 16878
    new-instance v2, Landroid/graphics/PorterDuffXfermode;

    sget-object v4, Landroid/graphics/PorterDuff$Mode;->DST_IN:Landroid/graphics/PorterDuff$Mode;

    invoke-direct {v2, v4}, Landroid/graphics/PorterDuffXfermode;-><init>(Landroid/graphics/PorterDuff$Mode;)V

    invoke-virtual {v1, v2}, Landroid/graphics/Paint;->setXfermode(Landroid/graphics/Xfermode;)Landroid/graphics/Xfermode;

    .line 16879
    new-instance v1, Landroid/graphics/LinearGradient;

    const/4 v14, 0x0

    const/4 v15, 0x0

    const/16 v16, 0x0

    const/high16 v17, 0x41800000    # 16.0f

    new-array v2, v3, [I

    fill-array-data v2, :array_0

    new-array v4, v3, [F

    fill-array-data v4, :array_1

    sget-object v20, Landroid/graphics/Shader$TileMode;->CLAMP:Landroid/graphics/Shader$TileMode;

    move-object v13, v1

    move-object/from16 v18, v2

    move-object/from16 v19, v4

    invoke-direct/range {v13 .. v20}, Landroid/graphics/LinearGradient;-><init>(FFFF[I[FLandroid/graphics/Shader$TileMode;)V

    iput-object v1, v8, Lorg/telegram/ui/PhotoViewer;->topFancyShadow:Landroid/graphics/LinearGradient;

    .line 16880
    new-instance v1, Landroid/graphics/LinearGradient;

    const/16 v22, 0x0

    const/16 v23, 0x0

    const/16 v24, 0x0

    const/high16 v25, 0x41800000    # 16.0f

    new-array v2, v3, [I

    fill-array-data v2, :array_2

    new-array v3, v3, [F

    fill-array-data v3, :array_3

    sget-object v28, Landroid/graphics/Shader$TileMode;->CLAMP:Landroid/graphics/Shader$TileMode;

    move-object/from16 v21, v1

    move-object/from16 v26, v2

    move-object/from16 v27, v3

    invoke-direct/range {v21 .. v28}, Landroid/graphics/LinearGradient;-><init>(FFFF[I[FLandroid/graphics/Shader$TileMode;)V

    iput-object v1, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadow:Landroid/graphics/LinearGradient;

    .line 16881
    new-instance v1, Landroid/graphics/Matrix;

    invoke-direct {v1}, Landroid/graphics/Matrix;-><init>()V

    iput-object v1, v8, Lorg/telegram/ui/PhotoViewer;->topFancyShadowMatrix:Landroid/graphics/Matrix;

    .line 16882
    new-instance v1, Landroid/graphics/Matrix;

    invoke-direct {v1}, Landroid/graphics/Matrix;-><init>()V

    iput-object v1, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadowMatrix:Landroid/graphics/Matrix;

    .line 16883
    iget-object v1, v8, Lorg/telegram/ui/PhotoViewer;->topFancyShadowPaint:Landroid/graphics/Paint;

    iget-object v2, v8, Lorg/telegram/ui/PhotoViewer;->topFancyShadow:Landroid/graphics/LinearGradient;

    invoke-virtual {v1, v2}, Landroid/graphics/Paint;->setShader(Landroid/graphics/Shader;)Landroid/graphics/Shader;

    .line 16884
    iget-object v1, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadowPaint:Landroid/graphics/Paint;

    iget-object v2, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadow:Landroid/graphics/LinearGradient;

    invoke-virtual {v1, v2}, Landroid/graphics/Paint;->setShader(Landroid/graphics/Shader;)Landroid/graphics/Shader;

    :cond_6
    const/4 v1, 0x0

    const/4 v2, 0x0

    .line 16887
    iget-object v3, v8, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getWidth()I

    move-result v3

    int-to-float v3, v3

    iget-object v4, v8, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v4

    sget v5, Lorg/telegram/messenger/AndroidUtilities;->navigationBarHeight:I

    add-int/2addr v4, v5

    int-to-float v4, v4

    iget-object v5, v8, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    invoke-virtual {v5}, Landroid/graphics/drawable/ColorDrawable;->getAlpha()I

    move-result v5

    add-int/lit8 v5, v5, -0x7f

    int-to-float v5, v5

    mul-float v0, v0, v5

    const v5, 0x40008102

    mul-float v0, v0, v5

    float-to-int v5, v0

    const/16 v6, 0x1f

    move-object/from16 v0, p1

    invoke-virtual/range {v0 .. v6}, Landroid/graphics/Canvas;->saveLayerAlpha(FFFFII)I

    .line 16888
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->clipFancyShadows:Landroid/graphics/Path;

    invoke-virtual {v0}, Landroid/graphics/Path;->rewind()V

    .line 16889
    iget-object v1, v8, Lorg/telegram/ui/PhotoViewer;->clipFancyShadows:Landroid/graphics/Path;

    const/4 v3, 0x0

    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getWidth()I

    move-result v0

    int-to-float v4, v0

    int-to-float v13, v7

    sget-object v6, Landroid/graphics/Path$Direction;->CW:Landroid/graphics/Path$Direction;

    move v5, v13

    invoke-virtual/range {v1 .. v6}, Landroid/graphics/Path;->addRect(FFFFLandroid/graphics/Path$Direction;)V

    .line 16890
    iget-object v14, v8, Lorg/telegram/ui/PhotoViewer;->clipFancyShadows:Landroid/graphics/Path;

    const/4 v15, 0x0

    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v0

    sget v1, Lorg/telegram/messenger/AndroidUtilities;->navigationBarHeight:I

    add-int/2addr v0, v1

    sub-int/2addr v0, v12

    int-to-float v0, v0

    iget-object v1, v8, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getWidth()I

    move-result v1

    int-to-float v1, v1

    iget-object v2, v8, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v2

    sget v3, Lorg/telegram/messenger/AndroidUtilities;->navigationBarHeight:I

    add-int/2addr v2, v3

    int-to-float v2, v2

    sget-object v19, Landroid/graphics/Path$Direction;->CW:Landroid/graphics/Path$Direction;

    move/from16 v16, v0

    move/from16 v17, v1

    move/from16 v18, v2

    invoke-virtual/range {v14 .. v19}, Landroid/graphics/Path;->addRect(FFFFLandroid/graphics/Path$Direction;)V

    .line 16891
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->clipFancyShadows:Landroid/graphics/Path;

    invoke-virtual {v9, v0}, Landroid/graphics/Canvas;->clipPath(Landroid/graphics/Path;)Z

    const/high16 v0, -0x1000000

    .line 16892
    invoke-virtual {v9, v0}, Landroid/graphics/Canvas;->drawColor(I)V

    .line 16893
    iget-object v2, v8, Lorg/telegram/ui/PhotoViewer;->shadowBlurer:Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x1

    const/4 v6, 0x1

    const/4 v7, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    invoke-direct/range {v0 .. v7}, Lorg/telegram/ui/PhotoViewer;->drawCaptionBlur(Landroid/graphics/Canvas;Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;IIZZZ)V

    .line 16894
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 16895
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->topFancyShadowMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v0}, Landroid/graphics/Matrix;->reset()V

    .line 16896
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->topFancyShadowMatrix:Landroid/graphics/Matrix;

    const/high16 v6, 0x41800000    # 16.0f

    div-float v1, v13, v6

    invoke-virtual {v0, v10, v1}, Landroid/graphics/Matrix;->postScale(FF)Z

    .line 16897
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->topFancyShadow:Landroid/graphics/LinearGradient;

    iget-object v1, v8, Lorg/telegram/ui/PhotoViewer;->topFancyShadowMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v0, v1}, Landroid/graphics/LinearGradient;->setLocalMatrix(Landroid/graphics/Matrix;)V

    .line 16898
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->topFancyShadowPaint:Landroid/graphics/Paint;

    const/16 v1, 0xd0

    invoke-virtual {v0, v1}, Landroid/graphics/Paint;->setAlpha(I)V

    const/4 v1, 0x0

    const/4 v2, 0x0

    .line 16899
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getWidth()I

    move-result v0

    int-to-float v3, v0

    iget-object v5, v8, Lorg/telegram/ui/PhotoViewer;->topFancyShadowPaint:Landroid/graphics/Paint;

    move-object/from16 v0, p1

    move v4, v13

    invoke-virtual/range {v0 .. v5}, Landroid/graphics/Canvas;->drawRect(FFFFLandroid/graphics/Paint;)V

    .line 16900
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadowMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v0}, Landroid/graphics/Matrix;->reset()V

    .line 16901
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadowMatrix:Landroid/graphics/Matrix;

    int-to-float v1, v12

    div-float/2addr v1, v6

    invoke-virtual {v0, v10, v1}, Landroid/graphics/Matrix;->postScale(FF)Z

    .line 16902
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadowMatrix:Landroid/graphics/Matrix;

    iget-object v1, v8, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v1

    sub-int/2addr v1, v12

    sget v2, Lorg/telegram/messenger/AndroidUtilities;->navigationBarHeight:I

    add-int/2addr v1, v2

    int-to-float v1, v1

    invoke-virtual {v0, v11, v1}, Landroid/graphics/Matrix;->postTranslate(FF)Z

    .line 16903
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadow:Landroid/graphics/LinearGradient;

    iget-object v1, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadowMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v0, v1}, Landroid/graphics/LinearGradient;->setLocalMatrix(Landroid/graphics/Matrix;)V

    .line 16904
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadowPaint:Landroid/graphics/Paint;

    const/16 v1, 0xbb

    invoke-virtual {v0, v1}, Landroid/graphics/Paint;->setAlpha(I)V

    const/4 v1, 0x0

    .line 16905
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v0

    sget v2, Lorg/telegram/messenger/AndroidUtilities;->navigationBarHeight:I

    add-int/2addr v0, v2

    sub-int/2addr v0, v12

    int-to-float v2, v0

    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getWidth()I

    move-result v0

    int-to-float v3, v0

    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v0

    sget v4, Lorg/telegram/messenger/AndroidUtilities;->navigationBarHeight:I

    add-int/2addr v0, v4

    int-to-float v4, v0

    iget-object v5, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadowPaint:Landroid/graphics/Paint;

    move-object/from16 v0, p1

    invoke-virtual/range {v0 .. v5}, Landroid/graphics/Canvas;->drawRect(FFFFLandroid/graphics/Paint;)V

    .line 16906
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    .line 16907
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    return-void

    nop

    :array_0
    .array-data 4
        -0x1000000
        0x0
    .end array-data

    :array_1
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data

    :array_2
    .array-data 4
        0x0
        -0x1000000
    .end array-data

    :array_3
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data
.end method

.method private drawProgress(Landroid/graphics/Canvas;FFFF)V
    .locals 8

    .line 16944
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    const/4 v1, 0x1

    const/4 v2, 0x0

    if-eqz v0, :cond_3

    .line 16945
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    if-eqz v0, :cond_0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->isDragging()Z

    move-result v0

    if-nez v0, :cond_2

    :cond_0
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v0, v1, :cond_1

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->manuallyPaused:Z

    if-eqz v0, :cond_2

    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_3

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->isPlaying()Z

    move-result v0

    if-nez v0, :cond_2

    goto :goto_0

    :cond_2
    const/4 v0, 0x0

    goto :goto_1

    :cond_3
    :goto_0
    const/4 v0, 0x1

    .line 16949
    :goto_1
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    invoke-virtual {v3}, Landroid/view/View;->getVisibility()I

    move-result v3

    if-eqz v3, :cond_5

    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    if-eqz v3, :cond_4

    goto :goto_2

    :cond_4
    const/4 v1, 0x0

    :cond_5
    :goto_2
    if-eqz v0, :cond_c

    .line 16951
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    const/4 v3, 0x0

    if-nez v0, :cond_6

    neg-float v0, p2

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpl-float v0, v0, v4

    if-lez v0, :cond_6

    add-float/2addr v4, p2

    goto :goto_3

    :cond_6
    const/4 v4, 0x0

    :goto_3
    const/high16 v0, 0x3f800000    # 1.0f

    cmpl-float v5, p3, v0

    if-nez v5, :cond_7

    move v3, p4

    :cond_7
    if-eqz v1, :cond_8

    .line 16955
    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    invoke-virtual {v5}, Landroid/view/View;->getAlpha()F

    move-result v5

    sub-float v5, v0, v5

    mul-float v5, v5, p5

    goto :goto_4

    :cond_8
    move v5, p5

    .line 16957
    :goto_4
    iget-boolean v6, p0, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    if-eqz v6, :cond_9

    .line 16958
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getAlpha()F

    move-result v6

    mul-float v5, v5, v6

    goto :goto_5

    .line 16959
    :cond_9
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v6, v6, v2

    invoke-static {v6}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$23900(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result v6

    const/4 v7, 0x4

    if-ne v6, v7, :cond_a

    const/high16 v6, 0x41000000    # 8.0f

    .line 16960
    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dpf2(F)F

    move-result v6

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v7}, Landroid/widget/FrameLayout;->getAlpha()F

    move-result v7

    sub-float v7, v0, v7

    mul-float v6, v6, v7

    add-float/2addr v3, v6

    .line 16962
    :cond_a
    :goto_5
    invoke-virtual {p1}, Landroid/graphics/Canvas;->save()I

    .line 16963
    invoke-virtual {p1, v4, v3}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16964
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v3, v3, v2

    invoke-virtual {v3, v0}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setScale(F)V

    .line 16965
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v2

    invoke-virtual {v0, v5}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setAlpha(F)V

    .line 16966
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v2

    invoke-virtual {v0, p1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->onDraw(Landroid/graphics/Canvas;)V

    .line 16968
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-eqz v0, :cond_b

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->allowShowFullscreenButton:Z

    if-eqz v0, :cond_b

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v0, v0, v2

    invoke-virtual {v0}, Landroid/widget/ImageView;->getTag()Ljava/lang/Object;

    move-result-object v0

    if-nez v0, :cond_b

    .line 16969
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v3, v0, v2

    aget-object v0, v0, v2

    invoke-virtual {v0}, Landroid/widget/ImageView;->getAlpha()F

    move-result v0

    invoke-static {v0, p5}, Ljava/lang/Math;->min(FF)F

    move-result p5

    invoke-virtual {v3, p5}, Landroid/widget/ImageView;->setAlpha(F)V

    .line 16972
    :cond_b
    invoke-virtual {p1}, Landroid/graphics/Canvas;->restore()V

    :cond_c
    if-eqz v1, :cond_d

    .line 16974
    iget-boolean p5, p0, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    if-nez p5, :cond_d

    .line 16975
    invoke-virtual {p1}, Landroid/graphics/Canvas;->save()I

    .line 16976
    iget-object p5, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    invoke-virtual {p5}, Landroid/view/View;->getLeft()I

    move-result p5

    int-to-float p5, p5

    add-float/2addr p5, p2

    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    invoke-virtual {p2}, Landroid/view/View;->getTop()I

    move-result p2

    int-to-float p2, p2

    div-float/2addr p4, p3

    add-float/2addr p2, p4

    invoke-virtual {p1, p5, p2}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16977
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    invoke-virtual {p2, p1}, Landroid/view/View;->draw(Landroid/graphics/Canvas;)V

    .line 16978
    invoke-virtual {p1}, Landroid/graphics/Canvas;->restore()V

    :cond_d
    return-void
.end method

.method private enableSwipeToPiP()Z
    .locals 1

    const/4 v0, 0x0

    return v0
.end method

.method private fixVideoWidthHeight(II)[I
    .locals 7

    const-string v0, "video/avc"

    const/4 v1, 0x2

    new-array v1, v1, [I

    const/4 v2, 0x0

    aput p1, v1, v2

    const/4 v3, 0x1

    aput p2, v1, v3

    .line 7916
    sget v4, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v5, 0x15

    if-lt v4, v5, :cond_1

    const/4 v4, 0x0

    .line 7919
    :try_start_0
    invoke-static {v0}, Landroid/media/MediaCodec;->createEncoderByType(Ljava/lang/String;)Landroid/media/MediaCodec;

    move-result-object v4

    .line 7920
    invoke-virtual {v4}, Landroid/media/MediaCodec;->getCodecInfo()Landroid/media/MediaCodecInfo;

    move-result-object v5

    invoke-virtual {v5, v0}, Landroid/media/MediaCodecInfo;->getCapabilitiesForType(Ljava/lang/String;)Landroid/media/MediaCodecInfo$CodecCapabilities;

    move-result-object v0

    .line 7921
    invoke-virtual {v0}, Landroid/media/MediaCodecInfo$CodecCapabilities;->getVideoCapabilities()Landroid/media/MediaCodecInfo$VideoCapabilities;

    move-result-object v0

    .line 7922
    invoke-virtual {v0}, Landroid/media/MediaCodecInfo$VideoCapabilities;->getSupportedWidths()Landroid/util/Range;

    move-result-object v5

    .line 7923
    invoke-virtual {v0}, Landroid/media/MediaCodecInfo$VideoCapabilities;->getSupportedHeights()Landroid/util/Range;

    move-result-object v0

    .line 7924
    invoke-virtual {v5}, Landroid/util/Range;->getLower()Ljava/lang/Comparable;

    move-result-object v5

    check-cast v5, Ljava/lang/Integer;

    invoke-virtual {v5}, Ljava/lang/Integer;->intValue()I

    move-result v5

    int-to-float p1, p1

    const/high16 v6, 0x41800000    # 16.0f

    div-float/2addr p1, v6

    invoke-static {p1}, Ljava/lang/Math;->round(F)I

    move-result p1

    mul-int/lit8 p1, p1, 0x10

    invoke-static {v5, p1}, Ljava/lang/Math;->max(II)I

    move-result p1

    aput p1, v1, v2

    .line 7925
    invoke-virtual {v0}, Landroid/util/Range;->getLower()Ljava/lang/Comparable;

    move-result-object p1

    check-cast p1, Ljava/lang/Integer;

    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result p1

    int-to-float p2, p2

    div-float/2addr p2, v6

    invoke-static {p2}, Ljava/lang/Math;->round(F)I

    move-result p2

    mul-int/lit8 p2, p2, 0x10

    invoke-static {p1, p2}, Ljava/lang/Math;->max(II)I

    move-result p1

    aput p1, v1, v3
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_1
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    .line 7931
    :goto_0
    :try_start_1
    invoke-virtual {v4}, Landroid/media/MediaCodec;->release()V
    :try_end_1
    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_2

    goto :goto_1

    :catchall_0
    move-exception p1

    if-eqz v4, :cond_0

    :try_start_2
    invoke-virtual {v4}, Landroid/media/MediaCodec;->release()V
    :try_end_2
    .catch Ljava/lang/Exception; {:try_start_2 .. :try_end_2} :catch_0

    .line 7936
    :catch_0
    :cond_0
    throw p1

    :catch_1
    if-eqz v4, :cond_1

    goto :goto_0

    :catch_2
    :cond_1
    :goto_1
    return-object v1
.end method

.method private format(II)Ljava/lang/String;
    .locals 5

    const/4 v0, 0x5

    new-array v0, v0, [C

    const/16 v1, 0x63

    const/16 v2, 0x64

    if-lt p1, v2, :cond_0

    const/16 v3, 0x63

    goto :goto_0

    :cond_0
    move v3, p1

    .line 8212
    :goto_0
    div-int/lit8 v3, v3, 0xa

    add-int/lit8 v3, v3, 0x30

    int-to-char v3, v3

    const/4 v4, 0x0

    aput-char v3, v0, v4

    const/4 v3, 0x1

    if-lt p1, v2, :cond_1

    const/16 p1, 0x63

    .line 8213
    :cond_1
    rem-int/lit8 p1, p1, 0xa

    add-int/lit8 p1, p1, 0x30

    int-to-char p1, p1

    aput-char p1, v0, v3

    const/4 p1, 0x2

    const/16 v3, 0x3a

    aput-char v3, v0, p1

    const/4 p1, 0x3

    if-lt p2, v2, :cond_2

    const/16 v3, 0x63

    goto :goto_1

    :cond_2
    move v3, p2

    .line 8215
    :goto_1
    div-int/lit8 v3, v3, 0xa

    add-int/lit8 v3, v3, 0x30

    int-to-char v3, v3

    aput-char v3, v0, p1

    const/4 p1, 0x4

    if-lt p2, v2, :cond_3

    const/16 p2, 0x63

    .line 8216
    :cond_3
    rem-int/lit8 p2, p2, 0xa

    add-int/lit8 p2, p2, 0x30

    int-to-char p2, p2

    aput-char p2, v0, p1

    .line 8217
    new-instance p1, Ljava/lang/String;

    invoke-direct {p1, v0}, Ljava/lang/String;-><init>([C)V

    return-object p1
.end method

.method private format(III)Ljava/lang/String;
    .locals 5

    const/16 v0, 0x8

    new-array v0, v0, [C

    const/16 v1, 0x63

    const/16 v2, 0x64

    if-lt p1, v2, :cond_0

    const/16 v3, 0x63

    goto :goto_0

    :cond_0
    move v3, p1

    .line 8199
    :goto_0
    div-int/lit8 v3, v3, 0xa

    add-int/lit8 v3, v3, 0x30

    int-to-char v3, v3

    const/4 v4, 0x0

    aput-char v3, v0, v4

    const/4 v3, 0x1

    if-lt p1, v2, :cond_1

    const/16 p1, 0x63

    .line 8200
    :cond_1
    rem-int/lit8 p1, p1, 0xa

    add-int/lit8 p1, p1, 0x30

    int-to-char p1, p1

    aput-char p1, v0, v3

    const/4 p1, 0x2

    const/16 v3, 0x3a

    aput-char v3, v0, p1

    const/4 p1, 0x3

    if-lt p2, v2, :cond_2

    const/16 v4, 0x63

    goto :goto_1

    :cond_2
    move v4, p2

    .line 8202
    :goto_1
    div-int/lit8 v4, v4, 0xa

    add-int/lit8 v4, v4, 0x30

    int-to-char v4, v4

    aput-char v4, v0, p1

    const/4 p1, 0x4

    if-lt p2, v2, :cond_3

    const/16 p2, 0x63

    .line 8203
    :cond_3
    rem-int/lit8 p2, p2, 0xa

    add-int/lit8 p2, p2, 0x30

    int-to-char p2, p2

    aput-char p2, v0, p1

    const/4 p1, 0x5

    aput-char v3, v0, p1

    const/4 p1, 0x6

    if-lt p3, v2, :cond_4

    const/16 p2, 0x63

    goto :goto_2

    :cond_4
    move p2, p3

    .line 8205
    :goto_2
    div-int/lit8 p2, p2, 0xa

    add-int/lit8 p2, p2, 0x30

    int-to-char p2, p2

    aput-char p2, v0, p1

    const/4 p1, 0x7

    if-lt p3, v2, :cond_5

    const/16 p3, 0x63

    .line 8206
    :cond_5
    rem-int/lit8 p3, p3, 0xa

    add-int/lit8 p3, p3, 0x30

    int-to-char p2, p3

    aput-char p2, v0, p1

    .line 8207
    new-instance p1, Ljava/lang/String;

    invoke-direct {p1, v0}, Ljava/lang/String;-><init>([C)V

    return-object p1
.end method

.method private getAdditionX()I
    .locals 3

    .line 15579
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v1, 0x1

    if-eq v0, v1, :cond_2

    if-nez v0, :cond_0

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v1, :cond_0

    goto :goto_0

    :cond_0
    if-eqz v0, :cond_1

    const/4 v1, 0x3

    if-eq v0, v1, :cond_1

    const/high16 v0, 0x41600000    # 14.0f

    .line 15582
    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v0

    return v0

    :cond_1
    const/4 v0, 0x0

    return v0

    :cond_2
    :goto_0
    const/high16 v0, 0x41800000    # 16.0f

    .line 15580
    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v0

    return v0
.end method

.method private getAdditionY()I
    .locals 4

    .line 15588
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v1, 0x1

    const/4 v2, 0x0

    if-eq v0, v1, :cond_5

    if-nez v0, :cond_0

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v3, v1, :cond_0

    goto :goto_0

    :cond_0
    const/4 v1, 0x3

    if-ne v0, v1, :cond_2

    const/high16 v0, 0x41000000    # 8.0f

    .line 15591
    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v1

    if-eqz v1, :cond_1

    sget v2, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    :cond_1
    add-int/2addr v0, v2

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getAdditionalTop()I

    move-result v1

    add-int/2addr v0, v1

    return v0

    :cond_2
    if-eqz v0, :cond_4

    const/high16 v0, 0x41600000    # 14.0f

    .line 15593
    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v1

    if-eqz v1, :cond_3

    sget v2, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    :cond_3
    add-int/2addr v0, v2

    return v0

    :cond_4
    return v2

    :cond_5
    :goto_0
    const/high16 v0, 0x41800000    # 16.0f

    .line 15589
    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v1

    if-eqz v1, :cond_6

    sget v2, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    :cond_6
    add-int/2addr v0, v2

    return v0
.end method

.method private getAnimatedMediaEntitiesCount(Z)I
    .locals 6

    .line 9283
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    const/4 v1, 0x0

    if-eqz v0, :cond_4

    .line 9284
    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    const/4 v2, 0x0

    :goto_0
    if-ge v1, v0, :cond_3

    .line 9285
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v3, v3, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    invoke-virtual {v3, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;

    .line 9286
    iget-byte v4, v3, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;->type:B

    if-nez v4, :cond_0

    iget-byte v4, v3, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;->subType:B

    and-int/lit8 v5, v4, 0x1

    if-nez v5, :cond_1

    and-int/lit8 v4, v4, 0x4

    if-nez v4, :cond_1

    :cond_0
    iget-object v3, v3, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;->entities:Ljava/util/ArrayList;

    invoke-virtual {v3}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v3

    if-nez v3, :cond_2

    :cond_1
    add-int/lit8 v2, v2, 0x1

    if-eqz p1, :cond_2

    goto :goto_1

    :cond_2
    add-int/lit8 v1, v1, 0x1

    goto :goto_0

    :cond_3
    :goto_1
    move v1, v2

    :cond_4
    return v1
.end method

.method private getAnimatingImageViews(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)[Lorg/telegram/ui/Components/ClippingImageView;
    .locals 5

    .line 15354
    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->isTablet()Z

    move-result v0

    const/4 v1, 0x0

    const/4 v2, 0x1

    if-nez v0, :cond_0

    if-eqz p1, :cond_0

    iget-object v0, p1, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    if-eqz v0, :cond_0

    const/4 v0, 0x1

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    :goto_0
    add-int/lit8 v3, v0, 0x1

    .line 15355
    new-array v3, v3, [Lorg/telegram/ui/Components/ClippingImageView;

    .line 15356
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    aput-object v4, v3, v1

    if-eqz v0, :cond_1

    .line 15358
    iget-object v0, p1, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    aput-object v0, v3, v2

    .line 15359
    iget p1, p1, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->animatingImageViewYOffset:I

    int-to-float p1, p1

    invoke-virtual {v0, p1}, Lorg/telegram/ui/Components/ClippingImageView;->setAdditionalTranslationY(F)V

    :cond_1
    return-object v3
.end method

.method private getContainerViewHeight()I
    .locals 1

    .line 15613
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(I)I

    move-result v0

    return v0
.end method

.method private getContainerViewHeight(I)I
    .locals 1

    const/4 v0, 0x0

    .line 15617
    invoke-direct {p0, v0, p1}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(ZI)I

    move-result p1

    return p1
.end method

.method private getContainerViewHeight(ZI)I
    .locals 2

    const/4 v0, 0x1

    if-nez p1, :cond_1

    .line 15622
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->inBubbleMode:Z

    if-eqz p1, :cond_0

    goto :goto_0

    .line 15625
    :cond_0
    sget-object p1, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget p1, p1, Landroid/graphics/Point;->y:I

    if-nez p2, :cond_2

    .line 15626
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v1, v0, :cond_2

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v1

    if-eqz v1, :cond_2

    .line 15627
    sget v1, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    add-int/2addr p1, v1

    goto :goto_1

    .line 15623
    :cond_1
    :goto_0
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result p1

    :cond_2
    :goto_1
    if-nez p2, :cond_3

    .line 15630
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v1, v0, :cond_4

    :cond_3
    if-ne p2, v0, :cond_5

    :cond_4
    const/high16 p2, 0x43100000    # 144.0f

    .line 15631
    invoke-static {p2}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result p2

    :goto_2
    sub-int/2addr p1, p2

    goto :goto_3

    :cond_5
    const/4 v0, 0x2

    if-ne p2, v0, :cond_6

    const/high16 p2, 0x43560000    # 214.0f

    .line 15633
    invoke-static {p2}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result p2

    goto :goto_2

    :cond_6
    const/4 v0, 0x3

    if-ne p2, v0, :cond_7

    const/high16 p2, 0x42400000    # 48.0f

    .line 15635
    invoke-static {p2}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result p2

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getAdditionalBottom()I

    move-result v0

    add-int/2addr p2, v0

    invoke-static {}, Lorg/telegram/ui/ActionBar/ActionBar;->getCurrentActionBarHeight()I

    move-result v0

    add-int/2addr p2, v0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getAdditionalTop()I

    move-result v0

    add-int/2addr p2, v0

    goto :goto_2

    :cond_7
    :goto_3
    return p1
.end method

.method private getContainerViewWidth()I
    .locals 1

    .line 15599
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth(I)I

    move-result v0

    return v0
.end method

.method private getContainerViewWidth(I)I
    .locals 3

    .line 15603
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getWidth()I

    move-result v0

    const/4 v1, 0x1

    if-eq p1, v1, :cond_1

    if-nez p1, :cond_0

    .line 15604
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v1, :cond_0

    goto :goto_0

    :cond_0
    if-eqz p1, :cond_2

    const/4 v1, 0x3

    if-eq p1, v1, :cond_2

    const/high16 p1, 0x41e00000    # 28.0f

    .line 15607
    invoke-static {p1}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result p1

    goto :goto_1

    :cond_1
    :goto_0
    const/high16 p1, 0x42000000    # 32.0f

    .line 15605
    invoke-static {p1}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result p1

    :goto_1
    sub-int/2addr v0, p1

    :cond_2
    return v0
.end method

.method private getCropFillScale(Z)F
    .locals 4

    .line 16122
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-eqz p1, :cond_0

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v0

    goto :goto_0

    :cond_0
    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v0

    :goto_0
    if-eqz p1, :cond_1

    .line 16123
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {p1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result p1

    goto :goto_1

    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {p1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result p1

    .line 16124
    :goto_1
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v1

    if-eqz v1, :cond_2

    sget v1, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    goto :goto_2

    :cond_2
    const/4 v1, 0x0

    :goto_2
    int-to-float v1, v1

    .line 16125
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result v2

    int-to-float v2, v2

    const/high16 v3, 0x42800000    # 64.0f

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v3

    int-to-float v3, v3

    sub-float/2addr v2, v3

    sub-float/2addr v2, v1

    .line 16126
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v1

    int-to-float v1, v1

    invoke-static {v1, v2}, Ljava/lang/Math;->min(FF)F

    move-result v1

    const/high16 v2, 0x41800000    # 16.0f

    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v2

    mul-int/lit8 v2, v2, 0x2

    int-to-float v2, v2

    sub-float/2addr v1, v2

    int-to-float v0, v0

    div-float v0, v1, v0

    int-to-float p1, p1

    div-float/2addr v1, p1

    .line 16127
    invoke-static {v0, v1}, Ljava/lang/Math;->max(FF)F

    move-result p1

    return p1
.end method

.method private getCurrentVideoEditedInfo()Lorg/telegram/messenger/VideoEditedInfo;
    .locals 18

    move-object/from16 v0, p0

    .line 7942
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    const/16 v2, 0x10e

    const/16 v3, 0x5a

    const/high16 v4, 0x447a0000    # 1000.0f

    const/4 v5, -0x1

    const/4 v6, 0x0

    const-wide/16 v7, 0x0

    const/4 v9, 0x0

    const/4 v10, 0x1

    if-nez v1, :cond_b

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->hasAnimatedMediaEntities()Z

    move-result v1

    if-eqz v1, :cond_b

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v1

    if-lez v1, :cond_b

    .line 7943
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v1, v10, :cond_0

    const/high16 v1, 0x44480000    # 800.0f

    goto :goto_0

    :cond_0
    const v1, 0x44558000    # 854.0f

    .line 7944
    :goto_0
    new-instance v11, Lorg/telegram/messenger/VideoEditedInfo;

    invoke-direct {v11}, Lorg/telegram/messenger/VideoEditedInfo;-><init>()V

    .line 7945
    iput-wide v7, v11, Lorg/telegram/messenger/VideoEditedInfo;->startTime:J

    long-to-float v12, v7

    iput v12, v11, Lorg/telegram/messenger/VideoEditedInfo;->start:F

    const-wide/16 v12, 0xbb8

    .line 7946
    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-wide v14, v14, Lorg/telegram/ui/PhotoViewer$EditState;->averageDuration:J

    invoke-static {v12, v13, v14, v15}, Ljava/lang/Math;->min(JJ)J

    move-result-wide v12

    iput-wide v12, v11, Lorg/telegram/messenger/VideoEditedInfo;->endTime:J

    .line 7947
    :goto_1
    iget-wide v12, v11, Lorg/telegram/messenger/VideoEditedInfo;->endTime:J

    cmp-long v14, v12, v7

    if-lez v14, :cond_1

    const-wide/16 v14, 0x3e8

    cmp-long v16, v12, v14

    if-gez v16, :cond_1

    const-wide/16 v14, 0x2

    mul-long v12, v12, v14

    .line 7948
    iput-wide v12, v11, Lorg/telegram/messenger/VideoEditedInfo;->endTime:J

    goto :goto_1

    :cond_1
    long-to-float v12, v12

    .line 7950
    iput v12, v11, Lorg/telegram/messenger/VideoEditedInfo;->end:F

    .line 7951
    iget v12, v0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    iput v12, v11, Lorg/telegram/messenger/VideoEditedInfo;->compressQuality:I

    .line 7952
    iput v6, v11, Lorg/telegram/messenger/VideoEditedInfo;->rotationValue:I

    .line 7953
    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->currentImagePath:Ljava/lang/String;

    iput-object v6, v11, Lorg/telegram/messenger/VideoEditedInfo;->originalPath:Ljava/lang/String;

    .line 7954
    iget-wide v12, v11, Lorg/telegram/messenger/VideoEditedInfo;->endTime:J

    long-to-float v6, v12

    div-float/2addr v6, v4

    const/high16 v4, 0x47e10000    # 115200.0f

    mul-float v6, v6, v4

    float-to-int v4, v6

    int-to-long v14, v4

    iput-wide v14, v11, Lorg/telegram/messenger/VideoEditedInfo;->estimatedSize:J

    .line 7955
    iput-wide v12, v11, Lorg/telegram/messenger/VideoEditedInfo;->estimatedDuration:J

    const/16 v4, 0x1e

    .line 7956
    iput v4, v11, Lorg/telegram/messenger/VideoEditedInfo;->framerate:I

    .line 7957
    iput-wide v12, v11, Lorg/telegram/messenger/VideoEditedInfo;->originalDuration:J

    .line 7958
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v6, v4, Lorg/telegram/ui/PhotoViewer$EditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    iput-object v6, v11, Lorg/telegram/messenger/VideoEditedInfo;->filterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    .line 7959
    iget-object v6, v4, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    if-eqz v6, :cond_3

    .line 7960
    iput-object v6, v11, Lorg/telegram/messenger/VideoEditedInfo;->paintPath:Ljava/lang/String;

    .line 7961
    iget-object v4, v4, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    if-eqz v4, :cond_2

    invoke-virtual {v4}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v4

    if-nez v4, :cond_2

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v9, v4, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    :cond_2
    iput-object v9, v11, Lorg/telegram/messenger/VideoEditedInfo;->mediaEntities:Ljava/util/ArrayList;

    goto :goto_2

    .line 7963
    :cond_3
    iget-object v6, v4, Lorg/telegram/ui/PhotoViewer$EditState;->paintPath:Ljava/lang/String;

    iput-object v6, v11, Lorg/telegram/messenger/VideoEditedInfo;->paintPath:Ljava/lang/String;

    .line 7964
    iget-object v4, v4, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    iput-object v4, v11, Lorg/telegram/messenger/VideoEditedInfo;->mediaEntities:Ljava/util/ArrayList;

    .line 7966
    :goto_2
    iput-boolean v10, v11, Lorg/telegram/messenger/VideoEditedInfo;->isPhoto:Z

    .line 7967
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v4}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v4

    .line 7968
    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v6}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v6

    .line 7969
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v9, v9, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v9, :cond_6

    .line 7970
    iget v12, v9, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    if-eq v12, v3, :cond_4

    if-ne v12, v2, :cond_5

    :cond_4
    move/from16 v17, v6

    move v6, v4

    move/from16 v4, v17

    :cond_5
    int-to-float v2, v4

    .line 7975
    iget v3, v9, Lorg/telegram/messenger/MediaController$CropState;->cropPw:F

    mul-float v2, v2, v3

    float-to-int v4, v2

    int-to-float v2, v6

    .line 7976
    iget v3, v9, Lorg/telegram/messenger/MediaController$CropState;->cropPh:F

    mul-float v2, v2, v3

    float-to-int v6, v2

    .line 7978
    :cond_6
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v10, :cond_7

    move v4, v6

    :cond_7
    int-to-float v2, v4

    div-float v3, v2, v1

    int-to-float v4, v6

    div-float v1, v4, v1

    .line 7981
    invoke-static {v3, v1}, Ljava/lang/Math;->max(FF)F

    move-result v1

    const/high16 v3, 0x3f800000    # 1.0f

    cmpg-float v6, v1, v3

    if-gez v6, :cond_8

    const/high16 v1, 0x3f800000    # 1.0f

    :cond_8
    div-float/2addr v2, v1

    float-to-int v2, v2

    div-float/2addr v4, v1

    float-to-int v1, v4

    .line 7987
    rem-int/lit8 v3, v2, 0x10

    const/high16 v4, 0x41800000    # 16.0f

    if-eqz v3, :cond_9

    int-to-float v2, v2

    div-float/2addr v2, v4

    .line 7988
    invoke-static {v2}, Ljava/lang/Math;->round(F)I

    move-result v2

    invoke-static {v10, v2}, Ljava/lang/Math;->max(II)I

    move-result v2

    mul-int/lit8 v2, v2, 0x10

    .line 7990
    :cond_9
    rem-int/lit8 v3, v1, 0x10

    if-eqz v3, :cond_a

    int-to-float v1, v1

    div-float/2addr v1, v4

    .line 7991
    invoke-static {v1}, Ljava/lang/Math;->round(F)I

    move-result v1

    invoke-static {v10, v1}, Ljava/lang/Math;->max(II)I

    move-result v1

    mul-int/lit8 v1, v1, 0x10

    .line 7993
    :cond_a
    iput v2, v11, Lorg/telegram/messenger/VideoEditedInfo;->resultWidth:I

    iput v2, v11, Lorg/telegram/messenger/VideoEditedInfo;->originalWidth:I

    .line 7994
    iput v1, v11, Lorg/telegram/messenger/VideoEditedInfo;->resultHeight:I

    iput v1, v11, Lorg/telegram/messenger/VideoEditedInfo;->originalHeight:I

    .line 7995
    iput v5, v11, Lorg/telegram/messenger/VideoEditedInfo;->bitrate:I

    .line 7996
    iput-boolean v10, v11, Lorg/telegram/messenger/VideoEditedInfo;->muted:Z

    .line 7997
    iput-wide v7, v11, Lorg/telegram/messenger/VideoEditedInfo;->avatarStartTime:J

    return-object v11

    .line 8000
    :cond_b
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v1, :cond_23

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentPlayingVideoFile:Landroid/net/Uri;

    if-eqz v1, :cond_23

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    if-nez v1, :cond_c

    goto/16 :goto_b

    .line 8003
    :cond_c
    new-instance v1, Lorg/telegram/messenger/VideoEditedInfo;

    invoke-direct {v1}, Lorg/telegram/messenger/VideoEditedInfo;-><init>()V

    .line 8004
    iget-wide v11, v0, Lorg/telegram/ui/PhotoViewer;->startTime:J

    iput-wide v11, v1, Lorg/telegram/messenger/VideoEditedInfo;->startTime:J

    .line 8005
    iget-wide v11, v0, Lorg/telegram/ui/PhotoViewer;->endTime:J

    iput-wide v11, v1, Lorg/telegram/messenger/VideoEditedInfo;->endTime:J

    .line 8006
    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->videoCutStart:F

    iput v11, v1, Lorg/telegram/messenger/VideoEditedInfo;->start:F

    .line 8007
    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->videoCutEnd:F

    iput v11, v1, Lorg/telegram/messenger/VideoEditedInfo;->end:F

    .line 8008
    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    iput v11, v1, Lorg/telegram/messenger/VideoEditedInfo;->compressQuality:I

    .line 8009
    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->rotationValue:I

    iput v11, v1, Lorg/telegram/messenger/VideoEditedInfo;->rotationValue:I

    .line 8010
    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    iput v11, v1, Lorg/telegram/messenger/VideoEditedInfo;->originalWidth:I

    .line 8011
    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    iput v11, v1, Lorg/telegram/messenger/VideoEditedInfo;->originalHeight:I

    .line 8012
    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    iput v11, v1, Lorg/telegram/messenger/VideoEditedInfo;->bitrate:I

    .line 8013
    iget-object v11, v0, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    iput-object v11, v1, Lorg/telegram/messenger/VideoEditedInfo;->originalPath:Ljava/lang/String;

    .line 8014
    iget-wide v11, v0, Lorg/telegram/ui/PhotoViewer;->estimatedSize:J

    cmp-long v13, v11, v7

    if-eqz v13, :cond_d

    goto :goto_3

    :cond_d
    const-wide/16 v11, 0x1

    :goto_3
    iput-wide v11, v1, Lorg/telegram/messenger/VideoEditedInfo;->estimatedSize:J

    .line 8015
    iget-wide v7, v0, Lorg/telegram/ui/PhotoViewer;->estimatedDuration:J

    iput-wide v7, v1, Lorg/telegram/messenger/VideoEditedInfo;->estimatedDuration:J

    .line 8016
    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->videoFramerate:I

    iput v7, v1, Lorg/telegram/messenger/VideoEditedInfo;->framerate:I

    .line 8017
    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    mul-float v7, v7, v4

    float-to-long v7, v7

    iput-wide v7, v1, Lorg/telegram/messenger/VideoEditedInfo;->originalDuration:J

    .line 8018
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v7, v4, Lorg/telegram/ui/PhotoViewer$EditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    iput-object v7, v1, Lorg/telegram/messenger/VideoEditedInfo;->filterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    .line 8019
    iget-object v7, v4, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    if-eqz v7, :cond_f

    .line 8020
    iput-object v7, v1, Lorg/telegram/messenger/VideoEditedInfo;->paintPath:Ljava/lang/String;

    .line 8021
    iget-object v4, v4, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    if-eqz v4, :cond_e

    invoke-virtual {v4}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v4

    if-nez v4, :cond_e

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v9, v4, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    :cond_e
    iput-object v9, v1, Lorg/telegram/messenger/VideoEditedInfo;->mediaEntities:Ljava/util/ArrayList;

    goto :goto_4

    .line 8023
    :cond_f
    iget-object v7, v4, Lorg/telegram/ui/PhotoViewer$EditState;->paintPath:Ljava/lang/String;

    iput-object v7, v1, Lorg/telegram/messenger/VideoEditedInfo;->paintPath:Ljava/lang/String;

    .line 8024
    iget-object v4, v4, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    if-eqz v4, :cond_10

    invoke-virtual {v4}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v4

    if-nez v4, :cond_10

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v9, v4, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    :cond_10
    iput-object v9, v1, Lorg/telegram/messenger/VideoEditedInfo;->mediaEntities:Ljava/util/ArrayList;

    .line 8027
    :goto_4
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v4, v10, :cond_13

    iget-boolean v4, v0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-nez v4, :cond_13

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {v4}, Landroid/view/View;->getTag()Ljava/lang/Object;

    move-result-object v4

    if-eqz v4, :cond_11

    iget v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->resultWidth:I

    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    if-ne v4, v7, :cond_13

    iget v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->resultHeight:I

    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    if-ne v4, v7, :cond_13

    .line 8028
    :cond_11
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    iput v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->resultWidth:I

    .line 8029
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    iput v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->resultHeight:I

    .line 8030
    iget-boolean v4, v0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-eqz v4, :cond_12

    goto :goto_5

    :cond_12
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->originalBitrate:I

    :goto_5
    iput v5, v1, Lorg/telegram/messenger/VideoEditedInfo;->bitrate:I

    goto :goto_7

    .line 8032
    :cond_13
    iget-boolean v4, v0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-nez v4, :cond_14

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v4, v10, :cond_15

    .line 8033
    :cond_14
    iput v10, v0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    .line 8034
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->updateWidthHeightBitrateForCompression()V

    .line 8036
    :cond_15
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    iput v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->resultWidth:I

    .line 8037
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    iput v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->resultHeight:I

    .line 8038
    iget-boolean v4, v0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-nez v4, :cond_17

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v4, v10, :cond_16

    goto :goto_6

    :cond_16
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    :cond_17
    :goto_6
    iput v5, v1, Lorg/telegram/messenger/VideoEditedInfo;->bitrate:I

    .line 8040
    :goto_7
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v4, v4, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iput-object v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v4, :cond_1f

    .line 8042
    iget v5, v1, Lorg/telegram/messenger/VideoEditedInfo;->rotationValue:I

    iget v4, v4, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    add-int/2addr v5, v4

    iput v5, v1, Lorg/telegram/messenger/VideoEditedInfo;->rotationValue:I

    .line 8043
    :goto_8
    iget v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->rotationValue:I

    const/16 v5, 0x168

    if-lt v4, v5, :cond_18

    add-int/lit16 v4, v4, -0x168

    .line 8044
    iput v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->rotationValue:I

    goto :goto_8

    :cond_18
    if-eq v4, v3, :cond_1a

    if-ne v4, v2, :cond_19

    goto :goto_9

    .line 8050
    :cond_19
    iget-object v2, v1, Lorg/telegram/messenger/VideoEditedInfo;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iget v3, v1, Lorg/telegram/messenger/VideoEditedInfo;->resultWidth:I

    int-to-float v3, v3

    iget v4, v2, Lorg/telegram/messenger/MediaController$CropState;->cropPw:F

    mul-float v3, v3, v4

    float-to-int v3, v3

    iput v3, v2, Lorg/telegram/messenger/MediaController$CropState;->transformWidth:I

    .line 8051
    iget v3, v1, Lorg/telegram/messenger/VideoEditedInfo;->resultHeight:I

    int-to-float v3, v3

    iget v4, v2, Lorg/telegram/messenger/MediaController$CropState;->cropPh:F

    mul-float v3, v3, v4

    float-to-int v3, v3

    iput v3, v2, Lorg/telegram/messenger/MediaController$CropState;->transformHeight:I

    goto :goto_a

    .line 8047
    :cond_1a
    :goto_9
    iget-object v2, v1, Lorg/telegram/messenger/VideoEditedInfo;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iget v3, v1, Lorg/telegram/messenger/VideoEditedInfo;->resultWidth:I

    int-to-float v3, v3

    iget v4, v2, Lorg/telegram/messenger/MediaController$CropState;->cropPh:F

    mul-float v3, v3, v4

    float-to-int v3, v3

    iput v3, v2, Lorg/telegram/messenger/MediaController$CropState;->transformWidth:I

    .line 8048
    iget v3, v1, Lorg/telegram/messenger/VideoEditedInfo;->resultHeight:I

    int-to-float v3, v3

    iget v4, v2, Lorg/telegram/messenger/MediaController$CropState;->cropPw:F

    mul-float v3, v3, v4

    float-to-int v3, v3

    iput v3, v2, Lorg/telegram/messenger/MediaController$CropState;->transformHeight:I

    .line 8053
    :goto_a
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v10, :cond_1d

    .line 8054
    iget-object v2, v1, Lorg/telegram/messenger/VideoEditedInfo;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iget v3, v2, Lorg/telegram/messenger/MediaController$CropState;->transformWidth:I

    const/16 v4, 0x320

    if-le v3, v4, :cond_1b

    .line 8055
    iput v4, v2, Lorg/telegram/messenger/MediaController$CropState;->transformWidth:I

    .line 8057
    :cond_1b
    iget v3, v2, Lorg/telegram/messenger/MediaController$CropState;->transformHeight:I

    if-le v3, v4, :cond_1c

    .line 8058
    iput v4, v2, Lorg/telegram/messenger/MediaController$CropState;->transformHeight:I

    .line 8060
    :cond_1c
    iget v3, v2, Lorg/telegram/messenger/MediaController$CropState;->transformWidth:I

    iget v4, v2, Lorg/telegram/messenger/MediaController$CropState;->transformHeight:I

    invoke-static {v3, v4}, Ljava/lang/Math;->min(II)I

    move-result v3

    iput v3, v2, Lorg/telegram/messenger/MediaController$CropState;->transformHeight:I

    iput v3, v2, Lorg/telegram/messenger/MediaController$CropState;->transformWidth:I

    .line 8062
    :cond_1d
    sget-boolean v2, Lorg/telegram/messenger/BuildVars;->LOGS_ENABLED:Z

    const-string v3, " h = "

    if-eqz v2, :cond_1e

    .line 8063
    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "original transformed w = "

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iget v4, v4, Lorg/telegram/messenger/MediaController$CropState;->transformWidth:I

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iget v4, v4, Lorg/telegram/messenger/MediaController$CropState;->transformHeight:I

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    const-string v4, " r = "

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->rotationValue:I

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v2}, Lorg/telegram/messenger/FileLog;->d(Ljava/lang/String;)V

    .line 8065
    :cond_1e
    iget-object v2, v1, Lorg/telegram/messenger/VideoEditedInfo;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iget v4, v2, Lorg/telegram/messenger/MediaController$CropState;->transformWidth:I

    iget v2, v2, Lorg/telegram/messenger/MediaController$CropState;->transformHeight:I

    invoke-direct {v0, v4, v2}, Lorg/telegram/ui/PhotoViewer;->fixVideoWidthHeight(II)[I

    move-result-object v2

    .line 8066
    iget-object v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    aget v5, v2, v6

    iput v5, v4, Lorg/telegram/messenger/MediaController$CropState;->transformWidth:I

    .line 8067
    aget v2, v2, v10

    iput v2, v4, Lorg/telegram/messenger/MediaController$CropState;->transformHeight:I

    .line 8068
    sget-boolean v2, Lorg/telegram/messenger/BuildVars;->LOGS_ENABLED:Z

    if-eqz v2, :cond_1f

    .line 8069
    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "fixed transformed w = "

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iget v4, v4, Lorg/telegram/messenger/MediaController$CropState;->transformWidth:I

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v3, v1, Lorg/telegram/messenger/VideoEditedInfo;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iget v3, v3, Lorg/telegram/messenger/MediaController$CropState;->transformHeight:I

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v2}, Lorg/telegram/messenger/FileLog;->d(Ljava/lang/String;)V

    .line 8072
    :cond_1f
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v10, :cond_20

    .line 8073
    iget-wide v2, v0, Lorg/telegram/ui/PhotoViewer;->avatarStartTime:J

    iput-wide v2, v1, Lorg/telegram/messenger/VideoEditedInfo;->avatarStartTime:J

    .line 8074
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->originalBitrate:I

    iput v2, v1, Lorg/telegram/messenger/VideoEditedInfo;->originalBitrate:I

    .line 8076
    :cond_20
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-nez v2, :cond_21

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v10, :cond_22

    :cond_21
    const/4 v6, 0x1

    :cond_22
    iput-boolean v6, v1, Lorg/telegram/messenger/VideoEditedInfo;->muted:Z

    return-object v1

    :cond_23
    :goto_b
    return-object v9
.end method

.method private getCurrentVideoPosition()J
    .locals 2

    .line 1287
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v0

    if-eqz v0, :cond_0

    .line 1288
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->getCurrentPosition()I

    move-result v0

    int-to-long v0, v0

    return-wide v0

    .line 1290
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-nez v0, :cond_1

    const-wide/16 v0, 0x0

    return-wide v0

    .line 1293
    :cond_1
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getCurrentPosition()J

    move-result-wide v0

    return-wide v0
.end method

.method private getFileLocation(I[J)Lorg/telegram/tgnet/TLObject;
    .locals 8

    const/4 v0, 0x0

    if-gez p1, :cond_0

    return-object v0

    .line 11267
    :cond_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    const/4 v2, 0x0

    if-nez v1, :cond_3

    .line 11268
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt p1, v1, :cond_1

    return-object v0

    :cond_1
    if-eqz p2, :cond_2

    .line 11272
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v0, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lorg/telegram/messenger/SecureDocument;

    iget-object v0, v0, Lorg/telegram/messenger/SecureDocument;->secureFile:Lorg/telegram/tgnet/TLRPC$TL_secureFile;

    iget-wide v0, v0, Lorg/telegram/tgnet/TLRPC$TL_secureFile;->size:J

    aput-wide v0, p2, v2

    .line 11274
    :cond_2
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {p2, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Lorg/telegram/tgnet/TLObject;

    return-object p1

    .line 11275
    :cond_3
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_7

    .line 11276
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt p1, v1, :cond_4

    return-object v0

    :cond_4
    if-eqz p2, :cond_5

    .line 11279
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    invoke-virtual {v1, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    if-eqz v1, :cond_5

    .line 11280
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    invoke-virtual {v1, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Ljava/lang/Long;

    invoke-virtual {v1}, Ljava/lang/Long;->longValue()J

    move-result-wide v3

    aput-wide v3, p2, v2

    .line 11282
    :cond_5
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {p2, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p2

    if-eqz p2, :cond_6

    .line 11283
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {p2, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Lorg/telegram/messenger/ImageLocation;

    iget-object p1, p1, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    return-object p1

    :cond_6
    return-object v0

    .line 11287
    :cond_7
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_14

    .line 11288
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt p1, v1, :cond_8

    return-object v0

    .line 11291
    :cond_8
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Lorg/telegram/messenger/MessageObject;

    .line 11292
    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    instance-of v3, v1, Lorg/telegram/tgnet/TLRPC$TL_messageService;

    const-wide/16 v4, 0x0

    const-wide/16 v6, -0x1

    if-eqz v3, :cond_c

    .line 11293
    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$Message;->action:Lorg/telegram/tgnet/TLRPC$MessageAction;

    instance-of v3, v1, Lorg/telegram/tgnet/TLRPC$TL_messageActionUserUpdatedPhoto;

    if-eqz v3, :cond_9

    .line 11294
    iget-object p1, v1, Lorg/telegram/tgnet/TLRPC$MessageAction;->newUserPhoto:Lorg/telegram/tgnet/TLRPC$UserProfilePhoto;

    iget-object p1, p1, Lorg/telegram/tgnet/TLRPC$UserProfilePhoto;->photo_big:Lorg/telegram/tgnet/TLRPC$FileLocation;

    return-object p1

    .line 11296
    :cond_9
    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->photoThumbs:Ljava/util/ArrayList;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v1

    invoke-static {p1, v1}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object p1

    if-eqz p1, :cond_b

    if-eqz p2, :cond_a

    .line 11299
    iget v0, p1, Lorg/telegram/tgnet/TLRPC$PhotoSize;->size:I

    int-to-long v0, v0

    aput-wide v0, p2, v2

    .line 11300
    aget-wide v0, p2, v2

    cmp-long v3, v0, v4

    if-nez v3, :cond_a

    .line 11301
    aput-wide v6, p2, v2

    :cond_a
    return-object p1

    :cond_b
    if-eqz p2, :cond_14

    .line 11306
    aput-wide v6, p2, v2

    goto/16 :goto_0

    .line 11309
    :cond_c
    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    instance-of v1, v1, Lorg/telegram/tgnet/TLRPC$TL_messageMediaPhoto;

    if-eqz v1, :cond_d

    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$MessageMedia;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    if-nez v1, :cond_e

    :cond_d
    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    instance-of v1, v1, Lorg/telegram/tgnet/TLRPC$TL_messageMediaWebPage;

    if-eqz v1, :cond_11

    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    if-eqz v1, :cond_11

    .line 11311
    :cond_e
    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->photoThumbs:Ljava/util/ArrayList;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v1

    const/4 v3, 0x1

    invoke-static {p1, v1, v2, v0, v3}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;IZLorg/telegram/tgnet/TLRPC$PhotoSize;Z)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object p1

    if-eqz p1, :cond_10

    if-eqz p2, :cond_f

    .line 11314
    iget v0, p1, Lorg/telegram/tgnet/TLRPC$PhotoSize;->size:I

    int-to-long v0, v0

    aput-wide v0, p2, v2

    .line 11315
    aget-wide v0, p2, v2

    cmp-long v3, v0, v4

    if-nez v3, :cond_f

    .line 11316
    aput-wide v6, p2, v2

    :cond_f
    return-object p1

    :cond_10
    if-eqz p2, :cond_14

    .line 11321
    aput-wide v6, p2, v2

    goto :goto_0

    .line 11323
    :cond_11
    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    instance-of v1, v1, Lorg/telegram/tgnet/TLRPC$TL_messageMediaInvoice;

    if-eqz v1, :cond_12

    .line 11324
    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {p1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object p1

    check-cast p1, Lorg/telegram/tgnet/TLRPC$TL_messageMediaInvoice;

    iget-object p1, p1, Lorg/telegram/tgnet/TLRPC$MessageMedia;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    return-object p1

    .line 11325
    :cond_12
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v1

    if-eqz v1, :cond_14

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v1

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->isDocumentHasThumb(Lorg/telegram/tgnet/TLRPC$Document;)Z

    move-result v1

    if-eqz v1, :cond_14

    .line 11326
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object p1

    iget-object p1, p1, Lorg/telegram/tgnet/TLRPC$Document;->thumbs:Ljava/util/ArrayList;

    const/16 v0, 0x5a

    invoke-static {p1, v0}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object p1

    if-eqz p2, :cond_13

    .line 11328
    iget v0, p1, Lorg/telegram/tgnet/TLRPC$PhotoSize;->size:I

    int-to-long v0, v0

    aput-wide v0, p2, v2

    .line 11329
    aget-wide v0, p2, v2

    cmp-long v3, v0, v4

    if-nez v3, :cond_13

    .line 11330
    aput-wide v6, p2, v2

    :cond_13
    return-object p1

    :cond_14
    :goto_0
    return-object v0
.end method

.method public static getFileLocation(Lorg/telegram/messenger/ImageLocation;)Lorg/telegram/tgnet/TLRPC$FileLocation;
    .locals 0

    if-nez p0, :cond_0

    const/4 p0, 0x0

    return-object p0

    .line 12708
    :cond_0
    iget-object p0, p0, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    return-object p0
.end method

.method public static getFileLocationExt(Lorg/telegram/messenger/ImageLocation;)Ljava/lang/String;
    .locals 1

    if-eqz p0, :cond_1

    .line 12712
    iget p0, p0, Lorg/telegram/messenger/ImageLocation;->imageType:I

    const/4 v0, 0x2

    if-eq p0, v0, :cond_0

    goto :goto_0

    :cond_0
    const-string p0, "mp4"

    return-object p0

    :cond_1
    :goto_0
    const/4 p0, 0x0

    return-object p0
.end method

.method private getFileName(I)Ljava/lang/String;
    .locals 6

    const/4 v0, 0x0

    if-gez p1, :cond_0

    return-object v0

    .line 11130
    :cond_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    const-string v2, ".jpg"

    const-string v3, "_"

    if-nez v1, :cond_2

    .line 11131
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt p1, v1, :cond_1

    return-object v0

    .line 11134
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v0, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Lorg/telegram/messenger/SecureDocument;

    .line 11135
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    iget-object v1, p1, Lorg/telegram/messenger/SecureDocument;->secureFile:Lorg/telegram/tgnet/TLRPC$TL_secureFile;

    iget v1, v1, Lorg/telegram/tgnet/TLRPC$TL_secureFile;->dc_id:I

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v0, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object p1, p1, Lorg/telegram/messenger/SecureDocument;->secureFile:Lorg/telegram/tgnet/TLRPC$TL_secureFile;

    iget-wide v3, p1, Lorg/telegram/tgnet/TLRPC$TL_secureFile;->id:J

    invoke-virtual {v0, v3, v4}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p1

    return-object p1

    .line 11136
    :cond_2
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-eqz v1, :cond_a

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_3

    goto/16 :goto_0

    .line 11157
    :cond_3
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_8

    .line 11158
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt p1, v1, :cond_4

    return-object v0

    .line 11161
    :cond_4
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v1, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    .line 11162
    instance-of v1, p1, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v1, :cond_5

    .line 11163
    check-cast p1, Lorg/telegram/messenger/MediaController$SearchImage;

    .line 11164
    invoke-virtual {p1}, Lorg/telegram/messenger/MediaController$SearchImage;->getAttachName()Ljava/lang/String;

    move-result-object p1

    return-object p1

    .line 11165
    :cond_5
    instance-of v1, p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v1, :cond_9

    .line 11166
    check-cast p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    .line 11167
    iget-object v1, p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    if-eqz v1, :cond_6

    .line 11168
    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getAttachFileName(Lorg/telegram/tgnet/TLObject;)Ljava/lang/String;

    move-result-object p1

    return-object p1

    .line 11169
    :cond_6
    iget-object v1, p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    if-eqz v1, :cond_7

    .line 11170
    iget-object p1, v1, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v0

    invoke-static {p1, v0}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object p1

    .line 11171
    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getAttachFileName(Lorg/telegram/tgnet/TLObject;)Ljava/lang/String;

    move-result-object p1

    return-object p1

    .line 11172
    :cond_7
    iget-object v1, p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    instance-of v1, v1, Lorg/telegram/tgnet/TLRPC$TL_webDocument;

    if-eqz v1, :cond_9

    .line 11173
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    iget-object v1, p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$WebDocument;->url:Ljava/lang/String;

    invoke-static {v1}, Lorg/telegram/messenger/Utilities;->MD5(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    const-string v1, "."

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object p1, p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    iget-object v1, p1, Lorg/telegram/tgnet/TLRPC$WebDocument;->url:Ljava/lang/String;

    iget-object p1, p1, Lorg/telegram/tgnet/TLRPC$WebDocument;->mime_type:Ljava/lang/String;

    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getMimeTypePart(Ljava/lang/String;)Ljava/lang/String;

    move-result-object p1

    invoke-static {v1, p1}, Lorg/telegram/messenger/ImageLoader;->getHttpUrlExtension(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object p1

    invoke-virtual {v0, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p1

    return-object p1

    .line 11176
    :cond_8
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v1, :cond_9

    .line 11177
    invoke-interface {v1, p1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getFileName(I)Ljava/lang/String;

    move-result-object p1

    return-object p1

    :cond_9
    return-object v0

    .line 11137
    :cond_a
    :goto_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_e

    .line 11138
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt p1, v1, :cond_b

    return-object v0

    .line 11141
    :cond_b
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lorg/telegram/messenger/ImageLocation;

    .line 11142
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {v4, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Lorg/telegram/messenger/ImageLocation;

    if-nez v1, :cond_c

    return-object v0

    :cond_c
    if-eqz p1, :cond_d

    if-eq p1, v1, :cond_d

    .line 11147
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    iget-object v1, p1, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget-wide v1, v1, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    invoke-virtual {v0, v1, v2}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    invoke-virtual {v0, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object p1, p1, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget p1, p1, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    invoke-virtual {v0, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    const-string p1, ".mp4"

    invoke-virtual {v0, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p1

    return-object p1

    .line 11149
    :cond_d
    new-instance p1, Ljava/lang/StringBuilder;

    invoke-direct {p1}, Ljava/lang/StringBuilder;-><init>()V

    iget-object v0, v1, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget-wide v4, v0, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    invoke-virtual {p1, v4, v5}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    invoke-virtual {p1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v0, v1, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget v0, v0, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {p1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {p1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p1

    return-object p1

    .line 11152
    :cond_e
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt p1, v1, :cond_f

    return-object v0

    .line 11155
    :cond_f
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v0, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Lorg/telegram/messenger/MessageObject;

    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getMessageFileName(Lorg/telegram/tgnet/TLRPC$Message;)Ljava/lang/String;

    move-result-object p1

    return-object p1
.end method

.method private getImageLocation(I[J)Lorg/telegram/messenger/ImageLocation;
    .locals 10

    const/4 v0, 0x0

    if-gez p1, :cond_0

    return-object v0

    .line 11186
    :cond_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    const/4 v2, 0x0

    if-nez v1, :cond_3

    .line 11187
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt p1, v1, :cond_1

    return-object v0

    :cond_1
    if-eqz p2, :cond_2

    .line 11191
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v0, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lorg/telegram/messenger/SecureDocument;

    iget-object v0, v0, Lorg/telegram/messenger/SecureDocument;->secureFile:Lorg/telegram/tgnet/TLRPC$TL_secureFile;

    iget-wide v0, v0, Lorg/telegram/tgnet/TLRPC$TL_secureFile;->size:J

    aput-wide v0, p2, v2

    .line 11193
    :cond_2
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {p2, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Lorg/telegram/messenger/SecureDocument;

    invoke-static {p1}, Lorg/telegram/messenger/ImageLocation;->getForSecureDocument(Lorg/telegram/messenger/SecureDocument;)Lorg/telegram/messenger/ImageLocation;

    move-result-object p1

    return-object p1

    .line 11194
    :cond_3
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_6

    .line 11195
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt p1, v1, :cond_4

    return-object v0

    :cond_4
    if-eqz p2, :cond_5

    .line 11198
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    invoke-virtual {v0, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    if-eqz v0, :cond_5

    .line 11199
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    invoke-virtual {v0, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Ljava/lang/Long;

    invoke-virtual {v0}, Ljava/lang/Long;->longValue()J

    move-result-wide v0

    aput-wide v0, p2, v2

    .line 11201
    :cond_5
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {p2, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Lorg/telegram/messenger/ImageLocation;

    return-object p1

    .line 11202
    :cond_6
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_15

    .line 11203
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt p1, v1, :cond_7

    return-object v0

    .line 11206
    :cond_7
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Lorg/telegram/messenger/MessageObject;

    .line 11207
    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    instance-of v3, v1, Lorg/telegram/tgnet/TLRPC$TL_messageService;

    const-wide/16 v4, 0x0

    const-wide/16 v6, -0x1

    if-eqz v3, :cond_b

    .line 11208
    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$Message;->action:Lorg/telegram/tgnet/TLRPC$MessageAction;

    instance-of v1, v1, Lorg/telegram/tgnet/TLRPC$TL_messageActionUserUpdatedPhoto;

    if-eqz v1, :cond_8

    return-object v0

    .line 11211
    :cond_8
    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->photoThumbs:Ljava/util/ArrayList;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v3

    invoke-static {v1, v3}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v1

    if-eqz v1, :cond_a

    if-eqz p2, :cond_9

    .line 11214
    iget v0, v1, Lorg/telegram/tgnet/TLRPC$PhotoSize;->size:I

    int-to-long v8, v0

    aput-wide v8, p2, v2

    .line 11215
    aget-wide v8, p2, v2

    cmp-long v0, v8, v4

    if-nez v0, :cond_9

    .line 11216
    aput-wide v6, p2, v2

    .line 11219
    :cond_9
    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->photoThumbsObject:Lorg/telegram/tgnet/TLObject;

    invoke-static {v1, p1}, Lorg/telegram/messenger/ImageLocation;->getForObject(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLObject;)Lorg/telegram/messenger/ImageLocation;

    move-result-object p1

    return-object p1

    :cond_a
    if-eqz p2, :cond_15

    .line 11221
    aput-wide v6, p2, v2

    goto/16 :goto_0

    .line 11224
    :cond_b
    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    instance-of v1, v1, Lorg/telegram/tgnet/TLRPC$TL_messageMediaPhoto;

    if-eqz v1, :cond_c

    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$MessageMedia;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    if-nez v1, :cond_d

    :cond_c
    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    instance-of v1, v1, Lorg/telegram/tgnet/TLRPC$TL_messageMediaWebPage;

    if-eqz v1, :cond_11

    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    if-eqz v1, :cond_11

    .line 11225
    :cond_d
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->isGif()Z

    move-result v1

    if-eqz v1, :cond_e

    .line 11226
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object p1

    invoke-static {p1}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object p1

    return-object p1

    .line 11229
    :cond_e
    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->photoThumbs:Ljava/util/ArrayList;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v3

    const/4 v8, 0x1

    invoke-static {v1, v3, v2, v0, v8}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;IZLorg/telegram/tgnet/TLRPC$PhotoSize;Z)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v1

    if-eqz v1, :cond_10

    if-eqz p2, :cond_f

    .line 11232
    iget v0, v1, Lorg/telegram/tgnet/TLRPC$PhotoSize;->size:I

    int-to-long v8, v0

    aput-wide v8, p2, v2

    .line 11233
    aget-wide v8, p2, v2

    cmp-long v0, v8, v4

    if-nez v0, :cond_f

    .line 11234
    aput-wide v6, p2, v2

    .line 11237
    :cond_f
    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->photoThumbsObject:Lorg/telegram/tgnet/TLObject;

    invoke-static {v1, p1}, Lorg/telegram/messenger/ImageLocation;->getForObject(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLObject;)Lorg/telegram/messenger/ImageLocation;

    move-result-object p1

    return-object p1

    :cond_10
    if-eqz p2, :cond_15

    .line 11239
    aput-wide v6, p2, v2

    goto :goto_0

    .line 11242
    :cond_11
    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    instance-of v1, v1, Lorg/telegram/tgnet/TLRPC$TL_messageMediaInvoice;

    if-eqz v1, :cond_12

    .line 11243
    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {p1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object p1

    check-cast p1, Lorg/telegram/tgnet/TLRPC$TL_messageMediaInvoice;

    iget-object p1, p1, Lorg/telegram/tgnet/TLRPC$TL_messageMediaInvoice;->webPhoto:Lorg/telegram/tgnet/TLRPC$WebDocument;

    invoke-static {p1}, Lorg/telegram/messenger/WebFile;->createWithWebDocument(Lorg/telegram/tgnet/TLRPC$WebDocument;)Lorg/telegram/messenger/WebFile;

    move-result-object p1

    invoke-static {p1}, Lorg/telegram/messenger/ImageLocation;->getForWebFile(Lorg/telegram/messenger/WebFile;)Lorg/telegram/messenger/ImageLocation;

    move-result-object p1

    return-object p1

    .line 11244
    :cond_12
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v1

    if-eqz v1, :cond_15

    .line 11245
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v1

    .line 11246
    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    const/4 v8, 0x5

    if-ne v3, v8, :cond_13

    .line 11247
    invoke-static {v1}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object p1

    return-object p1

    .line 11248
    :cond_13
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object p1

    invoke-static {p1}, Lorg/telegram/messenger/MessageObject;->isDocumentHasThumb(Lorg/telegram/tgnet/TLRPC$Document;)Z

    move-result p1

    if-eqz p1, :cond_15

    .line 11249
    iget-object p1, v1, Lorg/telegram/tgnet/TLRPC$Document;->thumbs:Ljava/util/ArrayList;

    const/16 v0, 0x5a

    invoke-static {p1, v0}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object p1

    if-eqz p2, :cond_14

    .line 11251
    iget v0, p1, Lorg/telegram/tgnet/TLRPC$PhotoSize;->size:I

    int-to-long v8, v0

    aput-wide v8, p2, v2

    .line 11252
    aget-wide v8, p2, v2

    cmp-long v0, v8, v4

    if-nez v0, :cond_14

    .line 11253
    aput-wide v6, p2, v2

    .line 11256
    :cond_14
    invoke-static {p1, v1}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object p1

    return-object p1

    :cond_15
    :goto_0
    return-object v0
.end method

.method public static getInstance()Lorg/telegram/ui/PhotoViewer;
    .locals 2

    .line 3728
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    if-nez v0, :cond_1

    .line 3730
    const-class v1, Lorg/telegram/ui/PhotoViewer;

    monitor-enter v1

    .line 3731
    :try_start_0
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    if-nez v0, :cond_0

    .line 3733
    new-instance v0, Lorg/telegram/ui/PhotoViewer;

    invoke-direct {v0}, Lorg/telegram/ui/PhotoViewer;-><init>()V

    sput-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    .line 3735
    :cond_0
    monitor-exit v1

    goto :goto_0

    :catchall_0
    move-exception v0

    monitor-exit v1
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    throw v0

    :cond_1
    :goto_0
    return-object v0
.end method

.method private getLeftInset()I
    .locals 1

    .line 7260
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->insets:Landroid/graphics/Rect;

    iget v0, v0, Landroid/graphics/Rect;->left:I

    return v0
.end method

.method public static getPipInstance()Lorg/telegram/ui/PhotoViewer;
    .locals 1

    .line 3724
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    return-object v0
.end method

.method private getRightInset()I
    .locals 1

    .line 7264
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->insets:Landroid/graphics/Rect;

    iget v0, v0, Landroid/graphics/Rect;->right:I

    return v0
.end method

.method private getThemedColor(I)I
    .locals 1

    .line 18384
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    if-eqz v0, :cond_0

    .line 18385
    invoke-interface {v0, p1}, Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;->getColor(I)I

    move-result p1

    return p1

    .line 18387
    :cond_0
    invoke-static {p1}, Lorg/telegram/ui/ActionBar/Theme;->getColor(I)I

    move-result p1

    return p1
.end method

.method private getVideoDuration()J
    .locals 2

    .line 1298
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v0

    if-eqz v0, :cond_0

    .line 1299
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->getVideoDuration()I

    move-result v0

    int-to-long v0, v0

    return-wide v0

    .line 1301
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-nez v0, :cond_1

    const-wide/16 v0, 0x0

    return-wide v0

    .line 1304
    :cond_1
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v0

    return-wide v0
.end method

.method private goToNext()V
    .locals 4

    .line 15992
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/high16 v1, 0x3f800000    # 1.0f

    cmpl-float v0, v0, v1

    if-eqz v0, :cond_0

    .line 15993
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v0

    int-to-float v0, v0

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getImageWidth()F

    move-result v1

    sub-float/2addr v0, v1

    const/high16 v1, 0x40000000    # 2.0f

    div-float/2addr v0, v1

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    mul-float v0, v0, v1

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    :goto_0
    const/4 v1, 0x1

    .line 15995
    iput v1, p0, Lorg/telegram/ui/PhotoViewer;->switchImageAfterAnimation:I

    .line 15996
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->minX:F

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v3

    int-to-float v3, v3

    sub-float/2addr v2, v3

    sub-float/2addr v2, v0

    const/high16 v0, 0x41f00000    # 30.0f

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v0

    div-int/lit8 v0, v0, 0x2

    int-to-float v0, v0

    sub-float/2addr v2, v0

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    const/4 v3, 0x0

    invoke-direct {p0, v1, v2, v0, v3}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZ)V

    return-void
.end method

.method private goToPrev()V
    .locals 5

    .line 16001
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/high16 v1, 0x3f800000    # 1.0f

    cmpl-float v0, v0, v1

    if-eqz v0, :cond_0

    .line 16002
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v0

    int-to-float v0, v0

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getImageWidth()F

    move-result v1

    sub-float/2addr v0, v1

    const/high16 v1, 0x40000000    # 2.0f

    div-float/2addr v0, v1

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    mul-float v0, v0, v1

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    :goto_0
    const/4 v1, 0x2

    .line 16004
    iput v1, p0, Lorg/telegram/ui/PhotoViewer;->switchImageAfterAnimation:I

    .line 16005
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v4

    int-to-float v4, v4

    add-float/2addr v3, v4

    add-float/2addr v3, v0

    const/high16 v0, 0x41f00000    # 30.0f

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v0

    div-int/2addr v0, v1

    int-to-float v0, v0

    add-float/2addr v3, v0

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    const/4 v1, 0x0

    invoke-direct {p0, v2, v3, v0, v1}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZ)V

    return-void
.end method

.method private hasAnimatedMediaEntities()Z
    .locals 2

    const/4 v0, 0x1

    .line 9298
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->getAnimatedMediaEntitiesCount(Z)I

    move-result v1

    if-eqz v1, :cond_0

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    :goto_0
    return v0
.end method

.method public static hasInstance()Z
    .locals 1

    .line 3745
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    if-eqz v0, :cond_0

    const/4 v0, 0x1

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    :goto_0
    return v0
.end method

.method private hidePressedDrawables()V
    .locals 3

    .line 17229
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->drawPressedDrawable:[Z

    const/4 v1, 0x1

    const/4 v2, 0x0

    aput-boolean v2, v0, v1

    aput-boolean v2, v0, v2

    .line 17230
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    return-void
.end method

.method private initCropView()V
    .locals 9

    .line 14312
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    if-nez v0, :cond_0

    return-void

    :cond_0
    const/4 v1, 0x0

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    .line 14315
    invoke-virtual/range {v0 .. v8}, Lorg/telegram/ui/Components/PhotoCropView;->setBitmap(Landroid/graphics/Bitmap;IZZLorg/telegram/ui/Components/PaintingOverlay;Lorg/telegram/ui/Components/Crop/CropTransform;Lorg/telegram/ui/Components/VideoEditTextureView;Lorg/telegram/messenger/MediaController$CropState;)V

    .line 14316
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v1, 0x1

    if-eq v0, v1, :cond_1

    return-void

    .line 14319
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoCropView;->onAppear()V

    .line 14320
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    const/4 v2, 0x0

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 14321
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    const/high16 v2, 0x3f800000    # 1.0f

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setAlpha(F)V

    .line 14322
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoCropView;->onAppeared()V

    .line 14323
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->padImageForHorizontalInsets:Z

    return-void
.end method

.method private initEmbedVideo(I)V
    .locals 4

    .line 14835
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-nez v0, :cond_0

    return-void

    .line 14838
    :cond_0
    new-instance v0, Lorg/telegram/ui/PhotoViewer$68;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v0, p0, p0, v1, v2}, Lorg/telegram/ui/PhotoViewer$68;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;Landroid/view/View;)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    .line 14861
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v1, v1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    invoke-virtual {v0, p1, v1}, Lorg/telegram/ui/Components/PhotoViewerWebView;->init(ILorg/telegram/tgnet/TLRPC$WebPage;)V

    .line 14862
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    invoke-virtual {p1, v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->setPlaybackSpeed(F)V

    .line 14863
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    const/4 v1, 0x0

    const/4 v2, -0x1

    const/high16 v3, -0x40800000    # -1.0f

    invoke-static {v2, v3}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IF)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {p1, v0, v1, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;ILandroid/view/ViewGroup$LayoutParams;)V

    .line 14865
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result p1

    if-eqz p1, :cond_1

    const/4 p1, 0x1

    .line 14866
    invoke-direct {p0, p1, p1}, Lorg/telegram/ui/PhotoViewer;->setVideoPlayerControlVisible(ZZ)V

    .line 14868
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->clearTimestamps()V

    .line 14869
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateVideoPlayerTime()V

    const/4 p1, 0x0

    .line 14871
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideo:Ljava/lang/String;

    .line 14872
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideoShortTerm:Ljava/lang/String;

    const-wide/16 v0, 0x0

    .line 14873
    iput-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->lastSaveTime:J

    .line 14874
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending2:F

    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending:F

    .line 14875
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    const/4 v0, 0x0

    invoke-virtual {p1, v0}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setProgress(F)V

    .line 14876
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {p1, v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setProgress(F)V

    .line 14877
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {p1, v0}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setBufferedProgress(F)V

    return-void
.end method

.method private invalidateBlur()V
    .locals 1

    .line 18950
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-eqz v0, :cond_0

    return-void

    .line 18953
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    if-eqz v0, :cond_1

    .line 18954
    invoke-virtual {v0}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->invalidateBlur()V

    .line 18956
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    if-eqz v0, :cond_2

    .line 18957
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->invalidateBlur()V

    .line 18959
    :cond_2
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    if-eqz v0, :cond_3

    .line 18960
    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    :cond_3
    return-void
.end method

.method private isAccessibilityEnabled()Z
    .locals 3

    const/4 v0, 0x0

    .line 8328
    :try_start_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    const-string v2, "accessibility"

    invoke-virtual {v1, v2}, Landroid/content/Context;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/view/accessibility/AccessibilityManager;

    .line 8329
    invoke-virtual {v1}, Landroid/view/accessibility/AccessibilityManager;->isEnabled()Z

    move-result v2

    if-eqz v2, :cond_0

    invoke-virtual {v1}, Landroid/view/accessibility/AccessibilityManager;->isTouchExplorationEnabled()Z

    move-result v1
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    if-eqz v1, :cond_0

    const/4 v0, 0x1

    :cond_0
    return v0

    :catch_0
    move-exception v1

    .line 8331
    invoke-static {v1}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    return v0
.end method

.method private isCaptionOpen()Z
    .locals 1

    .line 6862
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    if-eqz v0, :cond_1

    iget-object v0, v0, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->keyboardNotifier:Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;

    .line 6864
    invoke-virtual {v0}, Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;->keyboardVisible()Z

    move-result v0

    if-nez v0, :cond_0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->editText:Lorg/telegram/ui/Components/EditTextEmoji;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/EditTextEmoji;->isPopupShowing()Z

    move-result v0

    if-eqz v0, :cond_1

    :cond_0
    const/4 v0, 0x1

    goto :goto_0

    :cond_1
    const/4 v0, 0x0

    :goto_0
    return v0
.end method

.method private isCurrentAvatarSet()Z
    .locals 10

    .line 11351
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAvatarLocation:Lorg/telegram/messenger/ImageLocation;

    const/4 v1, 0x0

    if-eqz v0, :cond_4

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz v0, :cond_4

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-lt v0, v2, :cond_0

    goto :goto_1

    .line 11354
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lorg/telegram/tgnet/TLRPC$Photo;

    .line 11355
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v2, v3}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/ImageLocation;

    .line 11356
    instance-of v3, v0, Lorg/telegram/tgnet/TLRPC$TL_photoEmpty;

    if-eqz v3, :cond_1

    const/4 v0, 0x0

    :cond_1
    const/4 v3, 0x1

    if-eqz v0, :cond_3

    .line 11360
    iget-object v2, v0, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    const/4 v4, 0x0

    :goto_0
    if-ge v4, v2, :cond_4

    .line 11361
    iget-object v5, v0, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    invoke-virtual {v5, v4}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lorg/telegram/tgnet/TLRPC$PhotoSize;

    .line 11362
    iget-object v5, v5, Lorg/telegram/tgnet/TLRPC$PhotoSize;->location:Lorg/telegram/tgnet/TLRPC$FileLocation;

    if-eqz v5, :cond_2

    iget v6, v5, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->currentAvatarLocation:Lorg/telegram/messenger/ImageLocation;

    iget-object v7, v7, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget v8, v7, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    if-ne v6, v8, :cond_2

    iget-wide v5, v5, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    iget-wide v7, v7, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    cmp-long v9, v5, v7

    if-nez v9, :cond_2

    return v3

    :cond_2
    add-int/lit8 v4, v4, 0x1

    goto :goto_0

    :cond_3
    if-eqz v2, :cond_4

    .line 11366
    iget-object v0, v2, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget v2, v0, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->currentAvatarLocation:Lorg/telegram/messenger/ImageLocation;

    iget-object v4, v4, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget v5, v4, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    if-ne v2, v5, :cond_4

    iget-wide v5, v0, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    iget-wide v7, v4, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    cmp-long v0, v5, v7

    if-nez v0, :cond_4

    return v3

    :cond_4
    :goto_1
    return v1
.end method

.method public static isPlayingMessage(Lorg/telegram/messenger/MessageObject;)Z
    .locals 4

    .line 13983
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    if-eqz v0, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    if-nez v0, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-eqz v0, :cond_0

    if-eqz p0, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v0, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v0

    invoke-virtual {p0}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v1

    if-ne v0, v1, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v0

    invoke-virtual {p0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v2

    cmp-long p0, v0, v2

    if-nez p0, :cond_0

    const/4 p0, 0x1

    goto :goto_0

    :cond_0
    const/4 p0, 0x0

    :goto_0
    return p0
.end method

.method public static isPlayingMessageInPip(Lorg/telegram/messenger/MessageObject;)Z
    .locals 4

    .line 13979
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    if-eqz v0, :cond_0

    if-eqz p0, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v0, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v0

    invoke-virtual {p0}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v1

    if-ne v0, v1, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v0

    invoke-virtual {p0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v2

    cmp-long p0, v0, v2

    if-nez p0, :cond_0

    const/4 p0, 0x1

    goto :goto_0

    :cond_0
    const/4 p0, 0x0

    :goto_0
    return p0
.end method

.method public static isShowingImage(Ljava/lang/String;)Z
    .locals 2

    .line 14006
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    const/4 v1, 0x0

    if-eqz v0, :cond_0

    .line 14007
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-eqz v0, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->disableShowCheck:Z

    if-nez v0, :cond_0

    if-eqz p0, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    invoke-virtual {p0, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result p0

    if-eqz p0, :cond_0

    const/4 p0, 0x1

    const/4 v1, 0x1

    :cond_0
    return v1
.end method

.method public static isShowingImage(Lorg/telegram/messenger/MessageObject;)Z
    .locals 7

    .line 13963
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    const/4 v1, 0x1

    const/4 v2, 0x0

    if-eqz v0, :cond_1

    .line 13964
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    if-nez v0, :cond_1

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-eqz v0, :cond_1

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->disableShowCheck:Z

    if-nez v0, :cond_1

    if-eqz p0, :cond_1

    .line 13965
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-nez v0, :cond_0

    .line 13966
    sget-object v3, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v3, v3, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v3, :cond_0

    .line 13967
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v0}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getEditingMessageObject()Lorg/telegram/messenger/MessageObject;

    move-result-object v0

    :cond_0
    if-eqz v0, :cond_1

    .line 13969
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v3

    invoke-virtual {p0}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v4

    if-ne v3, v4, :cond_1

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v3

    invoke-virtual {p0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v5

    cmp-long v0, v3, v5

    if-nez v0, :cond_1

    const/4 v0, 0x1

    goto :goto_0

    :cond_1
    const/4 v0, 0x0

    :goto_0
    if-nez v0, :cond_3

    .line 13972
    sget-object v3, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    if-eqz v3, :cond_3

    .line 13973
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-eqz v0, :cond_2

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->disableShowCheck:Z

    if-nez v0, :cond_2

    if-eqz p0, :cond_2

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v0, :cond_2

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v0

    invoke-virtual {p0}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v3

    if-ne v0, v3, :cond_2

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v3

    invoke-virtual {p0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v5

    cmp-long p0, v3, v5

    if-nez p0, :cond_2

    goto :goto_1

    :cond_2
    const/4 v1, 0x0

    :goto_1
    move v0, v1

    :cond_3
    return v0
.end method

.method public static isShowingImage(Lorg/telegram/tgnet/TLRPC$BotInlineResult;)Z
    .locals 2

    .line 13998
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    const/4 v1, 0x0

    if-eqz v0, :cond_0

    .line 13999
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-eqz v0, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->disableShowCheck:Z

    if-nez v0, :cond_0

    if-eqz p0, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v0, :cond_0

    iget-object p0, p0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->id:Ljava/lang/String;

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->id:Ljava/lang/String;

    if-ne p0, v0, :cond_0

    const/4 p0, 0x1

    const/4 v1, 0x1

    :cond_0
    return v1
.end method

.method public static isShowingImage(Lorg/telegram/tgnet/TLRPC$FileLocation;)Z
    .locals 6

    .line 13988
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    const/4 v1, 0x0

    if-eqz v0, :cond_2

    .line 13989
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-eqz v0, :cond_2

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->disableShowCheck:Z

    if-nez v0, :cond_2

    if-eqz p0, :cond_2

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    if-eqz v0, :cond_0

    iget v0, p0, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    sget-object v2, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    iget-object v2, v2, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget v2, v2, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    if-ne v0, v2, :cond_0

    iget-wide v2, p0, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    iget-object v0, v0, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget-wide v4, v0, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    cmp-long v0, v2, v4

    if-nez v0, :cond_0

    iget v0, p0, Lorg/telegram/tgnet/TLRPC$FileLocation;->dc_id:I

    sget-object v2, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    iget v2, v2, Lorg/telegram/messenger/ImageLocation;->dc_id:I

    if-eq v0, v2, :cond_1

    :cond_0
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    if-eqz v0, :cond_2

    iget v0, p0, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    sget-object v2, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    iget-object v2, v2, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget v2, v2, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    if-ne v0, v2, :cond_2

    iget-wide v2, p0, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    iget-object v0, v0, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget-wide v4, v0, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    cmp-long v0, v2, v4

    if-nez v0, :cond_2

    iget p0, p0, Lorg/telegram/tgnet/TLRPC$FileLocation;->dc_id:I

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    iget v0, v0, Lorg/telegram/messenger/ImageLocation;->dc_id:I

    if-ne p0, v0, :cond_2

    :cond_1
    const/4 p0, 0x1

    const/4 v1, 0x1

    :cond_2
    return v1
.end method

.method private isStatusBarVisible()Z
    .locals 2

    .line 16131
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v1, 0x15

    if-lt v0, v1, :cond_0

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->inBubbleMode:Z

    if-nez v0, :cond_0

    const/4 v0, 0x1

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    :goto_0
    return v0
.end method

.method private isVideoPlaying()Z
    .locals 1

    .line 1318
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v0

    if-eqz v0, :cond_0

    .line 1319
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isPlaying()Z

    move-result v0

    return v0

    .line 1321
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_1

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->isPlaying()Z

    move-result v0

    if-eqz v0, :cond_1

    const/4 v0, 0x1

    goto :goto_0

    :cond_1
    const/4 v0, 0x0

    :goto_0
    return v0
.end method

.method private synthetic lambda$checkChangedTextureView$3(Landroid/animation/ValueAnimator;)V
    .locals 1

    .line 1634
    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    const/high16 v0, 0x3f800000    # 1.0f

    sub-float/2addr v0, p1

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->clippingImageProgress:F

    return-void
.end method

.method private synthetic lambda$checkChangedTextureView$4(Landroid/view/View;Landroid/animation/ValueAnimator;)V
    .locals 0

    .line 1661
    invoke-virtual {p2}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p2

    check-cast p2, Ljava/lang/Float;

    invoke-virtual {p2}, Ljava/lang/Float;->floatValue()F

    move-result p2

    iput p2, p0, Lorg/telegram/ui/PhotoViewer;->inlineOutAnimationProgress:F

    .line 1662
    invoke-virtual {p1}, Landroid/view/View;->invalidateOutline()V

    .line 1663
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    if-eqz p1, :cond_0

    .line 1664
    invoke-virtual {p1}, Landroid/widget/ImageView;->invalidateOutline()V

    .line 1666
    :cond_0
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz p1, :cond_1

    .line 1667
    invoke-virtual {p1}, Landroid/widget/ImageView;->invalidateOutline()V

    :cond_1
    return-void
.end method

.method private synthetic lambda$checkProgress$76(Lorg/telegram/tgnet/TLObject;)Ljava/io/File;
    .locals 2

    .line 13424
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v0

    const/4 v1, 0x1

    invoke-virtual {v0, p1, v1}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object p1

    return-object p1
.end method

.method private synthetic lambda$checkProgress$77(Lorg/telegram/tgnet/TLRPC$Message;)Ljava/io/File;
    .locals 1

    .line 13427
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v0

    invoke-virtual {v0, p1}, Lorg/telegram/messenger/FileLoader;->getPathToMessage(Lorg/telegram/tgnet/TLRPC$Message;)Ljava/io/File;

    move-result-object p1

    return-object p1
.end method

.method private synthetic lambda$checkProgress$78(ILjava/io/File;Ljava/io/File;ZZZZZ)V
    .locals 3

    .line 13521
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->shownControlsByEnd:Z

    const/4 v1, 0x3

    const/4 v2, 0x0

    if-eqz v0, :cond_0

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarWasShownBeforeByEnd:Z

    if-nez v0, :cond_0

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    if-eqz v0, :cond_0

    .line 13522
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p1, p2, p1

    invoke-virtual {p1, v1, v2, v2}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    return-void

    :cond_0
    const/4 v0, 0x1

    if-nez p2, :cond_1

    if-eqz p3, :cond_2

    :cond_1
    if-nez p4, :cond_6

    if-eqz p5, :cond_2

    goto :goto_1

    :cond_2
    if-eqz p6, :cond_4

    .line 13546
    iget p2, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object p2

    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object p3, p3, p1

    invoke-virtual {p2, p3}, Lorg/telegram/messenger/FileLoader;->isLoadingFile(Ljava/lang/String;)Z

    move-result p2

    if-nez p2, :cond_3

    .line 13547
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p2, p2, p1

    const/4 p3, 0x2

    invoke-virtual {p2, p3, v2, v0}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    goto :goto_0

    .line 13549
    :cond_3
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p2, p2, p1

    invoke-virtual {p2, v0, v2, v0}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    goto :goto_0

    .line 13552
    :cond_4
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p2, p2, p1

    invoke-virtual {p2, v2, p8, v0}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    .line 13554
    :goto_0
    invoke-static {}, Lorg/telegram/messenger/ImageLoader;->getInstance()Lorg/telegram/messenger/ImageLoader;

    move-result-object p2

    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object p3, p3, p1

    invoke-virtual {p2, p3}, Lorg/telegram/messenger/ImageLoader;->getFileProgress(Ljava/lang/String;)Ljava/lang/Float;

    move-result-object p2

    if-nez p2, :cond_5

    const/4 p2, 0x0

    .line 13556
    invoke-static {p2}, Ljava/lang/Float;->valueOf(F)Ljava/lang/Float;

    move-result-object p2

    .line 13558
    :cond_5
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p3, p3, p1

    invoke-virtual {p2}, Ljava/lang/Float;->floatValue()F

    move-result p2

    invoke-virtual {p3, p2, v2}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setProgress(FZ)V

    goto :goto_3

    :cond_6
    :goto_1
    if-nez p1, :cond_7

    .line 13526
    iget-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    if-nez p2, :cond_a

    :cond_7
    if-eqz p6, :cond_9

    if-eqz p7, :cond_8

    if-nez p1, :cond_9

    .line 13527
    iget-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->playerWasPlaying:Z

    if-eqz p2, :cond_9

    .line 13528
    :cond_8
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p2, p2, p1

    invoke-virtual {p2, v1, p8, v0}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    goto :goto_2

    .line 13530
    :cond_9
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p2, p2, p1

    const/4 p3, -0x1

    invoke-virtual {p2, p3, p8, v0}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    :cond_a
    :goto_2
    if-nez p1, :cond_d

    .line 13533
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->isSubMenuShowing()Z

    move-result p2

    if-nez p2, :cond_d

    const/4 p2, 0x7

    if-nez p4, :cond_c

    .line 13535
    iget p3, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p3}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object p3

    iget-object p4, p0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object p4, p4, p1

    invoke-virtual {p3, p4}, Lorg/telegram/messenger/FileLoader;->isLoadingFile(Ljava/lang/String;)Z

    move-result p3

    if-nez p3, :cond_b

    .line 13536
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p3, p2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    goto :goto_3

    .line 13538
    :cond_b
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p3, p2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_3

    .line 13541
    :cond_c
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p3, p2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    :cond_d
    :goto_3
    if-nez p1, :cond_10

    .line 13561
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-nez p1, :cond_f

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {p1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result p1

    if-eqz p1, :cond_e

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object p1, p1, v2

    if-eqz p1, :cond_f

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p1, p1, v2

    invoke-static {p1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$23900(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result p1

    if-eqz p1, :cond_f

    :cond_e
    const/4 v2, 0x1

    :cond_f
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->canZoom:Z

    :cond_10
    return-void
.end method

.method private synthetic lambda$checkProgress$79(ZLjava/io/File;Ljava/io/File;Lorg/telegram/messenger/FileLoader$FileResolver;ILorg/telegram/messenger/MessageObject;ZZZZ)V
    .locals 12

    move-object v10, p0

    move-object/from16 v0, p6

    if-nez p1, :cond_0

    if-eqz p2, :cond_0

    .line 13490
    invoke-virtual {p2}, Ljava/io/File;->exists()Z

    move-result v1

    goto :goto_0

    :cond_0
    move v1, p1

    :goto_0
    const/4 v2, 0x0

    if-nez p3, :cond_1

    if-eqz p4, :cond_1

    .line 13496
    invoke-interface/range {p4 .. p4}, Lorg/telegram/messenger/FileLoader$FileResolver;->getFile()Ljava/io/File;

    move-result-object v3

    move-object v4, v3

    goto :goto_1

    :cond_1
    if-eqz p4, :cond_2

    .line 13498
    invoke-interface/range {p4 .. p4}, Lorg/telegram/messenger/FileLoader$FileResolver;->getFile()Ljava/io/File;

    move-result-object v2

    :cond_2
    move-object v4, p3

    :goto_1
    if-nez v1, :cond_3

    if-eqz v4, :cond_3

    .line 13502
    invoke-virtual {v4}, Ljava/io/File;->exists()Z

    move-result v1

    :cond_3
    if-nez v1, :cond_4

    if-eqz v2, :cond_4

    .line 13506
    invoke-virtual {v2}, Ljava/io/File;->exists()Z

    move-result v1

    :cond_4
    move v5, v1

    if-nez v5, :cond_6

    if-eqz p5, :cond_6

    if-eqz v0, :cond_6

    if-eqz p7, :cond_6

    .line 13509
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/DownloadController;->getInstance(I)Lorg/telegram/messenger/DownloadController;

    move-result-object v1

    iget-object v2, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-virtual {v1, v2}, Lorg/telegram/messenger/DownloadController;->canDownloadMedia(Lorg/telegram/tgnet/TLRPC$Message;)I

    move-result v1

    if-eqz v1, :cond_6

    .line 13510
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v1, :cond_5

    invoke-virtual {v1}, Lorg/telegram/ui/ChatActivity;->getCurrentEncryptedChat()Lorg/telegram/tgnet/TLRPC$EncryptedChat;

    move-result-object v1

    if-nez v1, :cond_6

    :cond_5
    invoke-virtual/range {p6 .. p6}, Lorg/telegram/messenger/MessageObject;->shouldEncryptPhotoOrVideo()Z

    move-result v1

    if-nez v1, :cond_6

    .line 13511
    invoke-virtual/range {p6 .. p6}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v1

    if-eqz v1, :cond_6

    .line 13513
    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    const/4 v3, 0x0

    const/16 v6, 0xa

    invoke-virtual {v2, v1, v0, v3, v6}, Lorg/telegram/messenger/FileLoader;->loadFile(Lorg/telegram/tgnet/TLRPC$Document;Ljava/lang/Object;II)V

    .line 13520
    :cond_6
    new-instance v11, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda70;

    move-object v0, v11

    move-object v1, p0

    move/from16 v2, p5

    move-object v3, p2

    move/from16 v6, p7

    move/from16 v7, p8

    move/from16 v8, p9

    move/from16 v9, p10

    invoke-direct/range {v0 .. v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda70;-><init>(Lorg/telegram/ui/PhotoViewer;ILjava/io/File;Ljava/io/File;ZZZZZ)V

    invoke-static {v11}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;)V

    return-void
.end method

.method private synthetic lambda$closePaintMode$68()V
    .locals 1

    const/4 v0, 0x0

    .line 10640
    invoke-virtual {p0, v0}, Lorg/telegram/ui/PhotoViewer;->switchToEditMode(I)V

    return-void
.end method

.method private synthetic lambda$closePhoto$81(Landroid/animation/ValueAnimator;)V
    .locals 0

    .line 15215
    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->clippingImageProgress:F

    .line 15216
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->invalidateBlur()V

    return-void
.end method

.method private synthetic lambda$closePhoto$82(Landroid/animation/ValueAnimator;)V
    .locals 0

    .line 15235
    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->clippingImageProgress:F

    return-void
.end method

.method private synthetic lambda$closePhoto$83(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V
    .locals 3

    const/4 v0, 0x0

    .line 15250
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->animationEndRunnable:Ljava/lang/Runnable;

    .line 15251
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/4 v2, 0x0

    invoke-virtual {v1, v2, v0}, Landroid/widget/FrameLayout;->setLayerType(ILandroid/graphics/Paint;)V

    .line 15252
    iput v2, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    .line 15253
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->invalidateBlur()V

    .line 15254
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->onPhotoClosed(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    .line 15255
    invoke-static {}, Lorg/telegram/messenger/MediaController;->getInstance()Lorg/telegram/messenger/MediaController;

    move-result-object p1

    invoke-virtual {p1}, Lorg/telegram/messenger/MediaController;->tryResumePausedAudio()V

    return-void
.end method

.method private synthetic lambda$closePhoto$84(Landroid/animation/ValueAnimator;)V
    .locals 0

    .line 15276
    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->clippingImageProgress:F

    return-void
.end method

.method private synthetic lambda$closePhoto$85(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V
    .locals 3

    const/4 v0, 0x0

    .line 15290
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->animationEndRunnable:Ljava/lang/Runnable;

    .line 15291
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    if-nez v1, :cond_0

    return-void

    :cond_0
    const/4 v2, 0x0

    .line 15294
    invoke-virtual {v1, v2, v0}, Landroid/widget/FrameLayout;->setLayerType(ILandroid/graphics/Paint;)V

    .line 15295
    iput v2, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    .line 15296
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->onPhotoClosed(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    .line 15297
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/high16 v0, 0x3f800000    # 1.0f

    invoke-virtual {p1, v0}, Landroid/widget/FrameLayout;->setScaleX(F)V

    .line 15298
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p1, v0}, Landroid/widget/FrameLayout;->setScaleY(F)V

    .line 15299
    invoke-static {}, Lorg/telegram/messenger/MediaController;->getInstance()Lorg/telegram/messenger/MediaController;

    move-result-object p1

    invoke-virtual {p1}, Lorg/telegram/messenger/MediaController;->tryResumePausedAudio()V

    return-void
.end method

.method private synthetic lambda$createPaintView$62(Landroid/animation/ValueAnimator;)V
    .locals 0

    .line 10534
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz p1, :cond_0

    .line 10535
    iget-object p1, p1, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->overlayLayout:Landroid/widget/FrameLayout;

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->invalidate()V

    :cond_0
    return-void
.end method

.method private synthetic lambda$createPaintView$63(Ljava/lang/Integer;)V
    .locals 14

    .line 10524
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->paintKeyboardNotifier:Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;

    invoke-virtual {v1}, Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;->keyboardVisible()Z

    move-result v1

    iput-boolean v1, v0, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->keyboardVisible:Z

    .line 10525
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    .line 10526
    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getEmojiPadding(Z)I

    move-result v0

    invoke-static {p1, v0}, Ljava/lang/Math;->max(II)I

    move-result p1

    invoke-static {p1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object p1

    .line 10527
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->isCurrentText()Z

    move-result v0

    const/4 v2, 0x0

    if-eqz v0, :cond_0

    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result v0

    if-lez v0, :cond_0

    sget-object v0, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v0, v0, Landroid/graphics/Point;->y:I

    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result v3

    sub-int/2addr v0, v3

    const/high16 v3, 0x42a00000    # 80.0f

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v3

    sub-int/2addr v0, v3

    int-to-float v0, v0

    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getSelectedEntityBottom()F

    move-result v3

    sub-float/2addr v0, v3

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    :goto_0
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->translateY(F)V

    .line 10529
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->paintKeyboardAnimator:Landroid/animation/AnimatorSet;

    if-eqz v0, :cond_1

    .line 10530
    invoke-virtual {v0}, Landroid/animation/AnimatorSet;->cancel()V

    :cond_1
    const/4 v0, 0x2

    new-array v3, v0, [F

    .line 10532
    fill-array-data v3, :array_0

    invoke-static {v3}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v3

    .line 10533
    new-instance v4, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda5;

    invoke-direct {v4, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda5;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v3, v4}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 10538
    new-instance v4, Landroid/animation/AnimatorSet;

    invoke-direct {v4}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v4, p0, Lorg/telegram/ui/PhotoViewer;->paintKeyboardAnimator:Landroid/animation/AnimatorSet;

    const/4 v5, 0x6

    new-array v5, v5, [Landroid/animation/Animator;

    .line 10539
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    iget-object v6, v6, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->weightChooserView:Lorg/telegram/ui/Components/Paint/Views/PaintWeightChooserView;

    sget-object v7, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    const/4 v8, 0x1

    new-array v9, v8, [F

    .line 10540
    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result v10

    neg-int v10, v10

    int-to-float v10, v10

    const/high16 v11, 0x40200000    # 2.5f

    div-float/2addr v10, v11

    aput v10, v9, v1

    invoke-static {v6, v7, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v6

    aput-object v6, v5, v1

    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    iget-object v6, v6, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->bottomLayout:Landroid/widget/FrameLayout;

    sget-object v7, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v9, v8, [F

    .line 10541
    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result v10

    neg-int v10, v10

    const/high16 v11, 0x42200000    # 40.0f

    invoke-static {v11}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v11

    add-int/2addr v10, v11

    invoke-static {v1, v10}, Ljava/lang/Math;->min(II)I

    move-result v10

    int-to-float v10, v10

    aput v10, v9, v1

    invoke-static {v6, v7, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v6

    aput-object v6, v5, v8

    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    iget-object v6, v6, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->tabsLayout:Landroid/widget/LinearLayout;

    sget-object v7, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v8, [F

    .line 10542
    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result v10

    const/high16 v11, 0x41a00000    # 20.0f

    invoke-static {v11}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v12

    const/high16 v13, 0x3f800000    # 1.0f

    if-le v10, v12, :cond_2

    const/4 v10, 0x0

    goto :goto_1

    :cond_2
    const/high16 v10, 0x3f800000    # 1.0f

    :goto_1
    aput v10, v9, v1

    invoke-static {v6, v7, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v6

    aput-object v6, v5, v0

    const/4 v0, 0x3

    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    iget-object v6, v6, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->cancelButton:Lorg/telegram/ui/Components/Paint/Views/PaintCancelView;

    sget-object v7, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v8, [F

    .line 10543
    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result v10

    invoke-static {v11}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v12

    if-le v10, v12, :cond_3

    const/4 v10, 0x0

    goto :goto_2

    :cond_3
    const/high16 v10, 0x3f800000    # 1.0f

    :goto_2
    aput v10, v9, v1

    invoke-static {v6, v7, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v6

    aput-object v6, v5, v0

    const/4 v0, 0x4

    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    iget-object v6, v6, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->doneButton:Lorg/telegram/ui/Components/Paint/Views/PaintDoneView;

    sget-object v7, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v8, v8, [F

    .line 10544
    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result p1

    invoke-static {v11}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v9

    if-le p1, v9, :cond_4

    goto :goto_3

    :cond_4
    const/high16 v2, 0x3f800000    # 1.0f

    :goto_3
    aput v2, v8, v1

    invoke-static {v6, v7, v8}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object p1

    aput-object p1, v5, v0

    const/4 p1, 0x5

    aput-object v3, v5, p1

    .line 10539
    invoke-virtual {v4, v5}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    const-wide/16 v0, 0x140

    .line 10547
    invoke-virtual {v4, v0, v1}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 10548
    sget-object p1, Lorg/telegram/ui/Components/CubicBezierInterpolator;->EASE_OUT_QUINT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-virtual {v4, p1}, Landroid/animation/AnimatorSet;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    .line 10549
    invoke-virtual {v4}, Landroid/animation/AnimatorSet;->start()V

    .line 10550
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->updatePlusEmojiKeyboardButton()V

    return-void

    :array_0
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data
.end method

.method private synthetic lambda$createPaintView$64()V
    .locals 1

    .line 10553
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PaintingOverlay;->hideBitmap()V

    return-void
.end method

.method private synthetic lambda$createPaintView$65()V
    .locals 1

    const/4 v0, 0x0

    .line 10607
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->savedState:Lorg/telegram/ui/PhotoViewer$SavedState;

    .line 10608
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->applyCurrentEditMode()V

    const/4 v0, 0x0

    .line 10609
    invoke-virtual {p0, v0}, Lorg/telegram/ui/PhotoViewer;->switchToEditMode(I)V

    return-void
.end method

.method private synthetic lambda$createPaintView$66(Landroid/view/View;)V
    .locals 0

    .line 10611
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->closePaintMode()V

    return-void
.end method

.method private synthetic lambda$createVideoControlsInterface$47()V
    .locals 1

    .line 7866
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->needShowOnReady:Z

    if-eqz v0, :cond_0

    const/4 v0, 0x1

    .line 7867
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->showVideoSeekPreviewPosition(Z)V

    :cond_0
    return-void
.end method

.method private synthetic lambda$createVideoControlsInterface$48(Landroid/view/View;)V
    .locals 2

    .line 7902
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-nez p1, :cond_0

    return-void

    :cond_0
    const/4 v0, 0x0

    .line 7905
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->wasRotated:Z

    const/4 v0, 0x2

    .line 7906
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenedByButton:I

    .line 7907
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->prevOrientation:I

    const/16 v1, -0xa

    if-ne v0, v1, :cond_1

    .line 7908
    invoke-virtual {p1}, Landroid/app/Activity;->getRequestedOrientation()I

    move-result p1

    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->prevOrientation:I

    .line 7910
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const/4 v0, 0x1

    invoke-virtual {p1, v0}, Landroid/app/Activity;->setRequestedOrientation(I)V

    return-void
.end method

.method private static synthetic lambda$createVideoTextureView$49(Lorg/telegram/messenger/MediaController$SavedFilterState;Lorg/telegram/ui/Components/FilterGLThread;)V
    .locals 0

    .line 9007
    invoke-static {p0}, Lorg/telegram/ui/Components/FilterShaders;->getFilterShadersDelegate(Lorg/telegram/messenger/MediaController$SavedFilterState;)Lorg/telegram/ui/Components/FilterShaders$FilterShadersDelegate;

    move-result-object p0

    invoke-virtual {p1, p0}, Lorg/telegram/ui/Components/FilterGLThread;->setFilterGLThreadDelegate(Lorg/telegram/ui/Components/FilterShaders$FilterShadersDelegate;)V

    return-void
.end method

.method private synthetic lambda$cropRotate$46(FFLandroid/animation/ValueAnimator;)V
    .locals 4

    .line 7545
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    iget-object v0, v0, Lorg/telegram/ui/Components/PhotoCropView;->cropView:Lorg/telegram/ui/Components/Crop/CropView;

    iget-object v0, v0, Lorg/telegram/ui/Components/Crop/CropView;->areaView:Lorg/telegram/ui/Components/Crop/CropAreaView;

    invoke-virtual {p3}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Ljava/lang/Float;

    invoke-virtual {v1}, Ljava/lang/Float;->floatValue()F

    move-result v1

    mul-float v1, v1, p1

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    sub-float/2addr v2, p1

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    mul-float v2, v2, v3

    add-float/2addr p1, v2

    const/4 v2, 0x0

    invoke-virtual {v0, v1, p1, v2, v2}, Lorg/telegram/ui/Components/Crop/CropAreaView;->setRotationScaleTranslation(FFFF)V

    .line 7546
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    iget-object p1, p1, Lorg/telegram/ui/Components/PhotoCropView;->wheelView:Lorg/telegram/ui/Components/Crop/CropRotationWheel;

    invoke-virtual {p3}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p3

    check-cast p3, Ljava/lang/Float;

    invoke-virtual {p3}, Ljava/lang/Float;->floatValue()F

    move-result p3

    invoke-static {p2, v2, p3}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result p2

    const/4 p3, 0x0

    invoke-virtual {p1, p2, p3}, Lorg/telegram/ui/Components/Crop/CropRotationWheel;->setRotation(FZ)V

    return-void
.end method

.method private synthetic lambda$detectFaces$53(Ljava/lang/String;Z)V
    .locals 1

    .line 9829
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getImageKey()Ljava/lang/String;

    move-result-object v0

    .line 9830
    invoke-virtual {p1, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 9831
    iput p2, p0, Lorg/telegram/ui/PhotoViewer;->currentImageHasFace:I

    .line 9832
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentImageFaceKey:Ljava/lang/String;

    :cond_0
    return-void
.end method

.method private synthetic lambda$detectFaces$54(Lorg/telegram/messenger/ImageReceiver$BitmapHolder;Ljava/lang/String;)V
    .locals 0

    .line 9840
    invoke-virtual {p1}, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->release()V

    .line 9841
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {p1}, Lorg/telegram/messenger/ImageReceiver;->getImageKey()Ljava/lang/String;

    move-result-object p1

    .line 9842
    invoke-virtual {p2, p1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result p1

    if-eqz p1, :cond_0

    const/4 p1, 0x2

    .line 9843
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->currentImageHasFace:I

    .line 9844
    iput-object p2, p0, Lorg/telegram/ui/PhotoViewer;->currentImageFaceKey:Ljava/lang/String;

    :cond_0
    return-void
.end method

.method private synthetic lambda$detectFaces$55(Lorg/telegram/messenger/ImageReceiver$BitmapHolder;ILjava/lang/String;)V
    .locals 3

    const/4 v0, 0x0

    .line 9820
    :try_start_0
    new-instance v1, Lcom/google/android/gms/vision/face/FaceDetector$Builder;

    sget-object v2, Lorg/telegram/messenger/ApplicationLoader;->applicationContext:Landroid/content/Context;

    invoke-direct {v1, v2}, Lcom/google/android/gms/vision/face/FaceDetector$Builder;-><init>(Landroid/content/Context;)V

    const/4 v2, 0x0

    .line 9821
    invoke-virtual {v1, v2}, Lcom/google/android/gms/vision/face/FaceDetector$Builder;->setMode(I)Lcom/google/android/gms/vision/face/FaceDetector$Builder;

    move-result-object v1

    .line 9822
    invoke-virtual {v1, v2}, Lcom/google/android/gms/vision/face/FaceDetector$Builder;->setLandmarkType(I)Lcom/google/android/gms/vision/face/FaceDetector$Builder;

    move-result-object v1

    .line 9823
    invoke-virtual {v1, v2}, Lcom/google/android/gms/vision/face/FaceDetector$Builder;->setTrackingEnabled(Z)Lcom/google/android/gms/vision/face/FaceDetector$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/google/android/gms/vision/face/FaceDetector$Builder;->build()Lcom/google/android/gms/vision/face/FaceDetector;

    move-result-object v0

    .line 9824
    invoke-virtual {v0}, Lcom/google/android/gms/vision/face/FaceDetector;->isOperational()Z

    move-result v1

    if-eqz v1, :cond_1

    .line 9825
    new-instance v1, Lcom/google/android/gms/vision/Frame$Builder;

    invoke-direct {v1}, Lcom/google/android/gms/vision/Frame$Builder;-><init>()V

    iget-object p1, p1, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-virtual {v1, p1}, Lcom/google/android/gms/vision/Frame$Builder;->setBitmap(Landroid/graphics/Bitmap;)Lcom/google/android/gms/vision/Frame$Builder;

    move-result-object p1

    invoke-virtual {p1, p2}, Lcom/google/android/gms/vision/Frame$Builder;->setRotation(I)Lcom/google/android/gms/vision/Frame$Builder;

    move-result-object p1

    invoke-virtual {p1}, Lcom/google/android/gms/vision/Frame$Builder;->build()Lcom/google/android/gms/vision/Frame;

    move-result-object p1

    .line 9826
    invoke-virtual {v0, p1}, Lcom/google/android/gms/vision/face/FaceDetector;->detect(Lcom/google/android/gms/vision/Frame;)Landroid/util/SparseArray;

    move-result-object p1

    if-eqz p1, :cond_0

    .line 9827
    invoke-virtual {p1}, Landroid/util/SparseArray;->size()I

    move-result p1

    if-eqz p1, :cond_0

    const/4 v2, 0x1

    .line 9828
    :cond_0
    new-instance p1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda72;

    invoke-direct {p1, p0, p3, v2}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda72;-><init>(Lorg/telegram/ui/PhotoViewer;Ljava/lang/String;Z)V

    invoke-static {p1}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;)V

    goto :goto_0

    .line 9836
    :cond_1
    sget-boolean p2, Lorg/telegram/messenger/BuildVars;->LOGS_ENABLED:Z

    if-eqz p2, :cond_2

    const-string p2, "face detection is not operational"

    .line 9837
    invoke-static {p2}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/String;)V

    .line 9839
    :cond_2
    new-instance p2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda74;

    invoke-direct {p2, p0, p1, p3}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda74;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/messenger/ImageReceiver$BitmapHolder;Ljava/lang/String;)V

    invoke-static {p2}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;)V
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_0

    :catchall_0
    move-exception p1

    goto :goto_1

    :catch_0
    move-exception p1

    .line 9849
    :try_start_1
    invoke-static {p1}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    if-eqz v0, :cond_3

    .line 9852
    :goto_0
    invoke-virtual {v0}, Lcom/google/android/gms/vision/face/FaceDetector;->release()V

    :cond_3
    return-void

    :goto_1
    if-eqz v0, :cond_4

    invoke-virtual {v0}, Lcom/google/android/gms/vision/face/FaceDetector;->release()V

    .line 9854
    :cond_4
    throw p1
.end method

.method private synthetic lambda$new$0()V
    .locals 1

    const/4 v0, 0x1

    .line 307
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->toggleMiniProgressInternal(Z)V

    return-void
.end method

.method private synthetic lambda$new$5()V
    .locals 1

    .line 1736
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-eqz v0, :cond_0

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-nez v0, :cond_0

    .line 1737
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->updateContainerFlags(Z)V

    :cond_0
    return-void
.end method

.method private synthetic lambda$onDraw$88()V
    .locals 2

    const/4 v0, 0x1

    const/4 v1, 0x0

    .line 16278
    invoke-direct {p0, v0, v1}, Lorg/telegram/ui/PhotoViewer;->switchToNextIndex(IZ)V

    return-void
.end method

.method private synthetic lambda$onDraw$89()V
    .locals 2

    const/4 v0, -0x1

    const/4 v1, 0x0

    .line 16280
    invoke-direct {p0, v0, v1}, Lorg/telegram/ui/PhotoViewer;->switchToNextIndex(IZ)V

    return-void
.end method

.method private synthetic lambda$onDraw$90()V
    .locals 1

    const/4 v0, 0x0

    .line 16831
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->checkChangedTextureView(Z)V

    const/4 v0, 0x1

    .line 16832
    invoke-static {v0, v0}, Lorg/telegram/ui/Components/PipVideoOverlay;->dismiss(ZZ)V

    return-void
.end method

.method private synthetic lambda$onLinkLongPress$1(Landroid/text/style/URLSpan;Landroid/widget/TextView;ILandroid/content/DialogInterface;I)V
    .locals 5

    if-nez p5, :cond_0

    .line 1188
    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->onLinkClick(Landroid/text/style/ClickableSpan;Landroid/widget/TextView;)V

    goto/16 :goto_5

    :cond_0
    const/4 p2, 0x1

    if-ne p5, p2, :cond_d

    .line 1190
    invoke-virtual {p1}, Landroid/text/style/URLSpan;->getURL()Ljava/lang/String;

    move-result-object p1

    const-string p4, "mailto:"

    .line 1192
    invoke-virtual {p1, p4}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result p4

    const/4 p5, 0x0

    if-eqz p4, :cond_2

    const/4 p2, 0x7

    .line 1193
    invoke-virtual {p1, p2}, Ljava/lang/String;->substring(I)Ljava/lang/String;

    move-result-object p1

    :cond_1
    :goto_0
    const/4 p2, 0x0

    goto/16 :goto_3

    :cond_2
    const-string p4, "tel:"

    .line 1194
    invoke-virtual {p1, p4}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result p4

    if-eqz p4, :cond_3

    const/4 p3, 0x4

    .line 1195
    invoke-virtual {p1, p3}, Ljava/lang/String;->substring(I)Ljava/lang/String;

    move-result-object p1

    goto/16 :goto_3

    :cond_3
    if-ltz p3, :cond_1

    .line 1198
    iget-object p4, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz p4, :cond_1

    iget-boolean v0, p4, Lorg/telegram/messenger/MessageObject;->scheduled:Z

    if-nez v0, :cond_1

    .line 1200
    invoke-virtual {p4}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v0

    if-nez v0, :cond_5

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isRoundVideo()Z

    move-result v0

    if-nez v0, :cond_5

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isVoice()Z

    move-result v0

    if-nez v0, :cond_5

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isMusic()Z

    move-result v0

    if-eqz v0, :cond_4

    goto :goto_1

    :cond_4
    const/4 p2, 0x0

    :cond_5
    :goto_1
    if-nez p2, :cond_6

    .line 1201
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object p2, p2, Lorg/telegram/messenger/MessageObject;->replyMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz p2, :cond_6

    move-object p4, p2

    .line 1204
    :cond_6
    invoke-virtual {p4}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v0

    .line 1205
    invoke-virtual {p4}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result p2

    .line 1207
    iget-object v2, p4, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v2, v2, Lorg/telegram/tgnet/TLRPC$Message;->fwd_from:Lorg/telegram/tgnet/TLRPC$MessageFwdHeader;

    if-eqz v2, :cond_8

    .line 1208
    iget-object v3, v2, Lorg/telegram/tgnet/TLRPC$MessageFwdHeader;->saved_from_peer:Lorg/telegram/tgnet/TLRPC$Peer;

    if-eqz v3, :cond_7

    .line 1209
    invoke-static {v3}, Lorg/telegram/messenger/MessageObject;->getPeerId(Lorg/telegram/tgnet/TLRPC$Peer;)J

    move-result-wide v0

    .line 1210
    iget-object p2, p4, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object p2, p2, Lorg/telegram/tgnet/TLRPC$Message;->fwd_from:Lorg/telegram/tgnet/TLRPC$MessageFwdHeader;

    iget p2, p2, Lorg/telegram/tgnet/TLRPC$MessageFwdHeader;->saved_from_msg_id:I

    goto :goto_2

    .line 1211
    :cond_7
    iget-object v2, v2, Lorg/telegram/tgnet/TLRPC$MessageFwdHeader;->from_id:Lorg/telegram/tgnet/TLRPC$Peer;

    if-eqz v2, :cond_8

    .line 1212
    invoke-static {v2}, Lorg/telegram/messenger/MessageObject;->getPeerId(Lorg/telegram/tgnet/TLRPC$Peer;)J

    move-result-wide v0

    .line 1213
    iget-object p2, p4, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object p2, p2, Lorg/telegram/tgnet/TLRPC$Message;->fwd_from:Lorg/telegram/tgnet/TLRPC$MessageFwdHeader;

    iget p2, p2, Lorg/telegram/tgnet/TLRPC$MessageFwdHeader;->channel_post:I

    .line 1217
    :cond_8
    :goto_2
    invoke-static {v0, v1}, Lorg/telegram/messenger/DialogObject;->isChatDialog(J)Z

    move-result p4

    const-string v2, "?t="

    const-string v3, "/"

    const-string v4, "https://t.me/"

    if-eqz p4, :cond_9

    .line 1218
    iget p4, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p4}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object p4

    neg-long v0, v0

    invoke-static {v0, v1}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v0

    invoke-virtual {p4, v0}, Lorg/telegram/messenger/MessagesController;->getChat(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object p4

    .line 1219
    invoke-static {p4}, Lorg/telegram/messenger/ChatObject;->getPublicUsername(Lorg/telegram/tgnet/TLRPC$Chat;)Ljava/lang/String;

    move-result-object p4

    if-eqz p4, :cond_1

    .line 1221
    new-instance p1, Ljava/lang/StringBuilder;

    invoke-direct {p1}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual {p1, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {p1, p4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {p1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {p1, p2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {p1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {p1, p3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {p1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p1

    goto/16 :goto_0

    .line 1224
    :cond_9
    iget p4, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p4}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object p4

    invoke-static {v0, v1}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v0

    invoke-virtual {p4, v0}, Lorg/telegram/messenger/MessagesController;->getUser(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$User;

    move-result-object p4

    .line 1225
    invoke-static {p4}, Lorg/telegram/messenger/UserObject;->getPublicUsername(Lorg/telegram/tgnet/TLRPC$User;)Ljava/lang/String;

    move-result-object v0

    if-eqz p4, :cond_1

    if-eqz v0, :cond_1

    .line 1227
    new-instance p1, Ljava/lang/StringBuilder;

    invoke-direct {p1}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual {p1, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {p1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {p1, p2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {p1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {p1, p3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {p1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p1

    goto/16 :goto_0

    .line 1232
    :goto_3
    invoke-static {p1}, Lorg/telegram/messenger/AndroidUtilities;->addToClipboard(Ljava/lang/CharSequence;)Z

    if-eqz p2, :cond_a

    .line 1235
    sget p1, Lorg/telegram/messenger/R$string;->PhoneCopied:I

    const-string p2, "PhoneCopied"

    invoke-static {p2, p1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object p1

    goto :goto_4

    :cond_a
    const-string p2, "#"

    .line 1236
    invoke-virtual {p1, p2}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result p2

    if-eqz p2, :cond_b

    .line 1237
    sget p1, Lorg/telegram/messenger/R$string;->HashtagCopied:I

    const-string p2, "HashtagCopied"

    invoke-static {p2, p1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object p1

    goto :goto_4

    :cond_b
    const-string p2, "@"

    .line 1238
    invoke-virtual {p1, p2}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result p1

    if-eqz p1, :cond_c

    .line 1239
    sget p1, Lorg/telegram/messenger/R$string;->UsernameCopied:I

    const-string p2, "UsernameCopied"

    invoke-static {p2, p1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object p1

    goto :goto_4

    .line 1241
    :cond_c
    sget p1, Lorg/telegram/messenger/R$string;->LinkCopied:I

    const-string p2, "LinkCopied"

    invoke-static {p2, p1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object p1

    .line 1243
    :goto_4
    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->shouldShowClipboardToast()Z

    move-result p2

    if-eqz p2, :cond_d

    .line 1244
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    invoke-static {p2, p3}, Lorg/telegram/ui/Components/BulletinFactory;->of(Landroid/widget/FrameLayout;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)Lorg/telegram/ui/Components/BulletinFactory;

    move-result-object p2

    sget p3, Lorg/telegram/messenger/R$raw;->voip_invite:I

    invoke-virtual {p2, p3, p1}, Lorg/telegram/ui/Components/BulletinFactory;->createSimpleBulletin(ILjava/lang/CharSequence;)Lorg/telegram/ui/Components/Bulletin;

    move-result-object p1

    invoke-virtual {p1}, Lorg/telegram/ui/Components/Bulletin;->show()Lorg/telegram/ui/Components/Bulletin;

    :cond_d
    :goto_5
    return-void
.end method

.method private static synthetic lambda$onLinkLongPress$2(Ljava/lang/Runnable;Landroid/content/DialogInterface;)V
    .locals 0

    .line 1248
    invoke-interface {p0}, Ljava/lang/Runnable;->run()V

    return-void
.end method

.method private synthetic lambda$onPhotoClosed$86(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V
    .locals 2

    .line 15466
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/ClippingImageView;->setImageBitmap(Lorg/telegram/messenger/ImageReceiver$BitmapHolder;)V

    if-eqz p1, :cond_0

    .line 15467
    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->isTablet()Z

    move-result v0

    if-nez v0, :cond_0

    iget-object p1, p1, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    if-eqz p1, :cond_0

    .line 15468
    invoke-virtual {p1, v1}, Lorg/telegram/ui/Components/ClippingImageView;->setImageBitmap(Lorg/telegram/messenger/ImageReceiver$BitmapHolder;)V

    .line 15471
    :cond_0
    :try_start_0
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->getParent()Landroid/view/ViewParent;

    move-result-object p1

    if-eqz p1, :cond_1

    .line 15472
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const-string v0, "window"

    invoke-virtual {p1, v0}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Landroid/view/WindowManager;

    .line 15473
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-interface {p1, v0}, Landroid/view/WindowManager;->removeView(Landroid/view/View;)V

    .line 15474
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->onHideView()V
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_0

    :catch_0
    move-exception p1

    .line 15477
    invoke-static {p1}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :cond_1
    :goto_0
    return-void
.end method

.method private static synthetic lambda$onPhotoShow$74(Lorg/telegram/messenger/MessageObject;Lorg/telegram/messenger/MessageObject;)I
    .locals 0

    .line 11847
    invoke-virtual {p0}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result p0

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result p1

    sub-int/2addr p0, p1

    return p0
.end method

.method private synthetic lambda$openCurrentPhotoInPaintModeForSelect$80(Ljava/io/File;ZLorg/telegram/messenger/MessageObject;Z)V
    .locals 23

    move-object/from16 v10, p0

    .line 14170
    invoke-static/range {p1 .. p1}, Lorg/telegram/messenger/AndroidUtilities;->getImageOrientation(Ljava/io/File;)Landroid/util/Pair;

    move-result-object v0

    .line 14171
    new-instance v1, Lorg/telegram/messenger/MediaController$PhotoEntry;

    iget v13, v10, Lorg/telegram/ui/PhotoViewer;->lastImageId:I

    add-int/lit8 v2, v13, -0x1

    iput v2, v10, Lorg/telegram/ui/PhotoViewer;->lastImageId:I

    invoke-virtual/range {p1 .. p1}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;

    move-result-object v16

    const/4 v9, 0x0

    if-eqz p2, :cond_0

    const/16 v17, 0x0

    goto :goto_0

    :cond_0
    iget-object v2, v0, Landroid/util/Pair;->first:Ljava/lang/Object;

    check-cast v2, Ljava/lang/Integer;

    invoke-virtual {v2}, Ljava/lang/Integer;->intValue()I

    move-result v2

    move/from16 v17, v2

    :goto_0
    const/16 v19, 0x0

    const/16 v20, 0x0

    const-wide/16 v21, 0x0

    const/4 v12, 0x0

    const-wide/16 v14, 0x0

    move-object v11, v1

    move/from16 v18, p2

    invoke-direct/range {v11 .. v22}, Lorg/telegram/messenger/MediaController$PhotoEntry;-><init>(IIJLjava/lang/String;IZIIJ)V

    invoke-virtual {v1, v0}, Lorg/telegram/messenger/MediaController$PhotoEntry;->setOrientation(Landroid/util/Pair;)Lorg/telegram/messenger/MediaController$PhotoEntry;

    move-result-object v6

    const/4 v0, 0x2

    .line 14173
    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    .line 14174
    iput-boolean v9, v10, Lorg/telegram/ui/PhotoViewer;->doneButtonPressed:Z

    .line 14175
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    .line 14176
    new-instance v7, Lorg/telegram/ui/PhotoViewer$65;

    move-object v0, v7

    move-object/from16 v1, p0

    move-object/from16 v3, p3

    move-object v4, v6

    move/from16 v5, p4

    invoke-direct/range {v0 .. v5}, Lorg/telegram/ui/PhotoViewer$65;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/messenger/MessageObject;Lorg/telegram/messenger/MediaController$PhotoEntry;Z)V

    iput-object v7, v10, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    .line 14240
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->selectedPhotosAdapter:Lorg/telegram/ui/PhotoViewer$ListAdapter;

    invoke-virtual {v0}, Landroidx/recyclerview/widget/RecyclerView$Adapter;->notifyDataSetChanged()V

    .line 14242
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    if-nez v0, :cond_1

    .line 14243
    invoke-static {}, Landroid/view/VelocityTracker;->obtain()Landroid/view/VelocityTracker;

    move-result-object v0

    iput-object v0, v10, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    :cond_1
    const/4 v0, 0x3

    .line 14246
    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->aboutToSwitchTo:I

    .line 14248
    invoke-direct {v10, v9, v9}, Lorg/telegram/ui/PhotoViewer;->togglePhotosListView(ZZ)V

    const/4 v0, 0x1

    .line 14249
    invoke-direct {v10, v0, v9}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    .line 14251
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v0, :cond_2

    invoke-virtual {v0}, Lorg/telegram/ui/ChatActivity;->getChatActivityEnterView()Lorg/telegram/ui/Components/ChatActivityEnterView;

    move-result-object v0

    if-eqz v0, :cond_2

    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v0}, Lorg/telegram/ui/ChatActivity;->isKeyboardVisible()Z

    move-result v0

    if-eqz v0, :cond_2

    .line 14252
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v0}, Lorg/telegram/ui/ChatActivity;->getChatActivityEnterView()Lorg/telegram/ui/Components/ChatActivityEnterView;

    move-result-object v0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/ChatActivityEnterView;->closeKeyboard()V

    goto :goto_1

    .line 14254
    :cond_2
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->makeFocusable()V

    .line 14256
    :goto_1
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    const/16 v1, 0xff

    invoke-virtual {v0, v1}, Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;->setAlpha(I)V

    .line 14257
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/high16 v1, 0x3f800000    # 1.0f

    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setAlpha(F)V

    const/4 v1, 0x0

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v7, 0x0

    .line 14259
    invoke-static {v6}, Ljava/util/Collections;->singletonList(Ljava/lang/Object;)Ljava/util/List;

    move-result-object v8

    const/4 v11, 0x0

    const/4 v12, 0x0

    move-object/from16 v0, p0

    move-object v6, v7

    move-object v7, v8

    move v8, v11

    const/4 v11, 0x0

    move-object v9, v12

    invoke-direct/range {v0 .. v9}, Lorg/telegram/ui/PhotoViewer;->onPhotoShow(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/List;ILorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    .line 14261
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    const/high16 v2, 0x431a0000    # 154.0f

    const/high16 v3, 0x42c00000    # 96.0f

    if-eqz v1, :cond_3

    const/high16 v1, 0x431a0000    # 154.0f

    goto :goto_2

    :cond_3
    const/high16 v1, 0x42c00000    # 96.0f

    :goto_2
    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v1

    int-to-float v1, v1

    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 14262
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v1, :cond_4

    const/high16 v1, 0x431a0000    # 154.0f

    goto :goto_3

    :cond_4
    const/high16 v1, 0x42c00000    # 96.0f

    :goto_3
    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v1

    int-to-float v1, v1

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setTranslationY(F)V

    .line 14263
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v1

    neg-int v1, v1

    int-to-float v1, v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBar;->setTranslationY(F)V

    .line 14264
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v1, :cond_5

    goto :goto_4

    :cond_5
    const/high16 v2, 0x42c00000    # 96.0f

    :goto_4
    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v1

    int-to-float v1, v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setTranslationY(F)V

    .line 14266
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->createPaintView()V

    .line 14267
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->switchToPaintMode()V

    .line 14268
    iput v11, v10, Lorg/telegram/ui/PhotoViewer;->aboutToSwitchTo:I

    return-void
.end method

.method private synthetic lambda$redraw$87(I)V
    .locals 0

    add-int/lit8 p1, p1, 0x1

    .line 15510
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->redraw(I)V

    return-void
.end method

.method private static synthetic lambda$sendPressed$40(Landroid/content/DialogInterface;I)V
    .locals 0

    return-void
.end method

.method private synthetic lambda$sendPressed$41(ZIZZLandroid/content/DialogInterface;I)V
    .locals 6

    const/4 v5, 0x1

    move-object v0, p0

    move v1, p1

    move v2, p2

    move v3, p3

    move v4, p4

    .line 6763
    invoke-direct/range {v0 .. v5}, Lorg/telegram/ui/PhotoViewer;->sendPressed(ZIZZZ)V

    return-void
.end method

.method private synthetic lambda$setIsAboutToSwitchToIndex$75(ILorg/telegram/messenger/TranslateController;Lorg/telegram/messenger/MessageObject;Ljava/lang/String;)V
    .locals 1

    .line 11990
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    if-eq p1, v0, :cond_0

    return-void

    .line 11993
    :cond_0
    iput-object p4, p0, Lorg/telegram/ui/PhotoViewer;->captionDetectedLanguage:Ljava/lang/String;

    .line 11994
    invoke-virtual {p2}, Lorg/telegram/messenger/TranslateController;->isContextTranslateEnabled()Z

    move-result p1

    const/16 p4, 0x16

    const/16 v0, 0x15

    if-eqz p1, :cond_2

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionDetectedLanguage:Ljava/lang/String;

    invoke-virtual {p2, p3, p1}, Lorg/telegram/messenger/TranslateController;->canTranslatePhoto(Lorg/telegram/messenger/MessageObject;Ljava/lang/String;)Z

    move-result p1

    if-eqz p1, :cond_2

    .line 11995
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->captionTranslated:Z

    if-eqz p1, :cond_1

    .line 11996
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p1, p4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 11997
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p1, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    goto :goto_0

    .line 11999
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p1, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12000
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p1, p4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    goto :goto_0

    .line 12003
    :cond_2
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p1, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12004
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p1, p4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    :goto_0
    return-void
.end method

.method private synthetic lambda$setItemVisible$72(Landroid/animation/ValueAnimator;)V
    .locals 0

    .line 11386
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateActionBarTitlePadding()V

    return-void
.end method

.method private synthetic lambda$setItemVisible$73(ZLandroid/view/View;)V
    .locals 0

    if-nez p1, :cond_0

    const/16 p1, 0x8

    .line 11388
    invoke-virtual {p2, p1}, Landroid/view/View;->setVisibility(I)V

    .line 11390
    :cond_0
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateActionBarTitlePadding()V

    return-void
.end method

.method private synthetic lambda$setParentActivity$10(Landroid/view/View;)V
    .locals 0

    .line 5661
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->previousCompression:I

    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    const/4 p1, 0x0

    .line 5662
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->didChangedCompressionLevel(Z)V

    .line 5663
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->showQualityView(Z)V

    const/4 p1, 0x2

    .line 5664
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->requestVideoPreview(I)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$11(Landroid/view/View;)V
    .locals 1

    .line 5667
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {p1, v0}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    .line 5668
    instance-of v0, p1, Lorg/telegram/messenger/MediaController$MediaEditState;

    if-eqz v0, :cond_0

    .line 5669
    check-cast p1, Lorg/telegram/messenger/MediaController$MediaEditState;

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoEditedInfo()Lorg/telegram/messenger/VideoEditedInfo;

    move-result-object v0

    iput-object v0, p1, Lorg/telegram/messenger/MediaController$MediaEditState;->editedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    :cond_0
    const/4 p1, 0x0

    .line 5671
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->showQualityView(Z)V

    const/4 p1, 0x2

    .line 5672
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->requestVideoPreview(I)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$12(Landroid/view/View;)V
    .locals 0

    const/4 p1, 0x0

    .line 5806
    invoke-direct {p0, p1, p1}, Lorg/telegram/ui/PhotoViewer;->sendPressed(ZI)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$13(Ljava/lang/Integer;)V
    .locals 2

    .line 6051
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    .line 6052
    instance-of v1, v0, Lorg/telegram/messenger/MediaController$PhotoEntry;

    if-eqz v1, :cond_0

    .line 6053
    check-cast v0, Lorg/telegram/messenger/MediaController$PhotoEntry;

    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result v1

    iput v1, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->ttl:I

    goto :goto_0

    .line 6054
    :cond_0
    instance-of v1, v0, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v1, :cond_1

    .line 6055
    check-cast v0, Lorg/telegram/messenger/MediaController$SearchImage;

    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result v1

    iput v1, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->ttl:I

    .line 6057
    :cond_1
    :goto_0
    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result p1

    if-eqz p1, :cond_2

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {p1, v0}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->isPhotoChecked(I)Z

    move-result p1

    if-nez p1, :cond_2

    .line 6058
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->setPhotoChecked()V

    :cond_2
    return-void
.end method

.method private synthetic lambda$setParentActivity$14(Ljava/lang/Integer;)V
    .locals 5

    .line 6063
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getTranslationY()F

    move-result v1

    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result v2

    const/high16 v3, 0x42380000    # 46.0f

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v4

    sub-int/2addr v2, v4

    const/4 v4, 0x0

    invoke-static {v4, v2}, Ljava/lang/Math;->max(II)I

    move-result v2

    int-to-float v2, v2

    sub-float/2addr v1, v2

    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 6064
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result p1

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v1

    sub-int/2addr p1, v1

    invoke-static {v4, p1}, Ljava/lang/Math;->max(II)I

    move-result p1

    neg-int p1, p1

    int-to-float p1, p1

    invoke-virtual {v0, p1}, Landroid/widget/ImageView;->setTranslationY(F)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$15(Landroid/view/View;)V
    .locals 1

    .line 6067
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz p1, :cond_1

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result p1

    if-eqz p1, :cond_0

    goto :goto_0

    .line 6070
    :cond_0
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {p1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->needAddMorePhotos()V

    const/4 p1, 0x1

    const/4 v0, 0x0

    .line 6071
    invoke-virtual {p0, p1, v0}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    :cond_1
    :goto_0
    return-void
.end method

.method private synthetic lambda$setParentActivity$16(Landroid/view/View;)V
    .locals 1

    .line 6104
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {p1}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->isCaptionOverLimit()Z

    move-result p1

    if-eqz p1, :cond_1

    .line 6105
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object p1, p1, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->limitTextView:Lorg/telegram/ui/Components/AnimatedTextView;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->shiftDp:F

    neg-float v0, v0

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->shiftDp:F

    invoke-static {p1, v0}, Lorg/telegram/messenger/AndroidUtilities;->shakeViewSpring(Landroid/view/View;F)V

    .line 6106
    sget-object p1, Lorg/telegram/messenger/BotWebViewVibrationEffect;->APP_ERROR:Lorg/telegram/messenger/BotWebViewVibrationEffect;

    invoke-virtual {p1}, Lorg/telegram/messenger/BotWebViewVibrationEffect;->vibrate()V

    .line 6107
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p1}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object p1

    invoke-virtual {p1}, Lorg/telegram/messenger/MessagesController;->premiumFeaturesBlocked()Z

    move-result p1

    if-nez p1, :cond_0

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p1}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object p1

    iget p1, p1, Lorg/telegram/messenger/MessagesController;->captionLengthLimitPremium:I

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v0}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->getCodePointCount()I

    move-result v0

    if-le p1, v0, :cond_0

    .line 6108
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->showCaptionLimitBulletin(Landroid/widget/FrameLayout;)Z

    :cond_0
    return-void

    .line 6112
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz p1, :cond_2

    invoke-virtual {p1}, Lorg/telegram/ui/ChatActivity;->isInScheduleMode()Z

    move-result p1

    if-eqz p1, :cond_2

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {p1}, Lorg/telegram/ui/ChatActivity;->isEditingMessageMedia()Z

    move-result p1

    if-nez p1, :cond_2

    .line 6113
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->showScheduleDatePickerDialog()V

    goto :goto_0

    :cond_2
    const/4 p1, 0x1

    const/4 v0, 0x0

    .line 6115
    invoke-direct {p0, p1, v0}, Lorg/telegram/ui/PhotoViewer;->sendPressed(ZI)V

    :goto_0
    return-void
.end method

.method private synthetic lambda$setParentActivity$17(Landroid/view/View;Landroid/view/MotionEvent;)Z
    .locals 1

    .line 6135
    invoke-virtual {p2}, Landroid/view/MotionEvent;->getActionMasked()I

    move-result v0

    if-nez v0, :cond_0

    .line 6136
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    if-eqz v0, :cond_0

    invoke-virtual {v0}, Landroid/widget/PopupWindow;->isShowing()Z

    move-result v0

    if-eqz v0, :cond_0

    .line 6137
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->hitRect:Landroid/graphics/Rect;

    invoke-virtual {p1, v0}, Landroid/view/View;->getHitRect(Landroid/graphics/Rect;)V

    .line 6138
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->hitRect:Landroid/graphics/Rect;

    invoke-virtual {p2}, Landroid/view/MotionEvent;->getX()F

    move-result v0

    float-to-int v0, v0

    invoke-virtual {p2}, Landroid/view/MotionEvent;->getY()F

    move-result p2

    float-to-int p2, p2

    invoke-virtual {p1, v0, p2}, Landroid/graphics/Rect;->contains(II)Z

    move-result p1

    if-nez p1, :cond_0

    .line 6139
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    invoke-virtual {p1}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;->dismiss()V

    :cond_0
    const/4 p1, 0x0

    return p1
.end method

.method private synthetic lambda$setParentActivity$18(Landroid/view/KeyEvent;)V
    .locals 2

    .line 6146
    invoke-virtual {p1}, Landroid/view/KeyEvent;->getKeyCode()I

    move-result v0

    const/4 v1, 0x4

    if-ne v0, v1, :cond_0

    invoke-virtual {p1}, Landroid/view/KeyEvent;->getRepeatCount()I

    move-result p1

    if-nez p1, :cond_0

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    if-eqz p1, :cond_0

    invoke-virtual {p1}, Landroid/widget/PopupWindow;->isShowing()Z

    move-result p1

    if-eqz p1, :cond_0

    .line 6147
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    invoke-virtual {p1}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;->dismiss()V

    :cond_0
    return-void
.end method

.method private synthetic lambda$setParentActivity$19(ILandroid/view/View;)V
    .locals 6

    .line 6216
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    if-eqz p2, :cond_0

    invoke-virtual {p2}, Landroid/widget/PopupWindow;->isShowing()Z

    move-result p2

    if-eqz p2, :cond_0

    .line 6217
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    invoke-virtual {p2}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;->dismiss()V

    :cond_0
    if-nez p1, :cond_1

    .line 6220
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->showScheduleDatePickerDialog()V

    goto :goto_0

    :cond_1
    const/4 p2, 0x1

    const/4 v0, 0x0

    if-ne p1, p2, :cond_2

    .line 6222
    invoke-direct {p0, v0, v0}, Lorg/telegram/ui/PhotoViewer;->sendPressed(ZI)V

    goto :goto_0

    :cond_2
    const/4 v1, 0x2

    if-ne p1, v1, :cond_3

    .line 6224
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->replacePressed()V

    goto :goto_0

    :cond_3
    const/4 v1, 0x3

    if-ne p1, v1, :cond_4

    .line 6226
    invoke-direct {p0, p2, v0}, Lorg/telegram/ui/PhotoViewer;->sendPressed(ZI)V

    goto :goto_0

    :cond_4
    const/4 p2, 0x4

    if-ne p1, p2, :cond_5

    const/4 v1, 0x1

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x1

    const/4 v5, 0x0

    move-object v0, p0

    .line 6228
    invoke-direct/range {v0 .. v5}, Lorg/telegram/ui/PhotoViewer;->sendPressed(ZIZZZ)V

    :cond_5
    :goto_0
    return-void
.end method

.method private synthetic lambda$setParentActivity$20(Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;Landroid/view/View;)Z
    .locals 16

    move-object/from16 v0, p0

    move-object/from16 v1, p2

    .line 6119
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    const/4 v3, 0x0

    if-eqz v2, :cond_0

    invoke-interface {v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->allowSendingSubmenu()Z

    move-result v2

    if-nez v2, :cond_0

    return v3

    .line 6122
    :cond_0
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    const/4 v4, 0x1

    if-eqz v2, :cond_1

    iget-object v2, v2, Lorg/telegram/ui/ActionBar/BaseFragment;->storyViewer:Lorg/telegram/ui/Stories/StoryViewer;

    if-eqz v2, :cond_1

    invoke-virtual {v2}, Lorg/telegram/ui/Stories/StoryViewer;->isShown()Z

    move-result v2

    if-eqz v2, :cond_1

    const/4 v2, 0x1

    goto :goto_0

    :cond_1
    const/4 v2, 0x0

    :goto_0
    if-nez v2, :cond_3

    .line 6123
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v2, :cond_2

    invoke-virtual {v2}, Lorg/telegram/ui/ChatActivity;->isInScheduleMode()Z

    move-result v2

    if-eqz v2, :cond_3

    :cond_2
    return v3

    .line 6126
    :cond_3
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v2}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->isCaptionOverLimit()Z

    move-result v2

    if-eqz v2, :cond_4

    return v3

    .line 6129
    :cond_4
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v2}, Lorg/telegram/ui/ChatActivity;->getCurrentChat()Lorg/telegram/tgnet/TLRPC$Chat;

    .line 6130
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v2}, Lorg/telegram/ui/ChatActivity;->getCurrentUser()Lorg/telegram/tgnet/TLRPC$User;

    move-result-object v2

    .line 6132
    new-instance v5, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v5, v6}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;-><init>(Landroid/content/Context;)V

    iput-object v5, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    .line 6133
    invoke-virtual {v5, v3}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;->setAnimationEnabled(Z)V

    .line 6134
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    new-instance v6, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda50;

    invoke-direct {v6, v0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda50;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v5, v6}, Landroid/widget/FrameLayout;->setOnTouchListener(Landroid/view/View$OnTouchListener;)V

    .line 6145
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    new-instance v6, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda93;

    invoke-direct {v6, v0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda93;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v5, v6}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;->setDispatchKeyEventListener(Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$OnDispatchKeyEventListener;)V

    .line 6150
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    invoke-virtual {v5, v3}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;->setShownFromBottom(Z)V

    .line 6151
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    const v6, -0x6ddddde

    invoke-virtual {v5, v6}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;->setBackgroundColor(I)V

    .line 6153
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v5, :cond_5

    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v5, v6}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->canReplace(I)Z

    move-result v5

    if-eqz v5, :cond_5

    const/4 v5, 0x1

    goto :goto_1

    :cond_5
    const/4 v5, 0x0

    :goto_1
    const/4 v6, 0x5

    new-array v7, v6, [I

    .line 6154
    fill-array-data v7, :array_0

    const/4 v8, 0x0

    :goto_2
    const/4 v9, 0x3

    const/4 v10, 0x2

    if-ge v8, v6, :cond_1a

    .line 6156
    aget v11, v7, v8

    if-eq v11, v10, :cond_6

    if-eq v11, v9, :cond_6

    if-eqz v5, :cond_6

    goto :goto_3

    :cond_6
    if-nez v11, :cond_8

    .line 6160
    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v12}, Lorg/telegram/ui/ChatActivity;->canScheduleMessage()Z

    move-result v12

    if-nez v12, :cond_8

    :cond_7
    :goto_3
    move-object/from16 v6, p1

    goto/16 :goto_8

    :cond_8
    const/4 v12, 0x4

    if-nez v11, :cond_c

    .line 6163
    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v13, :cond_c

    invoke-interface {v13}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getSelectedPhotos()Ljava/util/HashMap;

    move-result-object v13

    if-eqz v13, :cond_c

    .line 6164
    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v13}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getSelectedPhotos()Ljava/util/HashMap;

    move-result-object v13

    .line 6166
    invoke-virtual {v13}, Ljava/util/HashMap;->entrySet()Ljava/util/Set;

    move-result-object v13

    invoke-interface {v13}, Ljava/util/Set;->iterator()Ljava/util/Iterator;

    move-result-object v13

    :cond_9
    invoke-interface {v13}, Ljava/util/Iterator;->hasNext()Z

    move-result v14

    if-eqz v14, :cond_b

    invoke-interface {v13}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v14

    check-cast v14, Ljava/util/Map$Entry;

    .line 6167
    invoke-interface {v14}, Ljava/util/Map$Entry;->getValue()Ljava/lang/Object;

    move-result-object v14

    .line 6168
    instance-of v15, v14, Lorg/telegram/messenger/MediaController$PhotoEntry;

    if-eqz v15, :cond_a

    .line 6169
    check-cast v14, Lorg/telegram/messenger/MediaController$PhotoEntry;

    .line 6170
    iget v14, v14, Lorg/telegram/messenger/MediaController$MediaEditState;->ttl:I

    if-eqz v14, :cond_9

    :goto_4
    const/4 v13, 0x1

    goto :goto_5

    .line 6174
    :cond_a
    instance-of v15, v14, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v15, :cond_9

    .line 6175
    check-cast v14, Lorg/telegram/messenger/MediaController$SearchImage;

    .line 6176
    iget v14, v14, Lorg/telegram/messenger/MediaController$MediaEditState;->ttl:I

    if-eqz v14, :cond_9

    goto :goto_4

    :cond_b
    const/4 v13, 0x0

    :goto_5
    if-eqz v13, :cond_10

    goto :goto_3

    :cond_c
    if-ne v11, v4, :cond_d

    .line 6185
    invoke-static {v2}, Lorg/telegram/messenger/UserObject;->isUserSelf(Lorg/telegram/tgnet/TLRPC$User;)Z

    move-result v13

    if-eqz v13, :cond_d

    goto :goto_3

    :cond_d
    if-eq v11, v10, :cond_e

    if-ne v11, v9, :cond_f

    :cond_e
    if-nez v5, :cond_f

    goto :goto_3

    :cond_f
    if-ne v11, v12, :cond_10

    .line 6189
    iget-boolean v13, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v13, :cond_7

    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v13}, Lorg/telegram/ui/Components/CaptionPhotoViewer;->hasTimer()Z

    move-result v13

    if-eqz v13, :cond_10

    goto :goto_3

    .line 6192
    :cond_10
    new-instance v13, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-nez v11, :cond_11

    const/4 v15, 0x1

    goto :goto_6

    :cond_11
    const/4 v15, 0x0

    :goto_6
    move-object/from16 v6, p1

    if-ne v11, v9, :cond_12

    const/4 v3, 0x1

    :cond_12
    invoke-direct {v13, v14, v15, v3, v6}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;-><init>(Landroid/content/Context;ZZLorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    if-nez v11, :cond_14

    .line 6194
    invoke-static {v2}, Lorg/telegram/messenger/UserObject;->isUserSelf(Lorg/telegram/tgnet/TLRPC$User;)Z

    move-result v3

    if-eqz v3, :cond_13

    .line 6195
    sget v3, Lorg/telegram/messenger/R$string;->SetReminder:I

    const-string v9, "SetReminder"

    invoke-static {v9, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    sget v9, Lorg/telegram/messenger/R$drawable;->msg_calendar2:I

    invoke-virtual {v13, v3, v9}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setTextAndIcon(Ljava/lang/CharSequence;I)V

    goto :goto_7

    .line 6197
    :cond_13
    sget v3, Lorg/telegram/messenger/R$string;->ScheduleMessage:I

    const-string v9, "ScheduleMessage"

    invoke-static {v9, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    sget v9, Lorg/telegram/messenger/R$drawable;->msg_calendar2:I

    invoke-virtual {v13, v3, v9}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setTextAndIcon(Ljava/lang/CharSequence;I)V

    goto :goto_7

    :cond_14
    if-ne v11, v4, :cond_15

    .line 6200
    sget v3, Lorg/telegram/messenger/R$string;->SendWithoutSound:I

    const-string v9, "SendWithoutSound"

    invoke-static {v9, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    sget v9, Lorg/telegram/messenger/R$drawable;->input_notify_off:I

    invoke-virtual {v13, v3, v9}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setTextAndIcon(Ljava/lang/CharSequence;I)V

    goto :goto_7

    :cond_15
    if-ne v11, v10, :cond_16

    .line 6202
    sget v3, Lorg/telegram/messenger/R$string;->ReplacePhoto:I

    const-string v9, "ReplacePhoto"

    invoke-static {v9, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    sget v9, Lorg/telegram/messenger/R$drawable;->msg_replace:I

    invoke-virtual {v13, v3, v9}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setTextAndIcon(Ljava/lang/CharSequence;I)V

    goto :goto_7

    :cond_16
    if-ne v11, v9, :cond_17

    .line 6204
    sget v3, Lorg/telegram/messenger/R$string;->SendAsNewPhoto:I

    const-string v9, "SendAsNewPhoto"

    invoke-static {v9, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    sget v9, Lorg/telegram/messenger/R$drawable;->msg_send:I

    invoke-virtual {v13, v3, v9}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setTextAndIcon(Ljava/lang/CharSequence;I)V

    goto :goto_7

    :cond_17
    if-ne v11, v12, :cond_19

    .line 6206
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v3, :cond_18

    invoke-interface {v3}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getSelectedCount()I

    move-result v3

    if-le v3, v4, :cond_18

    .line 6207
    sget v3, Lorg/telegram/messenger/R$string;->SendAsFiles:I

    invoke-static {v3}, Lorg/telegram/messenger/LocaleController;->getString(I)Ljava/lang/String;

    move-result-object v3

    sget v9, Lorg/telegram/messenger/R$drawable;->msg_sendfile:I

    invoke-virtual {v13, v3, v9}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setTextAndIcon(Ljava/lang/CharSequence;I)V

    goto :goto_7

    .line 6209
    :cond_18
    sget v3, Lorg/telegram/messenger/R$string;->SendAsFile:I

    invoke-static {v3}, Lorg/telegram/messenger/LocaleController;->getString(I)Ljava/lang/String;

    move-result-object v3

    sget v9, Lorg/telegram/messenger/R$drawable;->msg_sendfile:I

    invoke-virtual {v13, v3, v9}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setTextAndIcon(Ljava/lang/CharSequence;I)V

    :cond_19
    :goto_7
    const/high16 v3, 0x43440000    # 196.0f

    .line 6212
    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v3

    invoke-virtual {v13, v3}, Landroid/widget/FrameLayout;->setMinimumWidth(I)V

    const/4 v3, -0x1

    .line 6213
    invoke-virtual {v13, v3, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 6214
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    const/16 v10, 0x30

    invoke-static {v3, v10}, Lorg/telegram/ui/Components/LayoutHelper;->createLinear(II)Landroid/widget/LinearLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v9, v13, v3}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;->addView(Landroid/view/View;Landroid/widget/LinearLayout$LayoutParams;)V

    .line 6215
    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda47;

    invoke-direct {v3, v0, v11}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda47;-><init>(Lorg/telegram/ui/PhotoViewer;I)V

    invoke-virtual {v13, v3}, Landroid/widget/FrameLayout;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    :goto_8
    add-int/lit8 v8, v8, 0x1

    const/4 v3, 0x0

    const/4 v6, 0x5

    goto/16 :goto_2

    .line 6232
    :cond_1a
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getChildCount()I

    move-result v2

    if-nez v2, :cond_1b

    const/4 v2, 0x0

    return v2

    :cond_1b
    const/4 v2, 0x0

    .line 6235
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    const v5, 0x24ffffff

    invoke-virtual {v3, v5}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;->setupRadialSelectors(I)V

    .line 6237
    new-instance v3, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    const/4 v6, -0x2

    invoke-direct {v3, v5, v6, v6}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;-><init>(Landroid/view/View;II)V

    iput-object v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    .line 6238
    invoke-virtual {v3, v2}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;->setAnimationEnabled(Z)V

    .line 6239
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    sget v5, Lorg/telegram/messenger/R$style;->PopupContextAnimation2:I

    invoke-virtual {v3, v5}, Landroid/widget/PopupWindow;->setAnimationStyle(I)V

    .line 6240
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    invoke-virtual {v3, v4}, Landroid/widget/PopupWindow;->setOutsideTouchable(Z)V

    .line 6241
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    invoke-virtual {v3, v4}, Landroid/widget/PopupWindow;->setClippingEnabled(Z)V

    .line 6242
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    invoke-virtual {v3, v10}, Landroid/widget/PopupWindow;->setInputMethodMode(I)V

    .line 6243
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    invoke-virtual {v3, v2}, Landroid/widget/PopupWindow;->setSoftInputMode(I)V

    .line 6244
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    invoke-virtual {v2}, Landroid/widget/PopupWindow;->getContentView()Landroid/view/View;

    move-result-object v2

    invoke-virtual {v2, v4}, Landroid/view/View;->setFocusableInTouchMode(Z)V

    .line 6246
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    const/high16 v3, 0x447a0000    # 1000.0f

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v5

    const/high16 v6, -0x80000000

    invoke-static {v5, v6}, Landroid/view/View$MeasureSpec;->makeMeasureSpec(II)I

    move-result v5

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v3

    invoke-static {v3, v6}, Landroid/view/View$MeasureSpec;->makeMeasureSpec(II)I

    move-result v3

    invoke-virtual {v2, v5, v3}, Landroid/widget/FrameLayout;->measure(II)V

    .line 6247
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    invoke-virtual {v2, v4}, Landroid/widget/PopupWindow;->setFocusable(Z)V

    new-array v2, v10, [I

    .line 6250
    invoke-virtual {v1, v2}, Landroid/view/View;->getLocationInWindow([I)V

    .line 6251
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    const/16 v5, 0x33

    const/4 v6, 0x0

    aget v7, v2, v6

    invoke-virtual/range {p2 .. p2}, Landroid/view/View;->getMeasuredWidth()I

    move-result v6

    add-int/2addr v7, v6

    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v6

    sub-int/2addr v7, v6

    const/high16 v6, 0x41600000    # 14.0f

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v6

    add-int/2addr v7, v6

    aget v2, v2, v4

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result v4

    sub-int/2addr v2, v4

    const/high16 v4, 0x41900000    # 18.0f

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v4

    sub-int/2addr v2, v4

    invoke-virtual {v3, v1, v5, v7, v2}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;->showAtLocation(Landroid/view/View;III)V

    .line 6252
    invoke-virtual {v1, v9, v10}, Landroid/view/View;->performHapticFeedback(II)Z

    const/4 v1, 0x0

    return v1

    nop

    :array_0
    .array-data 4
        0x4
        0x3
        0x2
        0x0
        0x1
    .end array-data
.end method

.method private synthetic lambda$setParentActivity$21(Landroid/view/View;)V
    .locals 1

    .line 6311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result p1

    if-eqz p1, :cond_0

    return-void

    .line 6314
    :cond_0
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz p1, :cond_3

    .line 6315
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->videoConvertSupported:Z

    if-nez p1, :cond_1

    return-void

    .line 6318
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    instance-of v0, p1, Lorg/telegram/ui/Components/VideoEditTextureView;

    if-eqz v0, :cond_2

    .line 6319
    check-cast p1, Lorg/telegram/ui/Components/VideoEditTextureView;

    .line 6320
    invoke-virtual {p1}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoWidth()I

    move-result v0

    if-lez v0, :cond_2

    invoke-virtual {p1}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoHeight()I

    move-result p1

    if-gtz p1, :cond_3

    :cond_2
    return-void

    :cond_3
    const/4 p1, 0x1

    .line 6327
    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->switchToEditMode(I)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$22(Landroid/view/View;)V
    .locals 0

    const/high16 p1, -0x3d4c0000    # -90.0f

    .line 6336
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->cropRotate(F)Z

    return-void
.end method

.method private synthetic lambda$setParentActivity$23(Landroid/view/View;)V
    .locals 0

    .line 6344
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->cropMirror()Z

    return-void
.end method

.method private synthetic lambda$setParentActivity$24(Landroid/view/View;)V
    .locals 1

    .line 6353
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result p1

    if-eqz p1, :cond_0

    return-void

    .line 6356
    :cond_0
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz p1, :cond_3

    .line 6357
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->videoConvertSupported:Z

    if-nez p1, :cond_1

    return-void

    .line 6360
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    instance-of v0, p1, Lorg/telegram/ui/Components/VideoEditTextureView;

    if-eqz v0, :cond_2

    .line 6361
    check-cast p1, Lorg/telegram/ui/Components/VideoEditTextureView;

    .line 6362
    invoke-virtual {p1}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoWidth()I

    move-result v0

    if-lez v0, :cond_2

    invoke-virtual {p1}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoHeight()I

    move-result p1

    if-gtz p1, :cond_3

    :cond_2
    return-void

    :cond_3
    const/4 p1, 0x3

    .line 6369
    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->switchToEditMode(I)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$25(Landroid/view/View;)V
    .locals 1

    .line 6378
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result p1

    if-eqz p1, :cond_0

    return-void

    .line 6381
    :cond_0
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    xor-int/lit8 p1, p1, 0x1

    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    .line 6382
    invoke-virtual {p0}, Lorg/telegram/ui/PhotoViewer;->updateMuteButton()V

    .line 6383
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateVideoInfo()V

    .line 6384
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-eqz p1, :cond_1

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/CheckBox;->isChecked()Z

    move-result p1

    if-nez p1, :cond_1

    .line 6385
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {p1}, Landroid/view/View;->callOnClick()Z

    goto :goto_0

    .line 6387
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {p1, v0}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    .line 6388
    instance-of v0, p1, Lorg/telegram/messenger/MediaController$MediaEditState;

    if-eqz v0, :cond_2

    .line 6389
    check-cast p1, Lorg/telegram/messenger/MediaController$MediaEditState;

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoEditedInfo()Lorg/telegram/messenger/VideoEditedInfo;

    move-result-object v0

    iput-object v0, p1, Lorg/telegram/messenger/MediaController$MediaEditState;->editedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    :cond_2
    :goto_0
    return-void
.end method

.method private synthetic lambda$setParentActivity$26(Landroid/app/Activity;Landroid/view/View;)V
    .locals 3

    .line 6403
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result p2

    if-nez p2, :cond_4

    iget-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-eqz p2, :cond_0

    goto :goto_0

    .line 6406
    :cond_0
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {p2}, Landroid/view/View;->getTag()Ljava/lang/Object;

    move-result-object p2

    if-nez p2, :cond_3

    .line 6407
    iget-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->videoConvertSupported:Z

    if-eqz p2, :cond_2

    .line 6408
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->tooltip:Lorg/telegram/ui/Components/Tooltip;

    if-nez p2, :cond_1

    .line 6409
    new-instance p2, Lorg/telegram/ui/Components/Tooltip;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const v1, -0x33eeeeef    # -3.8028356E7f

    const/4 v2, -0x1

    invoke-direct {p2, p1, v0, v1, v2}, Lorg/telegram/ui/Components/Tooltip;-><init>(Landroid/content/Context;Landroid/view/ViewGroup;II)V

    iput-object p2, p0, Lorg/telegram/ui/PhotoViewer;->tooltip:Lorg/telegram/ui/Components/Tooltip;

    .line 6411
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->tooltip:Lorg/telegram/ui/Components/Tooltip;

    sget p2, Lorg/telegram/messenger/R$string;->VideoQualityIsTooLow:I

    const-string v0, "VideoQualityIsTooLow"

    invoke-static {v0, p2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object p2

    invoke-virtual {p1, p2}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 6412
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->tooltip:Lorg/telegram/ui/Components/Tooltip;

    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {p1, p2}, Lorg/telegram/ui/Components/Tooltip;->show(Landroid/view/View;)V

    :cond_2
    return-void

    :cond_3
    const/4 p1, 0x1

    .line 6416
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->showQualityView(Z)V

    .line 6417
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->requestVideoPreview(I)V

    :cond_4
    :goto_0
    return-void
.end method

.method private synthetic lambda$setParentActivity$27(Landroid/view/View;)V
    .locals 1

    .line 6426
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result p1

    if-eqz p1, :cond_0

    return-void

    .line 6429
    :cond_0
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz p1, :cond_3

    .line 6430
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->videoConvertSupported:Z

    if-nez p1, :cond_1

    return-void

    .line 6433
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    instance-of v0, p1, Lorg/telegram/ui/Components/VideoEditTextureView;

    if-eqz v0, :cond_2

    .line 6434
    check-cast p1, Lorg/telegram/ui/Components/VideoEditTextureView;

    .line 6435
    invoke-virtual {p1}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoWidth()I

    move-result v0

    if-lez v0, :cond_2

    invoke-virtual {p1}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoHeight()I

    move-result p1

    if-gtz p1, :cond_3

    :cond_2
    return-void

    :cond_3
    const/4 p1, 0x2

    .line 6442
    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->switchToEditMode(I)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$28()V
    .locals 14

    .line 6456
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->previousHasTransform:Z

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->previousCropPx:F

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->previousCropPy:F

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->previousCropRotation:F

    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->previousCropOrientation:I

    iget v6, p0, Lorg/telegram/ui/PhotoViewer;->previousCropScale:F

    iget v9, p0, Lorg/telegram/ui/PhotoViewer;->previousCropPw:F

    iget v10, p0, Lorg/telegram/ui/PhotoViewer;->previousCropPh:F

    iget-boolean v13, p0, Lorg/telegram/ui/PhotoViewer;->previousCropMirrored:Z

    const/high16 v7, 0x3f800000    # 1.0f

    const/high16 v8, 0x3f800000    # 1.0f

    const/4 v11, 0x0

    const/4 v12, 0x0

    invoke-virtual/range {v0 .. v13}, Lorg/telegram/ui/Components/Crop/CropTransform;->setViewTransform(ZFFFIFFFFFFFZ)V

    const/4 v0, 0x0

    .line 6471
    invoke-virtual {p0, v0}, Lorg/telegram/ui/PhotoViewer;->switchToEditMode(I)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$29(Landroid/view/View;)V
    .locals 3

    .line 6452
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    if-eqz p1, :cond_0

    return-void

    .line 6455
    :cond_0
    new-instance p1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda63;

    invoke-direct {p1, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda63;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    .line 6473
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->previousHasTransform:Z

    if-nez v0, :cond_3

    .line 6474
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->previousCropOrientation:I

    int-to-float v0, v0

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    iget-object v1, v1, Lorg/telegram/ui/Components/PhotoCropView;->cropView:Lorg/telegram/ui/Components/Crop/CropView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropView;->getStateOrientation()F

    move-result v1

    sub-float/2addr v0, v1

    .line 6475
    invoke-static {v0}, Ljava/lang/Math;->abs(F)F

    move-result v1

    const/high16 v2, 0x43340000    # 180.0f

    cmpl-float v1, v1, v2

    if-lez v1, :cond_2

    const/4 v1, 0x0

    const/high16 v2, 0x43b40000    # 360.0f

    cmpg-float v1, v0, v1

    if-gez v1, :cond_1

    add-float/2addr v0, v2

    goto :goto_0

    :cond_1
    sub-float/2addr v2, v0

    neg-float v0, v2

    .line 6478
    :cond_2
    :goto_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    iget-object v1, v1, Lorg/telegram/ui/Components/PhotoCropView;->cropView:Lorg/telegram/ui/Components/Crop/CropView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropView;->getStateMirror()Z

    move-result v1

    invoke-direct {p0, v0, v1, p1}, Lorg/telegram/ui/PhotoViewer;->cropRotate(FZLjava/lang/Runnable;)Z

    goto :goto_1

    .line 6480
    :cond_3
    invoke-interface {p1}, Ljava/lang/Runnable;->run()V

    :goto_1
    return-void
.end method

.method private synthetic lambda$setParentActivity$30(Landroid/view/View;)V
    .locals 1

    .line 6484
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v0, 0x1

    if-ne p1, v0, :cond_0

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/PhotoCropView;->isReady()Z

    move-result p1

    if-nez p1, :cond_0

    return-void

    .line 6487
    :cond_0
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->applyCurrentEditMode()V

    const/4 p1, 0x0

    .line 6488
    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->switchToEditMode(I)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$31()V
    .locals 2

    .line 6508
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    const/4 v1, 0x1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/PhotoCropView;->reset(Z)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$32(Landroid/view/View;)V
    .locals 2

    .line 6503
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    iget-object p1, p1, Lorg/telegram/ui/Components/PhotoCropView;->cropView:Lorg/telegram/ui/Components/Crop/CropView;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/Crop/CropView;->getStateOrientation()F

    move-result p1

    neg-float p1, p1

    .line 6504
    invoke-static {p1}, Ljava/lang/Math;->abs(F)F

    move-result v0

    const/high16 v1, 0x43340000    # 180.0f

    cmpl-float v0, v0, v1

    if-lez v0, :cond_1

    const/4 v0, 0x0

    const/high16 v1, 0x43b40000    # 360.0f

    cmpg-float v0, p1, v0

    if-gez v0, :cond_0

    add-float/2addr p1, v1

    goto :goto_0

    :cond_0
    sub-float/2addr v1, p1

    neg-float p1, v1

    .line 6507
    :cond_1
    :goto_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    iget-object v0, v0, Lorg/telegram/ui/Components/PhotoCropView;->cropView:Lorg/telegram/ui/Components/Crop/CropView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropView;->getStateMirror()Z

    move-result v0

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda56;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda56;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-direct {p0, p1, v0, v1}, Lorg/telegram/ui/PhotoViewer;->cropRotate(FZLjava/lang/Runnable;)Z

    return-void
.end method

.method private synthetic lambda$setParentActivity$33(Lorg/telegram/messenger/ImageReceiver;ZZZ)V
    .locals 10

    .line 6517
    iget-object p4, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    const/4 v0, 0x1

    if-ne p1, p4, :cond_4

    if-eqz p2, :cond_4

    if-nez p3, :cond_4

    .line 6518
    iget-boolean p3, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez p3, :cond_2

    iget p3, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq p3, v0, :cond_0

    iget p3, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne p3, v0, :cond_2

    :cond_0
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    if-eqz p3, :cond_2

    .line 6519
    invoke-virtual {p1}, Lorg/telegram/messenger/ImageReceiver;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v2

    if-eqz v2, :cond_2

    .line 6521
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {p1}, Lorg/telegram/messenger/ImageReceiver;->getOrientation()I

    move-result v3

    iget p3, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq p3, v0, :cond_1

    const/4 v4, 0x1

    goto :goto_0

    :cond_1
    const/4 p3, 0x0

    const/4 v4, 0x0

    :goto_0
    const/4 v5, 0x1

    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    const/4 v8, 0x0

    const/4 v9, 0x0

    invoke-virtual/range {v1 .. v9}, Lorg/telegram/ui/Components/PhotoCropView;->setBitmap(Landroid/graphics/Bitmap;IZZLorg/telegram/ui/Components/PaintingOverlay;Lorg/telegram/ui/Components/Crop/CropTransform;Lorg/telegram/ui/Components/VideoEditTextureView;Lorg/telegram/messenger/MediaController$CropState;)V

    .line 6524
    :cond_2
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {p3}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result p3

    if-nez p3, :cond_3

    .line 6525
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p3}, Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;->requestLayout()V

    .line 6527
    :cond_3
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->detectFaces()V

    .line 6529
    :cond_4
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne p1, p3, :cond_6

    if-eqz p2, :cond_6

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz p1, :cond_6

    invoke-interface {p1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->scaleToFill()Z

    move-result p1

    if-eqz p1, :cond_6

    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->ignoreDidSetImage:Z

    if-nez p1, :cond_6

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq p1, v0, :cond_6

    .line 6530
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->wasLayout:Z

    if-nez p1, :cond_5

    .line 6531
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->dontResetZoomOnFirstLayout:Z

    goto :goto_1

    .line 6533
    :cond_5
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->setScaleToFill()V

    :cond_6
    :goto_1
    return-void
.end method

.method private synthetic lambda$setParentActivity$34(Landroid/view/View;)V
    .locals 0

    .line 6566
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result p1

    if-eqz p1, :cond_0

    return-void

    .line 6569
    :cond_0
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->setPhotoChecked()V

    return-void
.end method

.method private synthetic lambda$setParentActivity$35(Landroid/view/View;)V
    .locals 1

    .line 6578
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result p1

    if-nez p1, :cond_1

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz p1, :cond_1

    invoke-interface {p1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getSelectedPhotosOrder()Ljava/util/ArrayList;

    move-result-object p1

    if-eqz p1, :cond_1

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {p1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getSelectedPhotosOrder()Ljava/util/ArrayList;

    move-result-object p1

    invoke-virtual {p1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result p1

    if-eqz p1, :cond_0

    goto :goto_0

    .line 6581
    :cond_0
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isPhotosListViewVisible:Z

    const/4 v0, 0x1

    xor-int/2addr p1, v0

    invoke-direct {p0, p1, v0}, Lorg/telegram/ui/PhotoViewer;->togglePhotosListView(ZZ)V

    :cond_1
    :goto_0
    return-void
.end method

.method private synthetic lambda$setParentActivity$36(Landroid/view/View;I)V
    .locals 1

    .line 6603
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {p2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result p2

    if-nez p2, :cond_0

    iget p2, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz p2, :cond_0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    if-ge p2, v0, :cond_0

    .line 6604
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {p2, v0}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p2

    .line 6605
    instance-of v0, p2, Lorg/telegram/messenger/MediaController$MediaEditState;

    if-eqz v0, :cond_0

    .line 6606
    check-cast p2, Lorg/telegram/messenger/MediaController$MediaEditState;

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoEditedInfo()Lorg/telegram/messenger/VideoEditedInfo;

    move-result-object v0

    iput-object v0, p2, Lorg/telegram/messenger/MediaController$MediaEditState;->editedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    :cond_0
    const/4 p2, 0x1

    .line 6609
    iput-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->ignoreDidSetImage:Z

    .line 6610
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {p1}, Landroid/view/View;->getTag()Ljava/lang/Object;

    move-result-object p1

    invoke-virtual {p2, p1}, Ljava/util/ArrayList;->indexOf(Ljava/lang/Object;)I

    move-result p1

    if-ltz p1, :cond_1

    const/4 p2, -0x1

    .line 6612
    iput p2, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    .line 6613
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    :cond_1
    const/4 p1, 0x0

    .line 6615
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->ignoreDidSetImage:Z

    return-void
.end method

.method private synthetic lambda$setParentActivity$6(Landroid/view/View;Landroid/view/WindowInsets;)Landroid/view/WindowInsets;
    .locals 7

    .line 4548
    new-instance p1, Landroid/graphics/Rect;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->insets:Landroid/graphics/Rect;

    invoke-direct {p1, v0}, Landroid/graphics/Rect;-><init>(Landroid/graphics/Rect;)V

    .line 4549
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v1, 0x1e

    if-lt v0, v1, :cond_0

    .line 4550
    invoke-static {}, Landroidx/core/view/WindowInsetsCompat$Type;->displayCutout()I

    move-result v2

    invoke-static {}, Landroidx/core/view/WindowInsetsCompat$Type;->systemBars()I

    move-result v3

    or-int/2addr v2, v3

    invoke-virtual {p2, v2}, Landroid/view/WindowInsets;->getInsets(I)Landroid/graphics/Insets;

    move-result-object v2

    .line 4551
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->insets:Landroid/graphics/Rect;

    iget v4, v2, Landroid/graphics/Insets;->left:I

    iget v5, v2, Landroid/graphics/Insets;->top:I

    iget v6, v2, Landroid/graphics/Insets;->right:I

    iget v2, v2, Landroid/graphics/Insets;->bottom:I

    invoke-virtual {v3, v4, v5, v6, v2}, Landroid/graphics/Rect;->set(IIII)V

    goto :goto_0

    .line 4553
    :cond_0
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->insets:Landroid/graphics/Rect;

    .line 4554
    invoke-virtual {p2}, Landroid/view/WindowInsets;->getStableInsetLeft()I

    move-result v3

    .line 4555
    invoke-virtual {p2}, Landroid/view/WindowInsets;->getStableInsetTop()I

    move-result v4

    .line 4556
    invoke-virtual {p2}, Landroid/view/WindowInsets;->getStableInsetRight()I

    move-result v5

    .line 4557
    invoke-virtual {p2}, Landroid/view/WindowInsets;->getStableInsetBottom()I

    move-result v6

    .line 4553
    invoke-virtual {v2, v3, v4, v5, v6}, Landroid/graphics/Rect;->set(IIII)V

    .line 4560
    :goto_0
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->insets:Landroid/graphics/Rect;

    iget v2, v2, Landroid/graphics/Rect;->top:I

    .line 4561
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    instance-of v4, v3, Lorg/telegram/ui/LaunchActivity;

    if-eqz v4, :cond_2

    if-nez v2, :cond_1

    sget-boolean v4, Lorg/telegram/messenger/AndroidUtilities;->isInMultiwindow:Z

    if-eqz v4, :cond_2

    :cond_1
    iget-boolean v4, p0, Lorg/telegram/ui/PhotoViewer;->inBubbleMode:Z

    if-nez v4, :cond_2

    sget v4, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    if-eq v4, v2, :cond_2

    .line 4562
    sput v2, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    .line 4563
    check-cast v3, Lorg/telegram/ui/LaunchActivity;

    iget-object v2, v3, Lorg/telegram/ui/LaunchActivity;->drawerLayoutContainer:Lorg/telegram/ui/ActionBar/DrawerLayoutContainer;

    invoke-virtual {v2}, Lorg/telegram/ui/ActionBar/DrawerLayoutContainer;->requestLayout()V

    .line 4565
    :cond_2
    invoke-virtual {p1, p2}, Landroid/graphics/Rect;->equals(Ljava/lang/Object;)Z

    move-result p1

    const/4 v2, 0x2

    const/4 v3, 0x0

    if-nez p1, :cond_5

    .line 4566
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    const/4 v4, 0x1

    if-eq p1, v4, :cond_3

    const/4 v4, 0x3

    if-ne p1, v4, :cond_4

    .line 4567
    :cond_3
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {p1}, Landroid/view/View;->getTranslationX()F

    move-result v4

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v5

    int-to-float v5, v5

    sub-float/2addr v4, v5

    invoke-virtual {p1, v4}, Landroid/view/View;->setTranslationX(F)V

    .line 4568
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    aget-object p1, p1, v3

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v4}, Landroid/view/View;->getTranslationX()F

    move-result v4

    aput v4, p1, v2

    .line 4570
    :cond_4
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    if-eqz p1, :cond_5

    .line 4571
    invoke-virtual {p1}, Landroid/widget/FrameLayout;->requestLayout()V

    .line 4575
    :cond_5
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    if-eqz p1, :cond_6

    .line 4576
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->insets:Landroid/graphics/Rect;

    iget v4, v4, Landroid/graphics/Rect;->bottom:I

    iput v4, p0, Lorg/telegram/ui/PhotoViewer;->navigationBarHeight:I

    .line 4577
    invoke-virtual {p1}, Landroid/view/View;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

    move-result-object p1

    check-cast p1, Landroid/view/ViewGroup$MarginLayoutParams;

    .line 4578
    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->navigationBarHeight:I

    iput v4, p1, Landroid/view/ViewGroup$MarginLayoutParams;->height:I

    neg-int v4, v4

    .line 4579
    div-int/2addr v4, v2

    iput v4, p1, Landroid/view/ViewGroup$MarginLayoutParams;->bottomMargin:I

    .line 4580
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    invoke-virtual {v2, p1}, Landroid/view/View;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V

    .line 4582
    :cond_6
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p2}, Landroid/view/WindowInsets;->getSystemWindowInsetLeft()I

    move-result v2

    invoke-virtual {p2}, Landroid/view/WindowInsets;->getSystemWindowInsetRight()I

    move-result v4

    invoke-virtual {p1, v2, v3, v4, v3}, Landroid/widget/FrameLayout;->setPadding(IIII)V

    .line 4583
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    if-eqz p1, :cond_7

    .line 4584
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->updateContainerFlagsRunnable:Ljava/lang/Runnable;

    invoke-static {p1}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    .line 4585
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-eqz p1, :cond_7

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-nez p1, :cond_7

    .line 4586
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->updateContainerFlagsRunnable:Ljava/lang/Runnable;

    const-wide/16 v2, 0xc8

    invoke-static {p1, v2, v3}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;J)V

    :cond_7
    if-lt v0, v1, :cond_8

    .line 4590
    sget-object p1, Landroid/view/WindowInsets;->CONSUMED:Landroid/view/WindowInsets;

    return-object p1

    .line 4592
    :cond_8
    invoke-virtual {p2}, Landroid/view/WindowInsets;->consumeSystemWindowInsets()Landroid/view/WindowInsets;

    move-result-object p1

    return-object p1
.end method

.method private synthetic lambda$setParentActivity$7(Ljava/lang/Boolean;)V
    .locals 0

    const/4 p1, 0x0

    .line 5389
    invoke-direct {p0, p1, p1, p1}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$8(Landroid/view/View;)V
    .locals 3

    .line 5570
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-nez p1, :cond_0

    return-void

    :cond_0
    const/4 v0, 0x0

    .line 5573
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->wasRotated:Z

    const/4 v1, 0x1

    .line 5574
    iput v1, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenedByButton:I

    .line 5575
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->prevOrientation:I

    const/16 v2, -0xa

    if-ne v1, v2, :cond_1

    .line 5576
    invoke-virtual {p1}, Landroid/app/Activity;->getRequestedOrientation()I

    move-result p1

    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->prevOrientation:I

    .line 5578
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const-string v1, "window"

    invoke-virtual {p1, v1}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Landroid/view/WindowManager;

    .line 5579
    invoke-interface {p1}, Landroid/view/WindowManager;->getDefaultDisplay()Landroid/view/Display;

    move-result-object p1

    invoke-virtual {p1}, Landroid/view/Display;->getRotation()I

    move-result p1

    const/4 v1, 0x3

    if-ne p1, v1, :cond_2

    .line 5581
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const/16 v1, 0x8

    invoke-virtual {p1, v1}, Landroid/app/Activity;->setRequestedOrientation(I)V

    goto :goto_0

    .line 5583
    :cond_2
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-virtual {p1, v0}, Landroid/app/Activity;->setRequestedOrientation(I)V

    .line 5585
    :goto_0
    invoke-direct {p0, v0, v0}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$9()Landroid/view/View;
    .locals 7

    .line 5597
    new-instance v6, Lorg/telegram/ui/PhotoViewer$CaptionTextView;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->textSelectionHelper:Lorg/telegram/ui/Cells/TextSelectionHelper$SimpleTextSelectionHelper;

    new-instance v4, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda86;

    invoke-direct {v4, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda86;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    new-instance v5, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda87;

    invoke-direct {v5, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda87;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    move-object v0, v6

    invoke-direct/range {v0 .. v5}, Lorg/telegram/ui/PhotoViewer$CaptionTextView;-><init>(Landroid/content/Context;Lorg/telegram/ui/PhotoViewer$CaptionScrollView;Lorg/telegram/ui/Cells/TextSelectionHelper$SimpleTextSelectionHelper;Lorg/telegram/messenger/Utilities$Callback2;Lorg/telegram/messenger/Utilities$Callback3;)V

    return-object v6
.end method

.method private synthetic lambda$setVideoPlayerControlVisible$50(Landroid/animation/ValueAnimator;)V
    .locals 1

    .line 9136
    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    .line 9137
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    invoke-virtual {v0, p1}, Landroid/widget/FrameLayout;->setAlpha(F)V

    return-void
.end method

.method private synthetic lambda$showAlertDialog$51(Landroid/content/DialogInterface;)V
    .locals 0

    const/4 p1, 0x0

    .line 9197
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->visibleDialog:Lorg/telegram/ui/ActionBar/AlertDialog;

    return-void
.end method

.method private synthetic lambda$showCaptionLimitBulletin$37()V
    .locals 3

    const/4 v0, 0x0

    .line 6650
    invoke-virtual {p0, v0, v0}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    .line 6651
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

    if-eqz v0, :cond_0

    const/4 v1, 0x1

    .line 6652
    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/ChatAttachAlert;->dismiss(Z)V

    .line 6654
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    if-eqz v0, :cond_1

    .line 6655
    new-instance v1, Lorg/telegram/ui/PremiumPreviewFragment;

    const-string v2, "caption_limit"

    invoke-direct {v1, v2}, Lorg/telegram/ui/PremiumPreviewFragment;-><init>(Ljava/lang/String;)V

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/BaseFragment;->presentFragment(Lorg/telegram/ui/ActionBar/BaseFragment;)Z

    :cond_1
    return-void
.end method

.method private synthetic lambda$showCaptionLimitBulletin$38()V
    .locals 1

    const/4 v0, 0x0

    .line 6658
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->limitBulletin:Lorg/telegram/ui/Components/Bulletin;

    return-void
.end method

.method private synthetic lambda$showShareAlert$42(Lorg/telegram/ui/Components/ShareAlert;)V
    .locals 1

    if-eqz p1, :cond_0

    .line 6906
    invoke-virtual {p1}, Landroid/app/Dialog;->getWindow()Landroid/view/Window;

    move-result-object v0

    if-eqz v0, :cond_0

    const/4 v0, 0x1

    .line 6907
    invoke-virtual {p1, v0}, Lorg/telegram/ui/ActionBar/BottomSheet;->setFocusable(Z)V

    .line 6908
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz p1, :cond_0

    invoke-virtual {p1}, Lorg/telegram/ui/ChatActivity;->getChatActivityEnterView()Lorg/telegram/ui/Components/ChatActivityEnterView;

    move-result-object p1

    if-eqz p1, :cond_0

    .line 6909
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {p1}, Lorg/telegram/ui/ChatActivity;->getChatActivityEnterView()Lorg/telegram/ui/Components/ChatActivityEnterView;

    move-result-object p1

    const/4 v0, 0x0

    invoke-virtual {p1, v0}, Lorg/telegram/ui/Components/ChatActivityEnterView;->hidePopup(Z)Z

    :cond_0
    return-void
.end method

.method private synthetic lambda$switchToEditMode$56(Landroid/animation/ValueAnimator;)V
    .locals 5

    .line 9998
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    iget-object p1, p1, Lorg/telegram/ui/Components/PhotoCropView;->cropView:Lorg/telegram/ui/Components/Crop/CropView;

    iget-object p1, p1, Lorg/telegram/ui/Components/Crop/CropView;->areaView:Lorg/telegram/ui/Components/Crop/CropAreaView;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    .line 10000
    invoke-static {v0, v1, v2}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result v0

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    .line 10001
    invoke-static {v1, v2, v3}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result v1

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    .line 10002
    invoke-static {v2, v3, v4}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result v2

    const/4 v3, 0x0

    .line 9998
    invoke-virtual {p1, v3, v0, v1, v2}, Lorg/telegram/ui/Components/Crop/CropAreaView;->setRotationScaleTranslation(FFFF)V

    return-void
.end method

.method private synthetic lambda$switchToEditMode$57(Landroid/animation/ValueAnimator;)V
    .locals 3

    .line 10015
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    const/4 v1, 0x0

    const/4 v2, 0x0

    invoke-virtual {v0, p1, v1, v2, v2}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->setOffsetTranslationY(FFIZ)V

    return-void
.end method

.method private synthetic lambda$switchToEditMode$58(Landroid/animation/ValueAnimator;)V
    .locals 1

    .line 10016
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    invoke-virtual {v0, p1}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->setOffsetTranslationX(F)V

    return-void
.end method

.method private synthetic lambda$switchToEditMode$59(Landroid/view/View;)V
    .locals 0

    .line 10322
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->applyCurrentEditMode()V

    const/4 p1, 0x0

    .line 10323
    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->switchToEditMode(I)V

    return-void
.end method

.method private synthetic lambda$switchToEditMode$60(Landroid/content/DialogInterface;I)V
    .locals 0

    const/4 p1, 0x0

    .line 10333
    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->switchToEditMode(I)V

    return-void
.end method

.method private synthetic lambda$switchToEditMode$61(Landroid/view/View;)V
    .locals 2

    .line 10326
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/PhotoFilterView;->hasChanges()Z

    move-result p1

    if-eqz p1, :cond_1

    .line 10327
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-nez p1, :cond_0

    return-void

    .line 10330
    :cond_0
    new-instance v0, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    invoke-direct {v0, p1, v1}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;-><init>(Landroid/content/Context;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    .line 10331
    sget p1, Lorg/telegram/messenger/R$string;->DiscardChanges:I

    const-string v1, "DiscardChanges"

    invoke-static {v1, p1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object p1

    invoke-virtual {v0, p1}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setMessage(Ljava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 10332
    sget p1, Lorg/telegram/messenger/R$string;->AppName:I

    const-string v1, "AppName"

    invoke-static {v1, p1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object p1

    invoke-virtual {v0, p1}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setTitle(Ljava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 10333
    sget p1, Lorg/telegram/messenger/R$string;->OK:I

    const-string v1, "OK"

    invoke-static {v1, p1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object p1

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda19;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda19;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, p1, v1}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setPositiveButton(Ljava/lang/CharSequence;Landroid/content/DialogInterface$OnClickListener;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 10334
    sget p1, Lorg/telegram/messenger/R$string;->Cancel:I

    const-string v1, "Cancel"

    invoke-static {v1, p1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object p1

    const/4 v1, 0x0

    invoke-virtual {v0, p1, v1}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setNegativeButton(Ljava/lang/CharSequence;Landroid/content/DialogInterface$OnClickListener;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 10335
    invoke-virtual {p0, v0}, Lorg/telegram/ui/PhotoViewer;->showAlertDialog(Lorg/telegram/ui/ActionBar/AlertDialog$Builder;)V

    goto :goto_0

    :cond_1
    const/4 p1, 0x0

    .line 10337
    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->switchToEditMode(I)V

    :goto_0
    return-void
.end method

.method private synthetic lambda$switchToPaintMode$69(Landroid/animation/ValueAnimator;)V
    .locals 3

    .line 10715
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    const/4 v1, 0x0

    const/4 v2, 0x0

    invoke-virtual {v0, p1, v1, v2, v2}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->setOffsetTranslationY(FFIZ)V

    return-void
.end method

.method private synthetic lambda$switchToPaintMode$70(Landroid/animation/ValueAnimator;)V
    .locals 1

    .line 10716
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    invoke-virtual {v0, p1}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->setOffsetTranslationX(F)V

    return-void
.end method

.method private static synthetic lambda$switchToPip$43(Lorg/telegram/messenger/ImageReceiver;Landroid/animation/ValueAnimator;)V
    .locals 0

    .line 7320
    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    invoke-virtual {p0, p1}, Lorg/telegram/messenger/ImageReceiver;->setAlpha(F)V

    return-void
.end method

.method private synthetic lambda$switchToPip$44(Lorg/telegram/ui/Components/CubicBezierInterpolator;FFFFLandroid/view/View;FFFLandroid/animation/ValueAnimator;)V
    .locals 3

    .line 7402
    invoke-virtual {p10}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p10

    check-cast p10, Ljava/lang/Float;

    invoke-virtual {p10}, Ljava/lang/Float;->floatValue()F

    move-result p10

    if-nez p1, :cond_0

    move p1, p10

    goto :goto_0

    .line 7403
    :cond_0
    invoke-virtual {p1, p10}, Lorg/telegram/ui/Components/CubicBezierInterpolator;->getInterpolation(F)F

    move-result p1

    .line 7404
    :goto_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    const/high16 v1, 0x3f800000    # 1.0f

    if-eqz v0, :cond_1

    sub-float v2, v1, p10

    mul-float v2, v2, p2

    mul-float p3, p3, p10

    add-float/2addr v2, p3

    .line 7405
    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setTranslationX(F)V

    .line 7406
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    sub-float v0, v1, p1

    mul-float p4, p4, v0

    mul-float p5, p5, p1

    add-float/2addr p4, p5

    invoke-virtual {p3, p4}, Landroid/widget/ImageView;->setTranslationY(F)V

    .line 7407
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {p3}, Landroid/widget/ImageView;->invalidateOutline()V

    :cond_1
    sub-float p3, v1, p10

    mul-float p2, p2, p3

    mul-float p7, p7, p10

    add-float/2addr p2, p7

    .line 7410
    invoke-virtual {p6, p2}, Landroid/view/View;->setTranslationX(F)V

    sub-float/2addr v1, p1

    mul-float p8, p8, v1

    mul-float p9, p9, p1

    add-float/2addr p8, p9

    .line 7411
    invoke-virtual {p6, p8}, Landroid/view/View;->setTranslationY(F)V

    .line 7412
    invoke-virtual {p6}, Landroid/view/View;->invalidateOutline()V

    .line 7414
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz p1, :cond_2

    .line 7415
    invoke-virtual {p6}, Landroid/view/View;->getTranslationX()F

    move-result p2

    invoke-virtual {p1, p2}, Landroid/widget/ImageView;->setTranslationX(F)V

    .line 7416
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-virtual {p6}, Landroid/view/View;->getTranslationY()F

    move-result p2

    invoke-virtual {p1, p2}, Landroid/widget/ImageView;->setTranslationY(F)V

    .line 7417
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-virtual {p6}, Landroid/view/View;->getScaleX()F

    move-result p2

    invoke-virtual {p1, p2}, Landroid/widget/ImageView;->setScaleX(F)V

    .line 7418
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-virtual {p6}, Landroid/view/View;->getScaleY()F

    move-result p2

    invoke-virtual {p1, p2}, Landroid/widget/ImageView;->setScaleY(F)V

    .line 7419
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-virtual {p1}, Landroid/widget/ImageView;->invalidateOutline()V

    :cond_2
    return-void
.end method

.method private synthetic lambda$switchToPip$45(Landroid/animation/ValueAnimator;)V
    .locals 0

    .line 7425
    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->clippingImageProgress:F

    return-void
.end method

.method private synthetic lambda$toggleActionBar$71(Landroid/animation/ValueAnimator;)V
    .locals 3

    .line 10992
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    const/4 v1, 0x0

    aget-object v0, v0, v1

    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    const/4 v2, 0x1

    invoke-virtual {v0, v2, p1, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setIndexedAlpha(IFZ)V

    return-void
.end method

.method private synthetic lambda$translateY$67(Landroid/animation/ValueAnimator;)V
    .locals 1

    .line 10628
    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->translateY:F

    .line 10629
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v0, :cond_0

    .line 10630
    invoke-virtual {v0, p1}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->translateY(F)V

    .line 10632
    :cond_0
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->invalidate()V

    return-void
.end method

.method private synthetic lambda$updateResetButtonVisibility$52(Z)V
    .locals 1

    if-nez p1, :cond_0

    .line 9721
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    const/16 v0, 0x8

    invoke-virtual {p1, v0}, Landroid/widget/TextView;->setVisibility(I)V

    :cond_0
    return-void
.end method

.method private makeFocusable()V
    .locals 3

    .line 14881
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v1, 0x15

    if-lt v0, v1, :cond_0

    .line 14882
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    const v1, -0x7ffeff00

    iput v1, v0, Landroid/view/WindowManager$LayoutParams;->flags:I

    goto :goto_0

    .line 14887
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    const/4 v1, 0x0

    iput v1, v0, Landroid/view/WindowManager$LayoutParams;->flags:I

    .line 14889
    :goto_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    const/16 v1, 0x110

    iput v1, v0, Landroid/view/WindowManager$LayoutParams;->softInputMode:I

    .line 14890
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const-string v1, "window"

    invoke-virtual {v0, v1}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/view/WindowManager;

    .line 14892
    :try_start_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    invoke-interface {v0, v1, v2}, Landroid/view/WindowManager;->updateViewLayout(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_1

    :catch_0
    move-exception v0

    .line 14894
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    .line 14896
    :goto_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    const/4 v1, 0x1

    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setFocusable(Z)V

    .line 14897
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setFocusable(Z)V

    return-void
.end method

.method private mergeImages(Ljava/lang/String;Ljava/lang/String;Landroid/graphics/Bitmap;Landroid/graphics/Bitmap;FZ)V
    .locals 6

    const/4 v0, 0x0

    if-nez p3, :cond_0

    .line 9209
    :try_start_0
    invoke-static {p2}, Landroid/graphics/BitmapFactory;->decodeFile(Ljava/lang/String;)Landroid/graphics/Bitmap;

    move-result-object p3

    const/4 p2, 0x1

    goto :goto_0

    :cond_0
    const/4 p2, 0x0

    .line 9212
    :goto_0
    invoke-virtual {p3}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v1

    .line 9213
    invoke-virtual {p3}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v2

    int-to-float v3, v1

    cmpl-float v4, v3, p5

    if-gtz v4, :cond_1

    int-to-float v4, v2

    cmpl-float v4, v4, p5

    if-lez v4, :cond_2

    .line 9215
    :cond_1
    invoke-static {v1, v2}, Ljava/lang/Math;->max(II)I

    move-result v1

    int-to-float v1, v1

    div-float/2addr v1, p5

    div-float/2addr v3, v1

    float-to-int v3, v3

    int-to-float v2, v2

    div-float/2addr v2, v1

    float-to-int v2, v2

    move v1, v3

    .line 9219
    :cond_2
    sget-object v3, Landroid/graphics/Bitmap$Config;->ARGB_8888:Landroid/graphics/Bitmap$Config;

    invoke-static {v1, v2, v3}, Landroid/graphics/Bitmap;->createBitmap(IILandroid/graphics/Bitmap$Config;)Landroid/graphics/Bitmap;

    move-result-object v3

    .line 9220
    new-instance v4, Landroid/graphics/Canvas;

    invoke-direct {v4, v3}, Landroid/graphics/Canvas;-><init>(Landroid/graphics/Bitmap;)V

    .line 9221
    new-instance v5, Landroid/graphics/Rect;

    invoke-direct {v5, v0, v0, v1, v2}, Landroid/graphics/Rect;-><init>(IIII)V

    const/4 v0, 0x0

    if-eqz p6, :cond_3

    .line 9223
    iget-object p6, p0, Lorg/telegram/ui/PhotoViewer;->bitmapPaint:Landroid/graphics/Paint;

    invoke-virtual {v4, p4, v0, v5, p6}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;Landroid/graphics/Rect;Landroid/graphics/Rect;Landroid/graphics/Paint;)V

    .line 9224
    iget-object p4, p0, Lorg/telegram/ui/PhotoViewer;->bitmapPaint:Landroid/graphics/Paint;

    invoke-virtual {v4, p3, v0, v5, p4}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;Landroid/graphics/Rect;Landroid/graphics/Rect;Landroid/graphics/Paint;)V

    goto :goto_1

    .line 9226
    :cond_3
    iget-object p6, p0, Lorg/telegram/ui/PhotoViewer;->bitmapPaint:Landroid/graphics/Paint;

    invoke-virtual {v4, p3, v0, v5, p6}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;Landroid/graphics/Rect;Landroid/graphics/Rect;Landroid/graphics/Paint;)V

    .line 9227
    iget-object p6, p0, Lorg/telegram/ui/PhotoViewer;->bitmapPaint:Landroid/graphics/Paint;

    invoke-virtual {v4, p4, v0, v5, p6}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;Landroid/graphics/Rect;Landroid/graphics/Rect;Landroid/graphics/Paint;)V

    .line 9229
    :goto_1
    new-instance p4, Ljava/io/FileOutputStream;

    new-instance p6, Ljava/io/File;

    invoke-direct {p6, p1}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    invoke-direct {p4, p6}, Ljava/io/FileOutputStream;-><init>(Ljava/io/File;)V

    .line 9230
    sget-object p1, Landroid/graphics/Bitmap$CompressFormat;->JPEG:Landroid/graphics/Bitmap$CompressFormat;

    const/high16 p6, 0x44000000    # 512.0f

    cmpl-float p5, p5, p6

    if-nez p5, :cond_4

    const/16 p5, 0x53

    goto :goto_2

    :cond_4
    const/16 p5, 0x57

    :goto_2
    invoke-virtual {v3, p1, p5, p4}, Landroid/graphics/Bitmap;->compress(Landroid/graphics/Bitmap$CompressFormat;ILjava/io/OutputStream;)Z
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    .line 9232
    :try_start_1
    invoke-virtual {p4}, Ljava/io/FileOutputStream;->close()V
    :try_end_1
    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_0
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    goto :goto_3

    :catch_0
    move-exception p1

    .line 9234
    :try_start_2
    invoke-static {p1}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :goto_3
    if-eqz p2, :cond_5

    .line 9237
    invoke-virtual {p3}, Landroid/graphics/Bitmap;->recycle()V

    .line 9239
    :cond_5
    invoke-virtual {v3}, Landroid/graphics/Bitmap;->recycle()V
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_0

    goto :goto_4

    :catchall_0
    move-exception p1

    .line 9241
    invoke-static {p1}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :goto_4
    return-void
.end method

.method private needEncoding()Z
    .locals 5

    .line 17724
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    const/4 v2, 0x0

    if-eqz v1, :cond_0

    .line 17725
    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    if-eqz v0, :cond_1

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    goto :goto_0

    .line 17726
    :cond_0
    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    if-eqz v0, :cond_1

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    .line 17727
    :cond_1
    :goto_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    if-eqz v1, :cond_2

    goto :goto_1

    :cond_2
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer$EditState;->paintPath:Ljava/lang/String;

    .line 17728
    :goto_1
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isH264Video:Z

    const/4 v3, 0x1

    if-eqz v0, :cond_4

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->videoCutStart:F

    const/4 v4, 0x0

    cmpl-float v0, v0, v4

    if-nez v0, :cond_4

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->rotationValue:I

    if-nez v0, :cond_4

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    if-ne v0, v4, :cond_4

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    if-ne v0, v4, :cond_4

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-nez v4, :cond_4

    if-nez v2, :cond_4

    if-nez v1, :cond_4

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    if-nez v0, :cond_4

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v0, v3, :cond_3

    goto :goto_2

    :cond_3
    const/4 v3, 0x0

    :cond_4
    :goto_2
    return v3
.end method

.method private onActionClick(Z)V
    .locals 10

    const-string v0, "UTF-8"

    .line 17079
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    const/4 v2, -0x1

    const/4 v3, 0x0

    if-nez v1, :cond_1

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-nez v4, :cond_1

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v4, :cond_0

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v4, v4, v3

    if-nez v4, :cond_1

    :cond_0
    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v4, v2, :cond_1

    return-void

    .line 17084
    :cond_1
    iput-boolean v3, p0, Lorg/telegram/ui/PhotoViewer;->isStreaming:Z

    const-string v4, "mp4"

    const/4 v5, 0x0

    const/4 v6, 0x1

    if-eqz v1, :cond_6

    .line 17086
    iget-object v1, v1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$Message;->attachPath:Ljava/lang/String;

    if-eqz v1, :cond_2

    invoke-virtual {v1}, Ljava/lang/String;->length()I

    move-result v1

    if-eqz v1, :cond_2

    .line 17087
    new-instance v1, Ljava/io/File;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v2, v2, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v2, v2, Lorg/telegram/tgnet/TLRPC$Message;->attachPath:Ljava/lang/String;

    invoke-direct {v1, v2}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 17088
    invoke-virtual {v1}, Ljava/io/File;->exists()Z

    move-result v2

    if-nez v2, :cond_3

    :cond_2
    move-object v1, v5

    :cond_3
    if-nez v1, :cond_5

    .line 17093
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v2, v2, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-virtual {v1, v2}, Lorg/telegram/messenger/FileLoader;->getPathToMessage(Lorg/telegram/tgnet/TLRPC$Message;)Ljava/io/File;

    move-result-object v1

    .line 17094
    invoke-virtual {v1}, Ljava/io/File;->exists()Z

    move-result v2

    if-nez v2, :cond_5

    .line 17096
    sget-boolean v1, Lorg/telegram/messenger/SharedConfig;->streamMedia:Z

    if-eqz v1, :cond_b

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v1

    invoke-static {v1, v2}, Lorg/telegram/messenger/DialogObject;->isEncryptedDialog(J)Z

    move-result v1

    if-nez v1, :cond_b

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v1

    if-eqz v1, :cond_b

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->canStreamVideo()Z

    move-result v1

    if-eqz v1, :cond_b

    .line 17098
    :try_start_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget v1, v1, Lorg/telegram/messenger/MessageObject;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v1, v2}, Lorg/telegram/messenger/FileLoader;->getFileReference(Ljava/lang/Object;)I

    move-result v1

    .line 17099
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v7}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v7

    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v2, v7, v8, v6, v3}, Lorg/telegram/messenger/FileLoader;->loadFile(Lorg/telegram/tgnet/TLRPC$Document;Ljava/lang/Object;II)V

    .line 17100
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v2

    .line 17101
    new-instance v7, Ljava/lang/StringBuilder;

    invoke-direct {v7}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "?account="

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget v8, v8, Lorg/telegram/messenger/MessageObject;->currentAccount:I

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    const-string v8, "&id="

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-wide v8, v2, Lorg/telegram/tgnet/TLRPC$Document;->id:J

    invoke-virtual {v7, v8, v9}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    const-string v8, "&hash="

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-wide v8, v2, Lorg/telegram/tgnet/TLRPC$Document;->access_hash:J

    invoke-virtual {v7, v8, v9}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    const-string v8, "&dc="

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget v8, v2, Lorg/telegram/tgnet/TLRPC$Document;->dc_id:I

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    const-string v8, "&size="

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-wide v8, v2, Lorg/telegram/tgnet/TLRPC$Document;->size:J

    invoke-virtual {v7, v8, v9}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    const-string v8, "&mime="

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v8, v2, Lorg/telegram/tgnet/TLRPC$Document;->mime_type:Ljava/lang/String;

    .line 17106
    invoke-static {v8, v0}, Ljava/net/URLEncoder;->encode(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v8

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    const-string v8, "&rid="

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v7, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    const-string v1, "&name="

    invoke-virtual {v7, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 17108
    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getDocumentFileName(Lorg/telegram/tgnet/TLRPC$Document;)Ljava/lang/String;

    move-result-object v1

    invoke-static {v1, v0}, Ljava/net/URLEncoder;->encode(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {v7, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    const-string v0, "&reference="

    invoke-virtual {v7, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 17109
    iget-object v0, v2, Lorg/telegram/tgnet/TLRPC$Document;->file_reference:[B

    if-eqz v0, :cond_4

    goto :goto_0

    :cond_4
    new-array v0, v3, [B

    :goto_0
    invoke-static {v0}, Lorg/telegram/messenger/Utilities;->bytesToHex([B)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {v7, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v7}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    .line 17110
    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "tg://"

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getFileName()Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-static {v0}, Landroid/net/Uri;->parse(Ljava/lang/String;)Landroid/net/Uri;

    move-result-object v0
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    .line 17111
    :try_start_1
    iput-boolean v6, p0, Lorg/telegram/ui/PhotoViewer;->isStreaming:Z

    .line 17112
    invoke-direct {p0, v3, v3, v3}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V
    :try_end_1
    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_1

    goto :goto_1

    :catch_0
    move-object v0, v5

    :catch_1
    :goto_1
    move-object v1, v5

    goto/16 :goto_4

    :cond_5
    :goto_2
    move-object v0, v5

    goto/16 :goto_4

    .line 17119
    :cond_6
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v0, :cond_8

    .line 17120
    iget-object v1, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    if-eqz v1, :cond_7

    .line 17121
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v0

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    invoke-virtual {v0, v1}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;)Ljava/io/File;

    move-result-object v1

    .line 17122
    invoke-virtual {v1}, Ljava/io/File;->exists()Z

    move-result v0

    if-nez v0, :cond_5

    goto/16 :goto_3

    .line 17125
    :cond_7
    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    instance-of v0, v0, Lorg/telegram/tgnet/TLRPC$TL_webDocument;

    if-eqz v0, :cond_b

    .line 17126
    new-instance v1, Ljava/io/File;

    const/4 v0, 0x4

    invoke-static {v0}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v0

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v7, v7, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    iget-object v7, v7, Lorg/telegram/tgnet/TLRPC$WebDocument;->url:Ljava/lang/String;

    invoke-static {v7}, Lorg/telegram/messenger/Utilities;->MD5(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v7

    invoke-virtual {v2, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    const-string v7, "."

    invoke-virtual {v2, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v7, v7, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    iget-object v7, v7, Lorg/telegram/tgnet/TLRPC$WebDocument;->url:Ljava/lang/String;

    invoke-static {v7, v4}, Lorg/telegram/messenger/ImageLoader;->getHttpUrlExtension(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v7

    invoke-virtual {v2, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-direct {v1, v0, v2}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 17127
    invoke-virtual {v1}, Ljava/io/File;->exists()Z

    move-result v0

    if-nez v0, :cond_5

    goto :goto_3

    .line 17131
    :cond_8
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v0, :cond_a

    .line 17132
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getMedia(I)Lorg/telegram/tgnet/TLObject;

    move-result-object v0

    .line 17133
    instance-of v1, v0, Lorg/telegram/tgnet/TLRPC$Document;

    if-nez v1, :cond_9

    return-void

    .line 17136
    :cond_9
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v1, v2}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getFile(I)Ljava/io/File;

    move-result-object v1

    if-eqz v1, :cond_5

    .line 17137
    invoke-virtual {v1}, Ljava/io/File;->exists()Z

    move-result v2

    if-nez v2, :cond_5

    .line 17138
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    check-cast v0, Lorg/telegram/tgnet/TLRPC$Document;

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v7}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getParentObject()Ljava/lang/Object;

    move-result-object v7

    invoke-static {v2, v0, v7}, Lorg/telegram/messenger/FileStreamLoadOperation;->prepareUri(ILorg/telegram/tgnet/TLRPC$Document;Ljava/lang/Object;)Landroid/net/Uri;

    move-result-object v0

    .line 17139
    iput-boolean v6, p0, Lorg/telegram/ui/PhotoViewer;->isStreaming:Z

    goto :goto_4

    .line 17141
    :cond_a
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v0, v2, :cond_b

    .line 17142
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_b

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz v0, :cond_b

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-ge v0, v1, :cond_b

    .line 17143
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    .line 17144
    instance-of v1, v0, Lorg/telegram/messenger/MediaController$PhotoEntry;

    if-eqz v1, :cond_b

    .line 17145
    new-instance v1, Ljava/io/File;

    check-cast v0, Lorg/telegram/messenger/MediaController$PhotoEntry;

    iget-object v0, v0, Lorg/telegram/messenger/MediaController$PhotoEntry;->path:Ljava/lang/String;

    invoke-direct {v1, v0}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    goto/16 :goto_2

    :cond_b
    :goto_3
    move-object v0, v5

    move-object v1, v0

    :goto_4
    if-eqz v1, :cond_c

    if-nez v0, :cond_c

    .line 17150
    invoke-static {v1}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v0

    :cond_c
    if-nez v0, :cond_15

    if-eqz p1, :cond_17

    .line 17154
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz p1, :cond_e

    .line 17155
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v0, v0, v3

    invoke-virtual {p1, v0}, Lorg/telegram/messenger/FileLoader;->isLoadingFile(Ljava/lang/String;)Z

    move-result p1

    if-nez p1, :cond_d

    .line 17156
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v0

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {p1, v0, v1, v6, v3}, Lorg/telegram/messenger/FileLoader;->loadFile(Lorg/telegram/tgnet/TLRPC$Document;Ljava/lang/Object;II)V

    goto/16 :goto_5

    .line 17158
    :cond_d
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v0

    invoke-virtual {p1, v0}, Lorg/telegram/messenger/FileLoader;->cancelLoadFile(Lorg/telegram/tgnet/TLRPC$Document;)V

    goto/16 :goto_5

    .line 17160
    :cond_e
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz p1, :cond_12

    .line 17161
    iget-object v0, p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    if-eqz v0, :cond_10

    .line 17162
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v0, v0, v3

    invoke-virtual {p1, v0}, Lorg/telegram/messenger/FileLoader;->isLoadingFile(Ljava/lang/String;)Z

    move-result p1

    if-nez p1, :cond_f

    .line 17163
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {p1, v0, v1, v6, v3}, Lorg/telegram/messenger/FileLoader;->loadFile(Lorg/telegram/tgnet/TLRPC$Document;Ljava/lang/Object;II)V

    goto/16 :goto_5

    .line 17165
    :cond_f
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    invoke-virtual {p1, v0}, Lorg/telegram/messenger/FileLoader;->cancelLoadFile(Lorg/telegram/tgnet/TLRPC$Document;)V

    goto/16 :goto_5

    .line 17167
    :cond_10
    iget-object p1, p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    instance-of p1, p1, Lorg/telegram/tgnet/TLRPC$TL_webDocument;

    if-eqz p1, :cond_14

    .line 17168
    invoke-static {}, Lorg/telegram/messenger/ImageLoader;->getInstance()Lorg/telegram/messenger/ImageLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$WebDocument;->url:Ljava/lang/String;

    invoke-virtual {p1, v0}, Lorg/telegram/messenger/ImageLoader;->isLoadingHttpFile(Ljava/lang/String;)Z

    move-result p1

    if-nez p1, :cond_11

    .line 17169
    invoke-static {}, Lorg/telegram/messenger/ImageLoader;->getInstance()Lorg/telegram/messenger/ImageLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$WebDocument;->url:Ljava/lang/String;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-virtual {p1, v0, v4, v1}, Lorg/telegram/messenger/ImageLoader;->loadHttpFile(Ljava/lang/String;Ljava/lang/String;I)V

    goto :goto_5

    .line 17171
    :cond_11
    invoke-static {}, Lorg/telegram/messenger/ImageLoader;->getInstance()Lorg/telegram/messenger/ImageLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$WebDocument;->url:Ljava/lang/String;

    invoke-virtual {p1, v0}, Lorg/telegram/messenger/ImageLoader;->cancelLoadHttpFile(Ljava/lang/String;)V

    goto :goto_5

    .line 17174
    :cond_12
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz p1, :cond_14

    .line 17175
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v0, v0, v3

    invoke-virtual {p1, v0}, Lorg/telegram/messenger/FileLoader;->isLoadingFile(Ljava/lang/String;)Z

    move-result p1

    if-nez p1, :cond_13

    .line 17176
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getMedia(I)Lorg/telegram/tgnet/TLObject;

    move-result-object v0

    check-cast v0, Lorg/telegram/tgnet/TLRPC$Document;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getParentObject()Ljava/lang/Object;

    move-result-object v1

    invoke-virtual {p1, v0, v1, v6, v6}, Lorg/telegram/messenger/FileLoader;->loadFile(Lorg/telegram/tgnet/TLRPC$Document;Ljava/lang/Object;II)V

    goto :goto_5

    .line 17178
    :cond_13
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getMedia(I)Lorg/telegram/tgnet/TLObject;

    move-result-object v0

    check-cast v0, Lorg/telegram/tgnet/TLRPC$Document;

    invoke-virtual {p1, v0}, Lorg/telegram/messenger/FileLoader;->cancelLoadFile(Lorg/telegram/tgnet/TLRPC$Document;)V

    .line 17181
    :cond_14
    :goto_5
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {p1}, Lorg/telegram/messenger/ImageReceiver;->getStaticThumb()Landroid/graphics/drawable/Drawable;

    move-result-object p1

    .line 17182
    instance-of v0, p1, Lorg/telegram/ui/Components/OtherDocumentPlaceholderDrawable;

    if-eqz v0, :cond_17

    .line 17183
    check-cast p1, Lorg/telegram/ui/Components/OtherDocumentPlaceholderDrawable;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/OtherDocumentPlaceholderDrawable;->checkFileExist()V

    goto :goto_6

    .line 17187
    :cond_15
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    if-ne p1, v6, :cond_16

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->canPreviewDocument()Z

    move-result p1

    if-nez p1, :cond_16

    .line 17188
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-static {p1, v0, v5}, Lorg/telegram/messenger/AndroidUtilities;->openDocument(Lorg/telegram/messenger/MessageObject;Landroid/app/Activity;Lorg/telegram/ui/ActionBar/BaseFragment;)V

    return-void

    .line 17191
    :cond_16
    invoke-direct {p0, v0, v6, v3}, Lorg/telegram/ui/PhotoViewer;->preparePlayer(Landroid/net/Uri;ZZ)V

    .line 17192
    iput-boolean v6, p0, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    :cond_17
    :goto_6
    return-void
.end method

.method private onDraw(Landroid/graphics/Canvas;)V
    .locals 42
    .annotation build Landroid/annotation/SuppressLint;
        value = {
            "NewApi",
            "DrawAllocation"
        }
    .end annotation

    move-object/from16 v10, p0

    move-object/from16 v11, p1

    .line 16136
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    const/high16 v12, 0x40000000    # 2.0f

    const/4 v13, 0x3

    const/4 v14, 0x0

    const/4 v15, 0x1

    .line 16323
    invoke-static {v15}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v1

    const/4 v9, 0x2

    const/high16 v8, 0x3f800000    # 1.0f

    if-eqz v0, :cond_a

    .line 16136
    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v0

    if-eqz v0, :cond_a

    .line 16137
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->isFinished()Z

    move-result v0

    if-nez v0, :cond_2

    .line 16138
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->computeScrollOffset()Z

    move-result v0

    if-eqz v0, :cond_2

    .line 16139
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getStartX()I

    move-result v0

    int-to-float v0, v0

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpg-float v0, v0, v2

    if-gez v0, :cond_0

    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getStartX()I

    move-result v0

    int-to-float v0, v0

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpl-float v0, v0, v2

    if-lez v0, :cond_0

    .line 16140
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getCurrX()I

    move-result v0

    int-to-float v0, v0

    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 16142
    :cond_0
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getStartY()I

    move-result v0

    int-to-float v0, v0

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->maxY:F

    cmpg-float v0, v0, v2

    if-gez v0, :cond_1

    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getStartY()I

    move-result v0

    int-to-float v0, v0

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->minY:F

    cmpl-float v0, v0, v2

    if-lez v0, :cond_1

    .line 16143
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getCurrY()I

    move-result v0

    int-to-float v0, v0

    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 16145
    :cond_1
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->invalidateBlur()V

    .line 16146
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    .line 16149
    :cond_2
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->translationY:F

    invoke-static {v0}, Ljava/lang/Math;->abs(F)F

    move-result v0

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v2

    int-to-float v2, v2

    div-float/2addr v2, v12

    div-float/2addr v0, v2

    .line 16150
    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->clippingImageProgress:F

    cmpl-float v3, v2, v14

    if-eqz v3, :cond_3

    sub-float v3, v8, v0

    mul-float v3, v3, v2

    add-float/2addr v0, v3

    .line 16153
    :cond_3
    invoke-static {v0, v8, v14}, Lorg/telegram/messenger/Utilities;->clamp(FFF)F

    move-result v0

    sub-float v0, v8, v0

    const v2, 0x3dcccccd    # 0.1f

    mul-float v0, v0, v2

    add-float/2addr v0, v8

    const v2, 0x8000

    .line 16154
    invoke-static {v2}, Lorg/telegram/messenger/LiteMode;->isEnabled(I)Z

    move-result v2

    if-nez v2, :cond_4

    const/high16 v0, 0x3f800000    # 1.0f

    .line 16157
    :cond_4
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    invoke-virtual {v2}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v2

    .line 16158
    invoke-virtual {v2}, Landroid/view/View;->getScaleX()F

    move-result v3

    cmpl-float v3, v3, v0

    if-nez v3, :cond_5

    invoke-virtual {v2}, Landroid/view/View;->getScaleY()F

    move-result v3

    cmpl-float v3, v3, v0

    if-eqz v3, :cond_6

    .line 16159
    :cond_5
    invoke-virtual {v2}, Landroid/view/View;->getWidth()I

    move-result v3

    int-to-float v3, v3

    div-float/2addr v3, v12

    invoke-virtual {v2, v3}, Landroid/view/View;->setPivotX(F)V

    .line 16160
    invoke-virtual {v2}, Landroid/view/View;->getHeight()I

    move-result v3

    int-to-float v3, v3

    div-float/2addr v3, v12

    invoke-virtual {v2, v3}, Landroid/view/View;->setPivotY(F)V

    .line 16161
    invoke-virtual {v2, v0}, Landroid/view/View;->setScaleX(F)V

    .line 16162
    invoke-virtual {v2, v0}, Landroid/view/View;->setScaleY(F)V

    .line 16165
    :cond_6
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

    if-eqz v2, :cond_8

    .line 16166
    invoke-virtual {v2}, Lorg/telegram/ui/ActionBar/BottomSheet;->getContainer()Lorg/telegram/ui/ActionBar/BottomSheet$ContainerView;

    move-result-object v2

    .line 16167
    invoke-virtual {v2}, Landroid/view/View;->getScaleX()F

    move-result v3

    cmpl-float v3, v3, v0

    if-nez v3, :cond_7

    invoke-virtual {v2}, Landroid/view/View;->getScaleY()F

    move-result v3

    cmpl-float v3, v3, v0

    if-eqz v3, :cond_8

    .line 16168
    :cond_7
    invoke-virtual {v2}, Landroid/view/View;->getWidth()I

    move-result v3

    int-to-float v3, v3

    div-float/2addr v3, v12

    invoke-virtual {v2, v3}, Landroid/view/View;->setPivotX(F)V

    .line 16169
    invoke-virtual {v2}, Landroid/view/View;->getHeight()I

    move-result v3

    int-to-float v3, v3

    div-float/2addr v3, v12

    invoke-virtual {v2, v3}, Landroid/view/View;->setPivotY(F)V

    .line 16170
    invoke-virtual {v2, v0}, Landroid/view/View;->setScaleX(F)V

    .line 16171
    invoke-virtual {v2, v0}, Landroid/view/View;->setScaleY(F)V

    .line 16175
    :cond_8
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-eq v0, v15, :cond_9

    if-eq v0, v9, :cond_9

    if-eq v0, v13, :cond_9

    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    if-eqz v0, :cond_a

    .line 16176
    :cond_9
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    .line 16179
    :cond_a
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-ne v0, v15, :cond_10

    .line 16181
    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->padImageForHorizontalInsets:Z

    if-eqz v0, :cond_b

    .line 16182
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 16183
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v0

    div-int/2addr v0, v9

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getRightInset()I

    move-result v1

    div-int/2addr v1, v9

    sub-int/2addr v0, v1

    int-to-float v0, v0

    invoke-virtual {v11, v0, v14}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16185
    :cond_b
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    if-eqz v0, :cond_d

    .line 16186
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 16187
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    .line 16188
    invoke-virtual {v0}, Lorg/telegram/ui/Components/ClippingImageView;->getCenterX()F

    move-result v0

    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->getWidth()I

    move-result v1

    div-int/2addr v1, v9

    int-to-float v1, v1

    sub-float/2addr v0, v1

    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    .line 16189
    invoke-virtual {v1}, Lorg/telegram/ui/Components/ClippingImageView;->getCenterY()F

    move-result v1

    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->getHeight()I

    move-result v2

    div-int/2addr v2, v9

    int-to-float v2, v2

    sub-float/2addr v1, v2

    .line 16187
    invoke-virtual {v11, v0, v1}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16191
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/ClippingImageView;->getAnimationProgress()F

    move-result v0

    .line 16192
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-ne v1, v15, :cond_c

    goto :goto_0

    :cond_c
    sub-float v0, v8, v0

    .line 16193
    :goto_0
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->getWidth()I

    move-result v1

    div-int/2addr v1, v9

    int-to-float v1, v1

    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->getHeight()I

    move-result v2

    div-int/2addr v2, v9

    int-to-float v2, v2

    invoke-virtual {v11, v0, v0, v1, v2}, Landroid/graphics/Canvas;->scale(FFFF)V

    move v6, v0

    goto :goto_1

    :cond_d
    const/high16 v6, 0x3f800000    # 1.0f

    :goto_1
    const/4 v3, 0x0

    const/high16 v4, 0x3f800000    # 1.0f

    const/4 v5, 0x0

    move-object/from16 v1, p0

    move-object/from16 v2, p1

    .line 16195
    invoke-direct/range {v1 .. v6}, Lorg/telegram/ui/PhotoViewer;->drawProgress(Landroid/graphics/Canvas;FFFF)V

    .line 16196
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    if-eqz v0, :cond_e

    .line 16197
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    .line 16199
    :cond_e
    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->padImageForHorizontalInsets:Z

    if-eqz v0, :cond_f

    .line 16200
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    .line 16202
    :cond_f
    invoke-direct/range {p0 .. p1}, Lorg/telegram/ui/PhotoViewer;->drawFancyShadows(Landroid/graphics/Canvas;)V

    return-void

    :cond_10
    if-eq v0, v13, :cond_ac

    .line 16205
    iget-boolean v2, v10, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-nez v2, :cond_11

    if-eq v0, v9, :cond_11

    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    if-nez v0, :cond_11

    goto/16 :goto_4d

    .line 16209
    :cond_11
    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->padImageForHorizontalInsets:Z

    if-eqz v0, :cond_12

    .line 16210
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 16211
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v0

    div-int/2addr v0, v9

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getRightInset()I

    move-result v2

    div-int/2addr v2, v9

    sub-int/2addr v0, v2

    int-to-float v0, v0

    invoke-virtual {v11, v0, v14}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16220
    :cond_12
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v2

    .line 16221
    iget-wide v4, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlphaLastTime:J

    sub-long v4, v2, v4

    const-wide/16 v6, 0x14

    cmp-long v0, v4, v6

    if-lez v0, :cond_13

    const-wide/16 v4, 0x11

    :cond_13
    move-wide v6, v4

    .line 16225
    iput-wide v2, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlphaLastTime:J

    .line 16227
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    if-eqz v0, :cond_16

    .line 16228
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->isFinished()Z

    move-result v0

    if-nez v0, :cond_14

    .line 16229
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->abortAnimation()V

    .line 16232
    :cond_14
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->scale:F

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    sub-float v3, v2, v0

    iget v5, v10, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    mul-float v3, v3, v5

    add-float/2addr v3, v0

    .line 16233
    iget v12, v10, Lorg/telegram/ui/PhotoViewer;->rotate:F

    iget v13, v10, Lorg/telegram/ui/PhotoViewer;->animateToRotate:F

    sub-float/2addr v13, v12

    mul-float v13, v13, v5

    add-float/2addr v12, v13

    .line 16234
    iget v13, v10, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v9, v10, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    sub-float/2addr v9, v13

    mul-float v9, v9, v5

    add-float/2addr v9, v13

    .line 16235
    iget v15, v10, Lorg/telegram/ui/PhotoViewer;->translationY:F

    iget v4, v10, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    sub-float/2addr v4, v15

    mul-float v4, v4, v5

    add-float/2addr v15, v4

    .line 16236
    iget v4, v10, Lorg/telegram/ui/PhotoViewer;->mirror:F

    iget v14, v10, Lorg/telegram/ui/PhotoViewer;->animateToMirror:F

    sub-float/2addr v14, v4

    mul-float v14, v14, v5

    add-float/2addr v4, v14

    cmpl-float v2, v2, v8

    if-nez v2, :cond_15

    cmpl-float v0, v0, v8

    if-nez v0, :cond_15

    const/4 v0, 0x0

    cmpl-float v2, v13, v0

    if-nez v2, :cond_15

    move v0, v15

    goto :goto_2

    :cond_15
    const/high16 v0, -0x40800000    # -1.0f

    .line 16246
    :goto_2
    invoke-direct {v10, v3}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    .line 16247
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->invalidate()V

    move v13, v4

    move v14, v9

    move v2, v15

    :goto_3
    move v15, v12

    move v12, v3

    goto/16 :goto_5

    .line 16249
    :cond_16
    iget-wide v2, v10, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    const-wide/16 v4, 0x0

    cmp-long v0, v2, v4

    if-eqz v0, :cond_17

    .line 16250
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 16251
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 16252
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->scale:F

    .line 16253
    iput-wide v4, v10, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    .line 16254
    invoke-direct {v10, v0}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    const/4 v2, 0x0

    .line 16255
    iput-boolean v2, v10, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    .line 16257
    :cond_17
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->isFinished()Z

    move-result v0

    if-nez v0, :cond_1a

    .line 16258
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->computeScrollOffset()Z

    move-result v0

    if-eqz v0, :cond_1a

    .line 16259
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getStartX()I

    move-result v0

    int-to-float v0, v0

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpg-float v0, v0, v2

    if-gez v0, :cond_18

    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getStartX()I

    move-result v0

    int-to-float v0, v0

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpl-float v0, v0, v2

    if-lez v0, :cond_18

    .line 16260
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getCurrX()I

    move-result v0

    int-to-float v0, v0

    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 16262
    :cond_18
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getStartY()I

    move-result v0

    int-to-float v0, v0

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->maxY:F

    cmpg-float v0, v0, v2

    if-gez v0, :cond_19

    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getStartY()I

    move-result v0

    int-to-float v0, v0

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->minY:F

    cmpl-float v0, v0, v2

    if-lez v0, :cond_19

    .line 16263
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getCurrY()I

    move-result v0

    int-to-float v0, v0

    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 16265
    :cond_19
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->invalidateBlur()V

    .line 16266
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    .line 16269
    :cond_1a
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->switchImageAfterAnimation:I

    if-eqz v0, :cond_1e

    const/4 v2, 0x0

    .line 16270
    iput-boolean v2, v10, Lorg/telegram/ui/PhotoViewer;->openedFullScreenVideo:Z

    .line 16271
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_1b

    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz v0, :cond_1b

    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-ge v0, v2, :cond_1b

    .line 16272
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    .line 16273
    instance-of v2, v0, Lorg/telegram/messenger/MediaController$MediaEditState;

    if-eqz v2, :cond_1b

    .line 16274
    check-cast v0, Lorg/telegram/messenger/MediaController$MediaEditState;

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoEditedInfo()Lorg/telegram/messenger/VideoEditedInfo;

    move-result-object v2

    iput-object v2, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->editedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    .line 16277
    :cond_1b
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->switchImageAfterAnimation:I

    const/4 v2, 0x1

    if-ne v0, v2, :cond_1c

    .line 16278
    new-instance v0, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda53;

    invoke-direct {v0, v10}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda53;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;)V

    goto :goto_4

    :cond_1c
    const/4 v2, 0x2

    if-ne v0, v2, :cond_1d

    .line 16280
    new-instance v0, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda57;

    invoke-direct {v0, v10}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda57;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;)V

    :cond_1d
    :goto_4
    const/4 v2, 0x0

    .line 16282
    iput v2, v10, Lorg/telegram/ui/PhotoViewer;->switchImageAfterAnimation:I

    .line 16284
    :cond_1e
    iget v3, v10, Lorg/telegram/ui/PhotoViewer;->scale:F

    .line 16285
    iget v4, v10, Lorg/telegram/ui/PhotoViewer;->mirror:F

    .line 16286
    iget v12, v10, Lorg/telegram/ui/PhotoViewer;->rotate:F

    .line 16287
    iget v15, v10, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 16288
    iget v9, v10, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 16289
    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->moving:Z

    move v13, v4

    move v14, v9

    if-nez v0, :cond_1f

    move v0, v15

    move v2, v0

    goto/16 :goto_3

    :cond_1f
    move v2, v15

    const/high16 v0, -0x40800000    # -1.0f

    goto/16 :goto_3

    .line 16294
    :goto_5
    iget v3, v10, Lorg/telegram/ui/PhotoViewer;->translateY:F

    add-float/2addr v2, v3

    .line 16295
    iget v3, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v4, 0x3

    if-ne v3, v4, :cond_20

    .line 16296
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    const/4 v4, 0x0

    invoke-virtual {v3, v4}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getEmojiPadding(Z)I

    move-result v3

    int-to-float v3, v3

    const/high16 v4, 0x40000000    # 2.0f

    div-float/2addr v3, v4

    add-float/2addr v2, v3

    :cond_20
    move v9, v2

    .line 16299
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v2, :cond_21

    .line 16300
    invoke-virtual {v2, v9}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 16303
    :cond_21
    iget-boolean v2, v10, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-eqz v2, :cond_23

    const v2, 0x3f800347    # 1.0001f

    const-wide/16 v3, 0x78

    cmpg-float v2, v12, v2

    if-gtz v2, :cond_22

    .line 16305
    iget-boolean v2, v10, Lorg/telegram/ui/PhotoViewer;->allowShowFullscreenButton:Z

    if-nez v2, :cond_23

    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    const/4 v5, 0x0

    aget-object v2, v2, v5

    invoke-virtual {v2}, Landroid/widget/ImageView;->getTag()Ljava/lang/Object;

    move-result-object v2

    if-nez v2, :cond_24

    .line 16306
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v5

    invoke-virtual {v2}, Landroid/widget/ImageView;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object v2

    invoke-virtual {v2, v8}, Landroid/view/ViewPropertyAnimator;->alpha(F)Landroid/view/ViewPropertyAnimator;

    move-result-object v2

    invoke-virtual {v2, v3, v4}, Landroid/view/ViewPropertyAnimator;->setDuration(J)Landroid/view/ViewPropertyAnimator;

    move-result-object v2

    new-instance v3, Lorg/telegram/ui/PhotoViewer$72;

    invoke-direct {v3, v10}, Lorg/telegram/ui/PhotoViewer$72;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v2, v3}, Landroid/view/ViewPropertyAnimator;->setListener(Landroid/animation/Animator$AnimatorListener;)Landroid/view/ViewPropertyAnimator;

    move-result-object v2

    .line 16311
    invoke-virtual {v2}, Landroid/view/ViewPropertyAnimator;->start()V

    .line 16312
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v5

    invoke-virtual {v2, v1}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    const/4 v1, 0x1

    .line 16313
    iput-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->allowShowFullscreenButton:Z

    goto :goto_6

    :cond_22
    const/4 v5, 0x0

    .line 16316
    iget-boolean v2, v10, Lorg/telegram/ui/PhotoViewer;->allowShowFullscreenButton:Z

    if-eqz v2, :cond_24

    .line 16317
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v5

    invoke-virtual {v2}, Landroid/widget/ImageView;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object v2

    const/4 v8, 0x0

    invoke-virtual {v2, v8}, Landroid/view/ViewPropertyAnimator;->alpha(F)Landroid/view/ViewPropertyAnimator;

    move-result-object v2

    invoke-virtual {v2, v3, v4}, Landroid/view/ViewPropertyAnimator;->setDuration(J)Landroid/view/ViewPropertyAnimator;

    move-result-object v2

    new-instance v3, Lorg/telegram/ui/PhotoViewer$73;

    invoke-direct {v3, v10}, Lorg/telegram/ui/PhotoViewer$73;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v2, v3}, Landroid/view/ViewPropertyAnimator;->setListener(Landroid/animation/Animator$AnimatorListener;)Landroid/view/ViewPropertyAnimator;

    move-result-object v2

    .line 16322
    invoke-virtual {v2}, Landroid/view/ViewPropertyAnimator;->start()V

    .line 16323
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v5

    invoke-virtual {v2, v1}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 16324
    iput-boolean v5, v10, Lorg/telegram/ui/PhotoViewer;->allowShowFullscreenButton:Z

    goto :goto_6

    :cond_23
    const/4 v5, 0x0

    .line 16329
    :cond_24
    :goto_6
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v8

    .line 16330
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v4

    .line 16331
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    const/high16 v25, 0x40800000    # 4.0f

    const/4 v2, 0x4

    const/high16 v26, 0x437f0000    # 255.0f

    const/4 v3, 0x2

    if-eq v1, v3, :cond_27

    if-eq v1, v2, :cond_27

    iget-boolean v3, v10, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    if-nez v3, :cond_27

    iget-boolean v3, v10, Lorg/telegram/ui/PhotoViewer;->isInline:Z

    if-nez v3, :cond_27

    .line 16332
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v1, :cond_25

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v2, 0x1

    if-eq v1, v2, :cond_25

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/high16 v2, 0x3f800000    # 1.0f

    cmpl-float v1, v1, v2

    if-nez v1, :cond_25

    const/high16 v16, -0x40800000    # -1.0f

    cmpl-float v1, v0, v16

    if-eqz v1, :cond_26

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    if-nez v1, :cond_26

    int-to-float v1, v8

    div-float v1, v1, v25

    .line 16334
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    const/high16 v3, 0x42fe0000    # 127.0f

    invoke-static {v0}, Ljava/lang/Math;->abs(F)F

    move-result v0

    invoke-static {v0, v1}, Ljava/lang/Math;->min(FF)F

    move-result v0

    div-float/2addr v0, v1

    const/high16 v1, 0x3f800000    # 1.0f

    sub-float v0, v1, v0

    mul-float v0, v0, v26

    invoke-static {v3, v0}, Ljava/lang/Math;->max(FF)F

    move-result v0

    float-to-int v0, v0

    invoke-virtual {v2, v0}, Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;->setAlpha(I)V

    goto :goto_7

    :cond_25
    const/high16 v16, -0x40800000    # -1.0f

    .line 16336
    :cond_26
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    const/16 v1, 0xff

    invoke-virtual {v0, v1}, Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;->setAlpha(I)V

    goto :goto_7

    :cond_27
    const/high16 v16, -0x40800000    # -1.0f

    if-ne v1, v2, :cond_28

    const/high16 v0, -0x1000000

    .line 16339
    invoke-virtual {v11, v0}, Landroid/graphics/Canvas;->drawColor(I)V

    :cond_28
    :goto_7
    const/4 v3, 0x0

    .line 16342
    iput-object v3, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    .line 16343
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v0, :cond_2d

    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v1, 0x1

    if-eq v0, v1, :cond_2d

    .line 16344
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/high16 v1, 0x3f800000    # 1.0f

    cmpl-float v0, v0, v1

    if-ltz v0, :cond_2b

    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    if-nez v0, :cond_2b

    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->zooming:Z

    if-nez v0, :cond_2b

    .line 16345
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->maxX:F

    const/high16 v1, 0x40a00000    # 5.0f

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v2

    int-to-float v2, v2

    add-float/2addr v0, v2

    cmpl-float v0, v14, v0

    if-lez v0, :cond_29

    .line 16346
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    iput-object v0, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    goto :goto_8

    .line 16347
    :cond_29
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->minX:F

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v1

    int-to-float v1, v1

    sub-float/2addr v0, v1

    cmpg-float v0, v14, v0

    if-gez v0, :cond_2a

    .line 16348
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    iput-object v0, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    goto :goto_8

    .line 16350
    :cond_2a
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/GroupedPhotosListView;->setMoveProgress(F)V

    .line 16353
    :cond_2b
    :goto_8
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    if-eqz v0, :cond_2c

    const/4 v0, 0x1

    goto :goto_9

    :cond_2c
    const/4 v0, 0x0

    :goto_9
    iput-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->changingPage:Z

    :cond_2d
    const/4 v0, 0x3

    const/4 v2, 0x0

    :goto_a
    if-ge v2, v0, :cond_31

    const/4 v1, 0x1

    if-ne v2, v1, :cond_2f

    :cond_2e
    const/4 v0, 0x0

    goto :goto_b

    :cond_2f
    const/4 v1, 0x2

    if-ne v2, v1, :cond_30

    .line 16361
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v0

    neg-int v0, v0

    const/high16 v1, 0x41700000    # 15.0f

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v1

    sub-int/2addr v0, v1

    int-to-float v0, v0

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->maxX:F

    sub-float v1, v14, v1

    add-float/2addr v0, v1

    goto :goto_b

    .line 16363
    :cond_30
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpg-float v1, v14, v0

    if-gez v1, :cond_2e

    sub-float v0, v14, v0

    .line 16365
    :goto_b
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v1, v1, v2

    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v3

    int-to-float v3, v3

    add-float/2addr v0, v3

    const/high16 v3, 0x42400000    # 48.0f

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v3

    int-to-float v3, v3

    sub-float/2addr v0, v3

    invoke-virtual {v1, v0}, Landroid/widget/ImageView;->setTranslationX(F)V

    add-int/lit8 v2, v2, 0x1

    const/4 v0, 0x3

    const/4 v3, 0x0

    goto :goto_a

    .line 16368
    :cond_31
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    const v20, 0x3e99999a    # 0.3f

    const/high16 v27, 0x41f00000    # 30.0f

    if-ne v0, v1, :cond_3d

    .line 16372
    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    if-nez v0, :cond_32

    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpg-float v1, v14, v0

    if-gez v1, :cond_32

    sub-float/2addr v0, v14

    int-to-float v1, v8

    div-float/2addr v0, v1

    const/high16 v1, 0x3f800000    # 1.0f

    .line 16373
    invoke-static {v1, v0}, Ljava/lang/Math;->min(FF)F

    move-result v2

    sub-float v0, v1, v2

    mul-float v0, v0, v20

    neg-int v1, v8

    .line 16375
    invoke-static/range {v27 .. v27}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v21

    const/16 v17, 0x2

    div-int/lit8 v21, v21, 0x2

    sub-int v1, v1, v21

    int-to-float v1, v1

    move/from16 v21, v0

    move v0, v1

    goto :goto_c

    :cond_32
    move v0, v14

    const/high16 v2, 0x3f800000    # 1.0f

    const/16 v21, 0x0

    .line 16378
    :goto_c
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->hasBitmapImage()Z

    move-result v1

    if-eqz v1, :cond_3b

    .line 16379
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 16380
    div-int/lit8 v1, v8, 0x2

    int-to-float v1, v1

    div-int/lit8 v3, v4, 0x2

    int-to-float v3, v3

    invoke-virtual {v11, v1, v3}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16381
    invoke-static/range {v27 .. v27}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v1

    const/16 v17, 0x2

    div-int/lit8 v1, v1, 0x2

    add-int/2addr v1, v8

    int-to-float v1, v1

    add-float/2addr v1, v0

    const/4 v3, 0x0

    invoke-virtual {v11, v1, v3}, Landroid/graphics/Canvas;->translate(FF)V

    const/high16 v18, 0x3f800000    # 1.0f

    sub-float v1, v18, v21

    .line 16382
    invoke-virtual {v11, v1, v1}, Landroid/graphics/Canvas;->scale(FF)V

    .line 16383
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v3

    .line 16384
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v1

    .line 16385
    iget-boolean v5, v10, Lorg/telegram/ui/PhotoViewer;->rightImageIsVideo:Z

    if-nez v5, :cond_33

    iget-object v5, v10, Lorg/telegram/ui/PhotoViewer;->rightCropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v5, :cond_33

    iget-object v5, v10, Lorg/telegram/ui/PhotoViewer;->rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v5}, Lorg/telegram/ui/Components/Crop/CropTransform;->hasViewTransform()Z

    move-result v5

    if-eqz v5, :cond_33

    const/high16 v24, 0x3f800000    # 1.0f

    .line 16386
    iget-object v5, v10, Lorg/telegram/ui/PhotoViewer;->rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    move-wide/from16 v28, v6

    iget-object v7, v10, Lorg/telegram/ui/PhotoViewer;->rightCropState:Lorg/telegram/messenger/MediaController$CropState;

    move v6, v1

    move-object/from16 v1, p0

    move/from16 v30, v2

    move-object/from16 v2, p1

    move/from16 v31, v3

    move v3, v8

    move/from16 v32, v4

    move-object/from16 v16, v5

    move/from16 v5, v31

    move/from16 v19, v6

    move-wide/from16 v34, v28

    move-object/from16 v22, v7

    move/from16 v7, v24

    move/from16 v36, v8

    move-object/from16 v8, v16

    move/from16 v16, v13

    move/from16 v17, v15

    const/4 v15, 0x2

    move v13, v9

    move-object/from16 v9, v22

    invoke-direct/range {v1 .. v9}, Lorg/telegram/ui/PhotoViewer;->applyCrop(Landroid/graphics/Canvas;IIIIFLorg/telegram/ui/Components/Crop/CropTransform;Lorg/telegram/messenger/MediaController$CropState;)[I

    move/from16 v9, v36

    goto :goto_d

    :cond_33
    move/from16 v19, v1

    move/from16 v30, v2

    move/from16 v31, v3

    move/from16 v32, v4

    move-wide/from16 v34, v6

    move/from16 v16, v13

    move/from16 v17, v15

    const/4 v15, 0x2

    move v13, v9

    move v9, v8

    :goto_d
    int-to-float v1, v9

    move/from16 v2, v31

    int-to-float v3, v2

    div-float/2addr v1, v3

    move/from16 v8, v32

    int-to-float v4, v8

    move/from16 v5, v19

    int-to-float v6, v5

    div-float/2addr v4, v6

    .line 16391
    invoke-static {v1, v4}, Ljava/lang/Math;->min(FF)F

    move-result v1

    mul-float v3, v3, v1

    float-to-int v3, v3

    mul-float v6, v6, v1

    float-to-int v4, v6

    .line 16396
    iget-object v6, v10, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v6}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v6

    if-nez v6, :cond_36

    .line 16397
    iget v6, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v7, 0x1

    if-eq v6, v7, :cond_35

    iget v6, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v6, v7, :cond_34

    goto :goto_e

    .line 16400
    :cond_34
    iget-object v6, v10, Lorg/telegram/ui/PhotoViewer;->rightCropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v6, :cond_36

    iget-boolean v6, v6, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v6, :cond_36

    const/4 v6, 0x1

    goto :goto_f

    .line 16398
    :cond_35
    :goto_e
    iget-object v6, v10, Lorg/telegram/ui/PhotoViewer;->rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v6}, Lorg/telegram/ui/Components/Crop/CropTransform;->isMirrored()Z

    move-result v6

    goto :goto_f

    :cond_36
    const/4 v6, 0x0

    :goto_f
    if-eqz v6, :cond_37

    const/high16 v6, 0x3f800000    # 1.0f

    const/high16 v7, -0x40800000    # -1.0f

    .line 16404
    invoke-virtual {v11, v7, v6}, Landroid/graphics/Canvas;->scale(FF)V

    goto :goto_10

    :cond_37
    const/high16 v6, 0x3f800000    # 1.0f

    .line 16407
    :goto_10
    iget-object v7, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    move/from16 v6, v30

    invoke-virtual {v7, v6}, Lorg/telegram/messenger/ImageReceiver;->setAlpha(F)V

    .line 16408
    iget-object v7, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    move/from16 v32, v8

    neg-int v8, v3

    div-int/2addr v8, v15

    move/from16 v18, v14

    int-to-float v14, v8

    move/from16 v36, v9

    neg-int v9, v4

    div-int/2addr v9, v15

    int-to-float v15, v9

    move/from16 v19, v0

    int-to-float v0, v3

    move/from16 v29, v12

    int-to-float v12, v4

    invoke-virtual {v7, v14, v15, v0, v12}, Lorg/telegram/messenger/ImageReceiver;->setImageCoords(FFFF)V

    .line 16409
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v11}, Lorg/telegram/messenger/ImageReceiver;->draw(Landroid/graphics/Canvas;)Z

    .line 16411
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    if-eqz v0, :cond_3a

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v0

    if-nez v0, :cond_3a

    const/4 v7, 0x2

    .line 16412
    div-int/2addr v3, v7

    div-int/2addr v4, v7

    invoke-virtual {v11, v8, v9, v3, v4}, Landroid/graphics/Canvas;->clipRect(IIII)Z

    .line 16413
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v0

    if-ne v0, v2, :cond_39

    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result v0

    if-eq v0, v5, :cond_38

    goto :goto_11

    :cond_38
    const/high16 v12, 0x40000000    # 2.0f

    const/4 v14, 0x0

    goto :goto_12

    .line 16414
    :cond_39
    :goto_11
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    const/high16 v12, 0x40000000    # 2.0f

    invoke-static {v2, v12}, Landroid/view/View$MeasureSpec;->makeMeasureSpec(II)I

    move-result v3

    invoke-static {v5, v12}, Landroid/view/View$MeasureSpec;->makeMeasureSpec(II)I

    move-result v4

    invoke-virtual {v0, v3, v4}, Landroid/widget/FrameLayout;->measure(II)V

    .line 16415
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    const/4 v14, 0x0

    invoke-virtual {v0, v14, v14, v2, v5}, Landroid/widget/FrameLayout;->layout(IIII)V

    .line 16417
    :goto_12
    invoke-virtual {v11, v1, v1}, Landroid/graphics/Canvas;->scale(FF)V

    neg-int v0, v2

    const/4 v1, 0x2

    .line 16418
    div-int/2addr v0, v1

    int-to-float v0, v0

    neg-int v2, v5

    div-int/2addr v2, v1

    int-to-float v1, v2

    invoke-virtual {v11, v0, v1}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16419
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    const/high16 v1, 0x3f800000    # 1.0f

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/PaintingOverlay;->setAlpha(F)V

    .line 16420
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v0, v11}, Landroid/widget/FrameLayout;->draw(Landroid/graphics/Canvas;)V

    goto :goto_13

    :cond_3a
    const/high16 v12, 0x40000000    # 2.0f

    const/4 v14, 0x0

    .line 16423
    :goto_13
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    goto :goto_14

    :cond_3b
    move/from16 v19, v0

    move/from16 v32, v4

    move-wide/from16 v34, v6

    move/from16 v36, v8

    move/from16 v29, v12

    move/from16 v16, v13

    move/from16 v18, v14

    move/from16 v17, v15

    const/high16 v12, 0x40000000    # 2.0f

    const/4 v14, 0x0

    move v6, v2

    move v13, v9

    .line 16425
    :goto_14
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    neg-float v1, v6

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/GroupedPhotosListView;->setMoveProgress(F)V

    .line 16427
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    div-float v9, v13, v29

    move/from16 v1, v19

    .line 16428
    invoke-virtual {v11, v1, v9}, Landroid/graphics/Canvas;->translate(FF)V

    move/from16 v0, v36

    int-to-float v1, v0

    .line 16429
    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/high16 v3, 0x3f800000    # 1.0f

    add-float/2addr v2, v3

    mul-float v1, v1, v2

    invoke-static/range {v27 .. v27}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v2

    int-to-float v2, v2

    add-float/2addr v1, v2

    const/high16 v2, 0x40000000    # 2.0f

    div-float/2addr v1, v2

    neg-float v2, v13

    div-float v2, v2, v29

    invoke-virtual {v11, v1, v2}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16430
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    const/4 v2, 0x1

    aget-object v1, v1, v2

    sub-float v8, v3, v21

    invoke-virtual {v1, v8}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setScale(F)V

    .line 16431
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v1, v1, v2

    invoke-virtual {v1, v6}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setAlpha(F)V

    .line 16432
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v1, v1, v2

    invoke-virtual {v1, v11}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->onDraw(Landroid/graphics/Canvas;)V

    .line 16434
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-eqz v1, :cond_3c

    .line 16435
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v1, v1, v2

    invoke-virtual {v1, v6}, Landroid/widget/ImageView;->setAlpha(F)V

    .line 16438
    :cond_3c
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    goto :goto_15

    :cond_3d
    move/from16 v32, v4

    move-wide/from16 v34, v6

    move v0, v8

    move/from16 v29, v12

    move/from16 v16, v13

    move/from16 v18, v14

    move/from16 v17, v15

    const/4 v2, 0x1

    const/high16 v12, 0x40000000    # 2.0f

    const/4 v14, 0x0

    move v13, v9

    .line 16440
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-eqz v1, :cond_3e

    .line 16441
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v1, v1, v2

    const/4 v2, 0x0

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setAlpha(F)V

    .line 16448
    :cond_3e
    :goto_15
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    if-nez v1, :cond_3f

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpl-float v2, v18, v1

    if-lez v2, :cond_3f

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v2, :cond_3f

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v3, 0x1

    if-eq v2, v3, :cond_3f

    sub-float v1, v18, v1

    int-to-float v2, v0

    div-float/2addr v1, v2

    const/high16 v2, 0x3f800000    # 1.0f

    .line 16449
    invoke-static {v2, v1}, Ljava/lang/Math;->min(FF)F

    move-result v1

    mul-float v3, v1, v20

    sub-float v8, v2, v1

    .line 16452
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->maxX:F

    move v15, v8

    move v8, v1

    goto :goto_16

    :cond_3f
    move/from16 v8, v18

    const/4 v3, 0x0

    const/high16 v15, 0x3f800000    # 1.0f

    .line 16454
    :goto_16
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    if-eqz v1, :cond_40

    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    if-eqz v1, :cond_40

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v1

    if-nez v1, :cond_40

    const/4 v9, 0x1

    goto :goto_17

    :cond_40
    const/4 v9, 0x0

    .line 16455
    :goto_17
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->hasBitmapImage()Z

    move-result v1

    if-nez v1, :cond_42

    if-eqz v9, :cond_41

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    if-eqz v1, :cond_41

    goto :goto_18

    :cond_41
    move/from16 v36, v0

    move/from16 v30, v8

    move/from16 v17, v13

    move v0, v15

    goto/16 :goto_41

    .line 16456
    :cond_42
    :goto_18
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 16457
    div-int/lit8 v1, v0, 0x2

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getAdditionX()I

    move-result v2

    add-int/2addr v1, v2

    int-to-float v1, v1

    div-int/lit8 v4, v32, 0x2

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getAdditionY()I

    move-result v2

    add-int/2addr v4, v2

    int-to-float v2, v4

    invoke-virtual {v11, v1, v2}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16458
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v2, 0x3

    if-eq v1, v2, :cond_43

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->currentPanTranslationY:F

    goto :goto_19

    :cond_43
    const/4 v1, 0x0

    :goto_19
    add-float/2addr v1, v13

    invoke-virtual {v11, v8, v1}, Landroid/graphics/Canvas;->translate(FF)V

    sub-float v7, v29, v3

    .line 16459
    invoke-virtual {v11, v7, v7}, Landroid/graphics/Canvas;->scale(FF)V

    move/from16 v1, v17

    .line 16460
    invoke-virtual {v11, v1}, Landroid/graphics/Canvas;->rotate(F)V

    .line 16461
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v1, v2, :cond_45

    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v1, :cond_45

    const/4 v1, 0x1

    .line 16462
    invoke-direct {v10, v1, v14}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(ZI)I

    move-result v2

    .line 16463
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    sget-object v3, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v3, v3, Landroid/graphics/Point;->y:I

    sget v4, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    add-int/2addr v3, v4

    sub-int/2addr v3, v2

    invoke-static {v3}, Ljava/lang/Math;->abs(I)I

    move-result v3

    const/high16 v4, 0x41a00000    # 20.0f

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v4

    if-ge v3, v4, :cond_44

    const/4 v4, 0x1

    goto :goto_1a

    :cond_44
    const/4 v4, 0x0

    :goto_1a
    invoke-virtual {v1, v4}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getEmojiPadding(Z)I

    move-result v1

    sub-int/2addr v2, v1

    .line 16464
    invoke-direct {v10, v14, v14}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(ZI)I

    move-result v1

    sub-int/2addr v2, v1

    int-to-float v1, v2

    const/high16 v2, 0x40000000    # 2.0f

    div-float/2addr v1, v2

    .line 16465
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->adjustPanLayoutHelperProgress()F

    move-result v2

    const/high16 v3, 0x3f800000    # 1.0f

    sub-float v2, v3, v2

    mul-float v1, v1, v2

    const/4 v2, 0x0

    invoke-virtual {v11, v2, v1}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16469
    :cond_45
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    if-nez v1, :cond_4d

    if-eqz v9, :cond_47

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    if-nez v1, :cond_46

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    if-eqz v1, :cond_47

    :cond_46
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeStarted:Z

    if-eqz v1, :cond_47

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    const/high16 v2, 0x3f800000    # 1.0f

    cmpl-float v1, v1, v2

    if-eqz v1, :cond_4d

    .line 16470
    :cond_47
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmap:Landroid/graphics/Bitmap;

    if-eqz v1, :cond_4a

    iget-boolean v2, v10, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v2, :cond_4a

    .line 16471
    invoke-virtual {v1}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v1

    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmap:Landroid/graphics/Bitmap;

    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v2

    neg-int v3, v1

    const/4 v4, 0x2

    div-int/lit8 v6, v3, 0x2

    neg-int v3, v2

    div-int/lit8 v5, v3, 0x2

    const/high16 v17, 0x3f800000    # 1.0f

    cmpg-float v3, v15, v17

    if-gez v3, :cond_48

    int-to-float v3, v6

    int-to-float v4, v5

    add-int/2addr v1, v6

    int-to-float v1, v1

    add-int/2addr v2, v5

    int-to-float v2, v2

    mul-float v12, v15, v26

    float-to-int v12, v12

    const/16 v19, 0x1f

    move/from16 v20, v1

    move-object/from16 v1, p1

    move/from16 v21, v2

    move v2, v3

    move v3, v4

    move/from16 v4, v20

    move v14, v5

    move/from16 v5, v21

    move/from16 v30, v8

    move/from16 v17, v13

    const/high16 v13, 0x3f800000    # 1.0f

    move v8, v6

    move v6, v12

    move v12, v7

    move/from16 v7, v19

    .line 16473
    invoke-virtual/range {v1 .. v7}, Landroid/graphics/Canvas;->saveLayerAlpha(FFFFII)I

    goto :goto_1b

    :cond_48
    move v14, v5

    move v12, v7

    move/from16 v30, v8

    move/from16 v17, v13

    const/high16 v13, 0x3f800000    # 1.0f

    move v8, v6

    .line 16475
    :goto_1b
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmap:Landroid/graphics/Bitmap;

    int-to-float v2, v8

    int-to-float v3, v14

    iget-object v4, v10, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmapPaint:Landroid/graphics/Paint;

    invoke-virtual {v11, v1, v2, v3, v4}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;FFLandroid/graphics/Paint;)V

    cmpg-float v1, v15, v13

    if-gez v1, :cond_49

    .line 16477
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    :cond_49
    move/from16 v8, v32

    goto :goto_1d

    :cond_4a
    move v12, v7

    move/from16 v30, v8

    move/from16 v17, v13

    const/high16 v13, 0x3f800000    # 1.0f

    .line 16480
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1, v15}, Lorg/telegram/messenger/ImageReceiver;->setAlpha(F)V

    .line 16481
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v1

    .line 16482
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v2}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v2

    .line 16484
    iget-boolean v3, v10, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v3, :cond_4b

    iget v3, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v3, :cond_4b

    iget v3, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v4, 0x1

    if-ne v3, v4, :cond_4b

    const/4 v3, 0x0

    .line 16485
    invoke-direct {v10, v3}, Lorg/telegram/ui/PhotoViewer;->getCropFillScale(Z)F

    move-result v4

    move/from16 v8, v32

    goto :goto_1c

    :cond_4b
    int-to-float v3, v0

    int-to-float v4, v1

    div-float/2addr v3, v4

    move/from16 v8, v32

    int-to-float v4, v8

    int-to-float v5, v2

    div-float/2addr v4, v5

    .line 16487
    invoke-static {v3, v4}, Ljava/lang/Math;->min(FF)F

    move-result v4

    :goto_1c
    int-to-float v1, v1

    mul-float v1, v1, v4

    float-to-int v1, v1

    int-to-float v2, v2

    mul-float v2, v2, v4

    float-to-int v2, v2

    .line 16491
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    neg-int v4, v1

    const/4 v5, 0x2

    div-int/2addr v4, v5

    int-to-float v4, v4

    neg-int v6, v2

    div-int/2addr v6, v5

    int-to-float v5, v6

    int-to-float v1, v1

    int-to-float v2, v2

    invoke-virtual {v3, v4, v5, v1, v2}, Lorg/telegram/messenger/ImageReceiver;->setImageCoords(FFFF)V

    .line 16492
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v1, :cond_4c

    .line 16493
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1, v11}, Lorg/telegram/messenger/ImageReceiver;->draw(Landroid/graphics/Canvas;)Z

    goto :goto_1d

    :cond_4c
    const/4 v7, 0x1

    goto :goto_1e

    :cond_4d
    move v12, v7

    move/from16 v30, v8

    move/from16 v17, v13

    move/from16 v8, v32

    const/high16 v13, 0x3f800000    # 1.0f

    :goto_1d
    const/4 v7, 0x0

    :goto_1e
    if-eqz v9, :cond_4f

    .line 16502
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    if-eqz v1, :cond_4f

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    if-eqz v1, :cond_4f

    .line 16503
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v1, :cond_4e

    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    goto :goto_1f

    :cond_4e
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    .line 16504
    :goto_1f
    invoke-virtual {v1}, Landroid/view/View;->getMeasuredWidth()I

    move-result v2

    .line 16505
    invoke-virtual {v1}, Landroid/view/View;->getMeasuredHeight()I

    move-result v1

    goto :goto_20

    .line 16507
    :cond_4f
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v2

    .line 16508
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v1

    :goto_20
    int-to-float v3, v0

    int-to-float v4, v2

    div-float v5, v3, v4

    int-to-float v6, v8

    int-to-float v14, v1

    div-float v13, v6, v14

    move/from16 v19, v2

    .line 16511
    invoke-static {v5, v13}, Ljava/lang/Math;->min(FF)F

    move-result v2

    move/from16 v20, v1

    mul-float v1, v4, v2

    float-to-int v1, v1

    move/from16 v21, v13

    mul-float v13, v14, v2

    float-to-int v13, v13

    move/from16 v32, v8

    .line 16517
    iget-object v8, v10, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v8}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v8

    move/from16 v36, v0

    if-nez v8, :cond_55

    .line 16518
    iget v8, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v0, 0x3

    move/from16 v33, v9

    if-eq v8, v0, :cond_53

    iget v9, v10, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-ne v9, v0, :cond_50

    goto :goto_22

    .line 16520
    :cond_50
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    move/from16 v37, v13

    const/4 v13, 0x1

    if-ne v0, v13, :cond_51

    if-eqz v9, :cond_54

    const/4 v0, 0x3

    if-eq v8, v0, :cond_56

    const/4 v9, 0x2

    if-eq v8, v9, :cond_56

    goto :goto_23

    .line 16523
    :cond_51
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    if-eqz v0, :cond_52

    const/4 v0, -0x1

    if-ne v9, v0, :cond_54

    goto :goto_21

    :cond_52
    const/4 v0, -0x1

    :goto_21
    if-eqz v8, :cond_54

    const/4 v13, 0x1

    if-eq v8, v13, :cond_54

    if-eq v9, v0, :cond_56

    goto :goto_23

    :cond_53
    :goto_22
    move/from16 v37, v13

    :cond_54
    :goto_23
    const/4 v0, 0x1

    goto :goto_24

    :cond_55
    move/from16 v33, v9

    move/from16 v37, v13

    :cond_56
    const/4 v0, 0x0

    :goto_24
    if-eqz v0, :cond_76

    .line 16531
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v0

    const/16 v9, 0x5a

    if-eq v0, v9, :cond_58

    const/16 v9, 0x10e

    if-ne v0, v9, :cond_57

    goto :goto_25

    :cond_57
    move/from16 v9, v19

    move/from16 v13, v20

    goto :goto_26

    :cond_58
    :goto_25
    move/from16 v13, v19

    move/from16 v9, v20

    .line 16542
    :goto_26
    iget v8, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    move/from16 v38, v1

    const/4 v1, 0x1

    if-eq v8, v1, :cond_5b

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v8, 0x3

    if-eq v1, v8, :cond_59

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-ne v1, v8, :cond_5b

    :cond_59
    move/from16 v39, v15

    :cond_5a
    :goto_27
    const/high16 v8, 0x3f800000    # 1.0f

    goto :goto_28

    .line 16544
    :cond_5b
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    if-eqz v1, :cond_5f

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    const/4 v8, -0x1

    if-eq v1, v8, :cond_5f

    .line 16545
    iget v8, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    move/from16 v39, v15

    const/4 v15, 0x1

    if-eq v8, v15, :cond_5a

    if-eq v1, v15, :cond_5a

    const/4 v15, 0x2

    if-eq v8, v15, :cond_5c

    const/4 v15, 0x3

    if-ne v8, v15, :cond_5d

    :cond_5c
    const/4 v8, -0x1

    if-ne v1, v8, :cond_5d

    goto :goto_27

    :cond_5d
    if-nez v1, :cond_5e

    .line 16548
    iget v8, v10, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    goto :goto_28

    .line 16550
    :cond_5e
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    const/high16 v8, 0x3f800000    # 1.0f

    sub-float v1, v8, v1

    move v8, v1

    goto :goto_28

    :cond_5f
    move/from16 v39, v15

    .line 16553
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v8, 0x2

    if-eq v1, v8, :cond_60

    const/4 v8, 0x3

    if-ne v1, v8, :cond_5a

    :cond_60
    const/4 v8, 0x0

    .line 16555
    :goto_28
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPw()F

    move-result v1

    .line 16556
    iget-object v15, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v15}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPh()F

    move-result v15

    int-to-float v9, v9

    const/high16 v19, 0x3f800000    # 1.0f

    sub-float v20, v19, v1

    sub-float v22, v19, v8

    mul-float v20, v20, v22

    add-float v1, v1, v20

    mul-float v1, v1, v9

    float-to-int v1, v1

    int-to-float v13, v13

    sub-float v20, v19, v15

    mul-float v20, v20, v22

    add-float v15, v15, v20

    mul-float v15, v15, v13

    float-to-int v15, v15

    move/from16 v40, v7

    int-to-float v7, v1

    div-float v19, v3, v7

    move/from16 v20, v1

    int-to-float v1, v15

    mul-float v23, v19, v1

    cmpl-float v23, v23, v6

    if-lez v23, :cond_61

    div-float v19, v6, v1

    :cond_61
    move/from16 v23, v15

    .line 16563
    iget v15, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    move/from16 v24, v8

    const/4 v8, 0x1

    if-eq v15, v8, :cond_64

    iget v15, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v15, v8, :cond_62

    iget v8, v10, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-nez v8, :cond_64

    :cond_62
    iget-object v8, v10, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v8, v8, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v8, :cond_64

    mul-float v7, v7, v19

    mul-float v1, v1, v19

    mul-float v8, v5, v14

    cmpl-float v8, v8, v6

    if-lez v8, :cond_63

    move/from16 v5, v21

    :cond_63
    mul-float v4, v4, v5

    div-float/2addr v4, v12

    mul-float v14, v14, v5

    div-float/2addr v14, v12

    sub-float/2addr v4, v7

    mul-float v4, v4, v22

    add-float/2addr v7, v4

    sub-float/2addr v14, v1

    mul-float v14, v14, v22

    add-float/2addr v1, v14

    neg-float v4, v7

    const/high16 v5, 0x40000000    # 2.0f

    div-float/2addr v4, v5

    neg-float v8, v1

    div-float/2addr v8, v5

    div-float/2addr v7, v5

    div-float/2addr v1, v5

    .line 16576
    invoke-virtual {v11, v4, v8, v7, v1}, Landroid/graphics/Canvas;->clipRect(FFFF)Z

    .line 16578
    :cond_64
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v4, 0x1

    if-eq v1, v4, :cond_66

    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropTransform;->hasViewTransform()Z

    move-result v1

    if-eqz v1, :cond_65

    goto :goto_29

    .line 16626
    :cond_65
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v0, :cond_75

    const/high16 v1, 0x3f800000    # 1.0f

    .line 16627
    invoke-virtual {v0, v1}, Landroid/view/TextureView;->setScaleX(F)V

    .line 16628
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-virtual {v0, v1}, Landroid/view/TextureView;->setScaleY(F)V

    .line 16629
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v0, :cond_75

    .line 16630
    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setScaleX(F)V

    .line 16631
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setScaleY(F)V

    goto/16 :goto_31

    .line 16580
    :cond_66
    :goto_29
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v4, 0x1

    if-eq v1, v4, :cond_6b

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v1, v4, :cond_67

    goto :goto_2c

    .line 16602
    :cond_67
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v1, :cond_69

    .line 16603
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v3, v3, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v3, :cond_68

    iget-boolean v3, v3, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v3, :cond_68

    const/high16 v8, -0x40800000    # -1.0f

    goto :goto_2a

    :cond_68
    const/high16 v8, 0x3f800000    # 1.0f

    :goto_2a
    invoke-virtual {v1, v8}, Landroid/view/TextureView;->setScaleX(F)V

    .line 16604
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v1, :cond_69

    .line 16605
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-virtual {v3}, Landroid/view/TextureView;->getScaleX()F

    move-result v3

    invoke-virtual {v1, v3}, Landroid/widget/ImageView;->setScaleX(F)V

    .line 16608
    :cond_69
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v1, v1, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v1, :cond_6a

    iget v8, v1, Lorg/telegram/messenger/MediaController$CropState;->cropScale:F

    const/high16 v1, 0x3f800000    # 1.0f

    goto :goto_2b

    :cond_6a
    const/high16 v1, 0x3f800000    # 1.0f

    const/high16 v8, 0x3f800000    # 1.0f

    :goto_2b
    sub-float v3, v8, v1

    mul-float v3, v3, v22

    add-float/2addr v3, v1

    div-float v1, v19, v2

    div-float/2addr v1, v3

    mul-float v8, v8, v1

    goto :goto_30

    .line 16581
    :cond_6b
    :goto_2c
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v1, :cond_6d

    .line 16582
    iget-object v4, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/Crop/CropTransform;->isMirrored()Z

    move-result v4

    if-eqz v4, :cond_6c

    const/high16 v8, -0x40800000    # -1.0f

    goto :goto_2d

    :cond_6c
    const/high16 v8, 0x3f800000    # 1.0f

    :goto_2d
    invoke-virtual {v1, v8}, Landroid/view/TextureView;->setScaleX(F)V

    .line 16583
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v1, :cond_6d

    .line 16584
    iget-object v4, v10, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-virtual {v4}, Landroid/view/TextureView;->getScaleX()F

    move-result v4

    invoke-virtual {v1, v4}, Landroid/widget/ImageView;->setScaleX(F)V

    .line 16587
    :cond_6d
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropTransform;->getTrueCropScale()F

    move-result v1

    const/high16 v4, 0x3f800000    # 1.0f

    sub-float/2addr v1, v4

    mul-float v1, v1, v22

    add-float/2addr v1, v4

    .line 16588
    iget-object v4, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/Crop/CropTransform;->getScale()F

    move-result v4

    div-float/2addr v4, v1

    div-float/2addr v3, v9

    mul-float v1, v3, v13

    cmpl-float v1, v1, v6

    if-lez v1, :cond_6e

    div-float v3, v6, v13

    :cond_6e
    div-float/2addr v3, v2

    mul-float v4, v4, v3

    .line 16594
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v3, 0x1

    if-ne v1, v3, :cond_71

    .line 16595
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v3, 0x3

    if-eq v1, v3, :cond_70

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-ne v1, v3, :cond_6f

    goto :goto_2e

    :cond_6f
    if-nez v1, :cond_71

    .line 16598
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropTransform;->getMinScale()F

    move-result v1

    goto :goto_2f

    .line 16596
    :cond_70
    :goto_2e
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropTransform;->getMinScale()F

    move-result v1

    const/high16 v3, 0x3f800000    # 1.0f

    sub-float/2addr v1, v3

    mul-float v1, v1, v22

    add-float/2addr v1, v3

    :goto_2f
    div-float/2addr v4, v1

    :cond_71
    move v8, v4

    .line 16613
    :goto_30
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropAreaX()F

    move-result v1

    mul-float v1, v1, v24

    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropAreaY()F

    move-result v3

    mul-float v3, v3, v24

    invoke-virtual {v11, v1, v3}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16614
    invoke-virtual {v11, v8, v8}, Landroid/graphics/Canvas;->scale(FF)V

    .line 16615
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPx()F

    move-result v1

    mul-float v1, v1, v9

    mul-float v1, v1, v2

    mul-float v1, v1, v24

    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPy()F

    move-result v3

    mul-float v3, v3, v13

    mul-float v3, v3, v2

    mul-float v3, v3, v24

    invoke-virtual {v11, v1, v3}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16616
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropTransform;->getRotation()F

    move-result v1

    int-to-float v0, v0

    add-float/2addr v1, v0

    const/high16 v0, 0x43340000    # 180.0f

    cmpl-float v3, v1, v0

    if-lez v3, :cond_72

    const/high16 v0, 0x43b40000    # 360.0f

    sub-float/2addr v1, v0

    .line 16620
    :cond_72
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v3, 0x1

    if-ne v0, v3, :cond_74

    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v3, 0x3

    if-eq v0, v3, :cond_73

    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-ne v0, v3, :cond_74

    .line 16621
    :cond_73
    invoke-virtual {v11, v1}, Landroid/graphics/Canvas;->rotate(F)V

    goto :goto_31

    :cond_74
    mul-float v1, v1, v24

    .line 16623
    invoke-virtual {v11, v1}, Landroid/graphics/Canvas;->rotate(F)V

    :cond_75
    :goto_31
    move/from16 v8, v19

    move/from16 v0, v20

    move/from16 v1, v23

    goto :goto_32

    :cond_76
    move/from16 v38, v1

    move/from16 v40, v7

    move/from16 v39, v15

    move/from16 v0, v19

    move/from16 v1, v20

    const/high16 v8, 0x3f800000    # 1.0f

    .line 16636
    :goto_32
    iget v3, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v4, 0x3

    if-ne v3, v4, :cond_78

    .line 16637
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    iget v4, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v5, 0x1

    if-ne v4, v5, :cond_77

    sget v4, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    int-to-float v4, v4

    const/high16 v5, 0x40000000    # 2.0f

    div-float/2addr v4, v5

    goto :goto_33

    :cond_77
    const/4 v4, 0x0

    :goto_33
    invoke-virtual {v3}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getRenderView()Lorg/telegram/ui/Components/Paint/RenderView;

    move-result-object v5

    invoke-virtual {v5}, Landroid/view/TextureView;->getScaleX()F

    move-result v5

    mul-float v4, v4, v5

    add-float v22, v17, v4

    int-to-float v0, v0

    mul-float v23, v0, v8

    int-to-float v0, v1

    mul-float v24, v0, v8

    move-object/from16 v19, v3

    move/from16 v20, v29

    move/from16 v21, v18

    invoke-virtual/range {v19 .. v24}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->setTransform(FFFFF)V

    :cond_78
    if-eqz v40, :cond_79

    .line 16640
    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-nez v0, :cond_79

    move/from16 v7, v16

    move/from16 v0, v39

    .line 16641
    invoke-direct {v10, v11, v7, v0}, Lorg/telegram/ui/PhotoViewer;->drawCenterImageInternal(Landroid/graphics/Canvas;FF)V

    goto :goto_34

    :cond_79
    move/from16 v7, v16

    move/from16 v0, v39

    .line 16643
    :goto_34
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    const/4 v1, 0x0

    cmpl-float v3, v7, v1

    if-lez v3, :cond_7a

    .line 16646
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    const/high16 v3, 0x40000000    # 2.0f

    mul-float v13, v7, v3

    const/high16 v3, 0x3f800000    # 1.0f

    sub-float v8, v3, v13

    .line 16647
    invoke-virtual {v11, v8, v3}, Landroid/graphics/Canvas;->scale(FF)V

    mul-float v13, v7, v25

    sub-float v8, v3, v7

    mul-float v13, v13, v8

    const/high16 v3, 0x3e800000    # 0.25f

    mul-float v13, v13, v3

    .line 16648
    invoke-virtual {v11, v1, v13}, Landroid/graphics/Canvas;->skew(FF)V

    move/from16 v1, v38

    const/4 v8, 0x1

    goto :goto_35

    :cond_7a
    move/from16 v1, v38

    const/4 v8, 0x0

    :goto_35
    neg-int v3, v1

    const/4 v4, 0x2

    .line 16651
    div-int/2addr v3, v4

    int-to-float v9, v3

    move/from16 v3, v37

    neg-int v5, v3

    div-int/2addr v5, v4

    int-to-float v12, v5

    invoke-virtual {v11, v9, v12}, Landroid/graphics/Canvas;->translate(FF)V

    if-nez v33, :cond_7b

    .line 16652
    iget-object v4, v10, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v4

    if-nez v4, :cond_7c

    .line 16653
    :cond_7b
    invoke-virtual {v11, v2, v2}, Landroid/graphics/Canvas;->scale(FF)V

    :cond_7c
    if-eqz v33, :cond_8a

    .line 16656
    iget-boolean v4, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeStarted:Z

    if-nez v4, :cond_7f

    iget-boolean v4, v10, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v4, :cond_7e

    iget-boolean v4, v10, Lorg/telegram/ui/PhotoViewer;->firstFrameRendered:Z

    if-nez v4, :cond_7d

    goto :goto_37

    :cond_7d
    :goto_36
    const/4 v4, 0x1

    goto :goto_38

    :cond_7e
    :goto_37
    iget-boolean v4, v10, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    if-eqz v4, :cond_7f

    iget-boolean v4, v10, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    if-eqz v4, :cond_7f

    goto :goto_36

    .line 16657
    :goto_38
    iput-boolean v4, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeStarted:Z

    const/4 v4, 0x0

    .line 16658
    iput v4, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    .line 16659
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v4

    iput-wide v4, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlphaLastTime:J

    .line 16660
    iget-object v4, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    .line 16662
    :cond_7f
    iget-object v4, v10, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v4, :cond_80

    .line 16663
    iget v5, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    mul-float v15, v0, v5

    invoke-virtual {v4, v15}, Landroid/view/TextureView;->setAlpha(F)V

    .line 16665
    :cond_80
    iget-object v4, v10, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    instance-of v5, v4, Lorg/telegram/ui/Components/VideoEditTextureView;

    if-eqz v5, :cond_81

    .line 16666
    check-cast v4, Lorg/telegram/ui/Components/VideoEditTextureView;

    sub-int v5, v36, v1

    const/4 v6, 0x2

    .line 16667
    div-int/2addr v5, v6

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getAdditionX()I

    move-result v13

    add-int/2addr v5, v13

    int-to-float v5, v5

    add-float v5, v5, v30

    sub-int v13, v32, v3

    div-int/2addr v13, v6

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getAdditionY()I

    move-result v6

    add-int/2addr v13, v6

    int-to-float v6, v13

    add-float v6, v6, v17

    iget v13, v10, Lorg/telegram/ui/PhotoViewer;->currentPanTranslationY:F

    add-float/2addr v6, v13

    int-to-float v1, v1

    int-to-float v3, v3

    invoke-virtual {v4, v5, v6, v1, v3}, Lorg/telegram/ui/Components/VideoEditTextureView;->setViewRect(FFFF)V

    .line 16669
    :cond_81
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    if-eqz v1, :cond_82

    iget v3, v10, Lorg/telegram/ui/PhotoViewer;->waitingForDraw:I

    if-nez v3, :cond_82

    iget-boolean v3, v10, Lorg/telegram/ui/PhotoViewer;->changingTextureView:Z

    if-nez v3, :cond_82

    iget-boolean v3, v10, Lorg/telegram/ui/PhotoViewer;->switchingInlineMode:Z

    if-nez v3, :cond_82

    iget-boolean v3, v10, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    if-nez v3, :cond_82

    invoke-virtual {v1}, Landroid/view/SurfaceView;->getVisibility()I

    move-result v1

    if-eqz v1, :cond_82

    .line 16670
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    const/4 v3, 0x0

    invoke-virtual {v1, v3}, Landroid/view/SurfaceView;->setVisibility(I)V

    .line 16672
    :cond_82
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v1, :cond_83

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->firstFrameRendered:Z

    if-eqz v1, :cond_84

    .line 16673
    :cond_83
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v1, v11}, Landroid/widget/FrameLayout;->draw(Landroid/graphics/Canvas;)V

    .line 16675
    :cond_84
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v1, :cond_86

    const/high16 v1, 0x3f800000    # 1.0f

    cmpl-float v3, v0, v1

    if-eqz v3, :cond_86

    .line 16676
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->surfaceBlackoutPaint:Landroid/graphics/Paint;

    if-nez v3, :cond_85

    .line 16677
    new-instance v3, Landroid/graphics/Paint;

    invoke-direct {v3}, Landroid/graphics/Paint;-><init>()V

    iput-object v3, v10, Lorg/telegram/ui/PhotoViewer;->surfaceBlackoutPaint:Landroid/graphics/Paint;

    .line 16679
    :cond_85
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->surfaceBlackoutPaint:Landroid/graphics/Paint;

    sub-float v4, v1, v0

    mul-float v4, v4, v26

    float-to-int v4, v4

    invoke-virtual {v3, v4}, Landroid/graphics/Paint;->setAlpha(I)V

    const/high16 v3, -0x40800000    # -1.0f

    const/high16 v4, -0x40800000    # -1.0f

    .line 16680
    iget-object v5, v10, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v5}, Landroid/widget/FrameLayout;->getWidth()I

    move-result v5

    int-to-float v5, v5

    add-float/2addr v5, v1

    iget-object v6, v10, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v6

    int-to-float v6, v6

    add-float/2addr v6, v1

    iget-object v13, v10, Lorg/telegram/ui/PhotoViewer;->surfaceBlackoutPaint:Landroid/graphics/Paint;

    move-object/from16 v1, p1

    move v14, v2

    move v2, v3

    move v3, v4

    move v4, v5

    move v5, v6

    move-object v6, v13

    invoke-virtual/range {v1 .. v6}, Landroid/graphics/Canvas;->drawRect(FFFFLandroid/graphics/Paint;)V

    goto :goto_39

    :cond_86
    move v14, v2

    .line 16683
    :goto_39
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeStarted:Z

    if-eqz v1, :cond_88

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    const/high16 v2, 0x3f800000    # 1.0f

    cmpg-float v3, v1, v2

    if-gez v3, :cond_88

    move-wide/from16 v4, v34

    long-to-float v2, v4

    .line 16684
    iget-boolean v3, v10, Lorg/telegram/ui/PhotoViewer;->playerInjected:Z

    if-eqz v3, :cond_87

    const/high16 v3, 0x42c80000    # 100.0f

    goto :goto_3a

    :cond_87
    const/high16 v3, 0x43480000    # 200.0f

    :goto_3a
    div-float/2addr v2, v3

    add-float/2addr v1, v2

    iput v1, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    .line 16685
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->invalidate()V

    .line 16686
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->invalidateBlur()V

    .line 16687
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    const/high16 v2, 0x3f800000    # 1.0f

    cmpl-float v1, v1, v2

    if-lez v1, :cond_89

    .line 16688
    iput v2, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    goto :goto_3b

    :cond_88
    move-wide/from16 v4, v34

    .line 16691
    :cond_89
    :goto_3b
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v1, v0}, Lorg/telegram/ui/Components/PaintingOverlay;->setAlpha(F)V

    goto :goto_3c

    :cond_8a
    move v14, v2

    move-wide/from16 v4, v34

    :goto_3c
    if-eqz v8, :cond_8c

    .line 16694
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    .line 16695
    invoke-virtual {v11, v9, v12}, Landroid/graphics/Canvas;->translate(FF)V

    if-nez v33, :cond_8b

    .line 16696
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v1

    if-nez v1, :cond_8c

    .line 16697
    :cond_8b
    invoke-virtual {v11, v14, v14}, Landroid/graphics/Canvas;->scale(FF)V

    .line 16700
    :cond_8c
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v1

    if-nez v1, :cond_8e

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v1, :cond_8d

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v2, 0x2

    if-ne v1, v2, :cond_8d

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    const/4 v2, -0x1

    if-eq v1, v2, :cond_8e

    .line 16701
    :cond_8d
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v1

    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result v2

    const/4 v3, 0x0

    invoke-virtual {v11, v3, v3, v1, v2}, Landroid/graphics/Canvas;->clipRect(IIII)Z

    .line 16702
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v1, v11}, Landroid/widget/FrameLayout;->draw(Landroid/graphics/Canvas;)V

    .line 16704
    :cond_8e
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    if-eqz v40, :cond_8f

    .line 16706
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v1, :cond_8f

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    const/high16 v2, 0x3f800000    # 1.0f

    cmpl-float v3, v1, v2

    if-eqz v3, :cond_8f

    sub-float v8, v2, v1

    mul-float v8, v8, v0

    .line 16707
    invoke-direct {v10, v11, v7, v8}, Lorg/telegram/ui/PhotoViewer;->drawCenterImageInternal(Landroid/graphics/Canvas;FF)V

    .line 16709
    :cond_8f
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    const/4 v1, 0x0

    .line 16710
    :goto_3d
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->pressedDrawable:[Landroid/graphics/drawable/GradientDrawable;

    array-length v3, v2

    if-ge v1, v3, :cond_97

    .line 16711
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->drawPressedDrawable:[Z

    aget-boolean v3, v3, v1

    if-nez v3, :cond_90

    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->pressedDrawableAlpha:[F

    aget v3, v3, v1

    const/4 v6, 0x0

    cmpl-float v3, v3, v6

    if-eqz v3, :cond_92

    .line 16712
    :cond_90
    aget-object v2, v2, v1

    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->pressedDrawableAlpha:[F

    aget v3, v3, v1

    mul-float v3, v3, v26

    float-to-int v3, v3

    invoke-virtual {v2, v3}, Landroid/graphics/drawable/GradientDrawable;->setAlpha(I)V

    if-nez v1, :cond_91

    .line 16714
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->pressedDrawable:[Landroid/graphics/drawable/GradientDrawable;

    aget-object v2, v2, v1

    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v3

    div-int/lit8 v3, v3, 0x5

    iget-object v6, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result v6

    const/4 v7, 0x0

    invoke-virtual {v2, v7, v7, v3, v6}, Landroid/graphics/drawable/GradientDrawable;->setBounds(IIII)V

    goto :goto_3e

    .line 16716
    :cond_91
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->pressedDrawable:[Landroid/graphics/drawable/GradientDrawable;

    aget-object v2, v2, v1

    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v3

    iget-object v6, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v6

    div-int/lit8 v6, v6, 0x5

    sub-int/2addr v3, v6

    iget-object v6, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v6

    iget-object v7, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v7}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result v7

    const/4 v8, 0x0

    invoke-virtual {v2, v3, v8, v6, v7}, Landroid/graphics/drawable/GradientDrawable;->setBounds(IIII)V

    .line 16718
    :goto_3e
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->pressedDrawable:[Landroid/graphics/drawable/GradientDrawable;

    aget-object v2, v2, v1

    invoke-virtual {v2, v11}, Landroid/graphics/drawable/GradientDrawable;->draw(Landroid/graphics/Canvas;)V

    .line 16720
    :cond_92
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->drawPressedDrawable:[Z

    aget-boolean v2, v2, v1

    if-eqz v2, :cond_94

    .line 16721
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->pressedDrawableAlpha:[F

    aget v3, v2, v1

    const/high16 v6, 0x3f800000    # 1.0f

    cmpg-float v3, v3, v6

    if-gez v3, :cond_96

    .line 16722
    aget v3, v2, v1

    long-to-float v7, v4

    const/high16 v8, 0x43340000    # 180.0f

    div-float/2addr v7, v8

    add-float/2addr v3, v7

    aput v3, v2, v1

    .line 16723
    aget v3, v2, v1

    cmpl-float v3, v3, v6

    if-lez v3, :cond_93

    .line 16724
    aput v6, v2, v1

    .line 16726
    :cond_93
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->invalidate()V

    goto :goto_3f

    .line 16729
    :cond_94
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->pressedDrawableAlpha:[F

    aget v3, v2, v1

    const/4 v6, 0x0

    cmpl-float v3, v3, v6

    if-lez v3, :cond_96

    .line 16730
    aget v3, v2, v1

    long-to-float v7, v4

    const/high16 v8, 0x43340000    # 180.0f

    div-float/2addr v7, v8

    sub-float/2addr v3, v7

    aput v3, v2, v1

    .line 16731
    aget v3, v2, v1

    cmpg-float v3, v3, v6

    if-gez v3, :cond_95

    .line 16732
    aput v6, v2, v1

    .line 16734
    :cond_95
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->invalidate()V

    goto :goto_40

    :cond_96
    :goto_3f
    const/high16 v8, 0x43340000    # 180.0f

    :goto_40
    add-int/lit8 v1, v1, 0x1

    goto/16 :goto_3d

    :cond_97
    :goto_41
    move-object/from16 v1, p0

    move-object/from16 v2, p1

    move/from16 v3, v30

    move/from16 v4, v29

    move/from16 v5, v17

    move v6, v0

    .line 16739
    invoke-direct/range {v1 .. v6}, Lorg/telegram/ui/PhotoViewer;->drawProgress(Landroid/graphics/Canvas;FFFF)V

    .line 16741
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v1, v2, :cond_a2

    .line 16742
    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->hasBitmapImage()Z

    move-result v1

    if-eqz v1, :cond_a0

    .line 16743
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 16744
    div-int/lit8 v8, v36, 0x2

    int-to-float v1, v8

    div-int/lit8 v4, v32, 0x2

    int-to-float v2, v4

    invoke-virtual {v11, v1, v2}, Landroid/graphics/Canvas;->translate(FF)V

    move/from16 v9, v36

    int-to-float v12, v9

    .line 16745
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/high16 v2, 0x3f800000    # 1.0f

    add-float/2addr v1, v2

    mul-float v1, v1, v12

    invoke-static/range {v27 .. v27}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v2

    int-to-float v2, v2

    add-float/2addr v1, v2

    neg-float v1, v1

    const/high16 v2, 0x40000000    # 2.0f

    div-float/2addr v1, v2

    add-float v1, v1, v18

    const/4 v2, 0x0

    invoke-virtual {v11, v1, v2}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16746
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v13

    .line 16747
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v14

    .line 16748
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->leftImageIsVideo:Z

    if-nez v1, :cond_98

    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->leftCropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v1, :cond_98

    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropTransform;->hasViewTransform()Z

    move-result v1

    if-eqz v1, :cond_98

    .line 16749
    iget-object v8, v10, Lorg/telegram/ui/PhotoViewer;->leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    iget-object v15, v10, Lorg/telegram/ui/PhotoViewer;->leftCropState:Lorg/telegram/messenger/MediaController$CropState;

    move-object/from16 v1, p0

    move-object/from16 v2, p1

    move v3, v9

    move/from16 v4, v32

    move v5, v13

    move v6, v14

    move/from16 v7, v29

    move/from16 v39, v0

    move/from16 v0, v32

    move/from16 v41, v9

    move-object v9, v15

    invoke-direct/range {v1 .. v9}, Lorg/telegram/ui/PhotoViewer;->applyCrop(Landroid/graphics/Canvas;IIIIFLorg/telegram/ui/Components/Crop/CropTransform;Lorg/telegram/messenger/MediaController$CropState;)[I

    goto :goto_42

    :cond_98
    move/from16 v39, v0

    move/from16 v41, v9

    move/from16 v0, v32

    :goto_42
    int-to-float v1, v13

    div-float/2addr v12, v1

    int-to-float v0, v0

    int-to-float v2, v14

    div-float/2addr v0, v2

    .line 16753
    invoke-static {v12, v0}, Ljava/lang/Math;->min(FF)F

    move-result v0

    mul-float v1, v1, v0

    float-to-int v1, v1

    mul-float v2, v2, v0

    float-to-int v2, v2

    .line 16758
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v3}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v3

    if-nez v3, :cond_9b

    .line 16759
    iget v3, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v4, 0x1

    if-eq v3, v4, :cond_9a

    iget v3, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v3, v4, :cond_99

    goto :goto_43

    .line 16762
    :cond_99
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->leftCropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v3, :cond_9b

    iget-boolean v3, v3, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v3, :cond_9b

    const/4 v4, 0x1

    goto :goto_44

    .line 16760
    :cond_9a
    :goto_43
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->isMirrored()Z

    move-result v4

    goto :goto_44

    :cond_9b
    const/4 v4, 0x0

    :goto_44
    if-eqz v4, :cond_9c

    const/high16 v3, -0x40800000    # -1.0f

    const/high16 v4, 0x3f800000    # 1.0f

    .line 16766
    invoke-virtual {v11, v3, v4}, Landroid/graphics/Canvas;->scale(FF)V

    goto :goto_45

    :cond_9c
    const/high16 v4, 0x3f800000    # 1.0f

    .line 16769
    :goto_45
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3, v4}, Lorg/telegram/messenger/ImageReceiver;->setAlpha(F)V

    .line 16770
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    neg-int v4, v1

    const/4 v5, 0x2

    div-int/2addr v4, v5

    int-to-float v6, v4

    neg-int v7, v2

    div-int/2addr v7, v5

    int-to-float v8, v7

    int-to-float v9, v1

    int-to-float v12, v2

    invoke-virtual {v3, v6, v8, v9, v12}, Lorg/telegram/messenger/ImageReceiver;->setImageCoords(FFFF)V

    .line 16771
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3, v11}, Lorg/telegram/messenger/ImageReceiver;->draw(Landroid/graphics/Canvas;)Z

    .line 16773
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    if-eqz v3, :cond_9f

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v3

    if-nez v3, :cond_9f

    .line 16774
    div-int/2addr v1, v5

    div-int/2addr v2, v5

    invoke-virtual {v11, v4, v7, v1, v2}, Landroid/graphics/Canvas;->clipRect(IIII)Z

    .line 16775
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v1

    if-ne v1, v13, :cond_9d

    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result v1

    if-eq v1, v14, :cond_9e

    .line 16776
    :cond_9d
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    const/high16 v2, 0x40000000    # 2.0f

    invoke-static {v13, v2}, Landroid/view/View$MeasureSpec;->makeMeasureSpec(II)I

    move-result v3

    invoke-static {v14, v2}, Landroid/view/View$MeasureSpec;->makeMeasureSpec(II)I

    move-result v2

    invoke-virtual {v1, v3, v2}, Landroid/widget/FrameLayout;->measure(II)V

    .line 16777
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    const/4 v2, 0x0

    invoke-virtual {v1, v2, v2, v13, v14}, Landroid/widget/FrameLayout;->layout(IIII)V

    .line 16779
    :cond_9e
    invoke-virtual {v11, v0, v0}, Landroid/graphics/Canvas;->scale(FF)V

    neg-int v0, v13

    const/4 v1, 0x2

    .line 16780
    div-int/2addr v0, v1

    int-to-float v0, v0

    neg-int v2, v14

    div-int/2addr v2, v1

    int-to-float v1, v2

    invoke-virtual {v11, v0, v1}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16781
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    const/high16 v1, 0x3f800000    # 1.0f

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/PaintingOverlay;->setAlpha(F)V

    .line 16782
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v0, v11}, Landroid/widget/FrameLayout;->draw(Landroid/graphics/Canvas;)V

    goto :goto_46

    :cond_9f
    const/high16 v1, 0x3f800000    # 1.0f

    .line 16785
    :goto_46
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    goto :goto_47

    :cond_a0
    move/from16 v39, v0

    move/from16 v41, v36

    const/high16 v1, 0x3f800000    # 1.0f

    .line 16787
    :goto_47
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    sub-float v8, v1, v39

    invoke-virtual {v0, v8}, Lorg/telegram/ui/Components/GroupedPhotosListView;->setMoveProgress(F)V

    .line 16789
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    div-float v9, v17, v29

    move/from16 v0, v18

    .line 16790
    invoke-virtual {v11, v0, v9}, Landroid/graphics/Canvas;->translate(FF)V

    move/from16 v0, v41

    int-to-float v0, v0

    .line 16791
    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->scale:F

    add-float/2addr v2, v1

    mul-float v0, v0, v2

    invoke-static/range {v27 .. v27}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v1

    int-to-float v1, v1

    add-float/2addr v0, v1

    neg-float v0, v0

    const/high16 v1, 0x40000000    # 2.0f

    div-float/2addr v0, v1

    move/from16 v2, v17

    neg-float v1, v2

    div-float v1, v1, v29

    invoke-virtual {v11, v0, v1}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16792
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    const/4 v1, 0x2

    aget-object v0, v0, v1

    const/high16 v3, 0x3f800000    # 1.0f

    invoke-virtual {v0, v3}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setScale(F)V

    .line 16793
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v1

    invoke-virtual {v0, v3}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setAlpha(F)V

    .line 16794
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v1

    invoke-virtual {v0, v11}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->onDraw(Landroid/graphics/Canvas;)V

    .line 16796
    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-eqz v0, :cond_a1

    .line 16797
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v0, v0, v1

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setAlpha(F)V

    .line 16799
    :cond_a1
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    goto :goto_48

    :cond_a2
    move/from16 v2, v17

    const/4 v1, 0x2

    .line 16801
    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-eqz v0, :cond_a3

    .line 16802
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v0, v0, v1

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setAlpha(F)V

    .line 16806
    :cond_a3
    :goto_48
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->waitingForDraw:I

    if-eqz v0, :cond_a9

    const/4 v1, 0x1

    sub-int/2addr v0, v1

    .line 16807
    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->waitingForDraw:I

    if-nez v0, :cond_a8

    .line 16809
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->changedTextureView:Landroid/view/TextureView;

    if-eqz v0, :cond_a6

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-nez v1, :cond_a6

    .line 16811
    :try_start_0
    invoke-virtual {v0}, Landroid/view/TextureView;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    iput-object v0, v10, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    const/4 v1, 0x0

    goto :goto_4a

    :catchall_0
    move-exception v0

    .line 16813
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    if-eqz v1, :cond_a4

    .line 16814
    invoke-virtual {v1}, Landroid/graphics/Bitmap;->recycle()V

    const/4 v1, 0x0

    .line 16815
    iput-object v1, v10, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    goto :goto_49

    :cond_a4
    const/4 v1, 0x0

    .line 16817
    :goto_49
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    .line 16819
    :goto_4a
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    if-eqz v0, :cond_a5

    .line 16820
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 16821
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setImageBitmap(Landroid/graphics/Bitmap;)V

    goto :goto_4b

    .line 16823
    :cond_a5
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setImageDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 16826
    :cond_a6
    :goto_4b
    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v0, :cond_a7

    .line 16830
    new-instance v0, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda58;

    invoke-direct {v0, v10}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda58;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;)V

    goto :goto_4c

    :cond_a7
    const/4 v1, 0x1

    .line 16836
    invoke-static {v1}, Lorg/telegram/ui/Components/PipVideoOverlay;->dismiss(Z)V

    goto :goto_4c

    .line 16839
    :cond_a8
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    .line 16843
    :cond_a9
    :goto_4c
    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->padImageForHorizontalInsets:Z

    if-eqz v0, :cond_aa

    .line 16844
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    .line 16847
    :cond_aa
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    if-eqz v0, :cond_ab

    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->videoForwardDrawable:Lorg/telegram/ui/Components/VideoForwardDrawable;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoForwardDrawable;->isAnimating()Z

    move-result v0

    if-eqz v0, :cond_ab

    .line 16848
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result v0

    int-to-float v0, v0

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/high16 v3, 0x3f800000    # 1.0f

    sub-float/2addr v1, v3

    mul-float v0, v0, v1

    float-to-int v0, v0

    const/4 v1, 0x2

    div-int/2addr v0, v1

    .line 16849
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->videoForwardDrawable:Lorg/telegram/ui/Components/VideoForwardDrawable;

    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getLeft()I

    move-result v3

    iget-object v4, v10, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getTop()I

    move-result v4

    sub-int/2addr v4, v0

    div-float v9, v2, v29

    float-to-int v2, v9

    add-int/2addr v4, v2

    iget-object v5, v10, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v5}, Landroid/widget/FrameLayout;->getRight()I

    move-result v5

    iget-object v6, v10, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getBottom()I

    move-result v6

    add-int/2addr v6, v0

    add-int/2addr v6, v2

    invoke-virtual {v1, v3, v4, v5, v6}, Landroid/graphics/drawable/Drawable;->setBounds(IIII)V

    .line 16850
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->videoForwardDrawable:Lorg/telegram/ui/Components/VideoForwardDrawable;

    invoke-virtual {v0, v11}, Lorg/telegram/ui/Components/VideoForwardDrawable;->draw(Landroid/graphics/Canvas;)V

    .line 16853
    :cond_ab
    invoke-direct/range {p0 .. p1}, Lorg/telegram/ui/PhotoViewer;->drawFancyShadows(Landroid/graphics/Canvas;)V

    :cond_ac
    :goto_4d
    return-void
.end method

.method private onHideView()V
    .locals 2

    .line 7713
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    instance-of v1, v0, Lorg/telegram/ui/LaunchActivity;

    if-eqz v1, :cond_0

    .line 7714
    check-cast v0, Lorg/telegram/ui/LaunchActivity;

    .line 7715
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->onUserLeaveHintListener:Ljava/lang/Runnable;

    invoke-virtual {v0, v1}, Lorg/telegram/ui/LaunchActivity;->removeOnUserLeaveHintListener(Ljava/lang/Runnable;)V

    .line 7717
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    if-eqz v0, :cond_1

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v0

    if-eqz v0, :cond_1

    const/high16 v0, 0x3f800000    # 1.0f

    .line 7718
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->clippingImageProgress:F

    .line 7719
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    invoke-virtual {v1}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v1

    .line 7720
    invoke-virtual {v1, v0}, Landroid/view/View;->setScaleX(F)V

    .line 7721
    invoke-virtual {v1, v0}, Landroid/view/View;->setScaleY(F)V

    .line 7723
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

    if-eqz v1, :cond_1

    .line 7724
    invoke-virtual {v1}, Lorg/telegram/ui/ActionBar/BottomSheet;->getContainer()Lorg/telegram/ui/ActionBar/BottomSheet$ContainerView;

    move-result-object v1

    .line 7725
    invoke-virtual {v1, v0}, Landroid/view/View;->setScaleX(F)V

    .line 7726
    invoke-virtual {v1, v0}, Landroid/view/View;->setScaleY(F)V

    :cond_1
    return-void
.end method

.method private onLinkClick(Landroid/text/style/ClickableSpan;Landroid/widget/TextView;)V
    .locals 5

    if-eqz p2, :cond_5

    .line 1139
    instance-of v0, p1, Landroid/text/style/URLSpan;

    if-eqz v0, :cond_5

    .line 1140
    move-object v0, p1

    check-cast v0, Landroid/text/style/URLSpan;

    invoke-virtual {v0}, Landroid/text/style/URLSpan;->getURL()Ljava/lang/String;

    move-result-object v0

    const-string v1, "video"

    .line 1141
    invoke-virtual {v0, v1}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result v1

    const/4 v2, 0x1

    if-eqz v1, :cond_1

    .line 1142
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz p1, :cond_6

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz p1, :cond_6

    .line 1143
    invoke-static {v0}, Lorg/telegram/messenger/Utilities;->parseInt(Ljava/lang/CharSequence;)Ljava/lang/Integer;

    move-result-object p1

    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result p1

    .line 1144
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {p2}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v0

    const-wide v3, -0x7fffffffffffffffL    # -4.9E-324

    cmp-long p2, v0, v3

    if-nez p2, :cond_0

    int-to-float p1, p1

    .line 1145
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {p2}, Lorg/telegram/messenger/MessageObject;->getDuration()D

    move-result-wide v0

    double-to-float p2, v0

    div-float/2addr p1, p2

    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending:F

    goto :goto_0

    .line 1147
    :cond_0
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    int-to-long v0, p1

    const-wide/16 v3, 0x3e8

    mul-long v0, v0, v3

    invoke-virtual {p2, v0, v1}, Lorg/telegram/ui/Components/VideoPlayer;->seekTo(J)V

    .line 1148
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    long-to-float p2, v0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v0

    long-to-float v0, v0

    div-float/2addr p2, v0

    invoke-virtual {p1, p2, v2}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setProgress(FZ)V

    .line 1149
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbarView:Landroid/view/View;

    invoke-virtual {p1}, Landroid/view/View;->invalidate()V

    goto :goto_0

    :cond_1
    const-string v1, "#"

    .line 1152
    invoke-virtual {v0, v1}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result v1

    if-eqz v1, :cond_2

    .line 1153
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    instance-of p1, p1, Lorg/telegram/ui/LaunchActivity;

    if-eqz p1, :cond_6

    .line 1154
    new-instance p1, Lorg/telegram/ui/DialogsActivity;

    const/4 p2, 0x0

    invoke-direct {p1, p2}, Lorg/telegram/ui/DialogsActivity;-><init>(Landroid/os/Bundle;)V

    .line 1155
    invoke-virtual {p1, v0}, Lorg/telegram/ui/DialogsActivity;->setSearchString(Ljava/lang/String;)V

    .line 1156
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    check-cast p2, Lorg/telegram/ui/LaunchActivity;

    const/4 v0, 0x0

    invoke-virtual {p2, p1, v0, v2}, Lorg/telegram/ui/LaunchActivity;->presentFragment(Lorg/telegram/ui/ActionBar/BaseFragment;ZZ)Z

    .line 1157
    invoke-virtual {p0, v0, v0}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    goto :goto_0

    .line 1159
    :cond_2
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v1, :cond_4

    instance-of v1, p1, Lorg/telegram/ui/Components/URLSpanReplacement;

    if-nez v1, :cond_3

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->shouldShowUrlInAlert(Ljava/lang/String;)Z

    move-result v1

    if-eqz v1, :cond_4

    .line 1160
    :cond_3
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-static {p1, v0, v2, v2}, Lorg/telegram/ui/Components/AlertsCreator;->showOpenUrlAlert(Lorg/telegram/ui/ActionBar/BaseFragment;Ljava/lang/String;ZZ)V

    goto :goto_0

    .line 1162
    :cond_4
    invoke-virtual {p1, p2}, Landroid/text/style/ClickableSpan;->onClick(Landroid/view/View;)V

    goto :goto_0

    .line 1165
    :cond_5
    invoke-virtual {p1, p2}, Landroid/text/style/ClickableSpan;->onClick(Landroid/view/View;)V

    :cond_6
    :goto_0
    return-void
.end method

.method private onLinkLongPress(Landroid/text/style/URLSpan;Landroid/widget/TextView;Ljava/lang/Runnable;)V
    .locals 10

    .line 1171
    new-instance v0, Lorg/telegram/ui/ActionBar/BottomSheet$Builder;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    const/4 v3, 0x0

    const v4, -0xe3ddd7

    invoke-direct {v0, v1, v3, v2, v4}, Lorg/telegram/ui/ActionBar/BottomSheet$Builder;-><init>(Landroid/content/Context;ZLorg/telegram/ui/ActionBar/Theme$ResourcesProvider;I)V

    .line 1172
    invoke-virtual {p1}, Landroid/text/style/URLSpan;->getURL()Ljava/lang/String;

    move-result-object v1

    const-string v2, "video?"

    invoke-virtual {v1, v2}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result v1

    const/4 v2, -0x1

    const/4 v5, 0x1

    if-eqz v1, :cond_0

    .line 1174
    :try_start_0
    invoke-virtual {p1}, Landroid/text/style/URLSpan;->getURL()Ljava/lang/String;

    move-result-object v1

    invoke-virtual {p1}, Landroid/text/style/URLSpan;->getURL()Ljava/lang/String;

    move-result-object v6

    const/16 v7, 0x3f

    invoke-virtual {v6, v7}, Ljava/lang/String;->indexOf(I)I

    move-result v6

    add-int/2addr v6, v5

    invoke-virtual {v1, v6}, Ljava/lang/String;->substring(I)Ljava/lang/String;

    move-result-object v1

    .line 1175
    invoke-static {v1}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I

    move-result v1
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_0

    :catchall_0
    :cond_0
    const/4 v1, -0x1

    :goto_0
    if-ltz v1, :cond_1

    .line 1181
    invoke-static {v1, v3}, Lorg/telegram/messenger/AndroidUtilities;->formatDuration(IZ)Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v0, v6}, Lorg/telegram/ui/ActionBar/BottomSheet$Builder;->setTitle(Ljava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/BottomSheet$Builder;

    goto :goto_1

    .line 1183
    :cond_1
    invoke-virtual {p1}, Landroid/text/style/URLSpan;->getURL()Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v0, v6}, Lorg/telegram/ui/ActionBar/BottomSheet$Builder;->setTitle(Ljava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/BottomSheet$Builder;

    :goto_1
    const/4 v6, 0x2

    new-array v7, v6, [Ljava/lang/CharSequence;

    .line 1186
    sget v8, Lorg/telegram/messenger/R$string;->Open:I

    const-string v9, "Open"

    invoke-static {v9, v8}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v8

    aput-object v8, v7, v3

    sget v8, Lorg/telegram/messenger/R$string;->Copy:I

    const-string v9, "Copy"

    invoke-static {v9, v8}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v8

    aput-object v8, v7, v5

    new-instance v8, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda20;

    invoke-direct {v8, p0, p1, p2, v1}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda20;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/text/style/URLSpan;Landroid/widget/TextView;I)V

    invoke-virtual {v0, v7, v8}, Lorg/telegram/ui/ActionBar/BottomSheet$Builder;->setItems([Ljava/lang/CharSequence;Landroid/content/DialogInterface$OnClickListener;)Lorg/telegram/ui/ActionBar/BottomSheet$Builder;

    .line 1248
    new-instance p1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda23;

    invoke-direct {p1, p3}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda23;-><init>(Ljava/lang/Runnable;)V

    invoke-virtual {v0, p1}, Lorg/telegram/ui/ActionBar/BottomSheet$Builder;->setOnPreDismissListener(Landroid/content/DialogInterface$OnDismissListener;)Lorg/telegram/ui/ActionBar/BottomSheet$Builder;

    .line 1249
    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BottomSheet$Builder;->create()Lorg/telegram/ui/ActionBar/BottomSheet;

    move-result-object p1

    .line 1250
    iput-boolean v5, p1, Lorg/telegram/ui/ActionBar/BottomSheet;->scrollNavBar:Z

    .line 1251
    invoke-virtual {p1}, Lorg/telegram/ui/ActionBar/BottomSheet;->show()V

    .line 1253
    :try_start_1
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p2, v3, v6}, Landroid/widget/FrameLayout;->performHapticFeedback(II)Z
    :try_end_1
    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_0

    .line 1255
    :catch_0
    invoke-virtual {p1, v3, v2, v2}, Lorg/telegram/ui/ActionBar/BottomSheet;->setItemColor(III)V

    .line 1256
    invoke-virtual {p1, v5, v2, v2}, Lorg/telegram/ui/ActionBar/BottomSheet;->setItemColor(III)V

    .line 1257
    invoke-virtual {p1, v4}, Lorg/telegram/ui/ActionBar/BottomSheet;->setBackgroundColor(I)V

    const p2, -0x757576

    .line 1258
    invoke-virtual {p1, p2}, Lorg/telegram/ui/ActionBar/BottomSheet;->setTitleColor(I)V

    .line 1259
    invoke-virtual {p1, v5}, Lorg/telegram/ui/ActionBar/BottomSheet;->setCalcMandatoryInsets(Z)V

    .line 1260
    invoke-virtual {p1}, Landroid/app/Dialog;->getWindow()Landroid/view/Window;

    move-result-object p2

    invoke-static {p2, v4, v3}, Lorg/telegram/messenger/AndroidUtilities;->setNavigationBarColor(Landroid/view/Window;IZ)V

    .line 1261
    invoke-virtual {p1}, Landroid/app/Dialog;->getWindow()Landroid/view/Window;

    move-result-object p2

    invoke-static {p2, v3}, Lorg/telegram/messenger/AndroidUtilities;->setLightNavigationBar(Landroid/view/Window;Z)V

    .line 1262
    iput-boolean v5, p1, Lorg/telegram/ui/ActionBar/BottomSheet;->scrollNavBar:Z

    return-void
.end method

.method private onPhotoClosed(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V
    .locals 6

    .line 15414
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->doneButtonPressed:Z

    const/4 v1, 0x1

    if-eqz v0, :cond_0

    .line 15415
    invoke-direct {p0, v1}, Lorg/telegram/ui/PhotoViewer;->releasePlayer(Z)V

    .line 15417
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v0, :cond_1

    iget-boolean v0, v0, Lorg/telegram/messenger/MessageObject;->putInDownloadsStore:Z

    if-nez v0, :cond_1

    .line 15418
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v0

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v2

    invoke-virtual {v0, v2}, Lorg/telegram/messenger/FileLoader;->cancelLoadFile(Lorg/telegram/tgnet/TLRPC$Document;)V

    :cond_1
    const/4 v0, 0x0

    .line 15420
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    .line 15421
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isVisibleOrAnimating:Z

    .line 15422
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->cropInitied:Z

    .line 15423
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->disableShowCheck:Z

    const/4 v2, 0x0

    .line 15424
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    .line 15425
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    .line 15426
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    .line 15427
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    .line 15428
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentSecureDocument:Lorg/telegram/messenger/SecureDocument;

    .line 15429
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentPageBlock:Lorg/telegram/tgnet/TLRPC$PageBlock;

    .line 15430
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    .line 15431
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->dialogPhotos:Lorg/telegram/messenger/MessagesController$DialogPhotos;

    .line 15432
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    if-eqz v3, :cond_2

    .line 15433
    invoke-direct {p0, v0, v0}, Lorg/telegram/ui/PhotoViewer;->setVideoPlayerControlVisible(ZZ)V

    .line 15435
    :cond_2
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    if-eqz v3, :cond_3

    .line 15436
    invoke-virtual {v3}, Lorg/telegram/ui/PhotoViewer$CaptionScrollView;->reset()V

    .line 15438
    :cond_3
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    .line 15439
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isDocumentsPicker:Z

    .line 15440
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v3, :cond_4

    .line 15441
    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->release()V

    .line 15442
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    .line 15444
    :cond_4
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

    .line 15445
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    if-eqz v3, :cond_5

    .line 15446
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3, v4}, Lorg/telegram/ui/Components/AnimatedFileDrawable;->removeSecondParentView(Landroid/view/View;)V

    .line 15447
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    :cond_5
    const/4 v3, 0x0

    :goto_0
    const/4 v4, 0x3

    if-ge v3, v4, :cond_7

    .line 15450
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v5, v4, v3

    if-eqz v5, :cond_6

    .line 15451
    aget-object v4, v4, v3

    const/4 v5, -0x1

    invoke-virtual {v4, v5, v0, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    :cond_6
    add-int/lit8 v3, v3, 0x1

    goto :goto_0

    .line 15454
    :cond_7
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->requestVideoPreview(I)V

    .line 15455
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    if-eqz v3, :cond_8

    .line 15456
    invoke-virtual {v3}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->destroy()V

    .line 15458
    :cond_8
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->hintView:Lorg/telegram/ui/Components/UndoView;

    invoke-virtual {v3, v0, v0}, Lorg/telegram/ui/Components/UndoView;->hide(ZI)V

    .line 15459
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3, v2}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/Bitmap;)V

    .line 15460
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;->destroy()V

    .line 15461
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3, v2}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/Bitmap;)V

    .line 15462
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->leftBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;->destroy()V

    .line 15463
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3, v2}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/Bitmap;)V

    .line 15464
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->rightBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;->destroy()V

    .line 15465
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    new-instance v4, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda76;

    invoke-direct {v4, p0, p1}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda76;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    invoke-virtual {v3, v4}, Landroid/widget/FrameLayout;->post(Ljava/lang/Runnable;)Z

    .line 15480
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v3, :cond_9

    .line 15481
    invoke-interface {v3}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->willHidePhotoViewer()V

    .line 15483
    :cond_9
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/GroupedPhotosListView;->clear()V

    .line 15484
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v3, :cond_a

    .line 15485
    invoke-interface {v3}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->onClose()V

    .line 15487
    :cond_a
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    .line 15488
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosAdapter:Lorg/telegram/ui/PhotoViewer$ListAdapter;

    invoke-virtual {v3}, Landroidx/recyclerview/widget/RecyclerView$Adapter;->notifyDataSetChanged()V

    .line 15489
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    .line 15490
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->disableShowCheck:Z

    .line 15491
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->shownControlsByEnd:Z

    const/4 v0, 0x0

    .line 15492
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->videoCutStart:F

    const/high16 v0, 0x3f800000    # 1.0f

    .line 15493
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->videoCutEnd:F

    if-eqz p1, :cond_b

    .line 15495
    iget-object p1, p1, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {p1, v1, v1}, Lorg/telegram/messenger/ImageReceiver;->setVisible(ZZ)V

    .line 15497
    :cond_b
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz p1, :cond_c

    .line 15498
    invoke-virtual {p1}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object p1

    invoke-virtual {p1}, Landroid/view/View;->invalidate()V

    .line 15500
    :cond_c
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmap:Landroid/graphics/Bitmap;

    if-eqz p1, :cond_d

    .line 15501
    invoke-virtual {p1}, Landroid/graphics/Bitmap;->recycle()V

    .line 15502
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmap:Landroid/graphics/Bitmap;

    :cond_d
    return-void
.end method

.method private onPhotoShow(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/List;ILorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V
    .locals 32
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Lorg/telegram/messenger/MessageObject;",
            "Lorg/telegram/tgnet/TLRPC$FileLocation;",
            "Lorg/telegram/messenger/ImageLocation;",
            "Lorg/telegram/messenger/ImageLocation;",
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/MessageObject;",
            ">;",
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/SecureDocument;",
            ">;",
            "Ljava/util/List<",
            "Ljava/lang/Object;",
            ">;I",
            "Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;",
            ")V"
        }
    .end annotation

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p5

    move-object/from16 v3, p6

    move-object/from16 v4, p7

    move/from16 v5, p8

    move-object/from16 v6, p9

    .line 11401
    invoke-static {}, Lorg/telegram/tgnet/ConnectionsManager;->generateClassGuid()I

    move-result v7

    iput v7, v0, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    const/4 v7, 0x0

    .line 11402
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->customTitle:Ljava/lang/CharSequence;

    .line 11403
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    .line 11404
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    .line 11405
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    .line 11406
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentSecureDocument:Lorg/telegram/messenger/SecureDocument;

    .line 11407
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    .line 11408
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentPageBlock:Lorg/telegram/tgnet/TLRPC$PageBlock;

    const/4 v8, 0x0

    .line 11409
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->fromCamera:Z

    .line 11410
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    const/4 v9, 0x0

    .line 11411
    iput v9, v0, Lorg/telegram/ui/PhotoViewer;->avatarStartProgress:F

    const-wide/16 v10, 0x0

    .line 11412
    iput-wide v10, v0, Lorg/telegram/ui/PhotoViewer;->avatarStartTime:J

    const/4 v12, -0x1

    .line 11413
    iput v12, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    .line 11414
    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aput-object v7, v13, v8

    const/4 v14, 0x1

    .line 11434
    invoke-static {v14}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v15

    .line 11415
    aput-object v7, v13, v14

    const/4 v12, 0x2

    .line 11416
    aput-object v7, v13, v12

    .line 11417
    iput-wide v10, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    .line 11418
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->canEditAvatar:Z

    .line 11419
    iput v8, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    .line 11420
    iput v8, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    .line 11421
    iput v8, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    .line 11422
    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object v13, v13, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->keyboardNotifier:Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;

    invoke-virtual {v13, v8}, Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;->ignore(Z)V

    .line 11423
    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->paintKeyboardNotifier:Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;

    const/4 v7, 0x3

    if-eqz v13, :cond_1

    .line 11424
    iget v12, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v12, v7, :cond_0

    const/4 v12, 0x1

    goto :goto_0

    :cond_0
    const/4 v12, 0x0

    :goto_0
    invoke-virtual {v13, v12}, Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;->ignore(Z)V

    .line 11426
    :cond_1
    iput-boolean v14, v0, Lorg/telegram/ui/PhotoViewer;->isFirstLoading:Z

    .line 11427
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->needSearchImageInArr:Z

    .line 11428
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->loadingMoreImages:Z

    .line 11429
    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->endReached:[Z

    aput-boolean v8, v12, v8

    .line 11430
    iget-wide v7, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    cmp-long v19, v7, v10

    if-nez v19, :cond_2

    const/4 v7, 0x1

    goto :goto_1

    :cond_2
    const/4 v7, 0x0

    :goto_1
    aput-boolean v7, v12, v14

    const/4 v7, 0x0

    .line 11431
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->opennedFromMedia:Z

    .line 11432
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->openedFromProfile:Z

    .line 11433
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    .line 11434
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v8, v15}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    .line 11435
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->playerAutoStarted:Z

    .line 11436
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    .line 11437
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->shownControlsByEnd:Z

    .line 11438
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->clear()V

    .line 11439
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->clear()V

    .line 11440
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->clear()V

    .line 11441
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->clear()V

    .line 11442
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrMessages:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->clear()V

    .line 11443
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->clear()V

    .line 11444
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->clear()V

    .line 11445
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->clear()V

    .line 11446
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->blurManager:Lorg/telegram/ui/Components/BlurringShader$BlurManager;

    if-eqz v7, :cond_3

    .line 11447
    invoke-virtual {v7}, Lorg/telegram/ui/Components/BlurringShader$BlurManager;->resetBitmap()V

    .line 11449
    :cond_3
    sget v7, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v8, 0x15

    if-le v7, v8, :cond_4

    .line 11450
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v7, v9}, Landroid/widget/FrameLayout;->setElevation(F)V

    :cond_4
    const/4 v7, 0x0

    :goto_2
    const/4 v8, 0x2

    if-ge v7, v8, :cond_5

    .line 11453
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIds:[Landroid/util/SparseArray;

    aget-object v8, v8, v7

    invoke-virtual {v8}, Landroid/util/SparseArray;->clear()V

    .line 11454
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIdsTemp:[Landroid/util/SparseArray;

    aget-object v8, v8, v7

    invoke-virtual {v8}, Landroid/util/SparseArray;->clear()V

    add-int/lit8 v7, v7, 0x1

    goto :goto_2

    .line 11456
    :cond_5
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->clear()V

    const/4 v7, 0x0

    .line 11457
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentAvatarLocation:Lorg/telegram/messenger/ImageLocation;

    .line 11458
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/4 v8, 0x0

    invoke-virtual {v7, v8, v8, v8, v8}, Landroid/widget/FrameLayout;->setPadding(IIII)V

    .line 11459
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v7, :cond_6

    .line 11460
    invoke-virtual {v7}, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->release()V

    :cond_6
    if-eqz v6, :cond_7

    .line 11462
    iget-object v7, v6, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->thumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    goto :goto_3

    :cond_7
    const/4 v7, 0x0

    :goto_3
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v6, :cond_8

    .line 11463
    iget-boolean v7, v6, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->isEvent:Z

    if-eqz v7, :cond_8

    const/4 v7, 0x1

    goto :goto_4

    :cond_8
    const/4 v7, 0x0

    :goto_4
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->isEvent:Z

    const/4 v7, 0x0

    .line 11464
    iput v7, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    .line 11465
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->allMediaItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v12, Lorg/telegram/messenger/R$string;->ShowAllMedia:I

    const-string v13, "ShowAllMedia"

    invoke-static {v13, v12}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v12

    invoke-virtual {v8, v12}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setText(Ljava/lang/CharSequence;)V

    .line 11466
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->sendItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v0, v8, v7, v7}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 11467
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v0, v8, v7, v14}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 11468
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    if-eqz v7, :cond_9

    const/4 v8, 0x0

    .line 11469
    invoke-virtual {v7, v8}, Lorg/telegram/ui/Components/PhotoCropView;->setSubtitle(Ljava/lang/String;)V

    .line 11471
    :cond_9
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    const/high16 v8, 0x7f000000

    invoke-virtual {v7, v8}, Lorg/telegram/ui/ActionBar/ActionBar;->setBackgroundColor(I)V

    .line 11472
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/16 v8, 0x8

    invoke-virtual {v7, v8}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11473
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/4 v12, 0x0

    invoke-static {v12}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v13

    invoke-virtual {v7, v13}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    .line 11474
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v7, :cond_a

    .line 11475
    invoke-virtual {v7, v12, v12}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 11477
    :cond_a
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v7, v9}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 11478
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v7, v9}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setTranslationY(F)V

    .line 11479
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->editItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v0, v7, v12, v12}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 11480
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    const/4 v12, 0x4

    if-eqz v7, :cond_b

    .line 11481
    invoke-virtual {v7, v12}, Landroid/view/View;->setVisibility(I)V

    .line 11482
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    invoke-virtual {v7, v12}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11483
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    const/4 v13, 0x0

    invoke-virtual {v7, v13}, Landroid/view/View;->setTag(Ljava/lang/Object;)V

    goto :goto_5

    :cond_b
    const/4 v13, 0x0

    .line 11485
    :goto_5
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    if-eqz v7, :cond_c

    .line 11486
    invoke-virtual {v7}, Landroid/animation/AnimatorSet;->cancel()V

    .line 11487
    iput-object v13, v0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    .line 11489
    :cond_c
    invoke-direct {v0, v14}, Lorg/telegram/ui/PhotoViewer;->setDoubleTapEnabled(Z)V

    const/4 v7, 0x0

    .line 11490
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    .line 11491
    iput v7, v0, Lorg/telegram/ui/PhotoViewer;->slideshowMessageId:I

    .line 11494
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v13, 0x2

    invoke-virtual {v7, v13}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 11495
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v7, v12}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 11496
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v13, 0xa

    invoke-virtual {v7, v13}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 11497
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v13, 0xb

    invoke-virtual {v7, v13}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 11498
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v13, 0xe

    invoke-virtual {v7, v13}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 11499
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v13, 0xf

    invoke-virtual {v7, v13}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 11500
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v13, 0x11

    invoke-virtual {v7, v13}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 11501
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v13, 0x10

    invoke-virtual {v7, v13}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 11502
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v13, 0x6

    invoke-virtual {v7, v13}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 11503
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    invoke-virtual {v7, v8}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11504
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->speedGap:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$GapView;

    invoke-virtual {v7, v8}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11505
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v7, v9}, Lorg/telegram/ui/ActionBar/ActionBar;->setTranslationY(F)V

    const/4 v7, 0x0

    .line 11506
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->dialogPhotos:Lorg/telegram/messenger/MessagesController$DialogPhotos;

    .line 11508
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    const/high16 v13, 0x3f800000    # 1.0f

    invoke-virtual {v7, v13}, Landroid/view/View;->setAlpha(F)V

    .line 11509
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {v7, v9}, Landroid/view/View;->setTranslationY(F)V

    .line 11510
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {v7, v8}, Lorg/telegram/ui/Components/CheckBox;->setVisibility(I)V

    .line 11511
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    const/4 v13, 0x0

    invoke-virtual {v7, v13}, Lorg/telegram/ui/ActionBar/ActionBar;->setTitleRightMargin(I)V

    const/high16 v13, 0x3f800000    # 1.0f

    .line 11512
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    invoke-virtual {v7, v13}, Landroid/view/View;->setAlpha(F)V

    .line 11513
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    invoke-virtual {v7, v9}, Landroid/view/View;->setTranslationY(F)V

    .line 11514
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    invoke-virtual {v7, v8}, Landroid/view/View;->setVisibility(I)V

    .line 11515
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->updateActionBarTitlePadding()V

    .line 11517
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v7, v8}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11518
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v7, v8}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11519
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    invoke-virtual {v7, v8}, Landroid/widget/TextView;->setVisibility(I)V

    .line 11520
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v7, v9}, Landroid/widget/ImageView;->setTranslationY(F)V

    .line 11521
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v7, v13}, Landroid/widget/FrameLayout;->setAlpha(F)V

    .line 11522
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v7, v13}, Landroid/widget/ImageView;->setAlpha(F)V

    .line 11523
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v7, v9}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 11525
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-virtual {v7, v8}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11526
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    const/4 v9, 0x0

    invoke-virtual {v7, v9}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 11527
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-virtual {v7, v8}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11528
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v7, v8}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11529
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v7, v9}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 11530
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    const/4 v9, 0x0

    invoke-virtual {v7, v9, v9}, Lorg/telegram/ui/Components/CaptionPhotoViewer;->setTimerVisible(ZZ)V

    .line 11531
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v9, v8}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11532
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v9, v8}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11534
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v9}, Landroid/widget/FrameLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

    move-result-object v9

    const/4 v7, -0x2

    iput v7, v9, Landroid/view/ViewGroup$LayoutParams;->height:I

    .line 11535
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->docInfoTextView:Landroid/widget/TextView;

    invoke-virtual {v7, v8}, Landroid/widget/TextView;->setVisibility(I)V

    .line 11536
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->docNameTextView:Landroid/widget/TextView;

    invoke-virtual {v7, v8}, Landroid/widget/TextView;->setVisibility(I)V

    const/4 v7, 0x0

    .line 11537
    invoke-direct {v0, v7, v7}, Lorg/telegram/ui/PhotoViewer;->showVideoTimeline(ZZ)V

    .line 11538
    invoke-direct {v0, v7, v7}, Lorg/telegram/ui/PhotoViewer;->showEditCaption(ZZ)V

    .line 11539
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    invoke-virtual {v9, v8}, Landroid/widget/TextView;->setVisibility(I)V

    .line 11540
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {v9, v8}, Landroid/view/View;->setVisibility(I)V

    .line 11543
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-static {v9, v7, v13, v7}, Lorg/telegram/messenger/AndroidUtilities;->updateViewVisibilityAnimated(Landroid/view/View;ZFZ)V

    .line 11545
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    const/4 v10, 0x0

    invoke-virtual {v9, v10}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;)V

    .line 11546
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->masksItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v0, v9, v7, v14}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 11547
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    .line 11548
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    sget v11, Lorg/telegram/messenger/R$drawable;->video_send_unmute:I

    invoke-virtual {v9, v11}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 11549
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    invoke-virtual {v9, v8}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11550
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v9, v10}, Landroid/widget/ViewSwitcher;->setTag(Ljava/lang/Object;)V

    .line 11551
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v9, v12}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setVisibility(I)V

    .line 11552
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    if-eqz v9, :cond_d

    .line 11553
    invoke-virtual {v9, v8}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11555
    :cond_d
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    if-eqz v9, :cond_e

    .line 11556
    invoke-virtual {v9, v8}, Landroid/widget/FrameLayout;->setVisibility(I)V

    :cond_e
    const/4 v9, 0x0

    :goto_6
    const/4 v10, 0x3

    if-ge v9, v10, :cond_10

    .line 11559
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v11, v10, v9

    if-eqz v11, :cond_f

    .line 11560
    aget-object v10, v10, v9

    const/4 v7, -0x1

    const/4 v11, 0x0

    invoke-virtual {v10, v7, v11, v14}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    :cond_f
    add-int/lit8 v9, v9, 0x1

    goto :goto_6

    .line 11563
    :cond_10
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    if-eqz v9, :cond_11

    .line 11564
    invoke-virtual {v9}, Lorg/telegram/ui/Components/GroupedPhotosListView;->reset()V

    .line 11565
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    invoke-static {}, Lorg/telegram/messenger/ApplicationLoader;->isNetworkOnline()Z

    move-result v10

    xor-int/2addr v10, v14

    invoke-virtual {v9, v10}, Lorg/telegram/ui/Components/GroupedPhotosListView;->setAnimateBackground(Z)V

    .line 11568
    :cond_11
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v9, :cond_12

    invoke-interface {v9}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getTotalImageCount()I

    move-result v9

    if-lez v9, :cond_12

    .line 11569
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v9}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getTotalImageCount()I

    move-result v9

    iput v9, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    :cond_12
    if-eqz v1, :cond_13

    .line 11573
    sget-object v9, Lorg/telegram/messenger/ApplicationLoader;->applicationContext:Landroid/content/Context;

    const-string v10, "playback_speed"

    const/4 v7, 0x0

    invoke-virtual {v9, v10, v7}, Landroid/content/Context;->getSharedPreferences(Ljava/lang/String;I)Landroid/content/SharedPreferences;

    move-result-object v9

    .line 11574
    new-instance v10, Ljava/lang/StringBuilder;

    invoke-direct {v10}, Ljava/lang/StringBuilder;-><init>()V

    const-string v11, "speed"

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v7

    invoke-virtual {v10, v7, v8}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    const-string v7, "_"

    invoke-virtual {v10, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v7

    invoke-virtual {v10, v7}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v10}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v7

    invoke-interface {v9, v7, v13}, Landroid/content/SharedPreferences;->getFloat(Ljava/lang/String;F)F

    move-result v7

    iput v7, v0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    goto :goto_7

    .line 11576
    :cond_13
    iput v13, v0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    :goto_7
    const/4 v7, 0x0

    .line 11578
    invoke-direct {v0, v7, v14}, Lorg/telegram/ui/PhotoViewer;->setMenuItemIcon(ZZ)V

    if-eqz v1, :cond_16

    .line 11580
    iget v8, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v8}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v8

    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->getChatId()J

    move-result-wide v9

    invoke-virtual {v8, v9, v10}, Lorg/telegram/messenger/MessagesController;->isChatNoForwards(J)Z

    move-result v8

    if-nez v8, :cond_15

    iget-object v8, v1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    if-eqz v8, :cond_14

    iget-boolean v8, v8, Lorg/telegram/tgnet/TLRPC$Message;->noforwards:Z

    if-nez v8, :cond_15

    :cond_14
    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->hasRevealedExtendedMedia()Z

    move-result v8

    if-eqz v8, :cond_16

    :cond_15
    const/4 v8, 0x1

    goto :goto_8

    :cond_16
    const/4 v8, 0x0

    :goto_8
    const-string v9, "ShowAllGIFs"

    const-string v10, "ShowAllFiles"

    const/4 v7, 0x5

    if-eqz v1, :cond_28

    if-nez v2, :cond_28

    .line 11582
    iget-object v2, v1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    if-eqz v2, :cond_1b

    invoke-static {v2}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v2

    instance-of v2, v2, Lorg/telegram/tgnet/TLRPC$TL_messageMediaWebPage;

    if-eqz v2, :cond_1b

    iget-object v2, v1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v2}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v2

    iget-object v2, v2, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    if-eqz v2, :cond_1b

    .line 11583
    iget-object v2, v1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v2}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v2

    iget-object v2, v2, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    .line 11584
    iget-object v3, v2, Lorg/telegram/tgnet/TLRPC$WebPage;->site_name:Ljava/lang/String;

    if-eqz v3, :cond_1b

    .line 11586
    invoke-virtual {v3}, Ljava/lang/String;->toLowerCase()Ljava/lang/String;

    move-result-object v3

    const-string v4, "instagram"

    .line 11587
    invoke-virtual {v3, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v4

    if-nez v4, :cond_17

    const-string v4, "twitter"

    invoke-virtual {v3, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v3

    if-nez v3, :cond_17

    iget-object v3, v2, Lorg/telegram/tgnet/TLRPC$WebPage;->type:Ljava/lang/String;

    const-string v4, "telegram_album"

    invoke-virtual {v4, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v3

    if-eqz v3, :cond_1b

    .line 11588
    :cond_17
    iget-object v3, v2, Lorg/telegram/tgnet/TLRPC$WebPage;->author:Ljava/lang/String;

    invoke-static {v3}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    .line 11591
    iget-object v3, v2, Lorg/telegram/tgnet/TLRPC$WebPage;->cached_page:Lorg/telegram/tgnet/TLRPC$Page;

    instance-of v3, v3, Lorg/telegram/tgnet/TLRPC$TL_page;

    if-eqz v3, :cond_19

    const/4 v13, 0x0

    .line 11592
    :goto_9
    iget-object v3, v2, Lorg/telegram/tgnet/TLRPC$WebPage;->cached_page:Lorg/telegram/tgnet/TLRPC$Page;

    iget-object v3, v3, Lorg/telegram/tgnet/TLRPC$Page;->blocks:Ljava/util/ArrayList;

    invoke-virtual {v3}, Ljava/util/ArrayList;->size()I

    move-result v3

    if-ge v13, v3, :cond_19

    .line 11593
    iget-object v3, v2, Lorg/telegram/tgnet/TLRPC$WebPage;->cached_page:Lorg/telegram/tgnet/TLRPC$Page;

    iget-object v3, v3, Lorg/telegram/tgnet/TLRPC$Page;->blocks:Ljava/util/ArrayList;

    invoke-virtual {v3, v13}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lorg/telegram/tgnet/TLRPC$PageBlock;

    .line 11594
    instance-of v4, v3, Lorg/telegram/tgnet/TLRPC$TL_pageBlockAuthorDate;

    if-eqz v4, :cond_18

    .line 11595
    check-cast v3, Lorg/telegram/tgnet/TLRPC$TL_pageBlockAuthorDate;

    iget v2, v3, Lorg/telegram/tgnet/TLRPC$TL_pageBlockAuthorDate;->published_date:I

    goto :goto_a

    :cond_18
    add-int/lit8 v13, v13, 0x1

    goto :goto_9

    :cond_19
    :goto_a
    const/4 v2, 0x0

    .line 11600
    invoke-virtual {v1, v2, v2}, Lorg/telegram/messenger/MessageObject;->getWebPagePhotos(Ljava/util/ArrayList;Ljava/util/ArrayList;)Ljava/util/ArrayList;

    move-result-object v3

    .line 11601
    invoke-virtual {v3}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-nez v2, :cond_1b

    .line 11602
    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v2

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->slideshowMessageId:I

    const/4 v2, 0x0

    .line 11603
    iput-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->needSearchImageInArr:Z

    .line 11604
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2, v3}, Ljava/util/ArrayList;->addAll(Ljava/util/Collection;)Z

    .line 11605
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    .line 11606
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2, v1}, Ljava/util/ArrayList;->indexOf(Ljava/lang/Object;)I

    move-result v2

    if-gez v2, :cond_1a

    const/4 v2, 0x0

    .line 11610
    :cond_1a
    invoke-direct {v0, v2}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    .line 11615
    :cond_1b
    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->canPreviewDocument()Z

    move-result v2

    if-eqz v2, :cond_1c

    .line 11616
    iput v14, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    .line 11617
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->allMediaItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v3, Lorg/telegram/messenger/R$string;->ShowAllFiles:I

    invoke-static {v10, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setText(Ljava/lang/CharSequence;)V

    goto :goto_b

    .line 11618
    :cond_1c
    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->isGif()Z

    move-result v2

    if-eqz v2, :cond_1d

    .line 11619
    iput v7, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    .line 11620
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->allMediaItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v3, Lorg/telegram/messenger/R$string;->ShowAllGIFs:I

    invoke-static {v9, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setText(Ljava/lang/CharSequence;)V

    .line 11622
    :cond_1d
    :goto_b
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-eqz v2, :cond_1f

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v2, :cond_1e

    invoke-virtual {v2}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v2

    if-nez v2, :cond_1f

    .line 11623
    :cond_1e
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/4 v3, 0x0

    invoke-virtual {v2, v3}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    .line 11624
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/16 v3, 0x8

    invoke-virtual {v2, v3}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11626
    :cond_1f
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->slideshowMessageId:I

    if-nez v2, :cond_29

    .line 11627
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11628
    iget-wide v2, v1, Lorg/telegram/messenger/MessageObject;->eventId:J

    const-wide/16 v9, 0x0

    cmp-long v4, v2, v9

    if-eqz v4, :cond_20

    const/4 v2, 0x0

    .line 11629
    iput-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->needSearchImageInArr:Z

    goto/16 :goto_d

    :cond_20
    const/4 v2, 0x0

    .line 11630
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    if-eqz v3, :cond_21

    .line 11631
    iput-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->needSearchImageInArr:Z

    .line 11632
    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->canForwardMessage()Z

    move-result v1

    if-eqz v1, :cond_27

    if-nez v8, :cond_27

    .line 11633
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->sendItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v0, v1, v14, v2}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    goto/16 :goto_d

    .line 11635
    :cond_21
    iget-boolean v2, v1, Lorg/telegram/messenger/MessageObject;->scheduled:Z

    if-nez v2, :cond_25

    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->isQuickReply()Z

    move-result v2

    if-nez v2, :cond_25

    iget-object v2, v1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v2}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v2

    instance-of v2, v2, Lorg/telegram/tgnet/TLRPC$TL_messageMediaInvoice;

    if-nez v2, :cond_25

    iget-object v2, v1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v2}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v2

    instance-of v2, v2, Lorg/telegram/tgnet/TLRPC$TL_messageMediaWebPage;

    if-nez v2, :cond_25

    iget-object v2, v1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v2, v2, Lorg/telegram/tgnet/TLRPC$Message;->action:Lorg/telegram/tgnet/TLRPC$MessageAction;

    if-eqz v2, :cond_22

    instance-of v2, v2, Lorg/telegram/tgnet/TLRPC$TL_messageActionEmpty;

    if-eqz v2, :cond_25

    .line 11636
    :cond_22
    iput-boolean v14, v0, Lorg/telegram/ui/PhotoViewer;->needSearchImageInArr:Z

    .line 11637
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIds:[Landroid/util/SparseArray;

    const/4 v3, 0x0

    aget-object v2, v2, v3

    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v3

    invoke-virtual {v2, v3, v1}, Landroid/util/SparseArray;->put(ILjava/lang/Object;)V

    .line 11638
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v1, :cond_23

    invoke-virtual {v1}, Lorg/telegram/ui/ChatActivity;->isThreadChat()Z

    move-result v1

    if-nez v1, :cond_24

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v1}, Lorg/telegram/ui/ChatActivity;->getChatMode()I

    move-result v1

    const/4 v2, 0x3

    if-eq v1, v2, :cond_24

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v1}, Lorg/telegram/ui/ChatActivity;->getChatMode()I

    move-result v1

    if-eq v1, v7, :cond_24

    .line 11639
    :cond_23
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v12}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 11640
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v2, 0x2

    invoke-virtual {v1, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 11642
    :cond_24
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->sendItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    xor-int/lit8 v2, v8, 0x1

    const/4 v3, 0x0

    invoke-direct {v0, v1, v2, v3}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    goto :goto_c

    .line 11643
    :cond_25
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-eqz v2, :cond_26

    iget-wide v1, v1, Lorg/telegram/messenger/MessageObject;->eventId:J

    const-wide/16 v3, 0x0

    cmp-long v6, v1, v3

    if-nez v6, :cond_26

    .line 11644
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->sendItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v2, 0x0

    invoke-direct {v0, v1, v14, v2}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    goto :goto_d

    :cond_26
    :goto_c
    const/4 v2, 0x0

    .line 11646
    :cond_27
    :goto_d
    invoke-direct {v0, v2}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    goto :goto_e

    :cond_28
    if-eqz v3, :cond_2a

    .line 11649
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v2, v3}, Ljava/util/ArrayList;->addAll(Ljava/util/Collection;)Z

    .line 11650
    invoke-direct {v0, v5}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    :cond_29
    :goto_e
    const/4 v1, 0x0

    goto/16 :goto_27

    :cond_2a
    if-eqz p2, :cond_34

    if-eqz v6, :cond_2b

    .line 11652
    iget-wide v2, v6, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->dialogId:J

    goto :goto_f

    :cond_2b
    const-wide/16 v2, 0x0

    :goto_f
    iput-wide v2, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    if-eqz v6, :cond_2c

    .line 11653
    iget-boolean v4, v6, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->canEdit:Z

    if-eqz v4, :cond_2c

    const/4 v4, 0x1

    goto :goto_10

    :cond_2c
    const/4 v4, 0x0

    :goto_10
    iput-boolean v4, v0, Lorg/telegram/ui/PhotoViewer;->canEditAvatar:Z

    if-nez p3, :cond_2e

    const-wide/16 v7, 0x0

    cmp-long v4, v2, v7

    if-eqz v4, :cond_2e

    cmp-long v4, v2, v7

    if-lez v4, :cond_2d

    .line 11656
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v2

    iget-wide v3, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    invoke-static {v3, v4}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v3

    invoke-virtual {v2, v3}, Lorg/telegram/messenger/MessagesController;->getUser(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$User;

    move-result-object v2

    const/4 v1, 0x0

    .line 11657
    invoke-static {v2, v1}, Lorg/telegram/messenger/ImageLocation;->getForUserOrChat(Lorg/telegram/tgnet/TLObject;I)Lorg/telegram/messenger/ImageLocation;

    move-result-object v2

    goto :goto_11

    :cond_2d
    const/4 v1, 0x0

    .line 11659
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v2

    iget-wide v3, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    neg-long v3, v3

    invoke-static {v3, v4}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v3

    invoke-virtual {v2, v3}, Lorg/telegram/messenger/MessagesController;->getChat(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v2

    .line 11660
    invoke-static {v2, v1}, Lorg/telegram/messenger/ImageLocation;->getForUserOrChat(Lorg/telegram/tgnet/TLObject;I)Lorg/telegram/messenger/ImageLocation;

    move-result-object v2

    goto :goto_11

    :cond_2e
    move-object/from16 v2, p3

    :goto_11
    if-nez v2, :cond_2f

    return-void

    .line 11666
    :cond_2f
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v3, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11667
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    if-eqz p4, :cond_30

    move-object/from16 v4, p4

    goto :goto_12

    :cond_30
    move-object v4, v2

    :goto_12
    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11668
    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAvatarLocation:Lorg/telegram/messenger/ImageLocation;

    .line 11669
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    if-eqz v6, :cond_31

    iget-wide v3, v6, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->size:J

    goto :goto_13

    :cond_31
    const-wide/16 v3, 0x0

    :goto_13
    invoke-static {v3, v4}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v3

    invoke-virtual {v2, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11670
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrMessages:Ljava/util/ArrayList;

    const/4 v3, 0x0

    invoke-virtual {v2, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11671
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    new-instance v3, Lorg/telegram/tgnet/TLRPC$TL_photoEmpty;

    invoke-direct {v3}, Lorg/telegram/tgnet/TLRPC$TL_photoEmpty;-><init>()V

    invoke-virtual {v2, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11673
    iput-boolean v14, v0, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    .line 11674
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v3, 0x2

    invoke-virtual {v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 11675
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v3, 0xa

    invoke-virtual {v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    const/4 v1, 0x0

    .line 11676
    invoke-direct {v0, v1}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    .line 11678
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v14, :cond_29

    .line 11679
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->useFullWidthSendButton()Z

    move-result v2

    if-eqz v2, :cond_32

    .line 11680
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    invoke-virtual {v2, v1}, Landroid/widget/TextView;->setVisibility(I)V

    goto :goto_14

    .line 11682
    :cond_32
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v2, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11684
    :goto_14
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    const/4 v3, 0x0

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setTranslationY(F)V

    .line 11685
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v2, v13}, Landroid/widget/ImageView;->setAlpha(F)V

    .line 11686
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    if-eqz v2, :cond_33

    .line 11687
    invoke-virtual {v2, v1}, Landroid/view/View;->setVisibility(I)V

    .line 11688
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    invoke-virtual {v2, v13}, Landroid/view/View;->setAlpha(F)V

    .line 11690
    :cond_33
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/16 v3, 0x8

    invoke-virtual {v2, v3}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11691
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/4 v3, 0x0

    invoke-virtual {v2, v3}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    .line 11692
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v2, v3}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    move-object v1, v3

    goto/16 :goto_27

    :cond_34
    if-eqz v2, :cond_3f

    .line 11695
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v3, v2}, Ljava/util/ArrayList;->addAll(Ljava/util/Collection;)Z

    const/4 v13, 0x0

    .line 11696
    :goto_15
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-ge v13, v2, :cond_36

    .line 11697
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2, v13}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/MessageObject;

    .line 11698
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIds:[Landroid/util/SparseArray;

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v17

    move/from16 v24, v8

    iget-wide v7, v0, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    cmp-long v4, v17, v7

    if-nez v4, :cond_35

    const/4 v4, 0x0

    goto :goto_16

    :cond_35
    const/4 v4, 0x1

    :goto_16
    aget-object v3, v3, v4

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v4

    invoke-virtual {v3, v4, v2}, Landroid/util/SparseArray;->put(ILjava/lang/Object;)V

    add-int/lit8 v13, v13, 0x1

    move/from16 v8, v24

    const/4 v7, 0x5

    goto :goto_15

    :cond_36
    move/from16 v24, v8

    .line 11700
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2, v5}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/MessageObject;

    .line 11701
    iget-boolean v3, v2, Lorg/telegram/messenger/MessageObject;->scheduled:Z

    if-nez v3, :cond_3d

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->isQuickReply()Z

    move-result v3

    if-nez v3, :cond_3d

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v3, :cond_37

    invoke-virtual {v3}, Lorg/telegram/ui/ChatActivity;->isThreadChat()Z

    move-result v3

    if-nez v3, :cond_3d

    .line 11702
    :cond_37
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-nez v3, :cond_38

    const/4 v13, 0x1

    goto :goto_17

    :cond_38
    const/4 v13, 0x0

    :goto_17
    iput-boolean v13, v0, Lorg/telegram/ui/PhotoViewer;->opennedFromMedia:Z

    .line 11703
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    instance-of v3, v3, Lorg/telegram/ui/ProfileActivity;

    if-eqz v3, :cond_39

    .line 11704
    iput-boolean v14, v0, Lorg/telegram/ui/PhotoViewer;->openedFromProfile:Z

    :cond_39
    if-eqz v6, :cond_3a

    .line 11707
    iget v3, v6, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->starOffset:I

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->startOffset:I

    .line 11709
    :cond_3a
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v3, v12}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 11710
    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->canForwardMessage()Z

    move-result v3

    if-eqz v3, :cond_3b

    if-nez v24, :cond_3b

    .line 11711
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->sendItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v1, 0x0

    invoke-direct {v0, v3, v14, v1}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 11713
    :cond_3b
    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->canPreviewDocument()Z

    move-result v3

    if-eqz v3, :cond_3c

    .line 11714
    iput v14, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    .line 11715
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->allMediaItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v3, Lorg/telegram/messenger/R$string;->ShowAllFiles:I

    invoke-static {v10, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setText(Ljava/lang/CharSequence;)V

    goto :goto_18

    .line 11716
    :cond_3c
    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->isGif()Z

    move-result v2

    if-eqz v2, :cond_3e

    const/4 v2, 0x5

    .line 11717
    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    .line 11718
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->allMediaItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v3, Lorg/telegram/messenger/R$string;->ShowAllGIFs:I

    invoke-static {v9, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setText(Ljava/lang/CharSequence;)V

    goto :goto_18

    .line 11721
    :cond_3d
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    .line 11723
    :cond_3e
    :goto_18
    invoke-direct {v0, v5}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    goto/16 :goto_e

    :cond_3f
    if-eqz v4, :cond_5a

    .line 11725
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v3, -0x1

    if-eq v2, v3, :cond_42

    if-eqz v2, :cond_41

    if-eq v2, v12, :cond_41

    const/4 v3, 0x2

    if-eq v2, v3, :cond_40

    const/4 v3, 0x5

    if-ne v2, v3, :cond_42

    :cond_40
    invoke-interface/range {p7 .. p7}, Ljava/util/List;->size()I

    move-result v2

    if-le v2, v14, :cond_42

    .line 11726
    :cond_41
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    const/4 v1, 0x0

    invoke-virtual {v2, v1}, Lorg/telegram/ui/Components/CheckBox;->setVisibility(I)V

    .line 11727
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    invoke-virtual {v2, v1}, Landroid/view/View;->setVisibility(I)V

    .line 11728
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->updateActionBarTitlePadding()V

    .line 11730
    :cond_42
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v6, -0x1

    if-eq v3, v6, :cond_44

    const/4 v6, 0x2

    if-eq v3, v6, :cond_43

    const/4 v6, 0x5

    if-ne v3, v6, :cond_44

    :cond_43
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v3}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->canCaptureMorePhotos()Z

    move-result v3

    if-eqz v3, :cond_44

    const/4 v1, 0x1

    goto :goto_19

    :cond_44
    const/4 v1, 0x0

    :goto_19
    const/4 v3, 0x0

    invoke-virtual {v2, v1, v3}, Lorg/telegram/ui/Components/CaptionPhotoViewer;->setAddPhotoVisible(ZZ)V

    .line 11731
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v3, 0x8

    invoke-virtual {v2, v3}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11732
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2, v4}, Ljava/util/ArrayList;->addAll(Ljava/util/Collection;)Z

    .line 11733
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2, v5}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    .line 11735
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v6, -0x1

    if-eq v4, v6, :cond_4b

    instance-of v6, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;

    if-eqz v6, :cond_4b

    const/16 v6, 0xa

    if-ne v4, v6, :cond_45

    .line 11737
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11738
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11739
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    goto/16 :goto_1d

    .line 11740
    :cond_45
    iget-boolean v6, v0, Lorg/telegram/ui/PhotoViewer;->isDocumentsPicker:Z

    if-eqz v6, :cond_46

    .line 11741
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11742
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11743
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11744
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->docInfoTextView:Landroid/widget/TextView;

    const/4 v1, 0x0

    invoke-virtual {v2, v1}, Landroid/widget/TextView;->setVisibility(I)V

    .line 11745
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->docNameTextView:Landroid/widget/TextView;

    invoke-virtual {v2, v1}, Landroid/widget/TextView;->setVisibility(I)V

    .line 11746
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

    move-result-object v2

    const/high16 v3, 0x42a80000    # 84.0f

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v3

    iput v3, v2, Landroid/view/ViewGroup$LayoutParams;->height:I

    goto :goto_1d

    .line 11747
    :cond_46
    check-cast v2, Lorg/telegram/messenger/MediaController$PhotoEntry;

    iget-boolean v2, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->isVideo:Z

    if-eqz v2, :cond_47

    .line 11748
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    const/16 v3, 0x8

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11749
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11750
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11751
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/4 v1, 0x0

    invoke-virtual {v2, v1}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11752
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v2, v15}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    .line 11753
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/high16 v3, 0x42400000    # 48.0f

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v3

    neg-int v3, v3

    int-to-float v3, v3

    invoke-virtual {v2, v3}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    goto :goto_1d

    .line 11755
    :cond_47
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    if-eq v4, v14, :cond_48

    const/4 v3, 0x0

    goto :goto_1a

    :cond_48
    const/16 v3, 0x8

    :goto_1a
    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11756
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v3, v14, :cond_49

    const/16 v3, 0x8

    goto :goto_1b

    :cond_49
    const/4 v3, 0x0

    :goto_1b
    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11757
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v3, v14, :cond_4a

    const/16 v3, 0x8

    goto :goto_1c

    :cond_4a
    const/4 v3, 0x0

    :goto_1c
    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11759
    :goto_1d
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->isDocumentsPicker:Z

    xor-int/2addr v2, v14

    goto :goto_1f

    .line 11760
    :cond_4b
    instance-of v3, v2, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v3, :cond_4d

    .line 11761
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    const/16 v3, 0x8

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11762
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11763
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    :cond_4c
    const/4 v2, 0x0

    goto :goto_1f

    .line 11766
    :cond_4d
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    instance-of v4, v2, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v4, :cond_4e

    check-cast v2, Lorg/telegram/messenger/MediaController$SearchImage;

    iget v2, v2, Lorg/telegram/messenger/MediaController$SearchImage;->type:I

    if-nez v2, :cond_4e

    const/4 v2, 0x0

    goto :goto_1e

    :cond_4e
    const/16 v2, 0x8

    :goto_1e
    invoke-virtual {v3, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11767
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    const/16 v3, 0x8

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11768
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11769
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-virtual {v2}, Landroid/widget/ImageView;->getVisibility()I

    move-result v2

    if-nez v2, :cond_4c

    const/4 v2, 0x1

    :goto_1f
    if-eqz v2, :cond_50

    .line 11771
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v2, :cond_4f

    invoke-interface {v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->allowCaption()Z

    move-result v2

    if-eqz v2, :cond_50

    :cond_4f
    const/4 v2, 0x1

    goto :goto_20

    :cond_50
    const/4 v2, 0x0

    :goto_20
    iput-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    .line 11772
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v2, :cond_52

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object v2, v2, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->mentionContainer:Lorg/telegram/ui/Components/MentionsContainerView;

    if-eqz v2, :cond_52

    .line 11773
    invoke-virtual {v2}, Lorg/telegram/ui/Components/MentionsContainerView;->getAdapter()Lorg/telegram/ui/Adapters/MentionsAdapter;

    move-result-object v2

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    iget-object v3, v3, Lorg/telegram/ui/ChatActivity;->chatInfo:Lorg/telegram/tgnet/TLRPC$ChatFull;

    invoke-virtual {v2, v3}, Lorg/telegram/ui/Adapters/MentionsAdapter;->setChatInfo(Lorg/telegram/tgnet/TLRPC$ChatFull;)V

    .line 11774
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object v2, v2, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->mentionContainer:Lorg/telegram/ui/Components/MentionsContainerView;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/MentionsContainerView;->getAdapter()Lorg/telegram/ui/Adapters/MentionsAdapter;

    move-result-object v2

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    iget-object v3, v3, Lorg/telegram/ui/ChatActivity;->currentChat:Lorg/telegram/tgnet/TLRPC$Chat;

    if-eqz v3, :cond_51

    const/4 v3, 0x1

    goto :goto_21

    :cond_51
    const/4 v3, 0x0

    :goto_21
    invoke-virtual {v2, v3}, Lorg/telegram/ui/Adapters/MentionsAdapter;->setNeedUsernames(Z)V

    .line 11775
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object v2, v2, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->mentionContainer:Lorg/telegram/ui/Components/MentionsContainerView;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/MentionsContainerView;->getAdapter()Lorg/telegram/ui/Adapters/MentionsAdapter;

    move-result-object v2

    const/4 v1, 0x0

    invoke-virtual {v2, v1}, Lorg/telegram/ui/Adapters/MentionsAdapter;->setNeedBotContext(Z)V

    goto :goto_22

    :cond_52
    const/4 v1, 0x0

    .line 11793
    :goto_22
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v3, -0x1

    if-eq v2, v3, :cond_55

    .line 11794
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v2, v1}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11795
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->useFullWidthSendButton()Z

    move-result v2

    if-eqz v2, :cond_53

    .line 11796
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    invoke-virtual {v2, v1}, Landroid/widget/TextView;->setVisibility(I)V

    goto :goto_23

    .line 11798
    :cond_53
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v2, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11799
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    const/4 v3, 0x0

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setTranslationY(F)V

    .line 11800
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v2, v13}, Landroid/widget/ImageView;->setAlpha(F)V

    .line 11802
    :goto_23
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    if-eqz v2, :cond_54

    iget-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->fancyShadows:Z

    if-nez v3, :cond_54

    .line 11803
    invoke-virtual {v2, v1}, Landroid/view/View;->setVisibility(I)V

    .line 11804
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    invoke-virtual {v2, v13}, Landroid/view/View;->setAlpha(F)V

    .line 11806
    :cond_54
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/16 v3, 0x8

    invoke-virtual {v2, v3}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11807
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/4 v3, 0x0

    invoke-virtual {v2, v3}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    .line 11808
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v2, v3}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    .line 11811
    :cond_55
    invoke-direct {v0, v5}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    .line 11812
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v14, :cond_56

    .line 11813
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    const/4 v1, 0x0

    invoke-virtual {v2, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11814
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v2, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    goto :goto_26

    :cond_56
    if-eq v2, v12, :cond_59

    const/4 v1, 0x5

    if-eq v2, v1, :cond_59

    .line 11816
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-virtual {v1}, Landroid/widget/ImageView;->getTag()Ljava/lang/Object;

    move-result-object v2

    if-eqz v2, :cond_57

    const/4 v2, 0x0

    goto :goto_24

    :cond_57
    const/16 v2, 0x8

    :goto_24
    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11817
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v1}, Landroid/widget/ImageView;->getTag()Ljava/lang/Object;

    move-result-object v2

    if-eqz v2, :cond_58

    const/4 v11, 0x0

    goto :goto_25

    :cond_58
    const/16 v11, 0x8

    :goto_25
    invoke-virtual {v1, v11}, Landroid/widget/ImageView;->setVisibility(I)V

    goto :goto_26

    .line 11819
    :cond_59
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    const/16 v2, 0x8

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11820
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11822
    :goto_26
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->updateSelectedCount()V

    goto/16 :goto_e

    .line 11824
    :cond_5a
    invoke-direct {v0, v5}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    goto/16 :goto_e

    .line 11827
    :goto_27
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->dialogPhotos:Lorg/telegram/messenger/MessagesController$DialogPhotos;

    .line 11828
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    if-nez v2, :cond_65

    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->isEvent:Z

    if-nez v2, :cond_65

    .line 11829
    iget-wide v2, v0, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    const-wide/16 v6, 0x0

    cmp-long v4, v2, v6

    if-eqz v4, :cond_64

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    if-nez v2, :cond_64

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v2, :cond_64

    iget-boolean v3, v2, Lorg/telegram/messenger/MessageObject;->scheduled:Z

    if-nez v3, :cond_64

    .line 11836
    iget-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->currentFiltered:Z

    if-eqz v3, :cond_63

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v3, :cond_63

    .line 11837
    invoke-virtual {v3}, Lorg/telegram/ui/ChatActivity;->getFilteredMessages()Ljava/util/ArrayList;

    move-result-object v2

    if-eqz v2, :cond_61

    .line 11839
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v3}, Ljava/util/ArrayList;->clear()V

    const/4 v3, 0x0

    .line 11840
    :goto_28
    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v4

    if-ge v3, v4, :cond_5c

    .line 11841
    invoke-virtual {v2, v3}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lorg/telegram/messenger/MessageObject;

    .line 11842
    iget-object v6, v4, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v6}, Lorg/telegram/messenger/MediaDataController;->getMediaType(Lorg/telegram/tgnet/TLRPC$Message;)I

    move-result v6

    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    if-eq v6, v7, :cond_5b

    goto :goto_29

    .line 11844
    :cond_5b
    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v6, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11845
    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIds:[Landroid/util/SparseArray;

    const/4 v7, 0x0

    aget-object v6, v6, v7

    invoke-virtual {v4}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v7

    invoke-virtual {v6, v7, v4}, Landroid/util/SparseArray;->put(ILjava/lang/Object;)V

    :goto_29
    add-int/lit8 v3, v3, 0x1

    goto :goto_28

    .line 11847
    :cond_5c
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    sget-object v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda82;->INSTANCE:Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda82;

    invoke-static {v2, v3}, Ljava/util/Collections;->sort(Ljava/util/List;Ljava/util/Comparator;)V

    const/4 v2, -0x1

    .line 11848
    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    const/4 v2, 0x0

    .line 11849
    :goto_2a
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v3}, Ljava/util/ArrayList;->size()I

    move-result v3

    if-ge v2, v3, :cond_5f

    .line 11850
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v3, v2}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v3

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eq v3, v4, :cond_5d

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v3, v2}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v3}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v3

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v4}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v4

    if-ne v3, v4, :cond_5e

    .line 11851
    :cond_5d
    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    :cond_5e
    add-int/lit8 v2, v2, 0x1

    goto :goto_2a

    .line 11854
    :cond_5f
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-gez v2, :cond_60

    .line 11855
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    .line 11856
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v2, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11857
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIds:[Landroid/util/SparseArray;

    const/4 v3, 0x0

    aget-object v2, v2, v3

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v4}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v4

    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v2, v4, v6}, Landroid/util/SparseArray;->put(ILjava/lang/Object;)V

    goto :goto_2b

    :cond_60
    const/4 v3, 0x0

    .line 11859
    :goto_2b
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->setImages()V

    .line 11860
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v2, :cond_62

    .line 11861
    invoke-virtual {v2, v14, v3}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 11862
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    add-int/2addr v4, v14

    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v6}, Ljava/util/ArrayList;->size()I

    move-result v6

    invoke-virtual {v2, v4, v6, v3}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->set(IIZ)V

    goto :goto_2c

    :cond_61
    const/4 v3, 0x0

    .line 11865
    :cond_62
    :goto_2c
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->isFirstLoading:Z

    goto/16 :goto_2d

    .line 11866
    :cond_63
    iget-object v2, v2, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v2}, Lorg/telegram/messenger/MediaDataController;->getMediaType(Lorg/telegram/tgnet/TLRPC$Message;)I

    move-result v2

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    if-ne v2, v3, :cond_65

    .line 11867
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/MediaDataController;->getInstance(I)Lorg/telegram/messenger/MediaDataController;

    move-result-object v24

    iget-wide v2, v0, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    iget-wide v6, v0, Lorg/telegram/ui/PhotoViewer;->topicId:J

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    iget v8, v0, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    const/16 v31, 0x1

    move-wide/from16 v25, v2

    move-wide/from16 v27, v6

    move/from16 v29, v4

    move/from16 v30, v8

    invoke-virtual/range {v24 .. v31}, Lorg/telegram/messenger/MediaDataController;->getMediaCount(JJIIZ)V

    .line 11868
    iget-wide v2, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    const-wide/16 v6, 0x0

    cmp-long v4, v2, v6

    if-eqz v4, :cond_65

    .line 11869
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/MediaDataController;->getInstance(I)Lorg/telegram/messenger/MediaDataController;

    move-result-object v16

    iget-wide v2, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    iget-wide v6, v0, Lorg/telegram/ui/PhotoViewer;->topicId:J

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    iget v8, v0, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    const/16 v23, 0x1

    move-wide/from16 v17, v2

    move-wide/from16 v19, v6

    move/from16 v21, v4

    move/from16 v22, v8

    invoke-virtual/range {v16 .. v23}, Lorg/telegram/messenger/MediaDataController;->getMediaCount(JJIIZ)V

    goto :goto_2d

    .line 11872
    :cond_64
    iget-wide v2, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    const-wide/16 v6, 0x0

    cmp-long v4, v2, v6

    if-eqz v4, :cond_65

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->canLoadMoreAvatars()Z

    move-result v2

    if-eqz v2, :cond_65

    .line 11873
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v2

    iget-wide v3, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    invoke-virtual {v2, v3, v4}, Lorg/telegram/messenger/MessagesController;->getDialogPhotos(J)Lorg/telegram/messenger/MessagesController$DialogPhotos;

    move-result-object v2

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->dialogPhotos:Lorg/telegram/messenger/MessagesController$DialogPhotos;

    .line 11874
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v2

    sget v3, Lorg/telegram/messenger/NotificationCenter;->dialogPhotosUpdate:I

    new-array v4, v14, [Ljava/lang/Object;

    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->dialogPhotos:Lorg/telegram/messenger/MessagesController$DialogPhotos;

    const/4 v7, 0x0

    aput-object v6, v4, v7

    invoke-virtual {v2, v3, v4}, Lorg/telegram/messenger/NotificationCenter;->postNotificationName(I[Ljava/lang/Object;)V

    .line 11877
    :cond_65
    :goto_2d
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v2, :cond_66

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v2

    if-nez v2, :cond_69

    :cond_66
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v2, :cond_67

    iget-object v2, v2, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->type:Ljava/lang/String;

    const-string v3, "video"

    invoke-virtual {v2, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v2

    if-nez v2, :cond_69

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v2, v2, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    invoke-static {v2}, Lorg/telegram/messenger/MessageObject;->isVideoDocument(Lorg/telegram/tgnet/TLRPC$Document;)Z

    move-result v2

    if-nez v2, :cond_69

    :cond_67
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v2, :cond_68

    invoke-interface {v2, v5}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isVideo(I)Z

    move-result v2

    if-nez v2, :cond_69

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v2, v5}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isHardwarePlayer(I)Z

    move-result v2

    if-nez v2, :cond_69

    :cond_68
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v3, -0x1

    if-ne v2, v3, :cond_6a

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2, v5}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/MediaController$PhotoEntry;

    iget-boolean v2, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->isVideo:Z

    if-eqz v2, :cond_6a

    .line 11878
    :cond_69
    iput-boolean v14, v0, Lorg/telegram/ui/PhotoViewer;->playerAutoStarted:Z

    const/4 v7, 0x0

    .line 11879
    invoke-direct {v0, v7}, Lorg/telegram/ui/PhotoViewer;->onActionClick(Z)V

    goto/16 :goto_31

    :cond_6a
    const/4 v7, 0x0

    .line 11880
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-nez v2, :cond_72

    .line 11881
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2, v5}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    .line 11883
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v3, :cond_6b

    invoke-virtual {v3}, Lorg/telegram/ui/ChatActivity;->getCurrentUser()Lorg/telegram/tgnet/TLRPC$User;

    move-result-object v1

    .line 11884
    :cond_6b
    iget-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->isDocumentsPicker:Z

    if-nez v3, :cond_6c

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v3, :cond_6c

    invoke-virtual {v3}, Lorg/telegram/ui/ChatActivity;->isSecretChat()Z

    move-result v3

    if-nez v3, :cond_6c

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v3}, Lorg/telegram/ui/ChatActivity;->isInScheduleMode()Z

    move-result v3

    if-nez v3, :cond_6c

    if-eqz v1, :cond_6c

    iget-boolean v3, v1, Lorg/telegram/tgnet/TLRPC$User;->bot:Z

    if-nez v3, :cond_6c

    invoke-static {v1}, Lorg/telegram/messenger/UserObject;->isUserSelf(Lorg/telegram/tgnet/TLRPC$User;)Z

    move-result v1

    if-nez v1, :cond_6c

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v1}, Lorg/telegram/ui/ChatActivity;->isEditingMessageMedia()Z

    move-result v1

    if-nez v1, :cond_6c

    const/4 v1, 0x1

    goto :goto_2e

    :cond_6c
    const/4 v1, 0x0

    .line 11885
    :goto_2e
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v3, :cond_6d

    invoke-interface {v3}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getEditingMessageObject()Lorg/telegram/messenger/MessageObject;

    move-result-object v3

    if-eqz v3, :cond_6d

    const/4 v1, 0x0

    .line 11888
    :cond_6d
    instance-of v3, v2, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v3, :cond_6f

    :cond_6e
    const/4 v8, 0x0

    goto :goto_30

    .line 11890
    :cond_6f
    instance-of v3, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;

    if-eqz v3, :cond_70

    goto :goto_2f

    :cond_70
    if-eqz v1, :cond_71

    .line 11892
    instance-of v3, v2, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v3, :cond_71

    .line 11893
    check-cast v2, Lorg/telegram/messenger/MediaController$SearchImage;

    iget v1, v2, Lorg/telegram/messenger/MediaController$SearchImage;->type:I

    if-nez v1, :cond_6e

    const/4 v8, 0x1

    goto :goto_30

    :cond_71
    :goto_2f
    move v8, v1

    .line 11895
    :goto_30
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v1, v8, v14}, Lorg/telegram/ui/Components/CaptionPhotoViewer;->setTimerVisible(ZZ)V

    .line 11897
    :cond_72
    :goto_31
    invoke-virtual/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->checkFullscreenButton()V

    return-void
.end method

.method private onSharePressed()V
    .locals 10

    .line 4170
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-eqz v0, :cond_d

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    if-nez v0, :cond_0

    goto/16 :goto_6

    .line 4177
    :cond_0
    :try_start_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    const/4 v1, 0x1

    const/4 v2, 0x0

    const/4 v3, 0x0

    if-eqz v0, :cond_3

    .line 4178
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v2

    .line 4183
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v0, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$Message;->attachPath:Ljava/lang/String;

    invoke-static {v0}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v0

    if-nez v0, :cond_2

    .line 4184
    new-instance v0, Ljava/io/File;

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v4, v4, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v4, v4, Lorg/telegram/tgnet/TLRPC$Message;->attachPath:Ljava/lang/String;

    invoke-direct {v0, v4}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 4185
    invoke-virtual {v0}, Ljava/io/File;->exists()Z

    move-result v4

    if-nez v4, :cond_1

    goto :goto_0

    :cond_1
    move-object v3, v0

    :cond_2
    :goto_0
    if-nez v3, :cond_7

    .line 4190
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v0

    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v3, v3, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-virtual {v0, v3}, Lorg/telegram/messenger/FileLoader;->getPathToMessage(Lorg/telegram/tgnet/TLRPC$Message;)Ljava/io/File;

    move-result-object v3

    goto :goto_3

    .line 4192
    :cond_3
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    if-eqz v0, :cond_6

    .line 4193
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v0

    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    invoke-static {v3}, Lorg/telegram/ui/PhotoViewer;->getFileLocation(Lorg/telegram/messenger/ImageLocation;)Lorg/telegram/tgnet/TLRPC$FileLocation;

    move-result-object v3

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    invoke-static {v4}, Lorg/telegram/ui/PhotoViewer;->getFileLocationExt(Lorg/telegram/messenger/ImageLocation;)Ljava/lang/String;

    move-result-object v4

    iget-wide v5, p0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    const-wide/16 v7, 0x0

    cmp-long v9, v5, v7

    if-nez v9, :cond_5

    iget-boolean v5, p0, Lorg/telegram/ui/PhotoViewer;->isEvent:Z

    if-eqz v5, :cond_4

    goto :goto_1

    :cond_4
    const/4 v5, 0x0

    goto :goto_2

    :cond_5
    :goto_1
    const/4 v5, 0x1

    :goto_2
    invoke-virtual {v0, v3, v4, v5}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Ljava/lang/String;Z)Ljava/io/File;

    move-result-object v3

    goto :goto_3

    .line 4194
    :cond_6
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v0, :cond_7

    .line 4195
    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v3}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getFile(I)Ljava/io/File;

    move-result-object v3

    :cond_7
    :goto_3
    if-eqz v3, :cond_8

    .line 4197
    invoke-virtual {v3}, Ljava/io/File;->exists()Z

    move-result v0

    if-nez v0, :cond_8

    .line 4198
    new-instance v0, Ljava/io/File;

    const/4 v4, 0x4

    invoke-static {v4}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v4

    invoke-virtual {v3}, Ljava/io/File;->getName()Ljava/lang/String;

    move-result-object v3

    invoke-direct {v0, v4, v3}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    move-object v3, v0

    :cond_8
    if-eqz v3, :cond_c

    .line 4201
    invoke-virtual {v3}, Ljava/io/File;->exists()Z

    move-result v0

    if-eqz v0, :cond_c

    .line 4202
    new-instance v0, Landroid/content/Intent;

    const-string v4, "android.intent.action.SEND"

    invoke-direct {v0, v4}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V

    if-eqz v2, :cond_9

    const-string v2, "video/mp4"

    .line 4204
    invoke-virtual {v0, v2}, Landroid/content/Intent;->setType(Ljava/lang/String;)Landroid/content/Intent;

    goto :goto_4

    .line 4206
    :cond_9
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v2, :cond_a

    .line 4207
    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getMimeType()Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/content/Intent;->setType(Ljava/lang/String;)Landroid/content/Intent;

    goto :goto_4

    :cond_a
    const-string v2, "image/jpeg"

    .line 4209
    invoke-virtual {v0, v2}, Landroid/content/Intent;->setType(Ljava/lang/String;)Landroid/content/Intent;

    .line 4212
    :goto_4
    sget v2, Landroid/os/Build$VERSION;->SDK_INT:I
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_1

    const/16 v4, 0x18

    const-string v5, "android.intent.extra.STREAM"

    if-lt v2, v4, :cond_b

    .line 4214
    :try_start_1
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {}, Lorg/telegram/messenger/ApplicationLoader;->getApplicationId()Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    const-string v6, ".provider"

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v2, v4, v3}, Landroidx/core/content/FileProvider;->getUriForFile(Landroid/content/Context;Ljava/lang/String;Ljava/io/File;)Landroid/net/Uri;

    move-result-object v2

    invoke-virtual {v0, v5, v2}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Landroid/os/Parcelable;)Landroid/content/Intent;

    .line 4215
    invoke-virtual {v0, v1}, Landroid/content/Intent;->setFlags(I)Landroid/content/Intent;
    :try_end_1
    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_0

    goto :goto_5

    .line 4217
    :catch_0
    :try_start_2
    invoke-static {v3}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v1

    invoke-virtual {v0, v5, v1}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Landroid/os/Parcelable;)Landroid/content/Intent;

    goto :goto_5

    .line 4220
    :cond_b
    invoke-static {v3}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v1

    invoke-virtual {v0, v5, v1}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Landroid/os/Parcelable;)Landroid/content/Intent;

    .line 4223
    :goto_5
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const-string v2, "ShareFile"

    sget v3, Lorg/telegram/messenger/R$string;->ShareFile:I

    invoke-static {v2, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-static {v0, v2}, Landroid/content/Intent;->createChooser(Landroid/content/Intent;Ljava/lang/CharSequence;)Landroid/content/Intent;

    move-result-object v0

    const/16 v2, 0x1f4

    invoke-virtual {v1, v0, v2}, Landroid/app/Activity;->startActivityForResult(Landroid/content/Intent;I)V

    goto :goto_6

    .line 4225
    :cond_c
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->showDownloadAlert()V
    :try_end_2
    .catch Ljava/lang/Exception; {:try_start_2 .. :try_end_2} :catch_1

    goto :goto_6

    :catch_1
    move-exception v0

    .line 4228
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :cond_d
    :goto_6
    return-void
.end method

.method private onShowView()V
    .locals 2

    .line 7706
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    instance-of v1, v0, Lorg/telegram/ui/LaunchActivity;

    if-eqz v1, :cond_0

    .line 7707
    check-cast v0, Lorg/telegram/ui/LaunchActivity;

    .line 7708
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->onUserLeaveHintListener:Ljava/lang/Runnable;

    invoke-virtual {v0, v1}, Lorg/telegram/ui/LaunchActivity;->addOnUserLeaveHintListener(Ljava/lang/Runnable;)V

    :cond_0
    return-void
.end method

.method private onTouchEvent(Landroid/view/MotionEvent;)Z
    .locals 19

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    .line 15644
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v3, 0x5

    const-wide/16 v4, 0x0

    const/4 v6, 0x3

    const/4 v7, 0x2

    const/4 v8, 0x1

    if-ne v2, v6, :cond_2

    iget-wide v9, v0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    cmp-long v2, v9, v4

    if-eqz v2, :cond_2

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getActionMasked()I

    move-result v2

    if-eqz v2, :cond_0

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getActionMasked()I

    move-result v2

    if-ne v2, v3, :cond_2

    .line 15645
    :cond_0
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getPointerCount()I

    move-result v2

    if-lt v2, v7, :cond_1

    .line 15646
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->cancelMoveZoomAnimation()V

    goto :goto_0

    :cond_1
    return v8

    .line 15651
    :cond_2
    :goto_0
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    const/4 v9, 0x0

    if-nez v2, :cond_50

    iget-wide v10, v0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    cmp-long v2, v10, v4

    if-eqz v2, :cond_3

    goto/16 :goto_18

    .line 15655
    :cond_3
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerRewinder:Lorg/telegram/messenger/video/VideoPlayerRewinder;

    iget v2, v2, Lorg/telegram/messenger/video/VideoPlayerRewinder;->rewindCount:I

    if-lez v2, :cond_6

    .line 15656
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getAction()I

    move-result v2

    if-eq v2, v8, :cond_5

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getAction()I

    move-result v1

    if-ne v1, v6, :cond_4

    goto :goto_1

    :cond_4
    return v8

    .line 15657
    :cond_5
    :goto_1
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerRewinder:Lorg/telegram/messenger/video/VideoPlayerRewinder;

    invoke-virtual {v1}, Lorg/telegram/messenger/video/VideoPlayerRewinder;->cancelRewind()V

    return v9

    .line 15663
    :cond_6
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v2, v7, :cond_7

    .line 15664
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v2, v1}, Lorg/telegram/ui/Components/PhotoFilterView;->onTouch(Landroid/view/MotionEvent;)Z

    return v8

    :cond_7
    if-eq v2, v8, :cond_4f

    if-eq v2, v6, :cond_8

    .line 15666
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v8, :cond_8

    goto/16 :goto_17

    .line 15670
    :cond_8
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object v2, v2, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->editText:Lorg/telegram/ui/Components/EditTextEmoji;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/EditTextEmoji;->isPopupShowing()Z

    move-result v2

    if-nez v2, :cond_4e

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object v2, v2, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->editText:Lorg/telegram/ui/Components/EditTextEmoji;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/EditTextEmoji;->isKeyboardVisible()Z

    move-result v2

    if-eqz v2, :cond_9

    goto/16 :goto_16

    .line 15677
    :cond_9
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v2, :cond_a

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v2, v8, :cond_a

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getPointerCount()I

    move-result v2

    if-ne v2, v8, :cond_a

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->gestureDetector:Lorg/telegram/ui/Components/GestureDetector2;

    invoke-virtual {v2, v1}, Lorg/telegram/ui/Components/GestureDetector2;->onTouchEvent(Landroid/view/MotionEvent;)Z

    move-result v2

    if-eqz v2, :cond_a

    .line 15678
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->doubleTap:Z

    if-eqz v2, :cond_a

    .line 15679
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->doubleTap:Z

    .line 15680
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->moving:Z

    .line 15681
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->zooming:Z

    .line 15682
    invoke-direct {v0, v9}, Lorg/telegram/ui/PhotoViewer;->checkMinMax(Z)V

    return v8

    .line 15687
    :cond_a
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->tooltip:Lorg/telegram/ui/Components/Tooltip;

    if-eqz v2, :cond_b

    .line 15688
    invoke-virtual {v2}, Lorg/telegram/ui/Components/Tooltip;->hide()V

    .line 15691
    :cond_b
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getActionMasked()I

    move-result v2

    const/high16 v10, 0x40000000    # 2.0f

    if-eqz v2, :cond_45

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getActionMasked()I

    move-result v2

    if-ne v2, v3, :cond_c

    goto/16 :goto_13

    .line 15752
    :cond_c
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getActionMasked()I

    move-result v2

    const/high16 v3, 0x40400000    # 3.0f

    const/high16 v11, 0x3f800000    # 1.0f

    const/4 v12, 0x0

    if-ne v2, v7, :cond_28

    .line 15754
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->canZoom:Z

    if-eqz v2, :cond_12

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getPointerCount()I

    move-result v2

    if-ne v2, v7, :cond_12

    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->draggingDown:Z

    if-nez v2, :cond_12

    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->zooming:Z

    if-eqz v2, :cond_12

    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->changingPage:Z

    if-nez v2, :cond_12

    .line 15755
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->discardTap:Z

    .line 15756
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v2, v6, :cond_11

    .line 15757
    invoke-virtual {v1, v9}, Landroid/view/MotionEvent;->getX(I)F

    move-result v2

    invoke-virtual {v1, v8}, Landroid/view/MotionEvent;->getX(I)F

    move-result v4

    add-float/2addr v2, v4

    div-float/2addr v2, v10

    .line 15758
    invoke-virtual {v1, v9}, Landroid/view/MotionEvent;->getY(I)F

    move-result v4

    invoke-virtual {v1, v8}, Landroid/view/MotionEvent;->getY(I)F

    move-result v5

    add-float/2addr v4, v5

    div-float/2addr v4, v10

    .line 15759
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->moveStartX:F

    sub-float/2addr v5, v2

    .line 15760
    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->moveStartY:F

    sub-float/2addr v6, v4

    .line 15761
    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->moveStartX:F

    .line 15762
    iput v4, v0, Lorg/telegram/ui/PhotoViewer;->moveStartY:F

    .line 15763
    iget v10, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpg-float v11, v10, v11

    if-ltz v11, :cond_d

    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpl-float v10, v10, v11

    if-lez v10, :cond_e

    :cond_d
    div-float/2addr v5, v3

    .line 15766
    :cond_e
    iget v10, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->minY:F

    cmpg-float v11, v10, v11

    if-ltz v11, :cond_f

    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->maxY:F

    cmpl-float v10, v10, v11

    if-lez v10, :cond_10

    :cond_f
    div-float/2addr v6, v3

    .line 15769
    :cond_10
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterX:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v10

    div-int/2addr v10, v7

    int-to-float v10, v10

    sub-float/2addr v3, v10

    iget v10, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterX:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v11

    div-int/2addr v11, v7

    int-to-float v11, v11

    sub-float/2addr v10, v11

    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    sub-float/2addr v10, v11

    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    iget v12, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartScale:F

    div-float/2addr v11, v12

    div-float/2addr v10, v11

    sub-float/2addr v3, v10

    sub-float/2addr v3, v5

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartX:F

    .line 15770
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterY:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v5

    div-int/2addr v5, v7

    int-to-float v5, v5

    sub-float/2addr v3, v5

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterY:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v10

    div-int/2addr v10, v7

    int-to-float v10, v10

    sub-float/2addr v5, v10

    iget v10, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    sub-float/2addr v5, v10

    iget v10, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartScale:F

    div-float/2addr v10, v11

    div-float/2addr v5, v10

    sub-float/2addr v3, v5

    sub-float/2addr v3, v6

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartY:F

    .line 15771
    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterX:F

    .line 15772
    iput v4, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterY:F

    .line 15774
    :cond_11
    invoke-virtual {v1, v8}, Landroid/view/MotionEvent;->getX(I)F

    move-result v2

    invoke-virtual {v1, v9}, Landroid/view/MotionEvent;->getX(I)F

    move-result v3

    sub-float/2addr v2, v3

    float-to-double v2, v2

    invoke-virtual {v1, v8}, Landroid/view/MotionEvent;->getY(I)F

    move-result v4

    invoke-virtual {v1, v9}, Landroid/view/MotionEvent;->getY(I)F

    move-result v1

    sub-float/2addr v4, v1

    float-to-double v4, v4

    invoke-static {v2, v3, v4, v5}, Ljava/lang/Math;->hypot(DD)D

    move-result-wide v1

    double-to-float v1, v1

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartDistance:F

    div-float/2addr v1, v2

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartScale:F

    mul-float v1, v1, v2

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    .line 15775
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterX:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v2

    div-int/2addr v2, v7

    int-to-float v2, v2

    sub-float/2addr v1, v2

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterX:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v3

    div-int/2addr v3, v7

    int-to-float v3, v3

    sub-float/2addr v2, v3

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartX:F

    sub-float/2addr v2, v3

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartScale:F

    div-float/2addr v3, v4

    mul-float v2, v2, v3

    sub-float/2addr v1, v2

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 15776
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterY:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v2

    div-int/2addr v2, v7

    int-to-float v2, v2

    sub-float/2addr v1, v2

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterY:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v3

    div-int/2addr v3, v7

    int-to-float v3, v3

    sub-float/2addr v2, v3

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartY:F

    sub-float/2addr v2, v3

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartScale:F

    div-float v4, v3, v4

    mul-float v2, v2, v4

    sub-float/2addr v1, v2

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 15777
    invoke-direct {v0, v3}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    .line 15778
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->invalidateBlur()V

    .line 15779
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->invalidate()V

    goto/16 :goto_15

    .line 15780
    :cond_12
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getPointerCount()I

    move-result v2

    if-ne v2, v8, :cond_4d

    .line 15781
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->paintViewTouched:I

    if-ne v2, v8, :cond_13

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v2, :cond_13

    .line 15782
    invoke-virtual {v2}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getView()Landroid/view/View;

    move-result-object v2

    .line 15783
    invoke-static/range {p1 .. p1}, Landroid/view/MotionEvent;->obtain(Landroid/view/MotionEvent;)Landroid/view/MotionEvent;

    move-result-object v1

    .line 15784
    invoke-virtual {v2}, Landroid/view/View;->getX()F

    move-result v3

    neg-float v3, v3

    invoke-virtual {v2}, Landroid/view/View;->getY()F

    move-result v2

    neg-float v2, v2

    invoke-virtual {v1, v3, v2}, Landroid/view/MotionEvent;->offsetLocation(FF)V

    .line 15785
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v2, v1}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->onTouch(Landroid/view/MotionEvent;)Z

    .line 15786
    invoke-virtual {v1}, Landroid/view/MotionEvent;->recycle()V

    return v8

    .line 15789
    :cond_13
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    if-eqz v2, :cond_14

    .line 15790
    invoke-virtual {v2, v1}, Landroid/view/VelocityTracker;->addMovement(Landroid/view/MotionEvent;)V

    .line 15792
    :cond_14
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getX()F

    move-result v2

    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->moveStartX:F

    sub-float/2addr v2, v6

    invoke-static {v2}, Ljava/lang/Math;->abs(F)F

    move-result v2

    .line 15793
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v6

    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->dragY:F

    sub-float/2addr v6, v7

    invoke-static {v6}, Ljava/lang/Math;->abs(F)F

    move-result v6

    .line 15794
    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->touchSlop:I

    int-to-float v13, v7

    cmpl-float v13, v2, v13

    if-gtz v13, :cond_15

    int-to-float v7, v7

    cmpl-float v7, v6, v7

    if-lez v7, :cond_16

    .line 15795
    :cond_15
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->discardTap:Z

    .line 15796
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->hidePressedDrawables()V

    .line 15797
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->longPressRunnable:Ljava/lang/Runnable;

    invoke-static {v7}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    .line 15798
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    if-eqz v7, :cond_16

    invoke-virtual {v7}, Landroid/view/View;->getVisibility()I

    move-result v7

    if-nez v7, :cond_16

    return v8

    .line 15802
    :cond_16
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v7}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->canScrollAway()Z

    move-result v7

    if-eqz v7, :cond_19

    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v7, :cond_19

    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v7, v8, :cond_19

    iget-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->canDragDown:Z

    if-eqz v7, :cond_19

    iget-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->draggingDown:Z

    if-nez v7, :cond_19

    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    cmpl-float v7, v7, v11

    if-nez v7, :cond_19

    const/high16 v7, 0x41f00000    # 30.0f

    invoke-static {v7}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v7

    int-to-float v7, v7

    cmpl-float v7, v6, v7

    if-ltz v7, :cond_19

    div-float/2addr v6, v10

    cmpl-float v2, v6, v2

    if-lez v2, :cond_19

    .line 15803
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->draggingDown:Z

    .line 15804
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->hidePressedDrawables()V

    .line 15805
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->moving:Z

    .line 15806
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v1

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->dragY:F

    .line 15807
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-eqz v1, :cond_17

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getTag()Ljava/lang/Object;

    move-result-object v1

    if-eqz v1, :cond_17

    .line 15808
    invoke-direct {v0, v9, v8}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    goto :goto_2

    .line 15809
    :cond_17
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v1

    if-nez v1, :cond_18

    .line 15810
    invoke-direct {v0, v9, v8}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    .line 15811
    invoke-direct {v0, v9, v8}, Lorg/telegram/ui/PhotoViewer;->togglePhotosListView(ZZ)V

    .line 15812
    invoke-direct {v0, v9}, Lorg/telegram/ui/PhotoViewer;->toggleCheckImageView(Z)V

    :cond_18
    :goto_2
    return v8

    .line 15815
    :cond_19
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->draggingDown:Z

    if-eqz v2, :cond_1a

    .line 15816
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v1

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->dragY:F

    sub-float/2addr v1, v2

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 15817
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->invalidate()V

    goto/16 :goto_15

    .line 15818
    :cond_1a
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->invalidCoords:Z

    if-nez v2, :cond_27

    iget-wide v6, v0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    cmp-long v2, v6, v4

    if-nez v2, :cond_27

    .line 15819
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->moveStartX:F

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getX()F

    move-result v4

    sub-float/2addr v2, v4

    .line 15820
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->moveStartY:F

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v5

    sub-float/2addr v4, v5

    .line 15821
    iget-boolean v5, v0, Lorg/telegram/ui/PhotoViewer;->moving:Z

    if-nez v5, :cond_1c

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v5, :cond_1c

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    cmpl-float v5, v5, v11

    if-nez v5, :cond_1b

    invoke-static {v4}, Ljava/lang/Math;->abs(F)F

    move-result v5

    const/high16 v6, 0x41400000    # 12.0f

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v6

    int-to-float v6, v6

    add-float/2addr v5, v6

    invoke-static {v2}, Ljava/lang/Math;->abs(F)F

    move-result v6

    cmpg-float v5, v5, v6

    if-ltz v5, :cond_1c

    :cond_1b
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    cmpl-float v5, v5, v11

    if-eqz v5, :cond_4d

    .line 15822
    :cond_1c
    iget-boolean v5, v0, Lorg/telegram/ui/PhotoViewer;->moving:Z

    if-nez v5, :cond_1d

    .line 15825
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->moving:Z

    .line 15826
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->canDragDown:Z

    .line 15827
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->hidePressedDrawables()V

    const/4 v2, 0x0

    const/4 v4, 0x0

    .line 15830
    :cond_1d
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getX()F

    move-result v5

    iput v5, v0, Lorg/telegram/ui/PhotoViewer;->moveStartX:F

    .line 15831
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v1

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->moveStartY:F

    .line 15832
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    invoke-direct {v0, v1}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    .line 15833
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpg-float v1, v1, v5

    if-gez v1, :cond_1e

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v1, :cond_1f

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->hasImageSet()Z

    move-result v1

    if-eqz v1, :cond_1f

    :cond_1e
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpl-float v1, v1, v5

    if-lez v1, :cond_20

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v1, :cond_1f

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->hasImageSet()Z

    move-result v1

    if-nez v1, :cond_20

    :cond_1f
    div-float/2addr v2, v3

    .line 15836
    :cond_20
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->maxY:F

    cmpl-float v5, v1, v12

    if-nez v5, :cond_22

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->minY:F

    cmpl-float v6, v5, v12

    if-nez v6, :cond_22

    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v6, :cond_22

    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v6, v8, :cond_22

    .line 15837
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    sub-float v6, v3, v4

    cmpg-float v6, v6, v5

    if-gez v6, :cond_21

    .line 15838
    iput v5, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    goto :goto_4

    :cond_21
    sub-float/2addr v3, v4

    cmpl-float v3, v3, v1

    if-lez v3, :cond_23

    .line 15841
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    goto :goto_4

    .line 15845
    :cond_22
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->minY:F

    cmpg-float v6, v5, v6

    if-ltz v6, :cond_24

    cmpl-float v1, v5, v1

    if-lez v1, :cond_23

    goto :goto_3

    :cond_23
    move v12, v4

    goto :goto_4

    :cond_24
    :goto_3
    div-float v12, v4, v3

    .line 15850
    :goto_4
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    sub-float/2addr v1, v2

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 15851
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    cmpl-float v1, v1, v11

    if-nez v1, :cond_25

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eqz v1, :cond_26

    .line 15852
    :cond_25
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    sub-float/2addr v1, v12

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 15854
    :cond_26
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->invalidateBlur()V

    .line 15855
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->invalidate()V

    goto/16 :goto_15

    .line 15858
    :cond_27
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->invalidCoords:Z

    .line 15859
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getX()F

    move-result v2

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->moveStartX:F

    .line 15860
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v1

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->moveStartY:F

    goto/16 :goto_15

    .line 15863
    :cond_28
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getActionMasked()I

    move-result v2

    if-eq v2, v6, :cond_29

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getActionMasked()I

    move-result v2

    if-eq v2, v8, :cond_29

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getActionMasked()I

    move-result v2

    const/4 v4, 0x6

    if-ne v2, v4, :cond_4d

    .line 15864
    :cond_29
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->hidePressedDrawables()V

    .line 15865
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->longPressRunnable:Ljava/lang/Runnable;

    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    .line 15866
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->paintViewTouched:I

    if-ne v2, v8, :cond_2b

    .line 15867
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v2, :cond_2a

    .line 15868
    invoke-virtual {v2}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getView()Landroid/view/View;

    move-result-object v2

    .line 15869
    invoke-static/range {p1 .. p1}, Landroid/view/MotionEvent;->obtain(Landroid/view/MotionEvent;)Landroid/view/MotionEvent;

    move-result-object v1

    .line 15870
    invoke-virtual {v2}, Landroid/view/View;->getX()F

    move-result v3

    neg-float v3, v3

    invoke-virtual {v2}, Landroid/view/View;->getY()F

    move-result v2

    neg-float v2, v2

    invoke-virtual {v1, v3, v2}, Landroid/view/MotionEvent;->offsetLocation(FF)V

    .line 15871
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v2, v1}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->onTouch(Landroid/view/MotionEvent;)Z

    .line 15872
    invoke-virtual {v1}, Landroid/view/MotionEvent;->recycle()V

    .line 15874
    :cond_2a
    iput v9, v0, Lorg/telegram/ui/PhotoViewer;->paintViewTouched:I

    return v8

    .line 15877
    :cond_2b
    iput v9, v0, Lorg/telegram/ui/PhotoViewer;->paintViewTouched:I

    .line 15878
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->zooming:Z

    if-eqz v2, :cond_37

    .line 15879
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->invalidCoords:Z

    .line 15880
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    cmpg-float v2, v1, v11

    if-gez v2, :cond_2c

    .line 15881
    invoke-direct {v0, v11}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    .line 15882
    invoke-direct {v0, v11, v12, v12, v8}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZ)V

    goto/16 :goto_d

    :cond_2c
    cmpl-float v1, v1, v3

    if-lez v1, :cond_31

    .line 15884
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterX:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v2

    div-int/2addr v2, v7

    int-to-float v2, v2

    sub-float/2addr v1, v2

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterX:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v4

    div-int/2addr v4, v7

    int-to-float v4, v4

    sub-float/2addr v2, v4

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartX:F

    sub-float/2addr v2, v4

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartScale:F

    div-float v4, v3, v4

    mul-float v2, v2, v4

    sub-float/2addr v1, v2

    .line 15885
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterY:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v4

    div-int/2addr v4, v7

    int-to-float v4, v4

    sub-float/2addr v2, v4

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterY:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v5

    div-int/2addr v5, v7

    int-to-float v5, v5

    sub-float/2addr v4, v5

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartY:F

    sub-float/2addr v4, v5

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartScale:F

    div-float v5, v3, v5

    mul-float v4, v4, v5

    sub-float/2addr v2, v4

    .line 15886
    invoke-direct {v0, v3}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    .line 15887
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpg-float v5, v1, v4

    if-gez v5, :cond_2d

    :goto_5
    move v1, v4

    goto :goto_6

    .line 15889
    :cond_2d
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpl-float v5, v1, v4

    if-lez v5, :cond_2e

    goto :goto_5

    .line 15892
    :cond_2e
    :goto_6
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->minY:F

    cmpg-float v5, v2, v4

    if-gez v5, :cond_2f

    :goto_7
    move v2, v4

    goto :goto_8

    .line 15894
    :cond_2f
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->maxY:F

    cmpl-float v5, v2, v4

    if-lez v5, :cond_30

    goto :goto_7

    .line 15897
    :cond_30
    :goto_8
    invoke-direct {v0, v3, v1, v2, v8}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZ)V

    goto :goto_d

    .line 15899
    :cond_31
    invoke-direct {v0, v8}, Lorg/telegram/ui/PhotoViewer;->checkMinMax(Z)V

    .line 15900
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v1, v6, :cond_36

    .line 15901
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 15902
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 15903
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    invoke-direct {v0, v3}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    .line 15904
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpg-float v5, v3, v4

    if-gez v5, :cond_32

    :goto_9
    move v1, v4

    goto :goto_a

    .line 15906
    :cond_32
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpl-float v3, v3, v4

    if-lez v3, :cond_33

    goto :goto_9

    .line 15909
    :cond_33
    :goto_a
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->minY:F

    cmpg-float v5, v3, v4

    if-gez v5, :cond_34

    :goto_b
    move v2, v4

    goto :goto_c

    .line 15911
    :cond_34
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->maxY:F

    cmpl-float v3, v3, v4

    if-lez v3, :cond_35

    goto :goto_b

    .line 15914
    :cond_35
    :goto_c
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    invoke-direct {v0, v3, v1, v2, v9}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZ)V

    .line 15917
    :cond_36
    :goto_d
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->zooming:Z

    .line 15918
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->moving:Z

    goto/16 :goto_15

    .line 15919
    :cond_37
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->draggingDown:Z

    if-eqz v2, :cond_3b

    .line 15920
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->dragY:F

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v3

    sub-float/2addr v2, v3

    invoke-static {v2}, Ljava/lang/Math;->abs(F)F

    move-result v2

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v3

    int-to-float v3, v3

    const/high16 v4, 0x40c00000    # 6.0f

    div-float/2addr v3, v4

    cmpl-float v2, v2, v3

    if-lez v2, :cond_39

    .line 15921
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->enableSwipeToPiP()Z

    move-result v2

    if-eqz v2, :cond_38

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->dragY:F

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v1

    sub-float/2addr v2, v1

    cmpl-float v1, v2, v12

    if-lez v1, :cond_38

    .line 15922
    invoke-direct {v0, v8}, Lorg/telegram/ui/PhotoViewer;->switchToPip(Z)V

    goto :goto_e

    .line 15924
    :cond_38
    invoke-virtual {v0, v8, v9}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    goto :goto_e

    .line 15927
    :cond_39
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v1

    if-nez v1, :cond_3a

    .line 15928
    invoke-direct {v0, v8, v8}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    .line 15929
    invoke-direct {v0, v8}, Lorg/telegram/ui/PhotoViewer;->toggleCheckImageView(Z)V

    .line 15931
    :cond_3a
    invoke-direct {v0, v11, v12, v12, v9}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZ)V

    .line 15933
    :goto_e
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->draggingDown:Z

    goto/16 :goto_15

    .line 15934
    :cond_3b
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->moving:Z

    if-eqz v1, :cond_4d

    .line 15935
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 15936
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 15937
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    invoke-direct {v0, v3}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    .line 15938
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->moving:Z

    .line 15939
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->canDragDown:Z

    .line 15941
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    if-eqz v3, :cond_3c

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    cmpl-float v4, v4, v11

    if-nez v4, :cond_3c

    const/16 v4, 0x3e8

    .line 15942
    invoke-virtual {v3, v4}, Landroid/view/VelocityTracker;->computeCurrentVelocity(I)V

    .line 15943
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    invoke-virtual {v3}, Landroid/view/VelocityTracker;->getXVelocity()F

    move-result v12

    .line 15946
    :cond_3c
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v3, :cond_40

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v3, v8, :cond_40

    .line 15947
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->minX:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v5

    div-int/2addr v5, v6

    int-to-float v5, v5

    sub-float/2addr v4, v5

    const v5, 0x44228000    # 650.0f

    cmpg-float v3, v3, v4

    if-ltz v3, :cond_3d

    invoke-static {v5}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v3

    neg-int v3, v3

    int-to-float v3, v3

    cmpg-float v3, v12, v3

    if-gez v3, :cond_3e

    :cond_3d
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->hasImageSet()Z

    move-result v3

    if-eqz v3, :cond_3e

    .line 15948
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->goToNext()V

    return v8

    .line 15951
    :cond_3e
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v7

    div-int/2addr v7, v6

    int-to-float v6, v7

    add-float/2addr v4, v6

    cmpl-float v3, v3, v4

    if-gtz v3, :cond_3f

    invoke-static {v5}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v3

    int-to-float v3, v3

    cmpl-float v3, v12, v3

    if-lez v3, :cond_40

    :cond_3f
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->hasImageSet()Z

    move-result v3

    if-eqz v3, :cond_40

    .line 15952
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->goToPrev()V

    return v8

    .line 15957
    :cond_40
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpg-float v5, v3, v4

    if-gez v5, :cond_41

    :goto_f
    move v1, v4

    goto :goto_10

    .line 15959
    :cond_41
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpl-float v3, v3, v4

    if-lez v3, :cond_42

    goto :goto_f

    .line 15962
    :cond_42
    :goto_10
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->minY:F

    cmpg-float v5, v3, v4

    if-gez v5, :cond_43

    :goto_11
    move v2, v4

    goto :goto_12

    .line 15964
    :cond_43
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->maxY:F

    cmpl-float v3, v3, v4

    if-lez v3, :cond_44

    goto :goto_11

    .line 15967
    :cond_44
    :goto_12
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    invoke-direct {v0, v3, v1, v2, v9}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZ)V

    goto/16 :goto_15

    .line 15692
    :cond_45
    :goto_13
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->discardTap:Z

    .line 15693
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v2}, Landroid/widget/Scroller;->isFinished()Z

    move-result v2

    if-nez v2, :cond_46

    .line 15694
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v2}, Landroid/widget/Scroller;->abortAnimation()V

    .line 15696
    :cond_46
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->draggingDown:Z

    if-nez v2, :cond_4b

    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->changingPage:Z

    if-nez v2, :cond_4b

    .line 15697
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->canZoom:Z

    if-eqz v2, :cond_49

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getPointerCount()I

    move-result v2

    if-ne v2, v7, :cond_49

    .line 15698
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->paintViewTouched:I

    if-ne v2, v8, :cond_47

    const-wide/16 v11, 0x0

    const-wide/16 v13, 0x0

    const/4 v15, 0x3

    const/16 v16, 0x0

    const/16 v17, 0x0

    const/16 v18, 0x0

    .line 15699
    invoke-static/range {v11 .. v18}, Landroid/view/MotionEvent;->obtain(JJIFFI)Landroid/view/MotionEvent;

    move-result-object v2

    .line 15700
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v3, v2}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->onTouch(Landroid/view/MotionEvent;)Z

    .line 15701
    invoke-virtual {v2}, Landroid/view/MotionEvent;->recycle()V

    .line 15702
    iput v7, v0, Lorg/telegram/ui/PhotoViewer;->paintViewTouched:I

    .line 15704
    :cond_47
    invoke-virtual {v1, v8}, Landroid/view/MotionEvent;->getX(I)F

    move-result v2

    invoke-virtual {v1, v9}, Landroid/view/MotionEvent;->getX(I)F

    move-result v3

    sub-float/2addr v2, v3

    float-to-double v2, v2

    invoke-virtual {v1, v8}, Landroid/view/MotionEvent;->getY(I)F

    move-result v4

    invoke-virtual {v1, v9}, Landroid/view/MotionEvent;->getY(I)F

    move-result v5

    sub-float/2addr v4, v5

    float-to-double v4, v4

    invoke-static {v2, v3, v4, v5}, Ljava/lang/Math;->hypot(DD)D

    move-result-wide v2

    double-to-float v2, v2

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartDistance:F

    .line 15705
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartScale:F

    .line 15706
    invoke-virtual {v1, v9}, Landroid/view/MotionEvent;->getX(I)F

    move-result v2

    invoke-virtual {v1, v8}, Landroid/view/MotionEvent;->getX(I)F

    move-result v3

    add-float/2addr v2, v3

    div-float/2addr v2, v10

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterX:F

    .line 15707
    invoke-virtual {v1, v9}, Landroid/view/MotionEvent;->getY(I)F

    move-result v2

    invoke-virtual {v1, v8}, Landroid/view/MotionEvent;->getY(I)F

    move-result v3

    add-float/2addr v2, v3

    div-float/2addr v2, v10

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterY:F

    .line 15708
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartX:F

    .line 15709
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartY:F

    .line 15710
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->zooming:Z

    .line 15711
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->moving:Z

    .line 15712
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v3, v6, :cond_48

    .line 15713
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterX:F

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->moveStartX:F

    .line 15714
    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->moveStartY:F

    .line 15715
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->draggingDown:Z

    .line 15716
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->canDragDown:Z

    .line 15718
    :cond_48
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->hidePressedDrawables()V

    .line 15719
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    if-eqz v2, :cond_4b

    .line 15720
    invoke-virtual {v2}, Landroid/view/VelocityTracker;->clear()V

    goto :goto_14

    .line 15722
    :cond_49
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getPointerCount()I

    move-result v2

    if-ne v2, v8, :cond_4b

    .line 15723
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v2, v6, :cond_4a

    .line 15724
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->paintViewTouched:I

    if-nez v2, :cond_4b

    .line 15725
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getView()Landroid/view/View;

    move-result-object v2

    .line 15726
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->hitRect:Landroid/graphics/Rect;

    invoke-virtual {v2, v3}, Landroid/view/View;->getHitRect(Landroid/graphics/Rect;)V

    .line 15727
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->hitRect:Landroid/graphics/Rect;

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getX()F

    move-result v4

    float-to-int v4, v4

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v5

    float-to-int v5, v5

    invoke-virtual {v3, v4, v5}, Landroid/graphics/Rect;->contains(II)Z

    move-result v3

    if-eqz v3, :cond_4b

    .line 15728
    invoke-static/range {p1 .. p1}, Landroid/view/MotionEvent;->obtain(Landroid/view/MotionEvent;)Landroid/view/MotionEvent;

    move-result-object v3

    .line 15729
    invoke-virtual {v2}, Landroid/view/View;->getX()F

    move-result v4

    neg-float v4, v4

    invoke-virtual {v2}, Landroid/view/View;->getY()F

    move-result v2

    neg-float v2, v2

    invoke-virtual {v3, v4, v2}, Landroid/view/MotionEvent;->offsetLocation(FF)V

    .line 15730
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v2, v3}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->onTouch(Landroid/view/MotionEvent;)Z

    .line 15731
    invoke-virtual {v3}, Landroid/view/MotionEvent;->recycle()V

    .line 15732
    iput v8, v0, Lorg/telegram/ui/PhotoViewer;->paintViewTouched:I

    goto :goto_14

    .line 15736
    :cond_4a
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getX()F

    move-result v2

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->moveStartX:F

    .line 15737
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v2

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->moveStartY:F

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->dragY:F

    .line 15738
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->draggingDown:Z

    .line 15739
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->canDragDown:Z

    .line 15740
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    if-eqz v2, :cond_4b

    .line 15741
    invoke-virtual {v2}, Landroid/view/VelocityTracker;->clear()V

    .line 15746
    :cond_4b
    :goto_14
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getActionMasked()I

    move-result v2

    if-nez v2, :cond_4c

    .line 15747
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getX()F

    move-result v1

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->longPressX:F

    .line 15748
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->longPressRunnable:Ljava/lang/Runnable;

    const-wide/16 v2, 0x12c

    invoke-static {v1, v2, v3}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;J)V

    goto :goto_15

    .line 15750
    :cond_4c
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->longPressRunnable:Ljava/lang/Runnable;

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    :cond_4d
    :goto_15
    return v9

    .line 15671
    :cond_4e
    :goto_16
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getAction()I

    move-result v1

    if-ne v1, v8, :cond_4f

    .line 15672
    invoke-direct {v0, v8}, Lorg/telegram/ui/PhotoViewer;->closeCaptionEnter(Z)V

    :cond_4f
    :goto_17
    return v8

    :cond_50
    :goto_18
    return v9
.end method

.method private onUserLeaveHint()V
    .locals 4

    .line 7732
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getAlpha()F

    move-result v0

    const/high16 v1, 0x3f800000    # 1.0f

    cmpl-float v0, v0, v1

    if-nez v0, :cond_4

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->checkInlinePermissions(Landroid/content/Context;)Z

    move-result v0

    if-eqz v0, :cond_4

    invoke-static {}, Lorg/telegram/ui/Components/PipVideoOverlay;->isVisible()Z

    move-result v0

    if-nez v0, :cond_4

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    if-nez v0, :cond_0

    goto :goto_0

    .line 7735
    :cond_0
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    const/4 v2, 0x0

    if-eqz v0, :cond_3

    .line 7736
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_4

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isInAppOnly()Z

    move-result v0

    if-nez v0, :cond_4

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->openInPip()Z

    move-result v0

    if-eqz v0, :cond_4

    .line 7737
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->pipVideoOverlayAnimateFlag:Z

    .line 7739
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    if-eqz v0, :cond_1

    .line 7740
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    invoke-virtual {v0}, Lorg/telegram/ui/PhotoViewer;->destroyPhotoViewer()V

    :cond_1
    const/4 v0, 0x1

    .line 7742
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isInline:Z

    .line 7743
    sget-object v3, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    sput-object v3, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    const/4 v3, 0x0

    .line 7744
    sput-object v3, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    .line 7745
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    .line 7746
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    if-eqz v2, :cond_2

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v2}, Lorg/telegram/messenger/ImageReceiver;->getVisible()Z

    move-result v2

    if-nez v2, :cond_2

    .line 7747
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v2, v0, v0}, Lorg/telegram/messenger/ImageReceiver;->setVisible(ZZ)V

    .line 7749
    :cond_2
    iput v1, p0, Lorg/telegram/ui/PhotoViewer;->clippingImageProgress:F

    .line 7750
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    .line 7751
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->dismissInternal()V

    goto :goto_0

    .line 7754
    :cond_3
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->pipVideoOverlayAnimateFlag:Z

    .line 7756
    invoke-direct {p0, v2}, Lorg/telegram/ui/PhotoViewer;->switchToPip(Z)V

    :cond_4
    :goto_0
    return-void
.end method

.method private openCurrentPhotoInPaintModeForSelect()V
    .locals 12

    .line 14135
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->canSendMediaToParentChatActivity()Z

    move-result v0

    if-nez v0, :cond_0

    return-void

    .line 14144
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    const/4 v1, 0x1

    const/4 v2, 0x0

    const/4 v3, 0x0

    if-eqz v0, :cond_5

    .line 14146
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->canEditMedia()Z

    move-result v4

    if-eqz v4, :cond_1

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v4}, Lorg/telegram/messenger/MessageObject;->isDocument()Z

    move-result v4

    if-nez v4, :cond_1

    const/4 v4, 0x1

    goto :goto_0

    :cond_1
    const/4 v4, 0x0

    .line 14147
    :goto_0
    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v5}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v5

    .line 14148
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v6, v6, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v6, v6, Lorg/telegram/tgnet/TLRPC$Message;->attachPath:Ljava/lang/String;

    invoke-static {v6}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v6

    if-nez v6, :cond_3

    .line 14149
    new-instance v6, Ljava/io/File;

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v7, v7, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v7, v7, Lorg/telegram/tgnet/TLRPC$Message;->attachPath:Ljava/lang/String;

    invoke-direct {v6, v7}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 14150
    invoke-virtual {v6}, Ljava/io/File;->exists()Z

    move-result v7

    if-nez v7, :cond_2

    goto :goto_1

    :cond_2
    move-object v2, v6

    :cond_3
    :goto_1
    if-nez v2, :cond_4

    .line 14155
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v6, v6, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-virtual {v2, v6}, Lorg/telegram/messenger/FileLoader;->getPathToMessage(Lorg/telegram/tgnet/TLRPC$Message;)Ljava/io/File;

    move-result-object v2

    :cond_4
    move-object v10, v0

    move-object v8, v2

    move v11, v4

    move v9, v5

    goto :goto_2

    :cond_5
    move-object v8, v2

    move-object v10, v8

    const/4 v9, 0x0

    const/4 v11, 0x0

    :goto_2
    if-eqz v8, :cond_6

    .line 14159
    invoke-virtual {v8}, Ljava/io/File;->exists()Z

    move-result v0

    if-eqz v0, :cond_6

    .line 14160
    new-instance v0, Lorg/telegram/ui/PhotoViewer$SavedState;

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    new-instance v4, Ljava/util/ArrayList;

    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-direct {v4, v5}, Ljava/util/ArrayList;-><init>(Ljava/util/Collection;)V

    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-direct {v0, p0, v2, v4, v5}, Lorg/telegram/ui/PhotoViewer$SavedState;-><init>(Lorg/telegram/ui/PhotoViewer;ILjava/util/ArrayList;Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->savedState:Lorg/telegram/ui/PhotoViewer$SavedState;

    .line 14162
    new-instance v0, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    invoke-direct {v0}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;-><init>()V

    invoke-virtual {v0, v3}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableStatusBarAnimation(Z)Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    move-result-object v0

    .line 14163
    invoke-direct {p0, v3, v1, v0}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZLorg/telegram/ui/PhotoViewer$ActionBarToggleParams;)V

    .line 14169
    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda71;

    move-object v6, v1

    move-object v7, p0

    invoke-direct/range {v6 .. v11}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda71;-><init>(Lorg/telegram/ui/PhotoViewer;Ljava/io/File;ZLorg/telegram/messenger/MessageObject;Z)V

    iget v0, v0, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->animationDuration:I

    int-to-long v2, v0

    invoke-static {v1, v2, v3}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;J)V

    goto :goto_3

    .line 14271
    :cond_6
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->showDownloadAlert()V

    :goto_3
    return-void
.end method

.method private pauseVideoOrWeb()V
    .locals 1

    .line 8521
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_0

    .line 8522
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->pause()V

    goto :goto_0

    .line 8523
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_1

    .line 8524
    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->pauseVideo()V

    :cond_1
    :goto_0
    return-void
.end method

.method private playOrStopAnimatedStickers(Z)V
    .locals 4

    .line 9262
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    if-eqz v0, :cond_3

    const/4 v1, 0x0

    .line 9263
    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    :goto_0
    if-ge v1, v0, :cond_3

    .line 9264
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    invoke-virtual {v2, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;

    .line 9265
    iget-byte v3, v2, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;->type:B

    if-nez v3, :cond_2

    iget-byte v3, v2, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;->subType:B

    and-int/lit8 v3, v3, 0x1

    if-eqz v3, :cond_2

    iget-object v2, v2, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;->view:Landroid/view/View;

    instance-of v3, v2, Lorg/telegram/ui/Components/BackupImageView;

    if-eqz v3, :cond_2

    .line 9266
    check-cast v2, Lorg/telegram/ui/Components/BackupImageView;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/BackupImageView;->getImageReceiver()Lorg/telegram/messenger/ImageReceiver;

    move-result-object v2

    .line 9267
    invoke-virtual {v2}, Lorg/telegram/messenger/ImageReceiver;->getLottieAnimation()Lorg/telegram/ui/Components/RLottieDrawable;

    move-result-object v2

    if-nez v2, :cond_0

    goto :goto_1

    :cond_0
    if-eqz p1, :cond_1

    .line 9272
    invoke-virtual {v2}, Lorg/telegram/ui/Components/RLottieDrawable;->start()V

    goto :goto_1

    .line 9274
    :cond_1
    invoke-virtual {v2}, Lorg/telegram/ui/Components/RLottieDrawable;->stop()V

    :cond_2
    :goto_1
    add-int/lit8 v1, v1, 0x1

    goto :goto_0

    :cond_3
    return-void
.end method

.method private playVideoOrWeb()V
    .locals 1

    .line 8513
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_0

    .line 8514
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->play()V

    goto :goto_0

    .line 8515
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_1

    .line 8516
    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->playVideo()V

    :cond_1
    :goto_0
    return-void
.end method

.method private postProcessTranslated(Lorg/telegram/messenger/MessageObject;)Ljava/lang/CharSequence;
    .locals 10

    if-eqz p1, :cond_5

    .line 12603
    iget-object v0, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    if-nez v0, :cond_0

    goto/16 :goto_2

    .line 12606
    :cond_0
    new-instance v0, Landroid/text/SpannableStringBuilder;

    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$Message;->translatedText:Lorg/telegram/tgnet/TLRPC$TL_textWithEntities;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$TL_textWithEntities;->text:Ljava/lang/String;

    invoke-direct {v0, v1}, Landroid/text/SpannableStringBuilder;-><init>(Ljava/lang/CharSequence;)V

    .line 12607
    sget-object v1, Lorg/telegram/ui/ActionBar/Theme;->chat_msgTextPaint:Landroid/text/TextPaint;

    invoke-virtual {v1}, Landroid/text/TextPaint;->getFontMetricsInt()Landroid/graphics/Paint$FontMetricsInt;

    move-result-object v1

    const/high16 v2, 0x41a00000    # 20.0f

    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v2

    const/4 v3, 0x0

    invoke-static {v0, v1, v2, v3}, Lorg/telegram/messenger/Emoji;->replaceEmoji(Ljava/lang/CharSequence;Landroid/graphics/Paint$FontMetricsInt;IZ)Ljava/lang/CharSequence;

    move-result-object v0

    .line 12608
    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$Message;->translatedText:Lorg/telegram/tgnet/TLRPC$TL_textWithEntities;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$TL_textWithEntities;->entities:Ljava/util/ArrayList;

    sget-object v2, Lorg/telegram/ui/ActionBar/Theme;->chat_msgTextPaint:Landroid/text/TextPaint;

    invoke-virtual {v2}, Landroid/text/TextPaint;->getFontMetricsInt()Landroid/graphics/Paint$FontMetricsInt;

    move-result-object v2

    invoke-static {v0, v1, v2, v3}, Lorg/telegram/messenger/MessageObject;->replaceAnimatedEmoji(Ljava/lang/CharSequence;Ljava/util/ArrayList;Landroid/graphics/Paint$FontMetricsInt;Z)Landroid/text/Spannable;

    move-result-object v0

    .line 12609
    invoke-static {v0}, Lorg/telegram/messenger/MessageObject;->containsUrls(Ljava/lang/CharSequence;)Z

    move-result v1

    if-eqz v1, :cond_1

    const/4 v1, 0x5

    .line 12611
    :try_start_0
    invoke-static {v0, v1}, Lorg/telegram/messenger/AndroidUtilities;->addLinks(Landroid/text/Spannable;I)Z
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_0

    :catch_0
    move-exception v1

    .line 12613
    invoke-static {v1}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    .line 12616
    :cond_1
    :goto_0
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->isOutOwner()Z

    move-result v4

    const/4 v6, 0x1

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x1

    move-object v5, v0

    invoke-static/range {v4 .. v9}, Lorg/telegram/messenger/MessageObject;->addUrlsByPattern(ZLjava/lang/CharSequence;ZIIZ)V

    .line 12617
    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$Message;->translatedText:Lorg/telegram/tgnet/TLRPC$TL_textWithEntities;

    iget-object v5, v1, Lorg/telegram/tgnet/TLRPC$TL_textWithEntities;->entities:Ljava/util/ArrayList;

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->isOutOwner()Z

    move-result v6

    const/4 v7, 0x1

    const/4 v8, 0x1

    move-object v4, v0

    invoke-static/range {v4 .. v9}, Lorg/telegram/messenger/MessageObject;->addEntitiesToText(Ljava/lang/CharSequence;Ljava/util/ArrayList;ZZZZ)Z

    .line 12618
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v1

    if-eqz v1, :cond_2

    .line 12619
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->isOutOwner()Z

    move-result v4

    const/4 v6, 0x1

    const/4 v7, 0x3

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getDuration()D

    move-result-wide v1

    double-to-int v8, v1

    const/4 v9, 0x0

    move-object v5, v0

    invoke-static/range {v4 .. v9}, Lorg/telegram/messenger/MessageObject;->addUrlsByPattern(ZLjava/lang/CharSequence;ZIIZ)V

    goto :goto_1

    .line 12620
    :cond_2
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->isMusic()Z

    move-result v1

    if-nez v1, :cond_3

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->isVoice()Z

    move-result v1

    if-eqz v1, :cond_4

    .line 12621
    :cond_3
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->isOutOwner()Z

    move-result v4

    const/4 v6, 0x1

    const/4 v7, 0x4

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getDuration()D

    move-result-wide v1

    double-to-int v8, v1

    const/4 v9, 0x0

    move-object v5, v0

    invoke-static/range {v4 .. v9}, Lorg/telegram/messenger/MessageObject;->addUrlsByPattern(ZLjava/lang/CharSequence;ZIIZ)V

    :cond_4
    :goto_1
    return-object v0

    :cond_5
    :goto_2
    const-string p1, ""

    return-object p1
.end method

.method private preparePlayer(Landroid/net/Uri;ZZ)V
    .locals 1

    const/4 v0, 0x0

    .line 8537
    invoke-direct {p0, p1, p2, p3, v0}, Lorg/telegram/ui/PhotoViewer;->preparePlayer(Landroid/net/Uri;ZZLorg/telegram/messenger/MediaController$SavedFilterState;)V

    return-void
.end method

.method private preparePlayer(Landroid/net/Uri;ZZLorg/telegram/messenger/MediaController$SavedFilterState;)V
    .locals 18

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move/from16 v2, p3

    if-nez v2, :cond_0

    .line 8542
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentPlayingVideoFile:Landroid/net/Uri;

    .line 8544
    :cond_0
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-nez v3, :cond_1

    return-void

    :cond_1
    const/4 v3, 0x0

    .line 8547
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->streamingAlertShown:Z

    .line 8548
    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v4

    iput-wide v4, v0, Lorg/telegram/ui/PhotoViewer;->startedPlayTime:J

    .line 8549
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->currentVideoFinishedLoading:Z

    const-wide/16 v4, 0x0

    .line 8550
    iput-wide v4, v0, Lorg/telegram/ui/PhotoViewer;->lastBufferedPositionCheck:J

    const/4 v6, 0x1

    .line 8551
    iput-boolean v6, v0, Lorg/telegram/ui/PhotoViewer;->firstAnimationDelay:Z

    .line 8552
    iput-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->inPreview:Z

    .line 8553
    invoke-direct {v0, v3}, Lorg/telegram/ui/PhotoViewer;->releasePlayer(Z)V

    .line 8554
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v7

    const/4 v8, 0x0

    if-eqz v7, :cond_2

    .line 8555
    invoke-direct {v0, v8}, Lorg/telegram/ui/PhotoViewer;->createVideoTextureView(Lorg/telegram/messenger/MediaController$SavedFilterState;)V

    .line 8557
    :cond_2
    sget v7, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v9, 0x15

    const/4 v10, 0x4

    const/4 v11, 0x0

    if-lt v7, v9, :cond_3

    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    if-nez v7, :cond_3

    .line 8558
    new-instance v7, Landroid/widget/ImageView;

    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v7, v9}, Landroid/widget/ImageView;-><init>(Landroid/content/Context;)V

    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    const/high16 v9, -0x10000

    .line 8559
    invoke-virtual {v7, v9}, Landroid/widget/ImageView;->setBackgroundColor(I)V

    .line 8560
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v7, v11}, Landroid/widget/ImageView;->setPivotX(F)V

    .line 8561
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v7, v11}, Landroid/widget/ImageView;->setPivotY(F)V

    .line 8562
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v7, v10}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 8563
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v7, v9}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;)V

    .line 8565
    :cond_3
    invoke-virtual/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->checkFullscreenButton()V

    .line 8567
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->orientationEventListener:Landroid/view/OrientationEventListener;

    if-nez v7, :cond_5

    .line 8568
    new-instance v7, Lorg/telegram/ui/PhotoViewer$46;

    sget-object v9, Lorg/telegram/messenger/ApplicationLoader;->applicationContext:Landroid/content/Context;

    invoke-direct {v7, v0, v9}, Lorg/telegram/ui/PhotoViewer$46;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->orientationEventListener:Landroid/view/OrientationEventListener;

    .line 8596
    invoke-virtual {v7}, Landroid/view/OrientationEventListener;->canDetectOrientation()Z

    move-result v7

    if-eqz v7, :cond_4

    .line 8597
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->orientationEventListener:Landroid/view/OrientationEventListener;

    invoke-virtual {v7}, Landroid/view/OrientationEventListener;->enable()V

    goto :goto_0

    .line 8599
    :cond_4
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->orientationEventListener:Landroid/view/OrientationEventListener;

    invoke-virtual {v7}, Landroid/view/OrientationEventListener;->disable()V

    .line 8600
    iput-object v8, v0, Lorg/telegram/ui/PhotoViewer;->orientationEventListener:Landroid/view/OrientationEventListener;

    .line 8604
    :cond_5
    :goto_0
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    .line 8605
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    .line 8606
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeStarted:Z

    .line 8608
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->playerWasReady:Z

    .line 8609
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->playerWasPlaying:Z

    const-wide/16 v12, -0x1

    .line 8610
    iput-wide v12, v0, Lorg/telegram/ui/PhotoViewer;->captureFrameReadyAtTime:J

    .line 8611
    iput-wide v12, v0, Lorg/telegram/ui/PhotoViewer;->captureFrameAtTime:J

    .line 8612
    iput-wide v12, v0, Lorg/telegram/ui/PhotoViewer;->needCaptureFrameReadyAtTime:J

    .line 8613
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->firstFrameRendered:Z

    .line 8614
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-nez v7, :cond_a

    .line 8615
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->injectingVideoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v7, :cond_6

    .line 8616
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    .line 8617
    iput-object v8, v0, Lorg/telegram/ui/PhotoViewer;->injectingVideoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    .line 8618
    iput-boolean v6, v0, Lorg/telegram/ui/PhotoViewer;->playerInjected:Z

    .line 8619
    invoke-virtual {v7}, Lorg/telegram/ui/Components/VideoPlayer;->getPlayWhenReady()Z

    move-result v7

    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v9}, Lorg/telegram/ui/Components/VideoPlayer;->getPlaybackState()I

    move-result v9

    invoke-direct {v0, v7, v9}, Lorg/telegram/ui/PhotoViewer;->updatePlayerState(ZI)V

    const/4 v7, 0x0

    goto :goto_1

    .line 8621
    :cond_6
    new-instance v7, Lorg/telegram/ui/PhotoViewer$47;

    invoke-direct {v7, v0}, Lorg/telegram/ui/PhotoViewer$47;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    const/4 v7, 0x1

    .line 8655
    :goto_1
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v9, :cond_7

    .line 8656
    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v12, v9}, Lorg/telegram/ui/Components/VideoPlayer;->setTextureView(Landroid/view/TextureView;)V

    goto :goto_2

    .line 8657
    :cond_7
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    if-eqz v9, :cond_8

    .line 8658
    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v12, v9}, Lorg/telegram/ui/Components/VideoPlayer;->setSurfaceView(Landroid/view/SurfaceView;)V

    .line 8661
    :cond_8
    :goto_2
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v9, :cond_9

    .line 8662
    invoke-virtual {v9}, Lorg/telegram/ui/PhotoViewer$FirstFrameView;->clear()V

    .line 8664
    :cond_9
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    new-instance v12, Lorg/telegram/ui/PhotoViewer$48;

    invoke-direct {v12, v0}, Lorg/telegram/ui/PhotoViewer$48;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v9, v12}, Lorg/telegram/ui/Components/VideoPlayer;->setDelegate(Lorg/telegram/ui/Components/VideoPlayer$VideoPlayerDelegate;)V

    goto :goto_3

    :cond_a
    const/4 v7, 0x0

    .line 8784
    :goto_3
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v9}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v9

    if-nez v9, :cond_b

    move-object/from16 v9, p4

    .line 8785
    invoke-direct {v0, v9}, Lorg/telegram/ui/PhotoViewer;->createVideoTextureView(Lorg/telegram/messenger/MediaController$SavedFilterState;)V

    .line 8787
    :cond_b
    iput v11, v0, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    .line 8788
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v9, :cond_c

    .line 8789
    invoke-virtual {v9, v11}, Landroid/view/TextureView;->setAlpha(F)V

    .line 8791
    :cond_c
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    if-eqz v9, :cond_d

    .line 8792
    invoke-virtual {v9, v10}, Landroid/view/SurfaceView;->setVisibility(I)V

    .line 8794
    :cond_d
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    if-eqz v9, :cond_e

    .line 8795
    iget v10, v0, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    invoke-virtual {v9, v10}, Lorg/telegram/ui/Components/PaintingOverlay;->setAlpha(F)V

    .line 8798
    :cond_e
    iput-object v8, v0, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideo:Ljava/lang/String;

    .line 8799
    iput-object v8, v0, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideoShortTerm:Ljava/lang/String;

    .line 8800
    iput-wide v4, v0, Lorg/telegram/ui/PhotoViewer;->lastSaveTime:J

    const/high16 v4, -0x40800000    # -1.0f

    if-eqz v7, :cond_16

    .line 8802
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending2:F

    iput v5, v0, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending:F

    .line 8803
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {v5, v11}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setProgress(F)V

    .line 8804
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v5}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v7

    invoke-virtual {v5, v7}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setProgress(F)V

    .line 8805
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {v5, v11}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setBufferedProgress(F)V

    .line 8807
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v5, :cond_15

    .line 8808
    invoke-virtual {v5}, Lorg/telegram/messenger/MessageObject;->getDuration()D

    move-result-wide v9

    double-to-int v5, v9

    .line 8809
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v7}, Lorg/telegram/messenger/MessageObject;->getFileName()Ljava/lang/String;

    move-result-object v7

    .line 8810
    invoke-static {v7}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v9

    if-nez v9, :cond_15

    const/16 v9, 0x258

    const v10, 0x3f7fbe77    # 0.999f

    if-lt v5, v9, :cond_10

    .line 8812
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget v5, v5, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    cmpg-float v5, v5, v11

    if-gez v5, :cond_f

    .line 8813
    sget-object v5, Lorg/telegram/messenger/ApplicationLoader;->applicationContext:Landroid/content/Context;

    const-string v8, "media_saved_pos"

    invoke-virtual {v5, v8, v3}, Landroid/content/Context;->getSharedPreferences(Ljava/lang/String;I)Landroid/content/SharedPreferences;

    move-result-object v5

    .line 8814
    invoke-interface {v5, v7, v4}, Landroid/content/SharedPreferences;->getFloat(Ljava/lang/String;F)F

    move-result v5

    cmpl-float v8, v5, v11

    if-lez v8, :cond_f

    cmpg-float v8, v5, v10

    if-gez v8, :cond_f

    .line 8816
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iput v5, v8, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    .line 8817
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {v8, v5}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setProgress(F)V

    .line 8820
    :cond_f
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideo:Ljava/lang/String;

    goto :goto_6

    :cond_10
    const/16 v9, 0xa

    if-lt v5, v9, :cond_15

    .line 8823
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->savedVideoPositions:Landroidx/collection/ArrayMap;

    invoke-virtual {v5}, Landroidx/collection/SimpleArrayMap;->size()I

    move-result v5

    sub-int/2addr v5, v6

    :goto_4
    if-ltz v5, :cond_13

    .line 8824
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->savedVideoPositions:Landroidx/collection/ArrayMap;

    invoke-virtual {v9, v5}, Landroidx/collection/SimpleArrayMap;->valueAt(I)Ljava/lang/Object;

    move-result-object v9

    check-cast v9, Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;

    .line 8825
    iget-wide v12, v9, Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;->timestamp:J

    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v14

    const-wide/16 v16, 0x1388

    sub-long v14, v14, v16

    cmp-long v16, v12, v14

    if-gez v16, :cond_11

    .line 8826
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->savedVideoPositions:Landroidx/collection/ArrayMap;

    invoke-virtual {v9, v5}, Landroidx/collection/SimpleArrayMap;->removeAt(I)Ljava/lang/Object;

    goto :goto_5

    :cond_11
    if-nez v8, :cond_12

    .line 8827
    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->savedVideoPositions:Landroidx/collection/ArrayMap;

    invoke-virtual {v12, v5}, Landroidx/collection/SimpleArrayMap;->keyAt(I)Ljava/lang/Object;

    move-result-object v12

    check-cast v12, Ljava/lang/String;

    invoke-virtual {v12, v7}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v12

    if-eqz v12, :cond_12

    move-object v8, v9

    :cond_12
    :goto_5
    add-int/lit8 v5, v5, -0x1

    goto :goto_4

    .line 8831
    :cond_13
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v5, :cond_14

    iget v9, v5, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    cmpg-float v9, v9, v11

    if-gez v9, :cond_14

    if-eqz v8, :cond_14

    .line 8832
    iget v8, v8, Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;->position:F

    cmpl-float v9, v8, v11

    if-lez v9, :cond_14

    cmpg-float v9, v8, v10

    if-gez v9, :cond_14

    .line 8834
    iput v8, v5, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    .line 8835
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {v5, v8}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setProgress(F)V

    .line 8838
    :cond_14
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideoShortTerm:Ljava/lang/String;

    .line 8843
    :cond_15
    :goto_6
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    const-string v7, "other"

    invoke-virtual {v5, v1, v7}, Lorg/telegram/ui/Components/VideoPlayer;->preparePlayer(Landroid/net/Uri;Ljava/lang/String;)V

    .line 8844
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    move/from16 v5, p2

    invoke-virtual {v1, v5}, Lorg/telegram/ui/Components/VideoPlayer;->setPlayWhenReady(Z)V

    .line 8847
    :cond_16
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v1, :cond_17

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->getDuration()D

    move-result-wide v7

    const-wide/high16 v9, 0x403e000000000000L    # 30.0

    cmpg-double v1, v7, v9

    if-lez v1, :cond_18

    :cond_17
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v1, :cond_19

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v1, v5}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isHardwarePlayer(I)Z

    move-result v1

    if-eqz v1, :cond_19

    :cond_18
    const/4 v1, 0x1

    goto :goto_7

    :cond_19
    const/4 v1, 0x0

    :goto_7
    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->playerLooping:Z

    .line 8848
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    invoke-virtual {v5, v1}, Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;->setSeekBarTransitionEnabled(Z)V

    .line 8849
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    iget-boolean v5, v0, Lorg/telegram/ui/PhotoViewer;->playerLooping:Z

    invoke-virtual {v1, v5}, Lorg/telegram/ui/Components/VideoPlayer;->setLooping(Z)V

    .line 8851
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v1, :cond_1a

    iget v5, v1, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    cmpl-float v7, v5, v11

    if-ltz v7, :cond_1a

    .line 8852
    iput v5, v0, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending:F

    .line 8853
    iput v4, v1, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    .line 8856
    :cond_1a
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v1, :cond_1c

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->type:Ljava/lang/String;

    const-string v4, "video"

    invoke-virtual {v1, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v1

    if-nez v1, :cond_1b

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->isVideoDocument(Lorg/telegram/tgnet/TLRPC$Document;)Z

    move-result v1

    if-eqz v1, :cond_1c

    .line 8857
    :cond_1b
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v1, v3}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 8858
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/high16 v4, 0x42a80000    # 84.0f

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v4

    invoke-virtual {v1, v3, v3, v4, v3}, Landroid/widget/FrameLayout;->setPadding(IIII)V

    .line 8859
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    const/16 v4, 0x8

    invoke-virtual {v1, v4}, Landroid/widget/FrameLayout;->setVisibility(I)V

    goto :goto_8

    .line 8861
    :cond_1c
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v1, v3, v3, v3, v3}, Landroid/widget/FrameLayout;->setPadding(IIII)V

    .line 8864
    :goto_8
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v1, :cond_1d

    .line 8865
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v1, v3}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 8867
    :cond_1d
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v1, :cond_1e

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v1, v4}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isHardwarePlayer(I)Z

    move-result v1

    if-eqz v1, :cond_1e

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v1, v4}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isVideo(I)Z

    move-result v1

    if-nez v1, :cond_1e

    .line 8868
    invoke-direct {v0, v3, v6}, Lorg/telegram/ui/PhotoViewer;->setVideoPlayerControlVisible(ZZ)V

    goto :goto_9

    .line 8870
    :cond_1e
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    xor-int/2addr v1, v6

    invoke-direct {v0, v1, v6}, Lorg/telegram/ui/PhotoViewer;->setVideoPlayerControlVisible(ZZ)V

    .line 8872
    :goto_9
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v1, :cond_20

    .line 8873
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->playerAutoStarted:Z

    if-eqz v1, :cond_1f

    const/16 v1, 0xbb8

    goto :goto_a

    :cond_1f
    const/16 v1, 0x3e8

    :goto_a
    invoke-direct {v0, v1}, Lorg/telegram/ui/PhotoViewer;->scheduleActionBarHide(I)V

    .line 8875
    :cond_20
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v1, :cond_21

    .line 8876
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    invoke-virtual {v1, v3}, Lorg/telegram/ui/Components/VideoPlayer;->setPlaybackSpeed(F)V

    .line 8879
    :cond_21
    iput-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->inPreview:Z

    return-void
.end method

.method private prepareRealEncoderBitrate()V
    .locals 7

    .line 17897
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    if-eqz v0, :cond_1

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v1, 0x1

    if-eq v0, v1, :cond_1

    .line 17898
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->calculateResultVideoSize()Lorg/telegram/messenger/camera/Size;

    move-result-object v0

    .line 17899
    invoke-virtual {v0}, Lorg/telegram/messenger/camera/Size;->getWidth()I

    move-result v1

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    const/4 v3, 0x0

    if-ne v1, v2, :cond_0

    invoke-virtual {v0}, Lorg/telegram/messenger/camera/Size;->getHeight()I

    move-result v1

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    if-ne v1, v2, :cond_0

    .line 17900
    invoke-virtual {v0}, Lorg/telegram/messenger/camera/Size;->getWidth()I

    move-result v1

    invoke-virtual {v0}, Lorg/telegram/messenger/camera/Size;->getHeight()I

    move-result v0

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->originalBitrate:I

    invoke-static {v1, v0, v2, v3}, Lorg/telegram/messenger/MediaController;->extractRealEncoderBitrate(IIIZ)I

    goto :goto_0

    .line 17902
    :cond_0
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->originalBitrate:I

    invoke-virtual {v0}, Lorg/telegram/messenger/camera/Size;->getHeight()I

    move-result v5

    invoke-virtual {v0}, Lorg/telegram/messenger/camera/Size;->getWidth()I

    move-result v6

    invoke-static {v1, v2, v4, v5, v6}, Lorg/telegram/messenger/MediaController;->makeVideoBitrate(IIIII)I

    move-result v1

    .line 17903
    invoke-virtual {v0}, Lorg/telegram/messenger/camera/Size;->getWidth()I

    move-result v2

    invoke-virtual {v0}, Lorg/telegram/messenger/camera/Size;->getHeight()I

    move-result v0

    invoke-static {v2, v0, v1, v3}, Lorg/telegram/messenger/MediaController;->extractRealEncoderBitrate(IIIZ)I

    :cond_1
    :goto_0
    return-void
.end method

.method private processOpenVideo(Ljava/lang/String;ZFFI)V
    .locals 3

    .line 18053
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentLoadingVideoRunnable:Ljava/lang/Runnable;

    const/4 v1, 0x0

    if-eqz v0, :cond_0

    .line 18054
    sget-object v0, Lorg/telegram/messenger/Utilities;->globalQueue:Lorg/telegram/messenger/DispatchQueue;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentLoadingVideoRunnable:Ljava/lang/Runnable;

    invoke-virtual {v0, v2}, Lorg/telegram/messenger/DispatchQueue;->cancelRunnable(Ljava/lang/Runnable;)V

    .line 18055
    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentLoadingVideoRunnable:Ljava/lang/Runnable;

    .line 18057
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0, p1, p3, p4}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setVideoPath(Ljava/lang/String;FF)V

    .line 18058
    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    const/4 p3, 0x0

    const/4 p4, 0x1

    if-nez p2, :cond_2

    .line 18059
    iget p2, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne p2, p4, :cond_1

    goto :goto_0

    :cond_1
    const/4 p4, 0x0

    :cond_2
    :goto_0
    iput-boolean p4, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    const/4 p2, -0x1

    .line 18061
    iput p2, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    .line 18062
    iput p3, p0, Lorg/telegram/ui/PhotoViewer;->rotationValue:I

    const/16 p2, 0x19

    .line 18063
    iput p2, p0, Lorg/telegram/ui/PhotoViewer;->videoFramerate:I

    .line 18064
    new-instance p2, Ljava/io/File;

    invoke-direct {p2, p1}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 18065
    invoke-virtual {p2}, Ljava/io/File;->length()J

    move-result-wide p2

    iput-wide p2, p0, Lorg/telegram/ui/PhotoViewer;->originalSize:J

    .line 18067
    sget-object p2, Lorg/telegram/messenger/Utilities;->globalQueue:Lorg/telegram/messenger/DispatchQueue;

    new-instance p3, Lorg/telegram/ui/PhotoViewer$75;

    invoke-direct {p3, p0, p1, p5}, Lorg/telegram/ui/PhotoViewer$75;-><init>(Lorg/telegram/ui/PhotoViewer;Ljava/lang/String;I)V

    iput-object p3, p0, Lorg/telegram/ui/PhotoViewer;->currentLoadingVideoRunnable:Ljava/lang/Runnable;

    invoke-virtual {p2, p3}, Lorg/telegram/messenger/DispatchQueue;->postRunnable(Ljava/lang/Runnable;)Z

    return-void
.end method

.method private redraw(I)V
    .locals 3

    const/4 v0, 0x6

    if-ge p1, v0, :cond_0

    .line 15508
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    if-eqz v0, :cond_0

    .line 15509
    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    .line 15510
    new-instance v0, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda69;

    invoke-direct {v0, p0, p1}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda69;-><init>(Lorg/telegram/ui/PhotoViewer;I)V

    const-wide/16 v1, 0x64

    invoke-static {v0, v1, v2}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;J)V

    :cond_0
    return-void
.end method

.method private releasePlayer(Z)V
    .locals 9

    const/4 v0, 0x0

    .line 9041
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    .line 9042
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    const/4 v2, 0x1

    const/4 v3, 0x0

    if-eqz v1, :cond_1

    .line 9043
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->cancelVideoPlayRunnable()V

    .line 9044
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->setLoadingRunnable:Ljava/lang/Runnable;

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    .line 9045
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->hideActionBarRunnable:Ljava/lang/Runnable;

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    .line 9046
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideoShortTerm:Ljava/lang/String;

    if-eqz v1, :cond_0

    .line 9047
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/VideoPlayer;->getCurrentPosition()J

    move-result-wide v4

    long-to-float v1, v4

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v4

    long-to-float v4, v4

    div-float/2addr v1, v4

    .line 9048
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->savedVideoPositions:Landroidx/collection/ArrayMap;

    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideoShortTerm:Ljava/lang/String;

    new-instance v6, Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;

    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v7

    invoke-direct {v6, v1, v7, v8}, Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;-><init>(FJ)V

    invoke-virtual {v4, v5, v6}, Landroidx/collection/SimpleArrayMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 9050
    :cond_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v1, v2}, Lorg/telegram/ui/Components/VideoPlayer;->releasePlayer(Z)V

    .line 9051
    iput-object v3, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    goto :goto_0

    .line 9053
    :cond_1
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->playerWasPlaying:Z

    .line 9055
    :goto_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v1, :cond_2

    .line 9056
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->hideActionBarRunnable:Ljava/lang/Runnable;

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    .line 9057
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideoShortTerm:Ljava/lang/String;

    if-eqz v1, :cond_2

    .line 9058
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoPosition()J

    move-result-wide v4

    long-to-float v1, v4

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getVideoDuration()J

    move-result-wide v4

    long-to-float v4, v4

    div-float/2addr v1, v4

    .line 9059
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->savedVideoPositions:Landroidx/collection/ArrayMap;

    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideoShortTerm:Ljava/lang/String;

    new-instance v6, Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;

    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v7

    invoke-direct {v6, v1, v7, v8}, Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;-><init>(FJ)V

    invoke-virtual {v4, v5, v6}, Landroidx/collection/SimpleArrayMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 9063
    :cond_2
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->orientationEventListener:Landroid/view/OrientationEventListener;

    if-eqz v1, :cond_3

    .line 9064
    invoke-virtual {v1}, Landroid/view/OrientationEventListener;->disable()V

    .line 9065
    iput-object v3, p0, Lorg/telegram/ui/PhotoViewer;->orientationEventListener:Landroid/view/OrientationEventListener;

    .line 9068
    :cond_3
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/VideoSeekPreviewImage;->close()V

    .line 9069
    invoke-direct {p0, v0, v0}, Lorg/telegram/ui/PhotoViewer;->toggleMiniProgress(ZZ)V

    .line 9070
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->pipAvailable:Z

    .line 9071
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->playerInjected:Z

    .line 9072
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->isEnabled()Z

    move-result v1

    if-eqz v1, :cond_4

    .line 9073
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v0}, Landroid/widget/FrameLayout;->setEnabled(Z)V

    .line 9074
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object v1

    const/high16 v4, 0x3f000000    # 0.5f

    invoke-virtual {v1, v4}, Landroid/view/ViewPropertyAnimator;->alpha(F)Landroid/view/ViewPropertyAnimator;

    move-result-object v1

    const-wide/16 v4, 0xaf

    invoke-virtual {v1, v4, v5}, Landroid/view/ViewPropertyAnimator;->setDuration(J)Landroid/view/ViewPropertyAnimator;

    move-result-object v1

    invoke-virtual {v1, v3}, Landroid/view/ViewPropertyAnimator;->withEndAction(Ljava/lang/Runnable;)Landroid/view/ViewPropertyAnimator;

    move-result-object v1

    invoke-virtual {v1}, Landroid/view/ViewPropertyAnimator;->start()V

    .line 9076
    :cond_4
    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->keepScreenOnFlagSet:Z

    if-eqz v1, :cond_5

    .line 9078
    :try_start_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-virtual {v1}, Landroid/app/Activity;->getWindow()Landroid/view/Window;

    move-result-object v1

    const/16 v4, 0x80

    invoke-virtual {v1, v4}, Landroid/view/Window;->clearFlags(I)V

    .line 9079
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->keepScreenOnFlagSet:Z
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_1

    :catch_0
    move-exception v1

    .line 9081
    invoke-static {v1}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    .line 9084
    :cond_5
    :goto_1
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    if-eqz v1, :cond_6

    .line 9086
    :try_start_1
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v4, v1}, Landroid/widget/FrameLayout;->removeView(Landroid/view/View;)V
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    .line 9090
    :catchall_0
    iput-object v3, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    .line 9092
    :cond_6
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->cancelFlashAnimations()V

    .line 9093
    iput-object v3, p0, Lorg/telegram/ui/PhotoViewer;->flashView:Landroid/view/View;

    .line 9094
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v1, :cond_8

    .line 9095
    instance-of v4, v1, Lorg/telegram/ui/Components/VideoEditTextureView;

    if-eqz v4, :cond_7

    .line 9096
    check-cast v1, Lorg/telegram/ui/Components/VideoEditTextureView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/VideoEditTextureView;->release()V

    .line 9098
    :cond_7
    iput-object v3, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    .line 9100
    :cond_8
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->blurManager:Lorg/telegram/ui/Components/BlurringShader$BlurManager;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/BlurringShader$BlurManager;->resetBitmap()V

    .line 9101
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    if-eqz v1, :cond_9

    .line 9102
    iput-object v3, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    .line 9104
    :cond_9
    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    if-eqz v1, :cond_a

    .line 9105
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    .line 9106
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->updateProgressRunnable:Ljava/lang/Runnable;

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    :cond_a
    if-nez p1, :cond_b

    .line 9108
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->inPreview:Z

    if-nez p1, :cond_b

    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->requestingPreview:Z

    if-nez p1, :cond_b

    .line 9109
    invoke-direct {p0, v0, v2}, Lorg/telegram/ui/PhotoViewer;->setVideoPlayerControlVisible(ZZ)V

    .line 9111
    :cond_b
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p1, p1, v0

    invoke-virtual {p1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->resetAlphas()V

    return-void
.end method

.method private removeObservers()V
    .locals 2

    .line 15365
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/NotificationCenter;->fileLoadFailed:I

    invoke-virtual {v0, p0, v1}, Lorg/telegram/messenger/NotificationCenter;->removeObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 15366
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/NotificationCenter;->fileLoaded:I

    invoke-virtual {v0, p0, v1}, Lorg/telegram/messenger/NotificationCenter;->removeObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 15367
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/NotificationCenter;->fileLoadProgressChanged:I

    invoke-virtual {v0, p0, v1}, Lorg/telegram/messenger/NotificationCenter;->removeObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 15368
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/NotificationCenter;->mediaCountDidLoad:I

    invoke-virtual {v0, p0, v1}, Lorg/telegram/messenger/NotificationCenter;->removeObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 15369
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/NotificationCenter;->mediaDidLoad:I

    invoke-virtual {v0, p0, v1}, Lorg/telegram/messenger/NotificationCenter;->removeObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 15370
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/NotificationCenter;->dialogPhotosUpdate:I

    invoke-virtual {v0, p0, v1}, Lorg/telegram/messenger/NotificationCenter;->removeObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 15371
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/NotificationCenter;->messagesDeleted:I

    invoke-virtual {v0, p0, v1}, Lorg/telegram/messenger/NotificationCenter;->removeObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 15372
    invoke-static {}, Lorg/telegram/messenger/NotificationCenter;->getGlobalInstance()Lorg/telegram/messenger/NotificationCenter;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/NotificationCenter;->emojiLoaded:I

    invoke-virtual {v0, p0, v1}, Lorg/telegram/messenger/NotificationCenter;->removeObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 15373
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/NotificationCenter;->filePreparingFailed:I

    invoke-virtual {v0, p0, v1}, Lorg/telegram/messenger/NotificationCenter;->removeObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 15374
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/NotificationCenter;->fileNewChunkAvailable:I

    invoke-virtual {v0, p0, v1}, Lorg/telegram/messenger/NotificationCenter;->removeObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 15375
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/tgnet/ConnectionsManager;->getInstance(I)Lorg/telegram/tgnet/ConnectionsManager;

    move-result-object v0

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    invoke-virtual {v0, v1}, Lorg/telegram/tgnet/ConnectionsManager;->cancelRequestsForGuid(I)V

    return-void
.end method

.method private replacePressed()V
    .locals 6

    const/4 v1, 0x0

    const/4 v2, 0x0

    const/4 v3, 0x1

    const/4 v4, 0x0

    const/4 v5, 0x0

    move-object v0, p0

    .line 6718
    invoke-direct/range {v0 .. v5}, Lorg/telegram/ui/PhotoViewer;->sendPressed(ZIZZZ)V

    return-void
.end method

.method private requestAdjust()V
    .locals 3

    .line 14911
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    const/16 v1, 0x110

    iput v1, v0, Landroid/view/WindowManager$LayoutParams;->softInputMode:I

    .line 14912
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const-string v1, "window"

    invoke-virtual {v0, v1}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/view/WindowManager;

    .line 14914
    :try_start_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    invoke-interface {v0, v1, v2}, Landroid/view/WindowManager;->updateViewLayout(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_0

    :catch_0
    move-exception v0

    .line 14916
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :goto_0
    return-void
.end method

.method private requestAdjustToNothing()V
    .locals 3

    .line 14901
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    const/16 v1, 0x30

    iput v1, v0, Landroid/view/WindowManager$LayoutParams;->softInputMode:I

    .line 14902
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const-string v1, "window"

    invoke-virtual {v0, v1}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/view/WindowManager;

    .line 14904
    :try_start_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    invoke-interface {v0, v1, v2}, Landroid/view/WindowManager;->updateViewLayout(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_0

    :catch_0
    move-exception v0

    .line 14906
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :goto_0
    return-void
.end method

.method private requestVideoPreview(I)V
    .locals 11

    .line 17791
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v0, :cond_0

    .line 17792
    invoke-static {}, Lorg/telegram/messenger/MediaController;->getInstance()Lorg/telegram/messenger/MediaController;

    move-result-object v0

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0, v1}, Lorg/telegram/messenger/MediaController;->cancelVideoConvert(Lorg/telegram/messenger/MessageObject;)V

    .line 17794
    :cond_0
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->requestingPreview:Z

    const/4 v1, 0x1

    const/4 v2, 0x0

    if-eqz v0, :cond_1

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->tryStartRequestPreviewOnFinish:Z

    if-nez v0, :cond_1

    const/4 v0, 0x1

    goto :goto_0

    :cond_1
    const/4 v0, 0x0

    .line 17795
    :goto_0
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->requestingPreview:Z

    .line 17796
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->loadInitialVideo:Z

    .line 17797
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->progressView:Lorg/telegram/ui/Components/RadialProgressView;

    const/4 v4, 0x4

    invoke-virtual {v3, v4}, Landroid/view/View;->setVisibility(I)V

    const/4 v3, 0x3

    if-ne p1, v1, :cond_d

    .line 17799
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    const/4 v6, 0x0

    if-ne p1, v5, :cond_5

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    if-ne p1, v5, :cond_5

    .line 17800
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->tryStartRequestPreviewOnFinish:Z

    .line 17801
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v4, p1, v2

    aget-object p1, p1, v2

    invoke-static {p1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$23900(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result p1

    if-eqz p1, :cond_3

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p1, p1, v2

    invoke-static {p1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$29500(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result p1

    if-nez p1, :cond_2

    goto :goto_1

    :cond_2
    const/4 p1, 0x0

    goto :goto_2

    :cond_3
    :goto_1
    const/4 p1, 0x1

    :goto_2
    invoke-virtual {v4, v6, p1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setProgress(FZ)V

    .line 17802
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p1, p1, v2

    invoke-virtual {p1, v3, v2, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    if-nez v0, :cond_4

    .line 17804
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentPlayingVideoFile:Landroid/net/Uri;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    invoke-direct {p0, p1, v2, v2, v0}, Lorg/telegram/ui/PhotoViewer;->preparePlayer(Landroid/net/Uri;ZZLorg/telegram/messenger/MediaController$SavedFilterState;)V

    .line 17805
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v0

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    mul-float v0, v0, v1

    float-to-long v0, v0

    invoke-virtual {p1, v0, v1}, Lorg/telegram/ui/Components/VideoPlayer;->seekTo(J)V

    goto/16 :goto_5

    .line 17807
    :cond_4
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->loadInitialVideo:Z

    goto/16 :goto_5

    .line 17810
    :cond_5
    invoke-direct {p0, v2}, Lorg/telegram/ui/PhotoViewer;->releasePlayer(Z)V

    .line 17811
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    if-nez p1, :cond_6

    .line 17812
    new-instance p1, Lorg/telegram/tgnet/TLRPC$TL_message;

    invoke-direct {p1}, Lorg/telegram/tgnet/TLRPC$TL_message;-><init>()V

    .line 17813
    iput v2, p1, Lorg/telegram/tgnet/TLRPC$Message;->id:I

    const-string v0, ""

    .line 17814
    iput-object v0, p1, Lorg/telegram/tgnet/TLRPC$Message;->message:Ljava/lang/String;

    .line 17815
    new-instance v0, Lorg/telegram/tgnet/TLRPC$TL_messageMediaEmpty;

    invoke-direct {v0}, Lorg/telegram/tgnet/TLRPC$TL_messageMediaEmpty;-><init>()V

    iput-object v0, p1, Lorg/telegram/tgnet/TLRPC$Message;->media:Lorg/telegram/tgnet/TLRPC$MessageMedia;

    .line 17816
    new-instance v0, Lorg/telegram/tgnet/TLRPC$TL_messageActionEmpty;

    invoke-direct {v0}, Lorg/telegram/tgnet/TLRPC$TL_messageActionEmpty;-><init>()V

    iput-object v0, p1, Lorg/telegram/tgnet/TLRPC$Message;->action:Lorg/telegram/tgnet/TLRPC$MessageAction;

    .line 17817
    iget-wide v7, p0, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    iput-wide v7, p1, Lorg/telegram/tgnet/TLRPC$Message;->dialog_id:J

    .line 17818
    new-instance v0, Lorg/telegram/messenger/MessageObject;

    sget v3, Lorg/telegram/messenger/UserConfig;->selectedAccount:I

    invoke-direct {v0, v3, p1, v2, v2}, Lorg/telegram/messenger/MessageObject;-><init>(ILorg/telegram/tgnet/TLRPC$Message;ZZ)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    .line 17819
    iget-object p1, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    new-instance v0, Ljava/io/File;

    invoke-static {v4}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v3

    const-string v4, "video_preview.mp4"

    invoke-direct {v0, v3, v4}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    invoke-virtual {v0}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;

    move-result-object v0

    iput-object v0, p1, Lorg/telegram/tgnet/TLRPC$Message;->attachPath:Ljava/lang/String;

    .line 17820
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    new-instance v0, Lorg/telegram/messenger/VideoEditedInfo;

    invoke-direct {v0}, Lorg/telegram/messenger/VideoEditedInfo;-><init>()V

    iput-object v0, p1, Lorg/telegram/messenger/MessageObject;->videoEditedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    .line 17821
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->videoEditedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->rotationValue:I

    iput v0, p1, Lorg/telegram/messenger/VideoEditedInfo;->rotationValue:I

    .line 17822
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    iput v0, p1, Lorg/telegram/messenger/VideoEditedInfo;->originalWidth:I

    .line 17823
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->videoEditedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    iput v0, p1, Lorg/telegram/messenger/VideoEditedInfo;->originalHeight:I

    .line 17824
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->videoEditedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->videoFramerate:I

    iput v0, p1, Lorg/telegram/messenger/VideoEditedInfo;->framerate:I

    .line 17825
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentPlayingVideoFile:Landroid/net/Uri;

    invoke-virtual {v0}, Landroid/net/Uri;->getPath()Ljava/lang/String;

    move-result-object v0

    iput-object v0, p1, Lorg/telegram/messenger/VideoEditedInfo;->originalPath:Ljava/lang/String;

    .line 17827
    :cond_6
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->videoEditedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    iget-wide v3, p0, Lorg/telegram/ui/PhotoViewer;->startTime:J

    iput-wide v3, p1, Lorg/telegram/messenger/VideoEditedInfo;->startTime:J

    .line 17828
    iget-wide v7, p0, Lorg/telegram/ui/PhotoViewer;->endTime:J

    iput-wide v7, p1, Lorg/telegram/messenger/VideoEditedInfo;->endTime:J

    const-wide/16 v9, -0x1

    cmp-long v0, v3, v9

    if-nez v0, :cond_7

    const-wide/16 v3, 0x0

    :cond_7
    const/high16 v0, 0x447a0000    # 1000.0f

    cmp-long v5, v7, v9

    if-nez v5, :cond_8

    .line 17833
    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    mul-float v5, v5, v0

    float-to-long v7, v5

    :cond_8
    sub-long/2addr v7, v3

    const-wide/32 v9, 0x4c4b40

    cmp-long v5, v7, v9

    if-lez v5, :cond_9

    add-long/2addr v3, v9

    .line 17836
    iput-wide v3, p1, Lorg/telegram/messenger/VideoEditedInfo;->endTime:J

    .line 17838
    :cond_9
    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    iput v3, p1, Lorg/telegram/messenger/VideoEditedInfo;->bitrate:I

    .line 17839
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->videoEditedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    iput v3, p1, Lorg/telegram/messenger/VideoEditedInfo;->resultWidth:I

    .line 17840
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->videoEditedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    iput v3, p1, Lorg/telegram/messenger/VideoEditedInfo;->resultHeight:I

    .line 17841
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->videoEditedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    iput-boolean v1, p1, Lorg/telegram/messenger/VideoEditedInfo;->needUpdateProgress:Z

    .line 17842
    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    mul-float v3, v3, v0

    float-to-long v3, v3

    iput-wide v3, p1, Lorg/telegram/messenger/VideoEditedInfo;->originalDuration:J

    .line 17844
    invoke-static {}, Lorg/telegram/messenger/MediaController;->getInstance()Lorg/telegram/messenger/MediaController;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {p1, v0, v1, v1}, Lorg/telegram/messenger/MediaController;->scheduleVideoConvert(Lorg/telegram/messenger/MessageObject;ZZ)Z

    move-result p1

    if-nez p1, :cond_a

    .line 17845
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->tryStartRequestPreviewOnFinish:Z

    .line 17847
    :cond_a
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->requestingPreview:Z

    .line 17849
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, p1, v2

    aget-object p1, p1, v2

    invoke-static {p1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$23900(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result p1

    if-eqz p1, :cond_c

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p1, p1, v2

    invoke-static {p1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$29500(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result p1

    if-nez p1, :cond_b

    goto :goto_3

    :cond_b
    const/4 p1, 0x0

    goto :goto_4

    :cond_c
    :goto_3
    const/4 p1, 0x1

    :goto_4
    invoke-virtual {v0, v6, p1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setProgress(FZ)V

    .line 17850
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p1, p1, v2

    invoke-virtual {p1, v2, v2, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    goto :goto_5

    .line 17853
    :cond_d
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->tryStartRequestPreviewOnFinish:Z

    .line 17854
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v2

    invoke-virtual {v0, v3, v2, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    const/4 v0, 0x2

    if-ne p1, v0, :cond_e

    .line 17856
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentPlayingVideoFile:Landroid/net/Uri;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    invoke-direct {p0, p1, v2, v2, v0}, Lorg/telegram/ui/PhotoViewer;->preparePlayer(Landroid/net/Uri;ZZLorg/telegram/messenger/MediaController$SavedFilterState;)V

    .line 17857
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v0

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    mul-float v0, v0, v1

    float-to-long v0, v0

    invoke-virtual {p1, v0, v1}, Lorg/telegram/ui/Components/VideoPlayer;->seekTo(J)V

    .line 17860
    :cond_e
    :goto_5
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->invalidate()V

    return-void
.end method

.method private resetIndexForDeferredImageLoading()V
    .locals 3

    .line 13084
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getMark()Ljava/lang/Object;

    move-result-object v0

    if-eqz v0, :cond_0

    const/4 v1, 0x1

    .line 13085
    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v1

    invoke-virtual {v0, v1}, Ljava/lang/Object;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 13086
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    const/4 v2, 0x0

    invoke-direct {p0, v0, v1, v2}, Lorg/telegram/ui/PhotoViewer;->setIndexToImage(Lorg/telegram/messenger/ImageReceiver;ILorg/telegram/ui/Components/Crop/CropTransform;)V

    :cond_0
    return-void
.end method

.method private scheduleActionBarHide()V
    .locals 1

    const/16 v0, 0xbb8

    .line 8316
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->scheduleActionBarHide(I)V

    return-void
.end method

.method private scheduleActionBarHide(I)V
    .locals 3

    .line 8320
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isAccessibilityEnabled()Z

    move-result v0

    if-nez v0, :cond_0

    .line 8321
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->hideActionBarRunnable:Ljava/lang/Runnable;

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    .line 8322
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->hideActionBarRunnable:Ljava/lang/Runnable;

    int-to-long v1, p1

    invoke-static {v0, v1, v2}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;J)V

    :cond_0
    return-void
.end method

.method private seekAnimatedStickersTo(J)V
    .locals 8

    .line 9246
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    if-eqz v0, :cond_3

    const/4 v1, 0x0

    .line 9247
    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    :goto_0
    if-ge v1, v0, :cond_3

    .line 9248
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    invoke-virtual {v2, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;

    .line 9249
    iget-byte v3, v2, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;->type:B

    if-nez v3, :cond_2

    iget-byte v3, v2, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;->subType:B

    and-int/lit8 v3, v3, 0x1

    if-eqz v3, :cond_2

    iget-object v2, v2, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;->view:Landroid/view/View;

    instance-of v3, v2, Lorg/telegram/ui/Components/BackupImageView;

    if-eqz v3, :cond_2

    .line 9250
    check-cast v2, Lorg/telegram/ui/Components/BackupImageView;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/BackupImageView;->getImageReceiver()Lorg/telegram/messenger/ImageReceiver;

    move-result-object v2

    .line 9251
    invoke-virtual {v2}, Lorg/telegram/messenger/ImageReceiver;->getLottieAnimation()Lorg/telegram/ui/Components/RLottieDrawable;

    move-result-object v2

    if-nez v2, :cond_0

    goto :goto_1

    .line 9255
    :cond_0
    iget-wide v3, p0, Lorg/telegram/ui/PhotoViewer;->startTime:J

    const-wide/16 v5, 0x0

    cmp-long v7, v3, v5

    if-lez v7, :cond_1

    const-wide/16 v5, 0x3e8

    div-long v5, v3, v5

    :cond_1
    sub-long v3, p1, v5

    invoke-virtual {v2, v3, v4}, Lorg/telegram/ui/Components/RLottieDrawable;->setProgressMs(J)V

    :cond_2
    :goto_1
    add-int/lit8 v1, v1, 0x1

    goto :goto_0

    :cond_3
    return-void
.end method

.method private seekVideoOrWebTo(J)V
    .locals 1

    .line 1309
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v0

    if-eqz v0, :cond_0

    .line 1310
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v0, p1, p2}, Lorg/telegram/ui/Components/PhotoViewerWebView;->seekTo(J)V

    goto :goto_0

    .line 1311
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_1

    .line 1312
    invoke-virtual {v0, p1, p2}, Lorg/telegram/ui/Components/VideoPlayer;->seekTo(J)V

    .line 1314
    :cond_1
    :goto_0
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateVideoPlayerTime()V

    return-void
.end method

.method private seekVideoOrWebToProgress(F)V
    .locals 3

    .line 8529
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_0

    .line 8530
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v1

    long-to-float v1, v1

    mul-float p1, p1, v1

    float-to-long v1, p1

    invoke-virtual {v0, v1, v2}, Lorg/telegram/ui/Components/VideoPlayer;->seekTo(J)V

    goto :goto_0

    .line 8531
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_1

    .line 8532
    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->getVideoDuration()I

    move-result v1

    int-to-float v1, v1

    mul-float p1, p1, v1

    float-to-long v1, p1

    invoke-virtual {v0, v1, v2}, Lorg/telegram/ui/Components/PhotoViewerWebView;->seekTo(J)V

    :cond_1
    :goto_0
    return-void
.end method

.method private selectCompression()I
    .locals 8

    .line 18131
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->originalSize:J

    const/4 v2, 0x1

    const-wide/32 v3, 0x3e800000

    cmp-long v5, v0, v3

    if-lez v5, :cond_0

    .line 18132
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    sub-int/2addr v0, v2

    return v0

    .line 18134
    :cond_0
    invoke-static {}, Lorg/telegram/messenger/MessagesController;->getGlobalMainSettings()Landroid/content/SharedPreferences;

    move-result-object v0

    .line 18135
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    const/4 v3, 0x2

    :goto_0
    const/4 v4, 0x5

    if-ge v1, v4, :cond_2

    .line 18138
    sget-object v4, Ljava/util/Locale;->US:Ljava/util/Locale;

    new-array v5, v2, [Ljava/lang/Object;

    const/4 v6, 0x0

    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v7

    aput-object v7, v5, v6

    const-string v6, "compress_video_%d"

    invoke-static {v4, v6, v5}, Ljava/lang/String;->format(Ljava/util/Locale;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v4

    const/4 v5, -0x1

    invoke-interface {v0, v4, v5}, Landroid/content/SharedPreferences;->getInt(Ljava/lang/String;I)I

    move-result v4

    if-ltz v4, :cond_1

    .line 18140
    invoke-static {v4, v3}, Ljava/lang/Math;->min(II)I

    move-result v0

    return v0

    :cond_1
    add-int/lit8 v1, v1, 0x1

    goto :goto_0

    .line 18144
    :cond_2
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/DownloadController;->getInstance(I)Lorg/telegram/messenger/DownloadController;

    move-result-object v0

    invoke-virtual {v0}, Lorg/telegram/messenger/DownloadController;->getMaxVideoBitrate()I

    move-result v0

    int-to-float v0, v0

    const/high16 v4, 0x42c80000    # 100.0f

    int-to-float v1, v1

    div-float/2addr v4, v1

    div-float/2addr v0, v4

    invoke-static {v0}, Ljava/lang/Math;->round(F)I

    move-result v0

    sub-int/2addr v0, v2

    invoke-static {v3, v0}, Ljava/lang/Math;->min(II)I

    move-result v0

    return v0
.end method

.method private sendPressed(ZI)V
    .locals 6

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    move-object v0, p0

    move v1, p1

    move v2, p2

    .line 6714
    invoke-direct/range {v0 .. v5}, Lorg/telegram/ui/PhotoViewer;->sendPressed(ZIZZZ)V

    return-void
.end method

.method private sendPressed(ZIZZZ)V
    .locals 16

    move-object/from16 v7, p0

    .line 6722
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result v0

    if-eqz v0, :cond_0

    return-void

    .line 6725
    :cond_0
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v0, :cond_18

    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->doneButtonPressed:Z

    if-nez v0, :cond_18

    .line 6726
    iget v0, v7, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v8, 0x0

    const/4 v9, 0x1

    if-ne v0, v9, :cond_a

    if-nez p5, :cond_9

    .line 6727
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->setAvatarFor:Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;

    if-eqz v0, :cond_9

    const-wide/16 v1, 0x0

    .line 6730
    iget-object v0, v0, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->object:Lorg/telegram/tgnet/TLObject;

    instance-of v3, v0, Lorg/telegram/tgnet/TLRPC$User;

    if-eqz v3, :cond_1

    .line 6731
    move-object v1, v0

    check-cast v1, Lorg/telegram/tgnet/TLRPC$User;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$User;->first_name:Ljava/lang/String;

    .line 6732
    check-cast v0, Lorg/telegram/tgnet/TLRPC$User;

    iget-wide v2, v0, Lorg/telegram/tgnet/TLRPC$User;->id:J

    move-object v0, v1

    move-wide v1, v2

    goto :goto_0

    :cond_1
    const-string v0, ""

    .line 6734
    :goto_0
    new-instance v10, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    iget-object v3, v7, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v3

    invoke-direct {v10, v3}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;-><init>(Landroid/content/Context;)V

    const/high16 v3, 0x41000000    # 8.0f

    .line 6735
    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v3

    invoke-virtual {v10, v3}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setAdditionalHorizontalPadding(I)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 6736
    new-instance v3, Lorg/telegram/ui/SuggestUserPhotoView;

    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v4

    invoke-direct {v3, v4}, Lorg/telegram/ui/SuggestUserPhotoView;-><init>(Landroid/content/Context;)V

    .line 6737
    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer;->setAvatarFor:Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;

    iget-object v4, v4, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->object:Lorg/telegram/tgnet/TLObject;

    iget-object v5, v7, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v6, v7, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v3, v4, v5, v6}, Lorg/telegram/ui/SuggestUserPhotoView;->setImages(Lorg/telegram/tgnet/TLObject;Landroid/view/View;Lorg/telegram/ui/Components/PhotoCropView;)V

    .line 6738
    invoke-virtual {v10, v3}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setTopView(Landroid/view/View;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 6740
    iget-object v3, v7, Lorg/telegram/ui/PhotoViewer;->setAvatarFor:Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;

    iget v3, v3, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->type:I

    if-ne v3, v9, :cond_4

    .line 6741
    iget v3, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v3}, Lorg/telegram/messenger/UserConfig;->getInstance(I)Lorg/telegram/messenger/UserConfig;

    move-result-object v3

    iget-wide v3, v3, Lorg/telegram/messenger/UserConfig;->clientUserId:J

    cmp-long v5, v3, v1

    if-nez v5, :cond_2

    .line 6742
    sget v0, Lorg/telegram/messenger/R$string;->SetUserPhotoSelfAlertMessage:I

    const-string v1, "SetUserPhotoSelfAlertMessage"

    invoke-static {v1, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->replaceTags(Ljava/lang/String;)Landroid/text/SpannableStringBuilder;

    move-result-object v0

    invoke-virtual {v10, v0}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setMessage(Ljava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    goto :goto_1

    .line 6744
    :cond_2
    sget v1, Lorg/telegram/messenger/R$string;->SetUserPhotoAlertMessage:I

    const/4 v2, 0x2

    new-array v2, v2, [Ljava/lang/Object;

    aput-object v0, v2, v8

    aput-object v0, v2, v9

    const-string v0, "SetUserPhotoAlertMessage"

    invoke-static {v0, v1, v2}, Lorg/telegram/messenger/LocaleController;->formatString(Ljava/lang/String;I[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v0

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->replaceTags(Ljava/lang/String;)Landroid/text/SpannableStringBuilder;

    move-result-object v0

    invoke-virtual {v10, v0}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setMessage(Ljava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 6746
    :goto_1
    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->centerImageIsVideo:Z

    if-eqz v0, :cond_3

    .line 6747
    sget v0, Lorg/telegram/messenger/R$string;->SetVideo:I

    const-string v1, "SetVideo"

    invoke-static {v1, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    goto :goto_3

    .line 6749
    :cond_3
    sget v0, Lorg/telegram/messenger/R$string;->SetPhoto:I

    const-string v1, "SetPhoto"

    invoke-static {v1, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    goto :goto_3

    .line 6752
    :cond_4
    iget-boolean v1, v7, Lorg/telegram/ui/PhotoViewer;->centerImageIsVideo:Z

    if-eqz v1, :cond_5

    .line 6753
    sget v1, Lorg/telegram/messenger/R$string;->SuggestVideoAlertMessage:I

    new-array v2, v9, [Ljava/lang/Object;

    aput-object v0, v2, v8

    const-string v0, "SuggestVideoAlertMessage"

    invoke-static {v0, v1, v2}, Lorg/telegram/messenger/LocaleController;->formatString(Ljava/lang/String;I[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v0

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->replaceTags(Ljava/lang/String;)Landroid/text/SpannableStringBuilder;

    move-result-object v0

    invoke-virtual {v10, v0}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setMessage(Ljava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    goto :goto_2

    .line 6755
    :cond_5
    sget v1, Lorg/telegram/messenger/R$string;->SuggestPhotoAlertMessage:I

    new-array v2, v9, [Ljava/lang/Object;

    aput-object v0, v2, v8

    const-string v0, "SuggestPhotoAlertMessage"

    invoke-static {v0, v1, v2}, Lorg/telegram/messenger/LocaleController;->formatString(Ljava/lang/String;I[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v0

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->replaceTags(Ljava/lang/String;)Landroid/text/SpannableStringBuilder;

    move-result-object v0

    invoke-virtual {v10, v0}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setMessage(Ljava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 6757
    :goto_2
    sget v0, Lorg/telegram/messenger/R$string;->SuggestPhotoShort:I

    const-string v1, "SuggestPhotoShort"

    invoke-static {v1, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    .line 6759
    :goto_3
    sget v1, Lorg/telegram/messenger/R$string;->Cancel:I

    const-string v2, "Cancel"

    invoke-static {v2, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    sget-object v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda22;->INSTANCE:Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda22;

    invoke-virtual {v10, v1, v2}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setNegativeButton(Ljava/lang/CharSequence;Landroid/content/DialogInterface$OnClickListener;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 6762
    new-instance v11, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda21;

    move-object v1, v11

    move-object/from16 v2, p0

    move/from16 v3, p1

    move/from16 v4, p2

    move/from16 v5, p3

    move/from16 v6, p4

    invoke-direct/range {v1 .. v6}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda21;-><init>(Lorg/telegram/ui/PhotoViewer;ZIZZ)V

    invoke-virtual {v10, v0, v11}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setPositiveButton(Ljava/lang/CharSequence;Landroid/content/DialogInterface$OnClickListener;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 6765
    sget v0, Lorg/telegram/ui/ActionBar/Theme;->key_voipgroup_listeningText:I

    invoke-virtual {v10, v0}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setDialogButtonColorKey(I)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 6766
    invoke-virtual {v10}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->create()Lorg/telegram/ui/ActionBar/AlertDialog;

    move-result-object v0

    const v1, 0x3f4ccccd    # 0.8f

    .line 6767
    invoke-virtual {v0, v1, v8, v9}, Lorg/telegram/ui/ActionBar/AlertDialog;->setBlurParams(FZZ)V

    const v1, -0xebebec    # -1.9683E38f

    const/16 v2, 0xcc

    .line 6768
    invoke-static {v1, v2}, Landroidx/core/graphics/ColorUtils;->setAlphaComponent(II)I

    move-result v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/AlertDialog;->setBackgroundColor(I)V

    .line 6769
    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/AlertDialog;->show()V

    .line 6770
    sget v1, Lorg/telegram/ui/ActionBar/Theme;->key_voipgroup_nameText:I

    invoke-static {v1}, Lorg/telegram/ui/ActionBar/Theme;->getColor(I)I

    move-result v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/AlertDialog;->setTextColor(I)V

    .line 6771
    new-instance v1, Lorg/telegram/ui/PhotoViewer$32;

    invoke-direct {v1, v7}, Lorg/telegram/ui/PhotoViewer$32;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Landroid/app/Dialog;->setOnDismissListener(Landroid/content/DialogInterface$OnDismissListener;)V

    .line 6792
    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v0, :cond_8

    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v0, :cond_8

    const/4 v1, 0x0

    .line 6794
    :try_start_0
    invoke-virtual {v0}, Landroid/view/TextureView;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    iput-object v0, v7, Lorg/telegram/ui/PhotoViewer;->lastFrameBitmap:Landroid/graphics/Bitmap;

    .line 6795
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->lastFrameImageView:Landroid/widget/ImageView;

    if-eqz v0, :cond_6

    .line 6796
    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v2, v0}, Landroid/widget/FrameLayout;->removeView(Landroid/view/View;)V

    .line 6797
    iput-object v1, v7, Lorg/telegram/ui/PhotoViewer;->lastFrameImageView:Landroid/widget/ImageView;

    .line 6799
    :cond_6
    new-instance v0, Landroid/widget/ImageView;

    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-virtual {v2}, Landroid/view/TextureView;->getContext()Landroid/content/Context;

    move-result-object v2

    invoke-direct {v0, v2}, Landroid/widget/ImageView;-><init>(Landroid/content/Context;)V

    iput-object v0, v7, Lorg/telegram/ui/PhotoViewer;->lastFrameImageView:Landroid/widget/ImageView;

    .line 6800
    new-instance v2, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v3, v7, Lorg/telegram/ui/PhotoViewer;->lastFrameBitmap:Landroid/graphics/Bitmap;

    invoke-direct {v2, v3}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setBackground(Landroid/graphics/drawable/Drawable;)V

    .line 6801
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->lastFrameImageView:Landroid/widget/ImageView;

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;)V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_4

    :catchall_0
    move-exception v0

    .line 6803
    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    if-eqz v2, :cond_7

    .line 6804
    invoke-virtual {v2}, Landroid/graphics/Bitmap;->recycle()V

    .line 6805
    iput-object v1, v7, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    .line 6807
    :cond_7
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :cond_8
    :goto_4
    return-void

    .line 6812
    :cond_9
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->applyCurrentEditMode()V

    :cond_a
    if-nez p3, :cond_d

    .line 6814
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v0, :cond_d

    .line 6815
    invoke-virtual {v0}, Lorg/telegram/ui/ChatActivity;->getCurrentChat()Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v0

    .line 6816
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v1}, Lorg/telegram/ui/ChatActivity;->getCurrentUser()Lorg/telegram/tgnet/TLRPC$User;

    move-result-object v1

    if-nez v1, :cond_c

    .line 6817
    invoke-static {v0}, Lorg/telegram/messenger/ChatObject;->isChannel(Lorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v1

    if-eqz v1, :cond_b

    iget-boolean v1, v0, Lorg/telegram/tgnet/TLRPC$Chat;->megagroup:Z

    if-nez v1, :cond_c

    :cond_b
    invoke-static {v0}, Lorg/telegram/messenger/ChatObject;->isChannel(Lorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v0

    if-nez v0, :cond_d

    .line 6818
    :cond_c
    iget v0, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/MessagesController;->getNotificationsSettings(I)Landroid/content/SharedPreferences;

    move-result-object v0

    invoke-interface {v0}, Landroid/content/SharedPreferences;->edit()Landroid/content/SharedPreferences$Editor;

    move-result-object v0

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "silent_"

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v2}, Lorg/telegram/ui/ChatActivity;->getDialogId()J

    move-result-wide v2

    invoke-virtual {v1, v2, v3}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    xor-int/lit8 v2, p1, 0x1

    invoke-interface {v0, v1, v2}, Landroid/content/SharedPreferences$Editor;->putBoolean(Ljava/lang/String;Z)Landroid/content/SharedPreferences$Editor;

    move-result-object v0

    invoke-interface {v0}, Landroid/content/SharedPreferences$Editor;->commit()Z

    .line 6821
    :cond_d
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoEditedInfo()Lorg/telegram/messenger/VideoEditedInfo;

    move-result-object v12

    .line 6822
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_e

    iget v0, v7, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz v0, :cond_e

    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-ge v0, v1, :cond_e

    .line 6823
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    .line 6824
    instance-of v1, v0, Lorg/telegram/messenger/MediaController$MediaEditState;

    if-eqz v1, :cond_e

    .line 6825
    check-cast v0, Lorg/telegram/messenger/MediaController$MediaEditState;

    iput-object v12, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->editedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    .line 6828
    :cond_e
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v0, :cond_12

    invoke-virtual {v0}, Lorg/telegram/ui/ChatActivity;->getCurrentChat()Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v0

    if-eqz v0, :cond_12

    .line 6829
    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v0, :cond_10

    if-eqz v12, :cond_f

    goto :goto_5

    :cond_f
    const/4 v0, 0x0

    goto :goto_6

    :cond_10
    :goto_5
    const/4 v0, 0x1

    :goto_6
    if-eqz v0, :cond_11

    .line 6830
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v1}, Lorg/telegram/ui/ChatActivity;->getCurrentChat()Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v1

    invoke-static {v1}, Lorg/telegram/messenger/ChatObject;->canSendVideo(Lorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v1

    if-nez v1, :cond_11

    .line 6831
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    invoke-static {v0, v1}, Lorg/telegram/ui/Components/BulletinFactory;->of(Landroid/widget/FrameLayout;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)Lorg/telegram/ui/Components/BulletinFactory;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/R$string;->GlobalAttachVideoRestricted:I

    invoke-static {v1}, Lorg/telegram/messenger/LocaleController;->getString(I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/BulletinFactory;->createErrorBulletin(Ljava/lang/CharSequence;)Lorg/telegram/ui/Components/Bulletin;

    move-result-object v0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Bulletin;->show()Lorg/telegram/ui/Components/Bulletin;

    return-void

    :cond_11
    if-nez v0, :cond_12

    .line 6834
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v0}, Lorg/telegram/ui/ChatActivity;->getCurrentChat()Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v0

    invoke-static {v0}, Lorg/telegram/messenger/ChatObject;->canSendPhoto(Lorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v0

    if-nez v0, :cond_12

    .line 6835
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    invoke-static {v0, v1}, Lorg/telegram/ui/Components/BulletinFactory;->of(Landroid/widget/FrameLayout;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)Lorg/telegram/ui/Components/BulletinFactory;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/R$string;->GlobalAttachPhotoRestricted:I

    invoke-static {v1}, Lorg/telegram/messenger/LocaleController;->getString(I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/BulletinFactory;->createErrorBulletin(Ljava/lang/CharSequence;)Lorg/telegram/ui/Components/Bulletin;

    move-result-object v0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Bulletin;->show()Lorg/telegram/ui/Components/Bulletin;

    return-void

    .line 6839
    :cond_12
    iput-boolean v9, v7, Lorg/telegram/ui/PhotoViewer;->doneButtonPressed:Z

    if-eqz v12, :cond_16

    .line 6841
    iget-wide v0, v12, Lorg/telegram/messenger/VideoEditedInfo;->estimatedSize:J

    long-to-float v0, v0

    const v1, 0x3f666666    # 0.9f

    mul-float v0, v0, v1

    float-to-long v0, v0

    const-wide/32 v2, 0x7d000000

    cmp-long v4, v0, v2

    if-lez v4, :cond_13

    .line 6842
    iget v2, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/UserConfig;->getInstance(I)Lorg/telegram/messenger/UserConfig;

    move-result-object v2

    invoke-virtual {v2}, Lorg/telegram/messenger/UserConfig;->isPremium()Z

    move-result v2

    if-eqz v2, :cond_14

    :cond_13
    const-wide v2, 0xfa000000L

    cmp-long v4, v0, v2

    if-lez v4, :cond_16

    .line 6843
    :cond_14
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

    if-eqz v0, :cond_15

    .line 6844
    new-instance v0, Lorg/telegram/ui/Components/Premium/LimitReachedBottomSheet;

    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/ChatAttachAlert;->getBaseFragment()Lorg/telegram/ui/ActionBar/BaseFragment;

    move-result-object v2

    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

    invoke-virtual {v1}, Lorg/telegram/ui/ActionBar/BottomSheet;->getContainer()Lorg/telegram/ui/ActionBar/BottomSheet$ContainerView;

    move-result-object v1

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v3

    const/4 v4, 0x6

    sget v5, Lorg/telegram/messenger/UserConfig;->selectedAccount:I

    const/4 v6, 0x0

    move-object v1, v0

    invoke-direct/range {v1 .. v6}, Lorg/telegram/ui/Components/Premium/LimitReachedBottomSheet;-><init>(Lorg/telegram/ui/ActionBar/BaseFragment;Landroid/content/Context;IILorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    .line 6845
    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BottomSheet;->show()V

    :cond_15
    return-void

    :cond_16
    if-nez p3, :cond_17

    .line 6851
    iget-object v10, v7, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget v11, v7, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    move/from16 v13, p1

    move/from16 v14, p2

    move/from16 v15, p4

    invoke-interface/range {v10 .. v15}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->sendButtonPressed(ILorg/telegram/messenger/VideoEditedInfo;ZIZ)V

    goto :goto_7

    .line 6853
    :cond_17
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v1, v12}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->replaceButtonPressed(ILorg/telegram/messenger/VideoEditedInfo;)V

    .line 6855
    :goto_7
    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->closePhotoAfterSelect:Z

    if-eqz v0, :cond_18

    .line 6856
    invoke-virtual {v7, v8, v8}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    :cond_18
    return-void
.end method

.method private setCaptionHwLayerEnabled(Z)V
    .locals 2

    .line 13381
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->captionHwLayerEnabled:Z

    if-eq v0, p1, :cond_0

    .line 13382
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->captionHwLayerEnabled:Z

    .line 13383
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    const/4 v0, 0x2

    const/4 v1, 0x0

    invoke-virtual {p1, v0, v1}, Landroid/widget/ViewSwitcher;->setLayerType(ILandroid/graphics/Paint;)V

    .line 13384
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object p1

    invoke-virtual {p1, v0, v1}, Landroid/widget/TextView;->setLayerType(ILandroid/graphics/Paint;)V

    .line 13385
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/TextViewSwitcher;->getNextView()Landroid/widget/TextView;

    move-result-object p1

    invoke-virtual {p1, v0, v1}, Landroid/widget/TextView;->setLayerType(ILandroid/graphics/Paint;)V

    :cond_0
    return-void
.end method

.method private setCropBitmap()V
    .locals 11

    .line 14290
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->cropInitied:Z

    if-nez v0, :cond_6

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v1, 0x1

    if-eq v0, v1, :cond_0

    goto :goto_1

    .line 14293
    :cond_0
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v0, :cond_2

    .line 14294
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    check-cast v0, Lorg/telegram/ui/Components/VideoEditTextureView;

    if-eqz v0, :cond_1

    .line 14295
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoWidth()I

    move-result v2

    if-lez v2, :cond_1

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoHeight()I

    move-result v0

    if-gtz v0, :cond_2

    :cond_1
    return-void

    .line 14299
    :cond_2
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->cropInitied:Z

    .line 14300
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    .line 14301
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getOrientation()I

    move-result v1

    if-nez v0, :cond_3

    .line 14303
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/ClippingImageView;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    .line 14304
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/ClippingImageView;->getOrientation()I

    move-result v1

    :cond_3
    move-object v3, v0

    move v4, v1

    if-nez v3, :cond_4

    .line 14306
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v0, :cond_6

    .line 14307
    :cond_4
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    const/4 v5, 0x0

    const/4 v6, 0x0

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v0, :cond_5

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    check-cast v0, Lorg/telegram/ui/Components/VideoEditTextureView;

    goto :goto_0

    :cond_5
    const/4 v0, 0x0

    :goto_0
    move-object v9, v0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    invoke-virtual/range {v2 .. v10}, Lorg/telegram/ui/Components/PhotoCropView;->setBitmap(Landroid/graphics/Bitmap;IZZLorg/telegram/ui/Components/PaintingOverlay;Lorg/telegram/ui/Components/Crop/CropTransform;Lorg/telegram/ui/Components/VideoEditTextureView;Lorg/telegram/messenger/MediaController$CropState;)V

    :cond_6
    :goto_1
    return-void
.end method

.method private setCurrentCaption(Lorg/telegram/messenger/MessageObject;Ljava/lang/CharSequence;ZZ)V
    .locals 18

    move-object/from16 v1, p0

    move-object/from16 v0, p1

    move/from16 v2, p3

    move/from16 v3, p4

    const/4 v4, 0x3

    move-object/from16 v5, p2

    .line 13091
    invoke-static {v5, v4}, Lorg/telegram/ui/Components/AnimatedEmojiSpan;->cloneSpans(Ljava/lang/CharSequence;I)Ljava/lang/CharSequence;

    move-result-object v4

    .line 13092
    iget-boolean v5, v1, Lorg/telegram/ui/PhotoViewer;->editing:Z

    invoke-direct {v1, v5, v3}, Lorg/telegram/ui/PhotoViewer;->showEditCaption(ZZ)V

    .line 13093
    iget-boolean v5, v1, Lorg/telegram/ui/PhotoViewer;->editing:Z

    const/16 v6, 0x8

    if-nez v5, :cond_22

    iget v5, v1, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v7, 0x1

    if-ne v5, v7, :cond_0

    goto/16 :goto_f

    .line 13098
    :cond_0
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v5, v6}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 13100
    iget-boolean v5, v1, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    const/4 v6, -0x1

    const/4 v8, 0x0

    if-eqz v5, :cond_2

    .line 13101
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v5}, Landroid/widget/ViewSwitcher;->getParent()Landroid/view/ViewParent;

    move-result-object v5

    iget-object v9, v1, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    if-eq v5, v9, :cond_4

    .line 13102
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionContainer:Landroid/widget/FrameLayout;

    if-eqz v5, :cond_1

    .line 13103
    iget-object v9, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v5, v9}, Landroid/widget/FrameLayout;->removeView(Landroid/view/View;)V

    .line 13105
    :cond_1
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v5, v8}, Landroid/widget/ViewSwitcher;->setMeasureAllChildren(Z)V

    .line 13106
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    iget-object v9, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    const/4 v10, -0x1

    const/high16 v11, -0x40000000    # -2.0f

    const/16 v12, 0x53

    const/4 v13, 0x0

    const/4 v14, 0x0

    const/high16 v15, 0x42980000    # 76.0f

    const/high16 v16, 0x42400000    # 48.0f

    invoke-static/range {v10 .. v16}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IFIFFFF)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v10

    invoke-virtual {v5, v9, v10}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    goto :goto_0

    .line 13109
    :cond_2
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    const/4 v9, -0x2

    if-nez v5, :cond_3

    .line 13110
    new-instance v5, Landroid/widget/FrameLayout;

    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v10}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v10

    invoke-direct {v5, v10}, Landroid/widget/FrameLayout;-><init>(Landroid/content/Context;)V

    iput-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionContainer:Landroid/widget/FrameLayout;

    .line 13111
    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v10, v5}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setContainer(Landroid/widget/FrameLayout;)V

    .line 13112
    new-instance v5, Lorg/telegram/ui/PhotoViewer$61;

    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v10}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v10

    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    iget-object v12, v1, Lorg/telegram/ui/PhotoViewer;->captionContainer:Landroid/widget/FrameLayout;

    invoke-direct {v5, v1, v10, v11, v12}, Lorg/telegram/ui/PhotoViewer$61;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;Landroid/widget/FrameLayout;)V

    iput-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    .line 13155
    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v10, v5}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setScrollView(Landroidx/core/widget/NestedScrollView;)V

    .line 13156
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v5, v8}, Landroid/widget/FrameLayout;->setClipChildren(Z)V

    .line 13157
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->captionContainer:Landroid/widget/FrameLayout;

    new-instance v11, Landroid/view/ViewGroup$LayoutParams;

    invoke-direct {v11, v6, v9}, Landroid/view/ViewGroup$LayoutParams;-><init>(II)V

    invoke-virtual {v5, v10, v11}, Landroidx/core/widget/NestedScrollView;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 13158
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    const/16 v11, 0x50

    invoke-static {v6, v6, v11}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v11

    invoke-virtual {v5, v10, v11}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 13160
    :cond_3
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v5}, Landroid/widget/ViewSwitcher;->getParent()Landroid/view/ViewParent;

    move-result-object v5

    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->captionContainer:Landroid/widget/FrameLayout;

    if-eq v5, v10, :cond_4

    .line 13161
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v5, v10}, Landroid/widget/FrameLayout;->removeView(Landroid/view/View;)V

    .line 13162
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v5, v7}, Landroid/widget/ViewSwitcher;->setMeasureAllChildren(Z)V

    .line 13163
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionContainer:Landroid/widget/FrameLayout;

    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v5, v10, v6, v9}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;II)V

    .line 13164
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    invoke-virtual {v5}, Landroid/view/View;->bringToFront()V

    .line 13168
    :cond_4
    :goto_0
    invoke-static {v4}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v5

    .line 13169
    iget-object v9, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v9}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v9

    invoke-virtual {v9}, Landroid/widget/TextView;->getText()Ljava/lang/CharSequence;

    move-result-object v9

    invoke-static {v9}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v9

    .line 13171
    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    if-eqz v3, :cond_5

    invoke-virtual {v10}, Lorg/telegram/ui/Components/TextViewSwitcher;->getNextView()Landroid/widget/TextView;

    move-result-object v10

    goto :goto_1

    :cond_5
    invoke-virtual {v10}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v10

    .line 13173
    :goto_1
    iget-boolean v11, v1, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    const/4 v12, 0x0

    if-eqz v11, :cond_6

    .line 13174
    invoke-virtual {v10}, Landroid/widget/TextView;->getMaxLines()I

    move-result v11

    if-eq v11, v7, :cond_a

    .line 13175
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v11

    invoke-virtual {v11, v7}, Landroid/widget/TextView;->setMaxLines(I)V

    .line 13176
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/TextViewSwitcher;->getNextView()Landroid/widget/TextView;

    move-result-object v11

    invoke-virtual {v11, v7}, Landroid/widget/TextView;->setMaxLines(I)V

    .line 13177
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v11

    invoke-virtual {v11, v7}, Landroid/widget/TextView;->setSingleLine(Z)V

    .line 13178
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/TextViewSwitcher;->getNextView()Landroid/widget/TextView;

    move-result-object v11

    invoke-virtual {v11, v7}, Landroid/widget/TextView;->setSingleLine(Z)V

    .line 13179
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v11

    sget-object v13, Landroid/text/TextUtils$TruncateAt;->END:Landroid/text/TextUtils$TruncateAt;

    invoke-virtual {v11, v13}, Landroid/widget/TextView;->setEllipsize(Landroid/text/TextUtils$TruncateAt;)V

    .line 13180
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/TextViewSwitcher;->getNextView()Landroid/widget/TextView;

    move-result-object v11

    sget-object v13, Landroid/text/TextUtils$TruncateAt;->END:Landroid/text/TextUtils$TruncateAt;

    invoke-virtual {v11, v13}, Landroid/widget/TextView;->setEllipsize(Landroid/text/TextUtils$TruncateAt;)V

    goto :goto_3

    .line 13183
    :cond_6
    invoke-virtual {v10}, Landroid/widget/TextView;->getMaxLines()I

    move-result v11

    if-ne v11, v7, :cond_7

    .line 13185
    iget-object v13, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v13}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v13

    invoke-virtual {v13, v8}, Landroid/widget/TextView;->setSingleLine(Z)V

    .line 13186
    iget-object v13, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v13}, Lorg/telegram/ui/Components/TextViewSwitcher;->getNextView()Landroid/widget/TextView;

    move-result-object v13

    invoke-virtual {v13, v8}, Landroid/widget/TextView;->setSingleLine(Z)V

    .line 13189
    :cond_7
    iget-boolean v13, v1, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    if-eqz v13, :cond_9

    .line 13190
    sget-object v13, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v14, v13, Landroid/graphics/Point;->x:I

    iget v13, v13, Landroid/graphics/Point;->y:I

    if-le v14, v13, :cond_8

    const/4 v13, 0x5

    goto :goto_2

    :cond_8
    const/16 v13, 0xa

    goto :goto_2

    :cond_9
    const v13, 0x7fffffff

    :goto_2
    if-eq v11, v13, :cond_a

    .line 13195
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v11

    invoke-virtual {v11, v13}, Landroid/widget/TextView;->setMaxLines(I)V

    .line 13196
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/TextViewSwitcher;->getNextView()Landroid/widget/TextView;

    move-result-object v11

    invoke-virtual {v11, v13}, Landroid/widget/TextView;->setMaxLines(I)V

    .line 13197
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v11

    invoke-virtual {v11, v12}, Landroid/widget/TextView;->setEllipsize(Landroid/text/TextUtils$TruncateAt;)V

    .line 13198
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/TextViewSwitcher;->getNextView()Landroid/widget/TextView;

    move-result-object v11

    invoke-virtual {v11, v12}, Landroid/widget/TextView;->setEllipsize(Landroid/text/TextUtils$TruncateAt;)V

    .line 13202
    :cond_a
    :goto_3
    invoke-virtual {v10, v8}, Landroid/widget/TextView;->setScrollX(I)V

    .line 13203
    iget-boolean v11, v1, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    if-nez v11, :cond_b

    if-eqz v3, :cond_b

    if-eqz v5, :cond_b

    const/4 v13, 0x1

    goto :goto_4

    :cond_b
    const/4 v13, 0x0

    :goto_4
    iput-boolean v13, v1, Lorg/telegram/ui/PhotoViewer;->dontChangeCaptionPosition:Z

    if-nez v11, :cond_c

    .line 13207
    iget-object v13, v1, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    iput-boolean v8, v13, Lorg/telegram/ui/PhotoViewer$CaptionScrollView;->dontChangeTopMargin:Z

    :cond_c
    if-eqz v3, :cond_12

    .line 13210
    sget v13, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v14, 0x13

    if-lt v13, v14, :cond_12

    const/16 v14, 0x17

    if-lt v13, v14, :cond_e

    if-eqz v11, :cond_d

    .line 13213
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    goto :goto_5

    :cond_d
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    :goto_5
    invoke-static {v11}, Landroid/transition/TransitionManager;->endTransitions(Landroid/view/ViewGroup;)V

    .line 13215
    :cond_e
    iget-boolean v11, v1, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    const-wide/16 v13, 0xc8

    const/4 v15, 0x2

    if-eqz v11, :cond_f

    .line 13216
    new-instance v11, Landroid/transition/TransitionSet;

    invoke-direct {v11}, Landroid/transition/TransitionSet;-><init>()V

    .line 13217
    invoke-virtual {v11, v8}, Landroid/transition/TransitionSet;->setOrdering(I)Landroid/transition/TransitionSet;

    .line 13218
    new-instance v6, Landroid/transition/ChangeBounds;

    invoke-direct {v6}, Landroid/transition/ChangeBounds;-><init>()V

    invoke-virtual {v11, v6}, Landroid/transition/TransitionSet;->addTransition(Landroid/transition/Transition;)Landroid/transition/TransitionSet;

    .line 13219
    new-instance v6, Landroid/transition/Fade;

    invoke-direct {v6, v15}, Landroid/transition/Fade;-><init>(I)V

    invoke-virtual {v11, v6}, Landroid/transition/TransitionSet;->addTransition(Landroid/transition/Transition;)Landroid/transition/TransitionSet;

    .line 13220
    new-instance v6, Landroid/transition/Fade;

    invoke-direct {v6, v7}, Landroid/transition/Fade;-><init>(I)V

    invoke-virtual {v11, v6}, Landroid/transition/TransitionSet;->addTransition(Landroid/transition/Transition;)Landroid/transition/TransitionSet;

    .line 13221
    invoke-virtual {v11, v13, v14}, Landroid/transition/TransitionSet;->setDuration(J)Landroid/transition/TransitionSet;

    .line 13222
    iget-object v6, v1, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-static {v6, v11}, Landroid/transition/TransitionManager;->beginDelayedTransition(Landroid/view/ViewGroup;Landroid/transition/Transition;)V

    goto :goto_6

    .line 13224
    :cond_f
    new-instance v6, Landroid/transition/TransitionSet;

    invoke-direct {v6}, Landroid/transition/TransitionSet;-><init>()V

    new-instance v11, Lorg/telegram/ui/PhotoViewer$63;

    invoke-direct {v11, v1, v15, v9, v5}, Lorg/telegram/ui/PhotoViewer$63;-><init>(Lorg/telegram/ui/PhotoViewer;IZZ)V

    .line 13225
    invoke-virtual {v6, v11}, Landroid/transition/TransitionSet;->addTransition(Landroid/transition/Transition;)Landroid/transition/TransitionSet;

    move-result-object v6

    new-instance v11, Lorg/telegram/ui/PhotoViewer$62;

    invoke-direct {v11, v1, v7, v9, v5}, Lorg/telegram/ui/PhotoViewer$62;-><init>(Lorg/telegram/ui/PhotoViewer;IZZ)V

    .line 13245
    invoke-virtual {v6, v11}, Landroid/transition/TransitionSet;->addTransition(Landroid/transition/Transition;)Landroid/transition/TransitionSet;

    move-result-object v6

    .line 13264
    invoke-virtual {v6, v13, v14}, Landroid/transition/TransitionSet;->setDuration(J)Landroid/transition/TransitionSet;

    move-result-object v6

    if-nez v9, :cond_10

    .line 13267
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    iput-boolean v7, v11, Lorg/telegram/ui/PhotoViewer$CaptionScrollView;->dontChangeTopMargin:Z

    .line 13268
    new-instance v11, Lorg/telegram/ui/PhotoViewer$64;

    invoke-direct {v11, v1}, Lorg/telegram/ui/PhotoViewer$64;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v6, v11}, Landroid/transition/TransitionSet;->addTransition(Landroid/transition/Transition;)Landroid/transition/TransitionSet;

    :cond_10
    if-eqz v9, :cond_11

    if-nez v5, :cond_11

    .line 13320
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v6, v11}, Landroid/transition/TransitionSet;->addTarget(Landroid/view/View;)Landroid/transition/TransitionSet;

    .line 13323
    :cond_11
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    invoke-static {v11, v6}, Landroid/transition/TransitionManager;->beginDelayedTransition(Landroid/view/ViewGroup;Landroid/transition/Transition;)V

    :goto_6
    const/4 v6, 0x1

    goto :goto_7

    .line 13326
    :cond_12
    iget-object v6, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v6}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v6

    invoke-virtual {v6, v12}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 13327
    iget-object v6, v1, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    if-eqz v6, :cond_13

    .line 13328
    invoke-virtual {v6, v8, v8}, Landroidx/core/widget/NestedScrollView;->scrollTo(II)V

    :cond_13
    const/4 v6, 0x0

    :goto_7
    const/4 v11, 0x4

    if-nez v5, :cond_1c

    .line 13334
    invoke-static {v12, v7}, Lorg/telegram/ui/ActionBar/Theme;->createChatResources(Landroid/content/Context;Z)V

    if-eqz v0, :cond_14

    .line 13336
    iget-boolean v6, v1, Lorg/telegram/ui/PhotoViewer;->captionTranslated:Z

    if-eqz v6, :cond_14

    iget-object v6, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    if-eqz v6, :cond_14

    iget-object v9, v6, Lorg/telegram/tgnet/TLRPC$Message;->translatedText:Lorg/telegram/tgnet/TLRPC$TL_textWithEntities;

    if-eqz v9, :cond_14

    iget-object v6, v6, Lorg/telegram/tgnet/TLRPC$Message;->translatedToLanguage:Ljava/lang/String;

    invoke-static {}, Lorg/telegram/ui/Components/TranslateAlert2;->getToLanguage()Ljava/lang/String;

    move-result-object v9

    invoke-static {v6, v9}, Landroid/text/TextUtils;->equals(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Z

    move-result v6

    if-eqz v6, :cond_14

    goto :goto_8

    :cond_14
    const/high16 v6, 0x41a00000    # 20.0f

    if-eqz v0, :cond_16

    .line 13338
    iget-object v9, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v9, v9, Lorg/telegram/tgnet/TLRPC$Message;->entities:Ljava/util/ArrayList;

    invoke-virtual {v9}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v9

    if-nez v9, :cond_16

    .line 13339
    new-instance v9, Landroid/text/SpannableString;

    invoke-direct {v9, v4}, Landroid/text/SpannableString;-><init>(Ljava/lang/CharSequence;)V

    .line 13340
    invoke-virtual {v0, v9, v7, v8}, Lorg/telegram/messenger/MessageObject;->addEntitiesToText(Ljava/lang/CharSequence;ZZ)Z

    .line 13341
    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v4

    if-eqz v4, :cond_15

    .line 13342
    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->isOutOwner()Z

    move-result v12

    const/4 v14, 0x0

    const/4 v15, 0x3

    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->getDuration()D

    move-result-wide v7

    double-to-int v0, v7

    const/16 v17, 0x0

    move-object v13, v9

    move/from16 v16, v0

    invoke-static/range {v12 .. v17}, Lorg/telegram/messenger/MessageObject;->addUrlsByPattern(ZLjava/lang/CharSequence;ZIIZ)V

    .line 13344
    :cond_15
    invoke-virtual {v10}, Landroid/widget/TextView;->getPaint()Landroid/text/TextPaint;

    move-result-object v0

    invoke-virtual {v0}, Landroid/text/TextPaint;->getFontMetricsInt()Landroid/graphics/Paint$FontMetricsInt;

    move-result-object v0

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v4

    const/4 v7, 0x0

    invoke-static {v9, v0, v4, v7}, Lorg/telegram/messenger/Emoji;->replaceEmoji(Ljava/lang/CharSequence;Landroid/graphics/Paint$FontMetricsInt;IZ)Ljava/lang/CharSequence;

    move-result-object v4

    goto :goto_8

    :cond_16
    const/4 v7, 0x0

    .line 13346
    new-instance v0, Landroid/text/SpannableStringBuilder;

    invoke-direct {v0, v4}, Landroid/text/SpannableStringBuilder;-><init>(Ljava/lang/CharSequence;)V

    invoke-virtual {v10}, Landroid/widget/TextView;->getPaint()Landroid/text/TextPaint;

    move-result-object v4

    invoke-virtual {v4}, Landroid/text/TextPaint;->getFontMetricsInt()Landroid/graphics/Paint$FontMetricsInt;

    move-result-object v4

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v6

    invoke-static {v0, v4, v6, v7}, Lorg/telegram/messenger/Emoji;->replaceEmoji(Ljava/lang/CharSequence;Landroid/graphics/Paint$FontMetricsInt;IZ)Ljava/lang/CharSequence;

    move-result-object v4

    .line 13348
    :goto_8
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v0, v4}, Landroid/widget/ViewSwitcher;->setTag(Ljava/lang/Object;)V

    .line 13350
    :try_start_0
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    iget-boolean v6, v1, Lorg/telegram/ui/PhotoViewer;->lastCaptionTranslating:Z

    if-eq v6, v2, :cond_17

    const/4 v6, 0x1

    goto :goto_9

    :cond_17
    const/4 v6, 0x0

    :goto_9
    invoke-virtual {v0, v4, v3, v6}, Lorg/telegram/ui/Components/TextViewSwitcher;->setText(Ljava/lang/CharSequence;ZZ)Z

    .line 13351
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    if-eqz v0, :cond_18

    .line 13352
    invoke-virtual {v0}, Lorg/telegram/ui/PhotoViewer$CaptionScrollView;->updateTopMargin()V
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_a

    :catch_0
    move-exception v0

    .line 13355
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :cond_18
    :goto_a
    const/4 v3, 0x0

    .line 13357
    invoke-virtual {v10, v3}, Landroid/widget/TextView;->setScrollY(I)V

    const/4 v3, -0x1

    .line 13358
    invoke-virtual {v10, v3}, Landroid/widget/TextView;->setTextColor(I)V

    .line 13359
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-eqz v0, :cond_1a

    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v0, :cond_19

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v0

    if-eqz v0, :cond_19

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v0, :cond_1a

    :cond_19
    const/4 v7, 0x1

    goto :goto_b

    :cond_1a
    const/4 v7, 0x0

    .line 13360
    :goto_b
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    if-eqz v7, :cond_1b

    const/4 v11, 0x0

    :cond_1b
    invoke-virtual {v0, v11}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setVisibility(I)V

    const/4 v7, 0x0

    goto :goto_e

    .line 13362
    :cond_1c
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    if-eqz v0, :cond_1d

    .line 13363
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    sget v4, Lorg/telegram/messenger/R$string;->AddCaption:I

    const-string v6, "AddCaption"

    invoke-static {v6, v4}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v0, v4, v3}, Lorg/telegram/ui/Components/TextViewSwitcher;->setText(Ljava/lang/CharSequence;Z)V

    .line 13364
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v0

    const v3, -0x4d000001

    invoke-virtual {v0, v3}, Landroid/widget/TextView;->setTextColor(I)V

    .line 13365
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    const-string v3, "empty"

    invoke-virtual {v0, v3}, Landroid/widget/ViewSwitcher;->setTag(Ljava/lang/Object;)V

    .line 13366
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    const/4 v7, 0x0

    invoke-virtual {v0, v7}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setVisibility(I)V

    goto :goto_e

    :cond_1d
    const/4 v7, 0x0

    .line 13368
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v0, v12, v3}, Lorg/telegram/ui/Components/TextViewSwitcher;->setText(Ljava/lang/CharSequence;Z)V

    .line 13369
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v0

    const/4 v3, -0x1

    invoke-virtual {v0, v3}, Landroid/widget/TextView;->setTextColor(I)V

    .line 13370
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    if-eqz v6, :cond_1f

    if-eqz v9, :cond_1e

    goto :goto_c

    :cond_1e
    const/4 v3, 0x0

    goto :goto_d

    :cond_1f
    :goto_c
    const/4 v3, 0x1

    :goto_d
    invoke-virtual {v0, v11, v3}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setVisibility(IZ)V

    .line 13371
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v0, v12}, Landroid/widget/ViewSwitcher;->setTag(Ljava/lang/Object;)V

    .line 13374
    :goto_e
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v0

    instance-of v0, v0, Lorg/telegram/ui/PhotoViewer$CaptionTextView;

    if-eqz v0, :cond_20

    .line 13375
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v0

    check-cast v0, Lorg/telegram/ui/PhotoViewer$CaptionTextView;

    invoke-virtual {v0, v2}, Lorg/telegram/ui/PhotoViewer$CaptionTextView;->setLoading(Z)V

    :cond_20
    if-nez v5, :cond_21

    if-eqz v2, :cond_21

    const/4 v7, 0x1

    .line 13377
    :cond_21
    iput-boolean v7, v1, Lorg/telegram/ui/PhotoViewer;->lastCaptionTranslating:Z

    return-void

    .line 13094
    :cond_22
    :goto_f
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v0, v4}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->setText(Ljava/lang/CharSequence;)V

    .line 13095
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v0, v6}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setVisibility(I)V

    return-void
.end method

.method private setDoubleTapEnabled(Z)V
    .locals 1

    .line 11905
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->doubleTapEnabled:Z

    .line 11906
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->gestureDetector:Lorg/telegram/ui/Components/GestureDetector2;

    if-eqz p1, :cond_0

    move-object p1, p0

    goto :goto_0

    :cond_0
    const/4 p1, 0x0

    :goto_0
    invoke-virtual {v0, p1}, Lorg/telegram/ui/Components/GestureDetector2;->setOnDoubleTapListener(Lorg/telegram/ui/Components/GestureDetector2$OnDoubleTapListener;)V

    return-void
.end method

.method private setImageIndex(I)V
    .locals 2

    const/4 v0, 0x1

    const/4 v1, 0x0

    .line 12719
    invoke-direct {p0, p1, v0, v1}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(IZZ)V

    return-void
.end method

.method private setImageIndex(IZZ)V
    .locals 33

    move-object/from16 v0, p0

    move/from16 v1, p1

    .line 12723
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-eq v2, v1, :cond_45

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-nez v2, :cond_0

    goto/16 :goto_26

    :cond_0
    const/4 v2, 0x0

    if-nez p2, :cond_1

    .line 12727
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v3, :cond_1

    .line 12728
    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->release()V

    .line 12729
    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    .line 12732
    :cond_1
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    invoke-direct/range {p0 .. p1}, Lorg/telegram/ui/PhotoViewer;->getFileName(I)Ljava/lang/String;

    move-result-object v4

    const/4 v5, 0x0

    aput-object v4, v3, v5

    .line 12733
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    add-int/lit8 v4, v1, 0x1

    invoke-direct {v0, v4}, Lorg/telegram/ui/PhotoViewer;->getFileName(I)Ljava/lang/String;

    move-result-object v4

    const/4 v6, 0x1

    aput-object v4, v3, v6

    .line 12734
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    add-int/lit8 v4, v1, -0x1

    invoke-direct {v0, v4}, Lorg/telegram/ui/PhotoViewer;->getFileName(I)Ljava/lang/String;

    move-result-object v4

    const/4 v7, 0x2

    aput-object v4, v3, v7

    .line 12735
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    invoke-static {v8}, Lorg/telegram/ui/PhotoViewer;->getFileLocation(Lorg/telegram/messenger/ImageLocation;)Lorg/telegram/tgnet/TLRPC$FileLocation;

    move-result-object v8

    iget v9, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v3, v4, v8, v9}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->willSwitchFromPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;I)V

    .line 12736
    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v3

    iput-wide v3, v0, Lorg/telegram/ui/PhotoViewer;->lastPhotoSetTime:J

    .line 12738
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    .line 12739
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    .line 12740
    invoke-direct/range {p0 .. p3}, Lorg/telegram/ui/PhotoViewer;->setIsAboutToSwitchToIndex(IZZ)V

    .line 12746
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/Crop/CropTransform;->clone()Lorg/telegram/ui/Components/Crop/CropTransform;

    move-result-object v4

    .line 12747
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    if-eqz v8, :cond_3

    iget-object v8, v8, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-nez v8, :cond_2

    goto :goto_0

    :cond_2
    invoke-virtual {v8}, Lorg/telegram/messenger/MediaController$CropState;->clone()Lorg/telegram/messenger/MediaController$CropState;

    move-result-object v8

    goto :goto_1

    :cond_3
    :goto_0
    move-object v8, v2

    .line 12748
    :goto_1
    iget-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->centerImageIsVideo:Z

    .line 12750
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    invoke-virtual {v10}, Lorg/telegram/ui/PhotoViewer$EditState;->reset()V

    .line 12752
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v10}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v10

    if-nez v10, :cond_e

    .line 12753
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz v1, :cond_d

    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v10}, Ljava/util/ArrayList;->size()I

    move-result v10

    if-lt v1, v10, :cond_4

    goto/16 :goto_9

    .line 12757
    :cond_4
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    iget v10, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v1, v10}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lorg/telegram/messenger/MessageObject;

    if-eqz p2, :cond_5

    .line 12758
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v10, :cond_5

    invoke-virtual {v10}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v10

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v13

    if-ne v10, v13, :cond_5

    const/4 v10, 0x1

    goto :goto_2

    :cond_5
    const/4 v10, 0x0

    :goto_2
    if-eqz v10, :cond_6

    .line 12760
    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-boolean v13, v13, Lorg/telegram/messenger/MessageObject;->putInDownloadsStore:Z

    iput-boolean v13, v1, Lorg/telegram/messenger/MessageObject;->putInDownloadsStore:Z

    .line 12762
    :cond_6
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    .line 12763
    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v13

    .line 12764
    iget v14, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    if-ne v14, v6, :cond_9

    .line 12765
    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->canPreviewDocument()Z

    move-result v1

    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->canZoom:Z

    if-eqz v1, :cond_8

    .line 12766
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    if-eqz v1, :cond_7

    .line 12767
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v6}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_3

    .line 12769
    :cond_7
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v6}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12771
    :goto_3
    invoke-direct {v0, v6}, Lorg/telegram/ui/PhotoViewer;->setDoubleTapEnabled(Z)V

    goto :goto_4

    .line 12773
    :cond_8
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v6}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12774
    invoke-direct {v0, v5}, Lorg/telegram/ui/PhotoViewer;->setDoubleTapEnabled(Z)V

    :cond_9
    :goto_4
    const/16 v1, 0x8

    if-nez v13, :cond_b

    .line 12777
    iget-boolean v14, v0, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-eqz v14, :cond_a

    goto :goto_5

    .line 12782
    :cond_a
    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    invoke-virtual {v14, v1}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12783
    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->speedGap:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$GapView;

    invoke-virtual {v14, v1}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12784
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->checkHideMenuItem()V

    goto :goto_6

    .line 12778
    :cond_b
    :goto_5
    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    invoke-virtual {v14, v5}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12779
    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v15, 0x13

    invoke-virtual {v14, v15}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12780
    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->speedGap:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$GapView;

    iget-object v15, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v15}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->getVisibleSubItemsCount()I

    move-result v15

    if-le v15, v6, :cond_c

    const/4 v1, 0x0

    :cond_c
    invoke-virtual {v14, v1}, Landroid/widget/FrameLayout;->setVisibility(I)V

    :goto_6
    move/from16 v16, v3

    :goto_7
    const/4 v1, 0x0

    :goto_8
    const/4 v3, 0x1

    goto/16 :goto_1b

    .line 12754
    :cond_d
    :goto_9
    invoke-virtual {v0, v5, v5}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    return-void

    .line 12786
    :cond_e
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v10}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v10

    if-nez v10, :cond_11

    if-ltz v1, :cond_10

    .line 12787
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v10}, Ljava/util/ArrayList;->size()I

    move-result v10

    if-lt v1, v10, :cond_f

    goto :goto_a

    .line 12791
    :cond_f
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v10, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lorg/telegram/messenger/SecureDocument;

    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentSecureDocument:Lorg/telegram/messenger/SecureDocument;

    move/from16 v16, v3

    goto/16 :goto_19

    .line 12788
    :cond_10
    :goto_a
    invoke-virtual {v0, v5, v5}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    return-void

    .line 12792
    :cond_11
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v10}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v10

    if-nez v10, :cond_16

    if-ltz v1, :cond_15

    .line 12793
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v10}, Ljava/util/ArrayList;->size()I

    move-result v10

    if-lt v1, v10, :cond_12

    goto :goto_c

    .line 12797
    :cond_12
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    .line 12798
    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v13, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v13

    check-cast v13, Lorg/telegram/messenger/ImageLocation;

    if-eqz p2, :cond_13

    if-eqz v10, :cond_13

    if-eqz v13, :cond_13

    .line 12799
    iget-object v10, v10, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget v14, v10, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    iget-object v13, v13, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget v15, v13, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    if-ne v14, v15, :cond_13

    iget-wide v14, v10, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    move/from16 v16, v3

    iget-wide v2, v13, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    cmp-long v13, v14, v2

    if-nez v13, :cond_14

    const/4 v2, 0x1

    goto :goto_b

    :cond_13
    move/from16 v16, v3

    :cond_14
    const/4 v2, 0x0

    .line 12802
    :goto_b
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v3, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lorg/telegram/messenger/ImageLocation;

    iput-object v3, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    .line 12803
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {v3, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lorg/telegram/messenger/ImageLocation;

    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    move v10, v2

    const/4 v1, 0x0

    const/4 v2, 0x0

    const/4 v3, 0x1

    goto/16 :goto_1a

    .line 12794
    :cond_15
    :goto_c
    invoke-virtual {v0, v5, v5}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    return-void

    :cond_16
    move/from16 v16, v3

    .line 12804
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-nez v2, :cond_2c

    if-ltz v1, :cond_2b

    .line 12805
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-lt v1, v2, :cond_17

    goto/16 :goto_14

    .line 12809
    :cond_17
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    .line 12810
    instance-of v2, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v2, :cond_1b

    .line 12811
    check-cast v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    .line 12812
    iget-object v2, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    if-eqz v2, :cond_18

    .line 12813
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    iget-object v3, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    invoke-virtual {v2, v3}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;)Ljava/io/File;

    move-result-object v2

    invoke-virtual {v2}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;

    move-result-object v2

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    .line 12814
    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->isVideoDocument(Lorg/telegram/tgnet/TLRPC$Document;)Z

    move-result v1

    goto :goto_e

    .line 12815
    :cond_18
    iget-object v2, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    if-eqz v2, :cond_19

    .line 12816
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v3

    invoke-static {v1, v3}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v1

    invoke-virtual {v2, v1}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;)Ljava/io/File;

    move-result-object v1

    invoke-virtual {v1}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;

    move-result-object v1

    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    goto :goto_d

    .line 12817
    :cond_19
    iget-object v2, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    instance-of v3, v2, Lorg/telegram/tgnet/TLRPC$TL_webDocument;

    if-eqz v3, :cond_1a

    .line 12818
    iget-object v2, v2, Lorg/telegram/tgnet/TLRPC$WebDocument;->url:Ljava/lang/String;

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    .line 12819
    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->type:Ljava/lang/String;

    const-string v2, "video"

    invoke-virtual {v1, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v1

    goto :goto_e

    :cond_1a
    :goto_d
    const/4 v1, 0x0

    :goto_e
    move v13, v1

    const/4 v1, 0x0

    const/4 v10, 0x0

    goto/16 :goto_12

    .line 12823
    :cond_1b
    instance-of v2, v1, Lorg/telegram/messenger/MediaController$PhotoEntry;

    if-eqz v2, :cond_25

    .line 12824
    move-object v2, v1

    check-cast v2, Lorg/telegram/messenger/MediaController$PhotoEntry;

    .line 12825
    iget-object v3, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->path:Ljava/lang/String;

    iput-object v3, v0, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    if-nez v3, :cond_1c

    .line 12827
    invoke-virtual {v0, v5, v5}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    return-void

    .line 12830
    :cond_1c
    iget-boolean v3, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->isVideo:Z

    .line 12831
    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v14, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    iput-object v14, v13, Lorg/telegram/ui/PhotoViewer$EditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    .line 12832
    iget-object v14, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->paintPath:Ljava/lang/String;

    iput-object v14, v13, Lorg/telegram/ui/PhotoViewer$EditState;->paintPath:Ljava/lang/String;

    .line 12833
    iget-object v14, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->croppedPaintPath:Ljava/lang/String;

    iput-object v14, v13, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    .line 12834
    iget-object v14, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->croppedMediaEntities:Ljava/util/ArrayList;

    iput-object v14, v13, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    .line 12835
    iget-wide v14, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->averageDuration:J

    iput-wide v14, v13, Lorg/telegram/ui/PhotoViewer$EditState;->averageDuration:J

    .line 12836
    iget-object v14, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->mediaEntities:Ljava/util/ArrayList;

    iput-object v14, v13, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    .line 12837
    iget-object v14, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iput-object v14, v13, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    .line 12838
    new-instance v13, Ljava/io/File;

    iget-object v14, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->path:Ljava/lang/String;

    invoke-direct {v13, v14}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 12839
    invoke-static {v13}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v14

    .line 12840
    iget-boolean v15, v0, Lorg/telegram/ui/PhotoViewer;->isDocumentsPicker:Z

    if-eqz v15, :cond_23

    .line 12841
    new-instance v15, Ljava/lang/StringBuilder;

    invoke-direct {v15}, Ljava/lang/StringBuilder;-><init>()V

    .line 12842
    iget v10, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->width:I

    const-string v11, ", "

    if-eqz v10, :cond_1e

    iget v10, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->height:I

    if-eqz v10, :cond_1e

    .line 12843
    invoke-virtual {v15}, Ljava/lang/StringBuilder;->length()I

    move-result v10

    if-lez v10, :cond_1d

    .line 12844
    invoke-virtual {v15, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 12846
    :cond_1d
    sget-object v10, Ljava/util/Locale;->US:Ljava/util/Locale;

    new-array v12, v7, [Ljava/lang/Object;

    iget v7, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->width:I

    invoke-static {v7}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v7

    aput-object v7, v12, v5

    iget v7, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->height:I

    invoke-static {v7}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v7

    aput-object v7, v12, v6

    const-string v7, "%dx%d"

    invoke-static {v10, v7, v12}, Ljava/lang/String;->format(Ljava/util/Locale;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v7

    invoke-virtual {v15, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 12848
    :cond_1e
    iget-boolean v7, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->isVideo:Z

    if-eqz v7, :cond_20

    .line 12849
    invoke-virtual {v15}, Ljava/lang/StringBuilder;->length()I

    move-result v7

    if-lez v7, :cond_1f

    .line 12850
    invoke-virtual {v15, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 12852
    :cond_1f
    iget v7, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->duration:I

    invoke-static {v7}, Lorg/telegram/messenger/AndroidUtilities;->formatShortDuration(I)Ljava/lang/String;

    move-result-object v7

    invoke-virtual {v15, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 12854
    :cond_20
    iget-wide v6, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->size:J

    const-wide/16 v17, 0x0

    cmp-long v10, v6, v17

    if-eqz v10, :cond_22

    .line 12855
    invoke-virtual {v15}, Ljava/lang/StringBuilder;->length()I

    move-result v6

    if-lez v6, :cond_21

    .line 12856
    invoke-virtual {v15, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 12858
    :cond_21
    iget-wide v6, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->size:J

    invoke-static {v6, v7}, Lorg/telegram/messenger/AndroidUtilities;->formatFileSize(J)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v15, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 12861
    :cond_22
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->docNameTextView:Landroid/widget/TextView;

    invoke-virtual {v13}, Ljava/io/File;->getName()Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v2, v6}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 12862
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->docInfoTextView:Landroid/widget/TextView;

    invoke-virtual {v2, v15}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 12864
    :cond_23
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->savedState:Lorg/telegram/ui/PhotoViewer$SavedState;

    if-eqz v2, :cond_24

    const/4 v2, 0x1

    goto :goto_f

    :cond_24
    const/4 v2, 0x0

    :goto_f
    move-object v10, v14

    goto :goto_10

    .line 12865
    :cond_25
    instance-of v2, v1, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v2, :cond_26

    .line 12866
    move-object v2, v1

    check-cast v2, Lorg/telegram/messenger/MediaController$SearchImage;

    .line 12867
    invoke-virtual {v2}, Lorg/telegram/messenger/MediaController$SearchImage;->getPathToAttach()Ljava/lang/String;

    move-result-object v3

    iput-object v3, v0, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    .line 12868
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v6, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    iput-object v6, v3, Lorg/telegram/ui/PhotoViewer$EditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    .line 12869
    iget-object v6, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->paintPath:Ljava/lang/String;

    iput-object v6, v3, Lorg/telegram/ui/PhotoViewer$EditState;->paintPath:Ljava/lang/String;

    .line 12870
    iget-object v6, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->croppedPaintPath:Ljava/lang/String;

    iput-object v6, v3, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    .line 12871
    iget-object v6, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->croppedMediaEntities:Ljava/util/ArrayList;

    iput-object v6, v3, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    .line 12872
    iget-wide v6, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->averageDuration:J

    iput-wide v6, v3, Lorg/telegram/ui/PhotoViewer$EditState;->averageDuration:J

    .line 12873
    iget-object v6, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->mediaEntities:Ljava/util/ArrayList;

    iput-object v6, v3, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    .line 12874
    iget-object v2, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iput-object v2, v3, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    :cond_26
    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v10, 0x0

    .line 12876
    :goto_10
    instance-of v6, v1, Lorg/telegram/messenger/MediaController$MediaEditState;

    if-eqz v6, :cond_29

    .line 12877
    check-cast v1, Lorg/telegram/messenger/MediaController$MediaEditState;

    .line 12878
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->hasAnimatedMediaEntities()Z

    move-result v6

    if-eqz v6, :cond_27

    .line 12879
    iget-object v1, v1, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentImagePath:Ljava/lang/String;

    goto :goto_11

    .line 12880
    :cond_27
    iget-object v1, v1, Lorg/telegram/messenger/MediaController$MediaEditState;->filterPath:Ljava/lang/String;

    if-eqz v1, :cond_28

    .line 12881
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentImagePath:Ljava/lang/String;

    goto :goto_11

    .line 12883
    :cond_28
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentImagePath:Ljava/lang/String;

    :cond_29
    :goto_11
    move v13, v3

    move-object v1, v10

    move v10, v2

    .line 12887
    :goto_12
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v2, :cond_2a

    const/4 v3, 0x1

    .line 12888
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->previousHasTransform:Z

    .line 12889
    iget v6, v2, Lorg/telegram/messenger/MediaController$CropState;->cropPx:F

    iput v6, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPx:F

    .line 12890
    iget v7, v2, Lorg/telegram/messenger/MediaController$CropState;->cropPy:F

    iput v7, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPy:F

    .line 12891
    iget v11, v2, Lorg/telegram/messenger/MediaController$CropState;->cropScale:F

    iput v11, v0, Lorg/telegram/ui/PhotoViewer;->previousCropScale:F

    .line 12892
    iget v14, v2, Lorg/telegram/messenger/MediaController$CropState;->cropRotate:F

    iput v14, v0, Lorg/telegram/ui/PhotoViewer;->previousCropRotation:F

    .line 12893
    iget v15, v2, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    iput v15, v0, Lorg/telegram/ui/PhotoViewer;->previousCropOrientation:I

    .line 12894
    iget v12, v2, Lorg/telegram/messenger/MediaController$CropState;->cropPw:F

    iput v12, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPw:F

    .line 12895
    iget v5, v2, Lorg/telegram/messenger/MediaController$CropState;->cropPh:F

    iput v5, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPh:F

    .line 12896
    iget-boolean v2, v2, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    iput-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->previousCropMirrored:Z

    .line 12897
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    const/high16 v26, 0x3f800000    # 1.0f

    const/high16 v27, 0x3f800000    # 1.0f

    const/16 v30, 0x0

    const/16 v31, 0x0

    move-object/from16 v19, v3

    const/4 v3, 0x1

    move/from16 v20, v3

    move/from16 v21, v6

    move/from16 v22, v7

    move/from16 v23, v14

    move/from16 v24, v15

    move/from16 v25, v11

    move/from16 v28, v12

    move/from16 v29, v5

    move/from16 v32, v2

    invoke-virtual/range {v19 .. v32}, Lorg/telegram/ui/Components/Crop/CropTransform;->setViewTransform(ZFFFIFFFFFFFZ)V

    goto :goto_13

    :cond_2a
    const/4 v2, 0x0

    .line 12899
    iput-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->previousHasTransform:Z

    .line 12900
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    const/16 v20, 0x0

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPx:F

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPy:F

    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->previousCropRotation:F

    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->previousCropOrientation:I

    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->previousCropScale:F

    const/high16 v26, 0x3f800000    # 1.0f

    const/high16 v27, 0x3f800000    # 1.0f

    iget v12, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPw:F

    iget v14, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPh:F

    const/16 v30, 0x0

    const/16 v31, 0x0

    iget-boolean v15, v0, Lorg/telegram/ui/PhotoViewer;->previousCropMirrored:Z

    move-object/from16 v19, v2

    move/from16 v21, v3

    move/from16 v22, v5

    move/from16 v23, v6

    move/from16 v24, v7

    move/from16 v25, v11

    move/from16 v28, v12

    move/from16 v29, v14

    move/from16 v32, v15

    invoke-virtual/range {v19 .. v32}, Lorg/telegram/ui/Components/Crop/CropTransform;->setViewTransform(ZFFFIFFFFFFFZ)V

    :goto_13
    move-object v2, v1

    goto/16 :goto_7

    :cond_2b
    :goto_14
    const/4 v1, 0x0

    .line 12806
    invoke-virtual {v0, v1, v1}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    return-void

    .line 12902
    :cond_2c
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v1, :cond_32

    .line 12903
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz v2, :cond_31

    invoke-interface {v1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getItemsCount()I

    move-result v1

    if-lt v2, v1, :cond_2d

    goto :goto_18

    .line 12907
    :cond_2d
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v1, v2}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->get(I)Lorg/telegram/tgnet/TLRPC$PageBlock;

    move-result-object v1

    .line 12908
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentPageBlock:Lorg/telegram/tgnet/TLRPC$PageBlock;

    if-eqz v2, :cond_2e

    if-ne v2, v1, :cond_2e

    const/4 v10, 0x1

    goto :goto_15

    :cond_2e
    const/4 v10, 0x0

    .line 12909
    :goto_15
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentPageBlock:Lorg/telegram/tgnet/TLRPC$PageBlock;

    .line 12910
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v1, v2}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isVideo(I)Z

    move-result v1

    if-nez v1, :cond_30

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v1, v2}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isHardwarePlayer(I)Z

    move-result v1

    if-eqz v1, :cond_2f

    goto :goto_16

    :cond_2f
    const/4 v13, 0x0

    goto :goto_17

    :cond_30
    :goto_16
    const/4 v13, 0x1

    :goto_17
    const/4 v1, 0x0

    const/4 v2, 0x0

    goto/16 :goto_8

    :cond_31
    :goto_18
    const/4 v1, 0x0

    .line 12904
    invoke-virtual {v0, v1, v1}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    return-void

    :cond_32
    :goto_19
    const/4 v1, 0x0

    const/4 v2, 0x0

    const/4 v3, 0x1

    const/4 v10, 0x0

    :goto_1a
    const/4 v13, 0x0

    .line 12912
    :goto_1b
    invoke-direct {v0, v1, v3}, Lorg/telegram/ui/PhotoViewer;->setMenuItemIcon(ZZ)V

    .line 12914
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    if-eqz v1, :cond_34

    .line 12915
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-nez v5, :cond_33

    .line 12916
    iget-object v1, v1, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1, v3, v3}, Lorg/telegram/messenger/ImageReceiver;->setVisible(ZZ)V

    goto :goto_1c

    .line 12918
    :cond_33
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->showAfterAnimation:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    .line 12921
    :cond_34
    :goto_1c
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    invoke-static {v5}, Lorg/telegram/ui/PhotoViewer;->getFileLocation(Lorg/telegram/messenger/ImageLocation;)Lorg/telegram/tgnet/TLRPC$FileLocation;

    move-result-object v5

    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    const/4 v7, 0x0

    invoke-interface {v1, v3, v5, v6, v7}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getPlaceForPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;IZ)Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    move-result-object v1

    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    if-eqz v1, :cond_36

    .line 12923
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-nez v3, :cond_35

    .line 12924
    iget-object v1, v1, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    const/4 v3, 0x1

    invoke-virtual {v1, v7, v3}, Lorg/telegram/messenger/ImageReceiver;->setVisible(ZZ)V

    goto :goto_1d

    .line 12926
    :cond_35
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->hideAfterAnimation:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    :cond_36
    :goto_1d
    if-nez v10, :cond_3b

    .line 12931
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->draggingDown:Z

    const/4 v1, 0x0

    .line 12932
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 12933
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    const/high16 v3, 0x3f800000    # 1.0f

    .line 12934
    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    .line 12935
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    .line 12936
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 12937
    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    .line 12938
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->animateToRotate:F

    const-wide/16 v5, 0x0

    .line 12939
    iput-wide v5, v0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    .line 12940
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    const/4 v5, 0x0

    .line 12941
    iput-object v5, v0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    .line 12942
    iput-object v5, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    .line 12943
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    if-eqz v5, :cond_37

    const/4 v6, 0x4

    .line 12944
    invoke-virtual {v5, v6}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12947
    :cond_37
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartDistance:F

    .line 12948
    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartScale:F

    .line 12949
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterX:F

    .line 12950
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterY:F

    .line 12951
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartX:F

    .line 12952
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartY:F

    .line 12953
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->moveStartX:F

    .line 12954
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->moveStartY:F

    const/4 v1, 0x0

    .line 12955
    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->zooming:Z

    .line 12956
    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->moving:Z

    .line 12957
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->paintViewTouched:I

    .line 12958
    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->doubleTap:Z

    .line 12959
    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->invalidCoords:Z

    const/4 v3, 0x1

    .line 12960
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->canDragDown:Z

    .line 12961
    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->changingPage:Z

    .line 12962
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->switchImageAfterAnimation:I

    .line 12963
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    if-eq v5, v3, :cond_3a

    .line 12964
    iget-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-nez v3, :cond_39

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v3}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v3

    if-eqz v3, :cond_38

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v3, v3, v1

    if-eqz v3, :cond_39

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v3, v3, v1

    invoke-static {v3}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$23900(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result v1

    if-eqz v1, :cond_39

    :cond_38
    const/4 v1, 0x1

    goto :goto_1e

    :cond_39
    const/4 v1, 0x0

    :goto_1e
    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->canZoom:Z

    .line 12966
    :cond_3a
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    invoke-direct {v0, v1}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    const/4 v1, 0x0

    .line 12967
    invoke-direct {v0, v1}, Lorg/telegram/ui/PhotoViewer;->releasePlayer(Z)V

    goto :goto_1f

    :cond_3b
    const/4 v1, 0x0

    :goto_1f
    if-eqz v13, :cond_3d

    if-eqz v2, :cond_3d

    .line 12970
    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->isStreaming:Z

    .line 12971
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v5, 0x1

    if-ne v3, v5, :cond_3c

    const/4 v3, 0x1

    goto :goto_20

    :cond_3c
    const/4 v3, 0x0

    :goto_20
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v5, v5, Lorg/telegram/ui/PhotoViewer$EditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    invoke-direct {v0, v2, v3, v1, v5}, Lorg/telegram/ui/PhotoViewer;->preparePlayer(Landroid/net/Uri;ZZLorg/telegram/messenger/MediaController$SavedFilterState;)V

    .line 12974
    :cond_3d
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_3e

    goto :goto_21

    .line 12980
    :cond_3e
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    invoke-virtual {v1}, Lorg/telegram/ui/PhotoViewer$EditState;->reset()V

    .line 12983
    :goto_21
    iput-boolean v13, v0, Lorg/telegram/ui/PhotoViewer;->centerImageIsVideo:Z

    const/4 v1, -0x1

    move/from16 v2, v16

    if-ne v2, v1, :cond_3f

    .line 12986
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->setImages()V

    const/4 v1, 0x0

    :goto_22
    const/4 v2, 0x3

    if-ge v1, v2, :cond_44

    const/4 v3, 0x0

    .line 12988
    invoke-direct {v0, v1, v3, v3}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    add-int/lit8 v1, v1, 0x1

    goto :goto_22

    :cond_3f
    const/4 v1, 0x1

    const/4 v3, 0x0

    .line 12991
    invoke-direct {v0, v3, v1, v3}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    .line 12992
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-le v2, v1, :cond_41

    .line 12993
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    .line 12994
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    .line 12995
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    .line 12996
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    .line 12998
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->rightBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    .line 12999
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->rightBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    .line 13000
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->leftBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    .line 13001
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->leftBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    .line 13003
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    const/4 v2, 0x0

    if-eqz v1, :cond_40

    .line 13004
    aget-object v3, v1, v2

    const/4 v5, 0x1

    .line 13005
    aget-object v6, v1, v5

    aput-object v6, v1, v2

    const/4 v6, 0x2

    .line 13006
    aget-object v7, v1, v6

    aput-object v7, v1, v5

    .line 13007
    aput-object v3, v1, v6

    goto :goto_23

    :cond_40
    const/4 v6, 0x2

    .line 13010
    :goto_23
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->rightImageIsVideo:Z

    .line 13011
    iput-object v4, v0, Lorg/telegram/ui/PhotoViewer;->rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    .line 13012
    iput-object v8, v0, Lorg/telegram/ui/PhotoViewer;->rightCropState:Lorg/telegram/messenger/MediaController$CropState;

    .line 13014
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v3, v1, v2

    .line 13015
    aget-object v4, v1, v6

    aput-object v4, v1, v2

    .line 13016
    aput-object v3, v1, v6

    .line 13018
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v3, v1, v2

    .line 13019
    aget-object v4, v1, v6

    aput-object v4, v1, v2

    .line 13020
    aput-object v3, v1, v6

    .line 13021
    aget-object v1, v1, v2

    invoke-virtual {v3}, Landroid/widget/ImageView;->getTranslationY()F

    move-result v2

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setTranslationY(F)V

    const/4 v1, 0x0

    .line 13023
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->leftCropState:Lorg/telegram/messenger/MediaController$CropState;

    .line 13024
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    const/4 v2, 0x1

    sub-int/2addr v1, v2

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-direct {v0, v1, v3}, Lorg/telegram/ui/PhotoViewer;->setIndexToPaintingOverlay(ILorg/telegram/ui/Components/PaintingOverlay;)V

    .line 13025
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-direct {v0, v1, v3}, Lorg/telegram/ui/PhotoViewer;->setIndexToPaintingOverlay(ILorg/telegram/ui/Components/PaintingOverlay;)V

    .line 13026
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    add-int/2addr v1, v2

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-direct {v0, v1, v3}, Lorg/telegram/ui/PhotoViewer;->setIndexToPaintingOverlay(ILorg/telegram/ui/Components/PaintingOverlay;)V

    .line 13027
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    sub-int/2addr v3, v2

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-direct {v0, v1, v3, v4}, Lorg/telegram/ui/PhotoViewer;->setIndexToImage(Lorg/telegram/messenger/ImageReceiver;ILorg/telegram/ui/Components/Crop/CropTransform;)V

    .line 13028
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->resetIndexForDeferredImageLoading()V

    .line 13029
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->updateAccessibilityOverlayVisibility()V

    const/4 v1, 0x0

    .line 13031
    invoke-direct {v0, v2, v2, v1}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    const/4 v3, 0x2

    .line 13032
    invoke-direct {v0, v3, v2, v1}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    goto/16 :goto_25

    :cond_41
    if-ge v2, v1, :cond_43

    .line 13034
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    .line 13035
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    .line 13036
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    .line 13037
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    .line 13039
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->leftBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    .line 13040
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->leftBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    .line 13041
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->rightBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    .line 13042
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->rightBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    .line 13044
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    if-eqz v1, :cond_42

    const/4 v2, 0x2

    .line 13045
    aget-object v3, v1, v2

    const/4 v5, 0x1

    .line 13046
    aget-object v6, v1, v5

    aput-object v6, v1, v2

    const/4 v2, 0x0

    .line 13047
    aget-object v6, v1, v2

    aput-object v6, v1, v5

    .line 13048
    aput-object v3, v1, v2

    goto :goto_24

    :cond_42
    const/4 v2, 0x0

    const/4 v5, 0x1

    .line 13051
    :goto_24
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->leftImageIsVideo:Z

    .line 13052
    iput-object v4, v0, Lorg/telegram/ui/PhotoViewer;->leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    .line 13053
    iput-object v8, v0, Lorg/telegram/ui/PhotoViewer;->leftCropState:Lorg/telegram/messenger/MediaController$CropState;

    .line 13055
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v3, v1, v2

    .line 13056
    aget-object v4, v1, v5

    aput-object v4, v1, v2

    .line 13057
    aput-object v3, v1, v5

    .line 13059
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v3, v1, v2

    .line 13060
    aget-object v4, v1, v5

    aput-object v4, v1, v2

    .line 13061
    aput-object v3, v1, v5

    .line 13062
    aget-object v1, v1, v2

    invoke-virtual {v3}, Landroid/widget/ImageView;->getTranslationY()F

    move-result v2

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setTranslationY(F)V

    const/4 v1, 0x0

    .line 13064
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->rightCropState:Lorg/telegram/messenger/MediaController$CropState;

    .line 13065
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    sub-int/2addr v1, v5

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-direct {v0, v1, v2}, Lorg/telegram/ui/PhotoViewer;->setIndexToPaintingOverlay(ILorg/telegram/ui/Components/PaintingOverlay;)V

    .line 13066
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-direct {v0, v1, v2}, Lorg/telegram/ui/PhotoViewer;->setIndexToPaintingOverlay(ILorg/telegram/ui/Components/PaintingOverlay;)V

    .line 13067
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    add-int/2addr v1, v5

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-direct {v0, v1, v2}, Lorg/telegram/ui/PhotoViewer;->setIndexToPaintingOverlay(ILorg/telegram/ui/Components/PaintingOverlay;)V

    .line 13068
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    add-int/2addr v2, v5

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-direct {v0, v1, v2, v3}, Lorg/telegram/ui/PhotoViewer;->setIndexToImage(Lorg/telegram/messenger/ImageReceiver;ILorg/telegram/ui/Components/Crop/CropTransform;)V

    .line 13069
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->resetIndexForDeferredImageLoading()V

    .line 13070
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->updateAccessibilityOverlayVisibility()V

    const/4 v1, 0x0

    .line 13072
    invoke-direct {v0, v5, v5, v1}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    const/4 v2, 0x2

    .line 13073
    invoke-direct {v0, v2, v5, v1}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    .line 13075
    :cond_43
    :goto_25
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmap:Landroid/graphics/Bitmap;

    if-eqz v1, :cond_44

    .line 13076
    invoke-virtual {v1}, Landroid/graphics/Bitmap;->recycle()V

    const/4 v1, 0x0

    .line 13077
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmap:Landroid/graphics/Bitmap;

    .line 13080
    :cond_44
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->detectFaces()V

    :cond_45
    :goto_26
    return-void
.end method

.method private setImages()V
    .locals 3

    .line 11910
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-nez v0, :cond_0

    .line 11911
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    const/4 v2, 0x0

    invoke-direct {p0, v0, v1, v2}, Lorg/telegram/ui/PhotoViewer;->setIndexToImage(Lorg/telegram/messenger/ImageReceiver;ILorg/telegram/ui/Components/Crop/CropTransform;)V

    .line 11912
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-direct {p0, v0, v1}, Lorg/telegram/ui/PhotoViewer;->setIndexToPaintingOverlay(ILorg/telegram/ui/Components/PaintingOverlay;)V

    .line 11913
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    add-int/lit8 v1, v1, 0x1

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-direct {p0, v0, v1, v2}, Lorg/telegram/ui/PhotoViewer;->setIndexToImage(Lorg/telegram/messenger/ImageReceiver;ILorg/telegram/ui/Components/Crop/CropTransform;)V

    .line 11914
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    add-int/lit8 v0, v0, 0x1

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-direct {p0, v0, v1}, Lorg/telegram/ui/PhotoViewer;->setIndexToPaintingOverlay(ILorg/telegram/ui/Components/PaintingOverlay;)V

    .line 11915
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    add-int/lit8 v1, v1, -0x1

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-direct {p0, v0, v1, v2}, Lorg/telegram/ui/PhotoViewer;->setIndexToImage(Lorg/telegram/messenger/ImageReceiver;ILorg/telegram/ui/Components/Crop/CropTransform;)V

    .line 11916
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    add-int/lit8 v0, v0, -0x1

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-direct {p0, v0, v1}, Lorg/telegram/ui/PhotoViewer;->setIndexToPaintingOverlay(ILorg/telegram/ui/Components/PaintingOverlay;)V

    :cond_0
    return-void
.end method

.method private setIndexToImage(Lorg/telegram/messenger/ImageReceiver;ILorg/telegram/ui/Components/Crop/CropTransform;)V
    .locals 34

    move-object/from16 v0, p0

    move-object/from16 v14, p1

    move/from16 v1, p2

    move-object/from16 v15, p3

    const/4 v13, 0x0

    .line 13613
    invoke-virtual {v14, v13, v13}, Lorg/telegram/messenger/ImageReceiver;->setOrientation(IZ)V

    .line 13614
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    const/4 v12, 0x0

    if-nez v2, :cond_3

    if-ltz v1, :cond_73

    .line 13615
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-ge v1, v2, :cond_73

    .line 13616
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v2, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    .line 13617
    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    sget v2, Lorg/telegram/messenger/AndroidUtilities;->density:F

    .line 13619
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v2, :cond_0

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v14, v3, :cond_0

    goto :goto_0

    :cond_0
    move-object v2, v12

    :goto_0
    if-nez v2, :cond_1

    .line 13623
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v2, v12, v12, v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getThumbForPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;I)Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    move-result-object v2

    .line 13625
    :cond_1
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v3, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lorg/telegram/messenger/SecureDocument;

    .line 13626
    iget-object v3, v1, Lorg/telegram/messenger/SecureDocument;->secureFile:Lorg/telegram/tgnet/TLRPC$TL_secureFile;

    iget-wide v7, v3, Lorg/telegram/tgnet/TLRPC$TL_secureFile;->size:J

    .line 13627
    invoke-static {v1}, Lorg/telegram/messenger/ImageLocation;->getForSecureDocument(Lorg/telegram/messenger/SecureDocument;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v3

    const/4 v4, 0x0

    const/4 v5, 0x0

    if-eqz v2, :cond_2

    new-instance v1, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v2, v2, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v1, v2}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    move-object v6, v1

    goto :goto_1

    :cond_2
    move-object v6, v12

    :goto_1
    const/4 v9, 0x0

    const/4 v10, 0x0

    const/4 v11, 0x0

    const-string v12, "d"

    move-object/from16 v1, p1

    move-object v2, v3

    move-object v3, v12

    invoke-virtual/range {v1 .. v11}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;JLjava/lang/String;Ljava/lang/Object;I)V

    goto/16 :goto_4a

    .line 13629
    :cond_3
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    const-string v3, "%d_%d"

    const/4 v4, 0x2

    const/4 v11, 0x1

    if-nez v2, :cond_2c

    if-ltz v1, :cond_2b

    .line 13630
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-ge v1, v2, :cond_2b

    .line 13631
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v9

    .line 13632
    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v2

    int-to-float v2, v2

    sget v7, Lorg/telegram/messenger/AndroidUtilities;->density:F

    div-float/2addr v2, v7

    float-to-int v2, v2

    .line 13634
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v7, :cond_4

    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v14, v8, :cond_4

    goto :goto_2

    :cond_4
    move-object v7, v12

    :goto_2
    if-nez v7, :cond_5

    .line 13638
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v7, v12, v12, v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getThumbForPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;I)Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    move-result-object v7

    .line 13651
    :cond_5
    instance-of v1, v9, Lorg/telegram/messenger/MediaController$PhotoEntry;

    const-string v10, "d"

    if-eqz v1, :cond_b

    .line 13652
    move-object v1, v9

    check-cast v1, Lorg/telegram/messenger/MediaController$PhotoEntry;

    .line 13653
    iget-object v10, v1, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    .line 13654
    iget-boolean v5, v1, Lorg/telegram/messenger/MediaController$PhotoEntry;->isVideo:Z

    if-eqz v5, :cond_9

    .line 13656
    iget-object v6, v1, Lorg/telegram/messenger/MediaController$MediaEditState;->thumbPath:Ljava/lang/String;

    if-eqz v6, :cond_7

    .line 13657
    iget-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->fromCamera:Z

    if-eqz v8, :cond_8

    .line 13658
    invoke-static {v6}, Landroid/graphics/BitmapFactory;->decodeFile(Ljava/lang/String;)Landroid/graphics/Bitmap;

    move-result-object v6

    if-eqz v6, :cond_6

    .line 13660
    new-instance v7, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    invoke-direct {v7, v6}, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;-><init>(Landroid/graphics/Bitmap;)V

    .line 13661
    iput-object v12, v1, Lorg/telegram/messenger/MediaController$MediaEditState;->thumbPath:Ljava/lang/String;

    :cond_6
    move-object v1, v12

    move-object v6, v1

    goto :goto_4

    .line 13667
    :cond_7
    new-instance v6, Ljava/lang/StringBuilder;

    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "vthumb://"

    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget v8, v1, Lorg/telegram/messenger/MediaController$PhotoEntry;->imageId:I

    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    const-string v8, ":"

    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v1, v1, Lorg/telegram/messenger/MediaController$PhotoEntry;->path:Ljava/lang/String;

    invoke-virtual {v6, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v6

    :cond_8
    move-object v1, v12

    goto :goto_4

    .line 13670
    :cond_9
    iget-object v6, v1, Lorg/telegram/messenger/MediaController$MediaEditState;->filterPath:Ljava/lang/String;

    if-eqz v6, :cond_a

    goto :goto_3

    .line 13673
    :cond_a
    iget v6, v1, Lorg/telegram/messenger/MediaController$PhotoEntry;->orientation:I

    iget v8, v1, Lorg/telegram/messenger/MediaController$PhotoEntry;->invert:I

    invoke-virtual {v14, v6, v8, v13}, Lorg/telegram/messenger/ImageReceiver;->setOrientation(IIZ)V

    .line 13674
    iget-object v1, v1, Lorg/telegram/messenger/MediaController$PhotoEntry;->path:Ljava/lang/String;

    move-object v6, v1

    .line 13676
    :goto_3
    sget-object v1, Ljava/util/Locale;->US:Ljava/util/Locale;

    new-array v8, v4, [Ljava/lang/Object;

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v18

    aput-object v18, v8, v13

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v18

    aput-object v18, v8, v11

    invoke-static {v1, v3, v8}, Ljava/lang/String;->format(Ljava/util/Locale;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v1

    :goto_4
    move v11, v5

    move-object/from16 v16, v6

    move-object v8, v10

    move-object v5, v12

    move-object v6, v5

    move-object/from16 v29, v6

    const/16 v17, 0x0

    const-wide/16 v20, 0x0

    move-object v10, v1

    move-object/from16 v1, v29

    goto/16 :goto_e

    .line 13678
    :cond_b
    instance-of v1, v9, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v1, :cond_15

    .line 13680
    move-object v1, v9

    check-cast v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    .line 13681
    iget-object v5, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->type:Ljava/lang/String;

    const-string v6, "video"

    invoke-virtual {v5, v6}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v5

    if-nez v5, :cond_12

    iget-object v5, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    invoke-static {v5}, Lorg/telegram/messenger/MessageObject;->isVideoDocument(Lorg/telegram/tgnet/TLRPC$Document;)Z

    move-result v5

    if-eqz v5, :cond_c

    goto/16 :goto_7

    .line 13688
    :cond_c
    iget-object v5, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->type:Ljava/lang/String;

    const-string v6, "gif"

    invoke-virtual {v5, v6}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v5

    if-eqz v5, :cond_e

    iget-object v5, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    if-eqz v5, :cond_e

    .line 13690
    iget-wide v11, v5, Lorg/telegram/tgnet/TLRPC$Document;->size:J

    .line 13691
    invoke-static {v5}, Lorg/telegram/messenger/MessageObject;->getDocumentVideoThumb(Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/tgnet/TLRPC$VideoSize;

    move-result-object v1

    if-eqz v1, :cond_d

    .line 13693
    invoke-static {v1, v5}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$VideoSize;Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v1

    goto :goto_5

    :cond_d
    const/4 v1, 0x0

    :goto_5
    move-object v6, v1

    move-wide/from16 v16, v11

    const/4 v1, 0x0

    const/4 v8, 0x0

    const/4 v11, 0x0

    goto/16 :goto_b

    .line 13696
    :cond_e
    iget-object v5, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    if-eqz v5, :cond_f

    .line 13697
    iget-object v5, v5, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v6

    invoke-static {v5, v6}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v5

    .line 13699
    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    .line 13700
    iget v6, v5, Lorg/telegram/tgnet/TLRPC$PhotoSize;->size:I

    int-to-long v10, v6

    .line 13701
    sget-object v6, Ljava/util/Locale;->US:Ljava/util/Locale;

    new-array v8, v4, [Ljava/lang/Object;

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v12

    aput-object v12, v8, v13

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v12

    const/16 v16, 0x1

    aput-object v12, v8, v16

    invoke-static {v6, v3, v8}, Ljava/lang/String;->format(Ljava/util/Locale;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v6

    move-object v8, v5

    move-wide/from16 v16, v10

    const/4 v5, 0x0

    move-object v11, v1

    move-object v10, v6

    const/4 v1, 0x0

    const/4 v6, 0x0

    goto/16 :goto_b

    .line 13702
    :cond_f
    iget-object v5, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    instance-of v5, v5, Lorg/telegram/tgnet/TLRPC$TL_webDocument;

    if-eqz v5, :cond_14

    .line 13703
    iget-object v5, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->type:Ljava/lang/String;

    invoke-virtual {v5, v6}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v5

    if-eqz v5, :cond_10

    .line 13705
    iget-object v5, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->thumb:Lorg/telegram/tgnet/TLRPC$WebDocument;

    instance-of v6, v5, Lorg/telegram/tgnet/TLRPC$TL_webDocument;

    if-eqz v6, :cond_11

    iget-object v5, v5, Lorg/telegram/tgnet/TLRPC$WebDocument;->mime_type:Ljava/lang/String;

    const-string v6, "video/mp4"

    invoke-virtual {v6, v5}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v5

    if-eqz v5, :cond_11

    .line 13706
    iget-object v5, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->thumb:Lorg/telegram/tgnet/TLRPC$WebDocument;

    invoke-static {v5}, Lorg/telegram/messenger/WebFile;->createWithWebDocument(Lorg/telegram/tgnet/TLRPC$WebDocument;)Lorg/telegram/messenger/WebFile;

    move-result-object v5

    invoke-static {v5}, Lorg/telegram/messenger/ImageLocation;->getForWebFile(Lorg/telegram/messenger/WebFile;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v5

    goto :goto_6

    .line 13709
    :cond_10
    sget-object v5, Ljava/util/Locale;->US:Ljava/util/Locale;

    new-array v6, v4, [Ljava/lang/Object;

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v8

    aput-object v8, v6, v13

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v8

    const/4 v10, 0x1

    aput-object v8, v6, v10

    invoke-static {v5, v3, v6}, Ljava/lang/String;->format(Ljava/util/Locale;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v5

    move-object v10, v5

    :cond_11
    const/4 v5, 0x0

    .line 13711
    :goto_6
    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    invoke-static {v1}, Lorg/telegram/messenger/WebFile;->createWithWebDocument(Lorg/telegram/tgnet/TLRPC$WebDocument;)Lorg/telegram/messenger/WebFile;

    move-result-object v1

    move-object v6, v5

    const/4 v5, 0x0

    const/4 v8, 0x0

    goto :goto_9

    .line 13682
    :cond_12
    :goto_7
    iget-object v5, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    if-eqz v5, :cond_13

    .line 13683
    iget-object v5, v5, Lorg/telegram/tgnet/TLRPC$Document;->thumbs:Ljava/util/ArrayList;

    const/16 v6, 0x5a

    invoke-static {v5, v6}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v5

    .line 13684
    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    move-object v11, v1

    move-object v8, v5

    const/4 v1, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v10, 0x0

    goto :goto_a

    .line 13685
    :cond_13
    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->thumb:Lorg/telegram/tgnet/TLRPC$WebDocument;

    instance-of v5, v1, Lorg/telegram/tgnet/TLRPC$TL_webDocument;

    if-eqz v5, :cond_14

    .line 13686
    invoke-static {v1}, Lorg/telegram/messenger/WebFile;->createWithWebDocument(Lorg/telegram/tgnet/TLRPC$WebDocument;)Lorg/telegram/messenger/WebFile;

    move-result-object v1

    goto :goto_8

    :cond_14
    const/4 v1, 0x0

    :goto_8
    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v8, 0x0

    const/4 v10, 0x0

    :goto_9
    const/4 v11, 0x0

    :goto_a
    const-wide/16 v16, 0x0

    :goto_b
    move-object v12, v6

    move-object/from16 v29, v11

    move-wide/from16 v20, v16

    const/4 v11, 0x0

    const/16 v16, 0x0

    const/16 v17, 0x1

    move-object v6, v1

    move-object v1, v8

    const/4 v8, 0x0

    goto/16 :goto_e

    .line 13713
    :cond_15
    instance-of v1, v9, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v1, :cond_19

    .line 13715
    move-object v1, v9

    check-cast v1, Lorg/telegram/messenger/MediaController$SearchImage;

    .line 13716
    iget-object v5, v1, Lorg/telegram/messenger/MediaController$SearchImage;->photoSize:Lorg/telegram/tgnet/TLRPC$PhotoSize;

    if-eqz v5, :cond_16

    .line 13718
    iget-object v6, v1, Lorg/telegram/messenger/MediaController$SearchImage;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    .line 13719
    iget v8, v5, Lorg/telegram/tgnet/TLRPC$PhotoSize;->size:I

    int-to-long v11, v8

    const/4 v8, 0x0

    const/16 v16, 0x0

    move-wide/from16 v32, v11

    move-object v11, v5

    move-object v12, v6

    move-wide/from16 v5, v32

    goto :goto_d

    .line 13720
    :cond_16
    iget-object v5, v1, Lorg/telegram/messenger/MediaController$MediaEditState;->filterPath:Ljava/lang/String;

    if-eqz v5, :cond_17

    move-object/from16 v16, v5

    const-wide/16 v5, 0x0

    :goto_c
    const/4 v8, 0x0

    const/4 v11, 0x0

    const/4 v12, 0x0

    goto :goto_d

    .line 13722
    :cond_17
    iget-object v5, v1, Lorg/telegram/messenger/MediaController$SearchImage;->document:Lorg/telegram/tgnet/TLRPC$Document;

    if-eqz v5, :cond_18

    .line 13724
    iget-wide v11, v5, Lorg/telegram/tgnet/TLRPC$Document;->size:J

    move-object v8, v5

    move-wide v5, v11

    const/4 v11, 0x0

    const/4 v12, 0x0

    const/16 v16, 0x0

    goto :goto_d

    .line 13726
    :cond_18
    iget-object v5, v1, Lorg/telegram/messenger/MediaController$SearchImage;->imageUrl:Ljava/lang/String;

    .line 13727
    iget v6, v1, Lorg/telegram/messenger/MediaController$SearchImage;->size:I

    int-to-long v11, v6

    move-object/from16 v16, v5

    move-wide v5, v11

    goto :goto_c

    .line 13729
    :goto_d
    iget-object v1, v1, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    move-wide/from16 v20, v5

    move-object v5, v8

    move-object/from16 v29, v12

    const/4 v6, 0x0

    const/4 v12, 0x0

    const/16 v17, 0x1

    move-object v8, v1

    move-object v1, v11

    const/4 v11, 0x0

    goto :goto_e

    :cond_19
    const/4 v1, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v8, 0x0

    const/4 v10, 0x0

    const/4 v11, 0x0

    const/4 v12, 0x0

    const/16 v16, 0x0

    const/16 v17, 0x0

    const-wide/16 v20, 0x0

    const/16 v29, 0x0

    :goto_e
    if-eqz v5, :cond_1f

    .line 13733
    iget-object v1, v5, Lorg/telegram/tgnet/TLRPC$Document;->thumbs:Ljava/util/ArrayList;

    const/16 v6, 0x5a

    invoke-static {v1, v6}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v1

    if-eqz v12, :cond_1c

    .line 13735
    invoke-static {v5}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v6

    const/4 v10, 0x0

    if-nez v7, :cond_1a

    invoke-static {v1, v5}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v1

    move-object/from16 v16, v1

    goto :goto_f

    :cond_1a
    const/16 v16, 0x0

    :goto_f
    sget-object v1, Ljava/util/Locale;->US:Ljava/util/Locale;

    new-array v4, v4, [Ljava/lang/Object;

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v5

    aput-object v5, v4, v13

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    const/4 v5, 0x1

    aput-object v2, v4, v5

    invoke-static {v1, v3, v4}, Ljava/lang/String;->format(Ljava/util/Locale;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v19

    if-eqz v7, :cond_1b

    new-instance v1, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v2, v7, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v1, v2}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    move-object/from16 v18, v1

    goto :goto_10

    :cond_1b
    const/16 v18, 0x0

    :goto_10
    const/16 v22, 0x0

    const-string v3, "d"

    move-object/from16 v1, p1

    move-object v2, v6

    move-object v4, v12

    move-object v5, v10

    move-object/from16 v6, v16

    move-object/from16 v7, v19

    move-object v12, v8

    move-object/from16 v8, v18

    move-object/from16 v23, v9

    move-wide/from16 v9, v20

    move/from16 v30, v11

    move-object/from16 v11, v22

    move-object/from16 v31, v12

    move-object/from16 v12, v23

    const/4 v14, 0x0

    move/from16 v13, v17

    invoke-virtual/range {v1 .. v13}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;JLjava/lang/String;Ljava/lang/Object;I)V

    goto/16 :goto_14

    :cond_1c
    move-object/from16 v31, v8

    move-object/from16 v23, v9

    move/from16 v30, v11

    const/4 v14, 0x0

    .line 13737
    invoke-static {v5}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v6

    if-nez v7, :cond_1d

    invoke-static {v1, v5}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v1

    move-object v5, v1

    goto :goto_11

    :cond_1d
    const/4 v5, 0x0

    :goto_11
    sget-object v1, Ljava/util/Locale;->US:Ljava/util/Locale;

    new-array v4, v4, [Ljava/lang/Object;

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v8

    aput-object v8, v4, v14

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    const/4 v8, 0x1

    aput-object v2, v4, v8

    invoke-static {v1, v3, v4}, Ljava/lang/String;->format(Ljava/util/Locale;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v8

    if-eqz v7, :cond_1e

    new-instance v1, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v2, v7, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v1, v2}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    move-object/from16 v18, v1

    goto :goto_12

    :cond_1e
    const/16 v18, 0x0

    :goto_12
    const/4 v9, 0x0

    const-string v3, "d"

    move-object/from16 v1, p1

    move-object v2, v6

    move-object v4, v5

    move-object v5, v8

    move-object/from16 v6, v18

    move-wide/from16 v7, v20

    move-object/from16 v10, v23

    move/from16 v11, v17

    invoke-virtual/range {v1 .. v11}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;JLjava/lang/String;Ljava/lang/Object;I)V

    goto :goto_14

    :cond_1f
    move-object/from16 v31, v8

    move-object/from16 v23, v9

    move/from16 v30, v11

    const/4 v14, 0x0

    if-eqz v1, :cond_21

    move-object/from16 v11, v29

    .line 13740
    invoke-static {v1, v11}, Lorg/telegram/messenger/ImageLocation;->getForObject(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLObject;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v2

    if-eqz v7, :cond_20

    new-instance v1, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v3, v7, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v1, v3}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    move-object v4, v1

    goto :goto_13

    :cond_20
    const/4 v4, 0x0

    :goto_13
    const/4 v7, 0x0

    move-object/from16 v1, p1

    move-object v3, v10

    move-wide/from16 v5, v20

    move-object/from16 v8, v23

    move/from16 v9, v17

    invoke-virtual/range {v1 .. v9}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;JLjava/lang/String;Ljava/lang/Object;I)V

    goto :goto_14

    :cond_21
    if-eqz v6, :cond_25

    if-eqz v12, :cond_22

    .line 13743
    invoke-static {v6}, Lorg/telegram/messenger/ImageLocation;->getForWebFile(Lorg/telegram/messenger/WebFile;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v2

    const/4 v5, 0x0

    const/4 v6, 0x0

    move-object/from16 v1, p1

    move-object v3, v10

    move-object v4, v12

    move-object/from16 v7, v23

    move/from16 v8, v17

    invoke-virtual/range {v1 .. v8}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;Ljava/lang/Object;I)V

    :goto_14
    move/from16 v13, v30

    goto/16 :goto_18

    .line 13745
    :cond_22
    invoke-static {v6}, Lorg/telegram/messenger/ImageLocation;->getForWebFile(Lorg/telegram/messenger/WebFile;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v2

    if-eqz v7, :cond_23

    new-instance v1, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v3, v7, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v1, v3}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    move-object v4, v1

    move/from16 v13, v30

    goto :goto_15

    :cond_23
    move/from16 v13, v30

    if-eqz v13, :cond_24

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-eqz v1, :cond_24

    invoke-virtual {v1}, Landroid/app/Activity;->getResources()Landroid/content/res/Resources;

    move-result-object v1

    sget v3, Lorg/telegram/messenger/R$drawable;->nophotos:I

    invoke-virtual {v1, v3}, Landroid/content/res/Resources;->getDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v1

    move-object v4, v1

    goto :goto_15

    :cond_24
    const/4 v4, 0x0

    :goto_15
    const/4 v5, 0x0

    move-object/from16 v1, p1

    move-object v3, v10

    move-object/from16 v6, v23

    move/from16 v7, v17

    invoke-virtual/range {v1 .. v7}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;Ljava/lang/String;Ljava/lang/Object;I)V

    goto :goto_18

    :cond_25
    move/from16 v13, v30

    if-eqz v7, :cond_26

    .line 13748
    new-instance v1, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v2, v7, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v1, v2}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    :goto_16
    move-object v4, v1

    goto :goto_17

    :cond_26
    if-eqz v13, :cond_27

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-eqz v1, :cond_27

    invoke-virtual {v1}, Landroid/app/Activity;->getResources()Landroid/content/res/Resources;

    move-result-object v1

    sget v2, Lorg/telegram/messenger/R$drawable;->nophotos:I

    invoke-virtual {v1, v2}, Landroid/content/res/Resources;->getDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v1

    goto :goto_16

    :cond_27
    const/4 v4, 0x0

    :goto_17
    const/4 v5, 0x0

    move-object/from16 v1, p1

    move-object/from16 v2, v16

    move-object v3, v10

    move-wide/from16 v6, v20

    invoke-virtual/range {v1 .. v7}, Lorg/telegram/messenger/ImageReceiver;->setImage(Ljava/lang/String;Ljava/lang/String;Landroid/graphics/drawable/Drawable;Ljava/lang/String;J)V

    :goto_18
    move-object/from16 v1, v31

    if-eqz v15, :cond_29

    if-eqz v1, :cond_28

    const/16 v16, 0x1

    .line 13753
    iget v2, v1, Lorg/telegram/messenger/MediaController$CropState;->cropPx:F

    iget v3, v1, Lorg/telegram/messenger/MediaController$CropState;->cropPy:F

    iget v4, v1, Lorg/telegram/messenger/MediaController$CropState;->cropRotate:F

    iget v5, v1, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    iget v6, v1, Lorg/telegram/messenger/MediaController$CropState;->cropScale:F

    const/high16 v22, 0x3f800000    # 1.0f

    const/high16 v23, 0x3f800000    # 1.0f

    iget v7, v1, Lorg/telegram/messenger/MediaController$CropState;->cropPw:F

    iget v8, v1, Lorg/telegram/messenger/MediaController$CropState;->cropPh:F

    const/16 v26, 0x0

    const/16 v27, 0x0

    iget-boolean v9, v1, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    move-object/from16 v15, p3

    move/from16 v17, v2

    move/from16 v18, v3

    move/from16 v19, v4

    move/from16 v20, v5

    move/from16 v21, v6

    move/from16 v24, v7

    move/from16 v25, v8

    move/from16 v28, v9

    invoke-virtual/range {v15 .. v28}, Lorg/telegram/ui/Components/Crop/CropTransform;->setViewTransform(ZFFFIFFFFFFFZ)V

    goto :goto_19

    .line 13755
    :cond_28
    invoke-virtual {v15, v14}, Lorg/telegram/ui/Components/Crop/CropTransform;->setViewTransform(Z)V

    .line 13759
    :cond_29
    :goto_19
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    move-object/from16 v14, p1

    if-ne v14, v2, :cond_2a

    .line 13760
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->leftCropState:Lorg/telegram/messenger/MediaController$CropState;

    .line 13761
    iput-boolean v13, v0, Lorg/telegram/ui/PhotoViewer;->leftImageIsVideo:Z

    goto/16 :goto_4a

    .line 13762
    :cond_2a
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v14, v2, :cond_73

    .line 13763
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->rightCropState:Lorg/telegram/messenger/MediaController$CropState;

    .line 13764
    iput-boolean v13, v0, Lorg/telegram/ui/PhotoViewer;->rightImageIsVideo:Z

    goto/16 :goto_4a

    :cond_2b
    move-object v1, v12

    .line 13767
    invoke-virtual {v14, v1}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/Bitmap;)V

    goto/16 :goto_4a

    :cond_2c
    const/4 v12, 0x0

    .line 13769
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v2, :cond_3e

    const/4 v5, 0x1

    new-array v3, v5, [I

    .line 13771
    invoke-interface {v2, v1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getMedia(I)Lorg/telegram/tgnet/TLObject;

    move-result-object v2

    .line 13772
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v4, v2, v3}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getFileLocation(Lorg/telegram/tgnet/TLObject;[I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v4

    if-eqz v4, :cond_3c

    .line 13774
    instance-of v5, v2, Lorg/telegram/tgnet/TLRPC$Photo;

    if-eqz v5, :cond_35

    .line 13775
    check-cast v2, Lorg/telegram/tgnet/TLRPC$Photo;

    .line 13777
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v5, :cond_2d

    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v14, v6, :cond_2d

    goto :goto_1a

    :cond_2d
    const/4 v5, 0x0

    .line 13780
    :goto_1a
    aget v6, v3, v12

    if-nez v6, :cond_2e

    const/4 v6, -0x1

    aput v6, v3, v12

    .line 13784
    :cond_2e
    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v6}, Lorg/telegram/messenger/DownloadController;->getInstance(I)Lorg/telegram/messenger/DownloadController;

    move-result-object v6

    invoke-virtual {v6}, Lorg/telegram/messenger/DownloadController;->getAutodownloadMask()I

    move-result v6

    const/4 v11, 0x1

    and-int/2addr v6, v11

    if-eqz v6, :cond_2f

    const/4 v13, 0x1

    goto :goto_1b

    :cond_2f
    const/4 v13, 0x0

    :goto_1b
    if-nez v13, :cond_31

    .line 13785
    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-eq v6, v1, :cond_31

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    invoke-virtual {v1, v4, v11}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v1

    invoke-virtual {v1}, Ljava/io/File;->exists()Z

    move-result v1

    if-eqz v1, :cond_30

    goto :goto_1c

    :cond_30
    const/4 v13, 0x0

    goto :goto_1d

    :cond_31
    :goto_1c
    const/4 v13, 0x1

    .line 13786
    :goto_1d
    iget-object v1, v2, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    const/16 v6, 0x50

    invoke-static {v1, v6}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v1

    invoke-static {v1, v2}, Lorg/telegram/messenger/ImageLocation;->getForPhoto(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLRPC$Photo;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v6

    if-eqz v5, :cond_32

    .line 13787
    new-instance v1, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v5, v5, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v1, v5}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    move-object v7, v1

    goto :goto_1e

    :cond_32
    const/4 v7, 0x0

    :goto_1e
    if-eqz v13, :cond_33

    .line 13788
    invoke-static {v4, v2}, Lorg/telegram/messenger/ImageLocation;->getForPhoto(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLRPC$Photo;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v1

    move-object v2, v1

    goto :goto_1f

    :cond_33
    const/4 v2, 0x0

    :goto_1f
    const/4 v4, 0x0

    .line 13789
    aget v1, v3, v12

    int-to-long v8, v1

    const/4 v10, 0x0

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getParentObject()Ljava/lang/Object;

    move-result-object v12

    const/4 v15, 0x1

    const-string v5, "b"

    move-object/from16 v1, p1

    move-object v3, v4

    move-object v4, v6

    move-object v6, v7

    move-wide v7, v8

    move-object v9, v10

    move-object v10, v12

    const/4 v12, 0x1

    move v11, v15

    invoke-virtual/range {v1 .. v11}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;JLjava/lang/String;Ljava/lang/Object;I)V

    if-eqz v13, :cond_34

    const/4 v12, 0x0

    goto :goto_20

    .line 13790
    :cond_34
    invoke-static {v12}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v12

    :goto_20
    invoke-virtual {v14, v12}, Lorg/telegram/messenger/ImageReceiver;->setMark(Ljava/lang/Object;)V

    goto/16 :goto_4a

    .line 13791
    :cond_35
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v3, v1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isVideo(I)Z

    move-result v3

    if-nez v3, :cond_37

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v3, v1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isHardwarePlayer(I)Z

    move-result v1

    if-eqz v1, :cond_36

    goto :goto_21

    .line 13801
    :cond_36
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v14, v1, :cond_73

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    if-eqz v1, :cond_73

    .line 13802
    invoke-virtual {v14, v1}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/drawable/Drawable;)V

    .line 13803
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1, v2}, Lorg/telegram/ui/Components/AnimatedFileDrawable;->addSecondParentView(Landroid/view/View;)V

    goto/16 :goto_4a

    .line 13792
    :cond_37
    :goto_21
    iget-object v1, v4, Lorg/telegram/tgnet/TLRPC$PhotoSize;->location:Lorg/telegram/tgnet/TLRPC$FileLocation;

    instance-of v1, v1, Lorg/telegram/tgnet/TLRPC$TL_fileLocationUnavailable;

    if-nez v1, :cond_3b

    .line 13794
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v1, :cond_38

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v14, v3, :cond_38

    goto :goto_22

    :cond_38
    const/4 v1, 0x0

    :goto_22
    const/4 v3, 0x0

    const/4 v5, 0x0

    if-nez v1, :cond_39

    .line 13797
    check-cast v2, Lorg/telegram/tgnet/TLRPC$Document;

    invoke-static {v4, v2}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v2

    move-object v4, v2

    goto :goto_23

    :cond_39
    const/4 v4, 0x0

    :goto_23
    if-eqz v1, :cond_3a

    new-instance v2, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v1, v1, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v2, v1}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    move-object v6, v2

    goto :goto_24

    :cond_3a
    const/4 v6, 0x0

    :goto_24
    const-wide/16 v7, 0x0

    const/4 v9, 0x0

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getParentObject()Ljava/lang/Object;

    move-result-object v10

    const/4 v11, 0x1

    const-string v12, "b"

    move-object/from16 v1, p1

    move-object v2, v3

    move-object v3, v5

    move-object v5, v12

    invoke-virtual/range {v1 .. v11}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;JLjava/lang/String;Ljava/lang/Object;I)V

    goto/16 :goto_4a

    .line 13799
    :cond_3b
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-virtual {v1}, Landroid/app/Activity;->getResources()Landroid/content/res/Resources;

    move-result-object v1

    sget v2, Lorg/telegram/messenger/R$drawable;->photoview_placeholder:I

    invoke-virtual {v1, v2}, Landroid/content/res/Resources;->getDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v1

    invoke-virtual {v14, v1}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/drawable/Drawable;)V

    goto/16 :goto_4a

    .line 13806
    :cond_3c
    aget v1, v3, v12

    if-nez v1, :cond_3d

    const/4 v1, 0x0

    .line 13807
    invoke-virtual {v14, v1}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/Bitmap;)V

    goto/16 :goto_4a

    .line 13809
    :cond_3d
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-virtual {v1}, Landroid/app/Activity;->getResources()Landroid/content/res/Resources;

    move-result-object v1

    sget v2, Lorg/telegram/messenger/R$drawable;->photoview_placeholder:I

    invoke-virtual {v1, v2}, Landroid/content/res/Resources;->getDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v1

    invoke-virtual {v14, v1}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/drawable/Drawable;)V

    goto/16 :goto_4a

    :cond_3e
    const/4 v15, 0x1

    .line 13814
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-nez v2, :cond_3f

    if-ltz v1, :cond_3f

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-ge v1, v2, :cond_3f

    .line 13815
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/MessageObject;

    .line 13816
    invoke-virtual {v14, v15}, Lorg/telegram/messenger/ImageReceiver;->setShouldGenerateQualityThumb(Z)V

    move-object v10, v2

    goto :goto_25

    :cond_3f
    const/4 v10, 0x0

    :goto_25
    const/16 v2, 0x64

    if-eqz v10, :cond_52

    .line 13822
    iget-object v5, v10, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v5, v5, Lorg/telegram/tgnet/TLRPC$Message;->restriction_reason:Ljava/util/ArrayList;

    invoke-static {v5}, Lorg/telegram/messenger/MessagesController;->getRestrictionReason(Ljava/util/ArrayList;)Ljava/lang/String;

    move-result-object v5

    .line 13823
    invoke-static {v5}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v5

    if-nez v5, :cond_40

    .line 13824
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-virtual {v1}, Landroid/app/Activity;->getResources()Landroid/content/res/Resources;

    move-result-object v1

    sget v2, Lorg/telegram/messenger/R$drawable;->photoview_placeholder:I

    invoke-virtual {v1, v2}, Landroid/content/res/Resources;->getDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v1

    invoke-virtual {v14, v1}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/drawable/Drawable;)V

    return-void

    .line 13826
    :cond_40
    invoke-virtual {v10}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v5

    if-eqz v5, :cond_47

    .line 13827
    iget-object v1, v10, Lorg/telegram/messenger/MessageObject;->photoThumbs:Ljava/util/ArrayList;

    if-eqz v1, :cond_45

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_45

    .line 13829
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v1, :cond_41

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v14, v3, :cond_41

    goto :goto_26

    :cond_41
    const/4 v1, 0x0

    .line 13832
    :goto_26
    iget-object v3, v10, Lorg/telegram/messenger/MessageObject;->photoThumbs:Ljava/util/ArrayList;

    const/16 v4, 0x140

    invoke-static {v3, v4}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v3

    .line 13833
    iget v4, v3, Lorg/telegram/tgnet/TLRPC$PhotoSize;->w:I

    if-ge v4, v2, :cond_42

    iget v4, v3, Lorg/telegram/tgnet/TLRPC$PhotoSize;->h:I

    if-ge v4, v2, :cond_42

    const/4 v13, 0x1

    goto :goto_27

    :cond_42
    const/4 v13, 0x0

    :goto_27
    invoke-virtual {v14, v13}, Lorg/telegram/messenger/ImageReceiver;->setNeedsQualityThumb(Z)V

    const/4 v2, 0x0

    const/4 v4, 0x0

    if-nez v1, :cond_43

    .line 13834
    iget-object v5, v10, Lorg/telegram/messenger/MessageObject;->photoThumbsObject:Lorg/telegram/tgnet/TLObject;

    invoke-static {v3, v5}, Lorg/telegram/messenger/ImageLocation;->getForObject(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLObject;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v3

    move-object v5, v3

    goto :goto_28

    :cond_43
    const/4 v5, 0x0

    :goto_28
    if-eqz v1, :cond_44

    new-instance v3, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v1, v1, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v3, v1}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    move-object v6, v3

    goto :goto_29

    :cond_44
    const/4 v6, 0x0

    :goto_29
    const-wide/16 v7, 0x0

    const/4 v9, 0x0

    const/4 v11, 0x1

    const-string v13, "b"

    move-object/from16 v1, p1

    move-object v3, v4

    move-object v4, v5

    move-object v5, v13

    invoke-virtual/range {v1 .. v11}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;JLjava/lang/String;Ljava/lang/Object;I)V

    .line 13835
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v1, :cond_46

    .line 13836
    iget v1, v1, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->orientation:I

    invoke-virtual {v14, v1, v12}, Lorg/telegram/messenger/ImageReceiver;->setOrientation(IZ)V

    goto :goto_2a

    .line 13839
    :cond_45
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-virtual {v1}, Landroid/app/Activity;->getResources()Landroid/content/res/Resources;

    move-result-object v1

    sget v2, Lorg/telegram/messenger/R$drawable;->photoview_placeholder:I

    invoke-virtual {v1, v2}, Landroid/content/res/Resources;->getDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v1

    invoke-virtual {v14, v1}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/drawable/Drawable;)V

    :cond_46
    :goto_2a
    return-void

    .line 13842
    :cond_47
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v14, v5, :cond_48

    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    if-eqz v5, :cond_48

    .line 13843
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v5, v1}, Lorg/telegram/ui/Components/AnimatedFileDrawable;->addSecondParentView(Landroid/view/View;)V

    .line 13844
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    invoke-virtual {v14, v1}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/drawable/Drawable;)V

    return-void

    .line 13846
    :cond_48
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    if-ne v5, v15, :cond_52

    .line 13847
    invoke-virtual {v10}, Lorg/telegram/messenger/MessageObject;->canPreviewDocument()Z

    move-result v5

    if-eqz v5, :cond_51

    .line 13848
    invoke-virtual {v10}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v5

    .line 13849
    invoke-virtual {v14, v15}, Lorg/telegram/messenger/ImageReceiver;->setNeedsQualityThumb(Z)V

    .line 13851
    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v6, :cond_49

    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v14, v7, :cond_49

    goto :goto_2b

    :cond_49
    const/4 v6, 0x0

    :goto_2b
    const/high16 v7, 0x45000000    # 2048.0f

    .line 13854
    sget v8, Lorg/telegram/messenger/AndroidUtilities;->density:F

    div-float/2addr v7, v8

    float-to-int v7, v7

    .line 13856
    iget v8, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v8}, Lorg/telegram/messenger/DownloadController;->getInstance(I)Lorg/telegram/messenger/DownloadController;

    move-result-object v8

    invoke-virtual {v8}, Lorg/telegram/messenger/DownloadController;->getAutodownloadMask()I

    move-result v8

    and-int/lit8 v8, v8, 0x8

    if-eqz v8, :cond_4a

    const/4 v13, 0x1

    goto :goto_2c

    :cond_4a
    const/4 v13, 0x0

    :goto_2c
    if-nez v13, :cond_4c

    .line 13857
    iget v8, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-eq v8, v1, :cond_4c

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    invoke-virtual {v1, v5}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;)Ljava/io/File;

    move-result-object v1

    invoke-virtual {v1}, Ljava/io/File;->exists()Z

    move-result v1

    if-eqz v1, :cond_4b

    goto :goto_2d

    :cond_4b
    const/4 v13, 0x0

    goto :goto_2e

    :cond_4c
    :goto_2d
    const/4 v13, 0x1

    :goto_2e
    if-nez v6, :cond_4d

    .line 13858
    iget-object v1, v10, Lorg/telegram/messenger/MessageObject;->photoThumbs:Ljava/util/ArrayList;

    invoke-static {v1, v2}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v1

    invoke-static {v1, v5}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v1

    move-object v8, v1

    goto :goto_2f

    :cond_4d
    const/4 v8, 0x0

    :goto_2f
    if-eqz v6, :cond_4e

    .line 13859
    new-instance v1, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v2, v6, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v1, v2}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    move-object v6, v1

    goto :goto_30

    :cond_4e
    const/4 v6, 0x0

    :goto_30
    if-eqz v13, :cond_4f

    .line 13860
    invoke-static {v5}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v1

    move-object v2, v1

    goto :goto_31

    :cond_4f
    const/4 v2, 0x0

    .line 13861
    :goto_31
    sget-object v1, Ljava/util/Locale;->US:Ljava/util/Locale;

    new-array v4, v4, [Ljava/lang/Object;

    invoke-static {v7}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v9

    aput-object v9, v4, v12

    invoke-static {v7}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v7

    aput-object v7, v4, v15

    invoke-static {v1, v3, v4}, Ljava/lang/String;->format(Ljava/util/Locale;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v3

    iget-wide v11, v5, Lorg/telegram/tgnet/TLRPC$Document;->size:J

    const/4 v9, 0x0

    const/16 v16, 0x0

    const-string v5, "b"

    move-object/from16 v1, p1

    move-object v4, v8

    move-wide v7, v11

    move/from16 v11, v16

    invoke-virtual/range {v1 .. v11}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;JLjava/lang/String;Ljava/lang/Object;I)V

    if-eqz v13, :cond_50

    const/4 v12, 0x0

    goto :goto_32

    .line 13862
    :cond_50
    invoke-static {v15}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v12

    :goto_32
    invoke-virtual {v14, v12}, Lorg/telegram/messenger/ImageReceiver;->setMark(Ljava/lang/Object;)V

    goto :goto_33

    .line 13864
    :cond_51
    new-instance v1, Lorg/telegram/ui/Components/OtherDocumentPlaceholderDrawable;

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-direct {v1, v2, v3, v10}, Lorg/telegram/ui/Components/OtherDocumentPlaceholderDrawable;-><init>(Landroid/content/Context;Landroid/view/View;Lorg/telegram/messenger/MessageObject;)V

    .line 13865
    invoke-virtual {v14, v1}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/drawable/Drawable;)V

    :goto_33
    return-void

    :cond_52
    new-array v3, v15, [J

    .line 13871
    invoke-direct {v0, v1, v3}, Lorg/telegram/ui/PhotoViewer;->getImageLocation(I[J)Lorg/telegram/messenger/ImageLocation;

    move-result-object v5

    .line 13872
    invoke-direct {v0, v1, v3}, Lorg/telegram/ui/PhotoViewer;->getFileLocation(I[J)Lorg/telegram/tgnet/TLObject;

    move-result-object v6

    .line 13873
    invoke-virtual {v14, v15}, Lorg/telegram/messenger/ImageReceiver;->setNeedsQualityThumb(Z)V

    if-eqz v5, :cond_71

    .line 13877
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v7, :cond_53

    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v14, v8, :cond_53

    goto :goto_34

    :cond_53
    const/4 v7, 0x0

    .line 13880
    :goto_34
    aget-wide v8, v3, v12

    const-wide/16 v16, 0x0

    cmp-long v11, v8, v16

    if-nez v11, :cond_54

    const-wide/16 v8, -0x1

    aput-wide v8, v3, v12

    :cond_54
    if-eqz v10, :cond_55

    .line 13886
    iget-object v8, v10, Lorg/telegram/messenger/MessageObject;->photoThumbs:Ljava/util/ArrayList;

    invoke-static {v8, v2}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v2

    .line 13887
    iget-object v8, v10, Lorg/telegram/messenger/MessageObject;->photoThumbsObject:Lorg/telegram/tgnet/TLObject;

    goto :goto_35

    :cond_55
    const/4 v2, 0x0

    const/4 v8, 0x0

    :goto_35
    if-eqz v2, :cond_56

    if-ne v2, v6, :cond_56

    const/4 v2, 0x0

    :cond_56
    if-nez v2, :cond_58

    .line 13895
    iget-object v9, v5, Lorg/telegram/messenger/ImageLocation;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    if-eqz v9, :cond_58

    iget-object v9, v9, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    if-eqz v9, :cond_58

    const/4 v13, 0x0

    .line 13896
    :goto_36
    iget-object v9, v5, Lorg/telegram/messenger/ImageLocation;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    iget-object v9, v9, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    invoke-virtual {v9}, Ljava/util/ArrayList;->size()I

    move-result v9

    if-ge v13, v9, :cond_58

    .line 13897
    iget-object v9, v5, Lorg/telegram/messenger/ImageLocation;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    iget-object v9, v9, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    invoke-virtual {v9, v13}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v9

    instance-of v9, v9, Lorg/telegram/tgnet/TLRPC$TL_photoStrippedSize;

    if-eqz v9, :cond_57

    .line 13898
    iget-object v2, v5, Lorg/telegram/messenger/ImageLocation;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    iget-object v2, v2, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    invoke-virtual {v2, v13}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/tgnet/TLRPC$PhotoSize;

    .line 13899
    iget-object v8, v5, Lorg/telegram/messenger/ImageLocation;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    goto :goto_37

    :cond_57
    add-int/lit8 v13, v13, 0x1

    goto :goto_36

    :cond_58
    :goto_37
    if-eqz v10, :cond_5a

    .line 13904
    invoke-virtual {v10}, Lorg/telegram/messenger/MessageObject;->isWebpage()Z

    move-result v9

    if-nez v9, :cond_59

    goto :goto_38

    :cond_59
    move-object/from16 p3, v5

    goto :goto_39

    :cond_5a
    :goto_38
    move-object/from16 p3, v5

    iget-wide v4, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    const-wide/16 v16, 0x0

    cmp-long v11, v4, v16

    if-nez v11, :cond_5c

    iget-boolean v4, v0, Lorg/telegram/ui/PhotoViewer;->isEvent:Z

    if-eqz v4, :cond_5b

    goto :goto_39

    :cond_5b
    const/4 v13, 0x0

    goto :goto_3a

    :cond_5c
    :goto_39
    const/4 v13, 0x1

    :goto_3a
    const/4 v4, 0x5

    if-eqz v10, :cond_5f

    .line 13909
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    if-ne v5, v4, :cond_5e

    .line 13910
    invoke-virtual {v10}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v5

    .line 13911
    invoke-static {v5}, Lorg/telegram/messenger/MessageObject;->getDocumentVideoThumb(Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/tgnet/TLRPC$VideoSize;

    move-result-object v11

    if-eqz v11, :cond_5d

    .line 13913
    invoke-static {v11, v5}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$VideoSize;Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v5

    goto :goto_3b

    :cond_5d
    const/4 v5, 0x0

    :goto_3b
    move-object/from16 v19, v10

    goto :goto_3e

    :cond_5e
    move-object/from16 v19, v10

    :goto_3c
    const/4 v5, 0x0

    goto :goto_3e

    .line 13916
    :cond_5f
    iget-wide v10, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    const-wide/16 v16, 0x0

    cmp-long v5, v10, v16

    if-eqz v5, :cond_63

    cmp-long v5, v10, v16

    if-lez v5, :cond_60

    .line 13918
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v5}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v5

    iget-wide v10, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    invoke-static {v10, v11}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v10

    invoke-virtual {v5, v10}, Lorg/telegram/messenger/MessagesController;->getUser(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$User;

    move-result-object v5

    goto :goto_3d

    .line 13920
    :cond_60
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v5}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v5

    iget-wide v10, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    neg-long v10, v10

    invoke-static {v10, v11}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v10

    invoke-virtual {v5, v10}, Lorg/telegram/messenger/MessagesController;->getChat(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v5

    :goto_3d
    if-eqz v8, :cond_61

    move-object v5, v8

    :cond_61
    if-nez v7, :cond_62

    .line 13925
    instance-of v10, v2, Lorg/telegram/tgnet/TLRPC$TL_photoStrippedSize;

    if-eqz v10, :cond_62

    .line 13926
    new-instance v7, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    iget-object v10, v2, Lorg/telegram/tgnet/TLRPC$PhotoSize;->bytes:[B

    const-string v11, "b"

    invoke-static {v10, v11}, Lorg/telegram/messenger/ImageLoader;->getStrippedPhotoBitmap([BLjava/lang/String;)Landroid/graphics/Bitmap;

    move-result-object v10

    invoke-direct {v7, v10}, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;-><init>(Landroid/graphics/Bitmap;)V

    :cond_62
    move-object/from16 v19, v5

    goto :goto_3c

    :cond_63
    const/4 v5, 0x0

    const/16 v19, 0x0

    :goto_3e
    const-string v10, "g"

    if-eqz v5, :cond_67

    .line 13932
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    if-ne v1, v4, :cond_64

    goto :goto_3f

    :cond_64
    const/4 v10, 0x0

    :goto_3f
    const/4 v6, 0x0

    if-nez v7, :cond_65

    .line 13933
    invoke-static {v2, v8}, Lorg/telegram/messenger/ImageLocation;->getForObject(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLObject;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v1

    move-object v8, v1

    goto :goto_40

    :cond_65
    const/4 v8, 0x0

    :goto_40
    if-eqz v7, :cond_66

    new-instance v1, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v2, v7, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v1, v2}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    move-object/from16 v18, v1

    goto :goto_41

    :cond_66
    const/16 v18, 0x0

    :goto_41
    aget-wide v11, v3, v12

    const/16 v16, 0x0

    const-string v7, "b"

    move-object/from16 v1, p1

    move-object/from16 v2, p3

    move-object v3, v10

    move-object v4, v5

    move-object v5, v6

    move-object v6, v8

    move-object/from16 v8, v18

    move-wide v9, v11

    move-object/from16 v11, v16

    move-object/from16 v12, v19

    invoke-virtual/range {v1 .. v13}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;JLjava/lang/String;Ljava/lang/Object;I)V

    .line 13934
    invoke-virtual {v14, v15}, Lorg/telegram/messenger/ImageReceiver;->setAllowStartAnimation(Z)V

    goto/16 :goto_4a

    .line 13937
    :cond_67
    iget-wide v4, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    const-wide/16 v16, 0x0

    cmp-long v11, v4, v16

    if-eqz v11, :cond_68

    move-object/from16 v4, p3

    .line 13938
    iget v5, v4, Lorg/telegram/messenger/ImageLocation;->imageType:I

    const/4 v9, 0x2

    if-ne v5, v9, :cond_69

    goto :goto_42

    :cond_68
    move-object/from16 v4, p3

    :cond_69
    const/4 v10, 0x0

    .line 13942
    :goto_42
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v5}, Lorg/telegram/messenger/DownloadController;->getInstance(I)Lorg/telegram/messenger/DownloadController;

    move-result-object v5

    invoke-virtual {v5}, Lorg/telegram/messenger/DownloadController;->getAutodownloadMask()I

    move-result v5

    and-int/2addr v5, v15

    if-eqz v5, :cond_6a

    const/4 v5, 0x1

    goto :goto_43

    :cond_6a
    const/4 v5, 0x0

    :goto_43
    if-nez v5, :cond_6c

    .line 13943
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-eq v5, v1, :cond_6c

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    invoke-virtual {v1, v6}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;)Ljava/io/File;

    move-result-object v1

    invoke-virtual {v1}, Ljava/io/File;->exists()Z

    move-result v1

    if-eqz v1, :cond_6b

    goto :goto_44

    :cond_6b
    const/16 v16, 0x0

    goto :goto_45

    :cond_6c
    :goto_44
    const/16 v16, 0x1

    :goto_45
    if-nez v7, :cond_6d

    .line 13944
    invoke-static {v2, v8}, Lorg/telegram/messenger/ImageLocation;->getForObject(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLObject;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v1

    move-object v5, v1

    goto :goto_46

    :cond_6d
    const/4 v5, 0x0

    :goto_46
    if-eqz v7, :cond_6e

    .line 13945
    new-instance v1, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v2, v7, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v1, v2}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    move-object v6, v1

    goto :goto_47

    :cond_6e
    const/4 v6, 0x0

    :goto_47
    if-eqz v16, :cond_6f

    move-object v2, v4

    goto :goto_48

    :cond_6f
    const/4 v2, 0x0

    .line 13948
    :goto_48
    aget-wide v7, v3, v12

    const/4 v9, 0x0

    const-string v11, "b"

    move-object/from16 v1, p1

    move-object v3, v10

    move-object v4, v5

    move-object v5, v11

    move-object/from16 v10, v19

    move v11, v13

    invoke-virtual/range {v1 .. v11}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;JLjava/lang/String;Ljava/lang/Object;I)V

    if-eqz v16, :cond_70

    const/4 v12, 0x0

    goto :goto_49

    .line 13949
    :cond_70
    invoke-static {v15}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v12

    :goto_49
    invoke-virtual {v14, v12}, Lorg/telegram/messenger/ImageReceiver;->setMark(Ljava/lang/Object;)V

    goto :goto_4a

    .line 13952
    :cond_71
    aget-wide v1, v3, v12

    const-wide/16 v3, 0x0

    cmp-long v5, v1, v3

    if-nez v5, :cond_72

    const/4 v1, 0x0

    .line 13953
    invoke-virtual {v14, v1}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/Bitmap;)V

    goto :goto_4a

    .line 13955
    :cond_72
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-virtual {v1}, Landroid/app/Activity;->getResources()Landroid/content/res/Resources;

    move-result-object v1

    sget v2, Lorg/telegram/messenger/R$drawable;->photoview_placeholder:I

    invoke-virtual {v1, v2}, Landroid/content/res/Resources;->getDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v1

    invoke-virtual {v14, v1}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/drawable/Drawable;)V

    :cond_73
    :goto_4a
    return-void
.end method

.method private setIndexToPaintingOverlay(ILorg/telegram/ui/Components/PaintingOverlay;)V
    .locals 3

    if-nez p2, :cond_0

    return-void

    .line 13590
    :cond_0
    invoke-virtual {p2}, Lorg/telegram/ui/Components/PaintingOverlay;->reset()V

    const/16 v0, 0x8

    .line 13591
    invoke-virtual {p2, v0}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 13592
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_3

    if-ltz p1, :cond_3

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    if-ge p1, v0, :cond_3

    .line 13593
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    .line 13597
    instance-of v0, p1, Lorg/telegram/messenger/MediaController$PhotoEntry;

    const/4 v1, 0x0

    const/4 v2, 0x0

    if-eqz v0, :cond_1

    .line 13598
    check-cast p1, Lorg/telegram/messenger/MediaController$PhotoEntry;

    .line 13599
    iget-boolean v0, p1, Lorg/telegram/messenger/MediaController$PhotoEntry;->isVideo:Z

    .line 13600
    iget-object v1, p1, Lorg/telegram/messenger/MediaController$MediaEditState;->paintPath:Ljava/lang/String;

    .line 13601
    iget-object p1, p1, Lorg/telegram/messenger/MediaController$MediaEditState;->mediaEntities:Ljava/util/ArrayList;

    goto :goto_1

    .line 13602
    :cond_1
    instance-of v0, p1, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v0, :cond_2

    .line 13603
    check-cast p1, Lorg/telegram/messenger/MediaController$SearchImage;

    .line 13604
    iget-object v1, p1, Lorg/telegram/messenger/MediaController$MediaEditState;->paintPath:Ljava/lang/String;

    .line 13605
    iget-object p1, p1, Lorg/telegram/messenger/MediaController$MediaEditState;->mediaEntities:Ljava/util/ArrayList;

    goto :goto_0

    :cond_2
    move-object p1, v1

    :goto_0
    const/4 v0, 0x0

    .line 13607
    :goto_1
    invoke-virtual {p2, v2}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 13608
    invoke-virtual {p2, v1, p1, v0, v2}, Lorg/telegram/ui/Components/PaintingOverlay;->setData(Ljava/lang/String;Ljava/util/ArrayList;ZZ)V

    :cond_3
    return-void
.end method

.method private setIsAboutToSwitchToIndex(IZZ)V
    .locals 38

    move-object/from16 v6, p0

    move/from16 v7, p1

    move/from16 v8, p3

    if-nez p2, :cond_0

    .line 11921
    iget v0, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    if-ne v0, v7, :cond_0

    return-void

    .line 11925
    :cond_0
    iget v9, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    const/4 v10, 0x1

    const/4 v11, 0x0

    if-lt v7, v9, :cond_1

    const/4 v0, 0x1

    goto :goto_0

    :cond_1
    const/4 v0, 0x0

    .line 11927
    :goto_0
    iput v7, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    .line 11932
    invoke-direct/range {p0 .. p1}, Lorg/telegram/ui/PhotoViewer;->getFileName(I)Ljava/lang/String;

    if-eqz v8, :cond_2

    .line 11935
    sget v1, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v2, 0x13

    if-lt v1, v2, :cond_2

    .line 11936
    new-instance v1, Landroid/transition/TransitionSet;

    invoke-direct {v1}, Landroid/transition/TransitionSet;-><init>()V

    .line 11937
    new-instance v2, Landroid/transition/Fade;

    invoke-direct {v2}, Landroid/transition/Fade;-><init>()V

    invoke-virtual {v1, v2}, Landroid/transition/TransitionSet;->addTransition(Landroid/transition/Transition;)Landroid/transition/TransitionSet;

    .line 11938
    new-instance v2, Landroid/transition/ChangeBounds;

    invoke-direct {v2}, Landroid/transition/ChangeBounds;-><init>()V

    invoke-virtual {v1, v2}, Landroid/transition/TransitionSet;->addTransition(Landroid/transition/Transition;)Landroid/transition/TransitionSet;

    .line 11939
    invoke-virtual {v1, v11}, Landroid/transition/TransitionSet;->setOrdering(I)Landroid/transition/TransitionSet;

    const-wide/16 v2, 0xdc

    .line 11940
    invoke-virtual {v1, v2, v3}, Landroid/transition/TransitionSet;->setDuration(J)Landroid/transition/TransitionSet;

    .line 11941
    sget-object v2, Lorg/telegram/ui/Components/CubicBezierInterpolator;->DEFAULT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-virtual {v1, v2}, Landroid/transition/TransitionSet;->setInterpolator(Landroid/animation/TimeInterpolator;)Landroid/transition/TransitionSet;

    .line 11942
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->itemsLayout:Landroid/widget/LinearLayout;

    invoke-static {v2, v1}, Landroid/transition/TransitionManager;->beginDelayedTransition(Landroid/view/ViewGroup;Landroid/transition/Transition;)V

    .line 11946
    :cond_2
    iput-boolean v11, v6, Lorg/telegram/ui/PhotoViewer;->editing:Z

    .line 11947
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    const-string v2, "AttachGif"

    const-string v12, "AttachVideo"

    const-string v13, "AttachPhoto"

    const-wide/16 v16, 0x0

    if-nez v1, :cond_4f

    .line 11948
    iget v0, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    if-ltz v0, :cond_4e

    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt v0, v1, :cond_3

    goto/16 :goto_27

    .line 11951
    :cond_3
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lorg/telegram/messenger/MessageObject;

    .line 11952
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->updateTranslation()Z

    .line 11953
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v1

    .line 11955
    iget-boolean v3, v6, Lorg/telegram/ui/PhotoViewer;->opennedFromMedia:Z

    if-eqz v3, :cond_4

    iget-boolean v3, v6, Lorg/telegram/ui/PhotoViewer;->openedFromProfile:Z

    if-nez v3, :cond_4

    const/4 v3, 0x1

    goto :goto_1

    :cond_4
    const/4 v3, 0x0

    :goto_1
    invoke-static {v0, v3, v11}, Lorg/telegram/ui/FilteredSearchView;->createFromInfoString(Lorg/telegram/messenger/MessageObject;ZI)Ljava/lang/CharSequence;

    move-result-object v3

    .line 11957
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isQuickReply()Z

    move-result v23

    if-nez v23, :cond_5

    iget-object v15, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    if-eqz v15, :cond_5

    .line 11958
    iget v15, v15, Lorg/telegram/tgnet/TLRPC$Message;->date:I

    int-to-long v14, v15

    invoke-static {v14, v15, v11}, Lorg/telegram/messenger/LocaleController;->formatDateAudio(JZ)Ljava/lang/String;

    move-result-object v14

    goto :goto_2

    :cond_5
    const/4 v14, 0x0

    .line 11960
    :goto_2
    iget-object v15, v6, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    invoke-virtual {v15, v14, v8}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;Z)V

    .line 11962
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isInvoice()Z

    move-result v14

    .line 11963
    iget v15, v6, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v15}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v15

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getChatId()J

    move-result-wide v4

    invoke-virtual {v15, v4, v5}, Lorg/telegram/messenger/MessagesController;->isChatNoForwards(J)Z

    move-result v4

    if-nez v4, :cond_8

    iget-object v4, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    if-eqz v4, :cond_6

    iget-boolean v4, v4, Lorg/telegram/tgnet/TLRPC$Message;->noforwards:Z

    if-nez v4, :cond_8

    :cond_6
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->hasRevealedExtendedMedia()Z

    move-result v4

    if-eqz v4, :cond_7

    goto :goto_3

    :cond_7
    const/4 v4, 0x0

    goto :goto_4

    :cond_8
    :goto_3
    const/4 v4, 0x1

    :goto_4
    if-eqz v1, :cond_9

    .line 11965
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v5, v11}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11966
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-static {v10}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v15

    invoke-virtual {v5, v15}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    goto :goto_5

    .line 11968
    :cond_9
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/16 v15, 0x8

    invoke-virtual {v5, v15}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11969
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/4 v15, 0x0

    invoke-virtual {v5, v15}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    :goto_5
    if-eqz v14, :cond_a

    .line 11972
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->masksItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v6, v1, v11, v8}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 11973
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->editItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v6, v1, v11, v8}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 11974
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v5, 0x6

    invoke-virtual {v1, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 11975
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v5, 0xb

    invoke-virtual {v1, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 11976
    iget-object v1, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$MessageMedia;->description:Ljava/lang/String;

    .line 11977
    iput-boolean v11, v6, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    .line 11979
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v15, 0x15

    invoke-virtual {v5, v15}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 11980
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v15, 0x16

    invoke-virtual {v5, v15}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    move-object/from16 v19, v3

    :goto_6
    const/4 v3, 0x0

    goto/16 :goto_19

    .line 11982
    :cond_a
    iget v5, v6, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v5}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v5

    invoke-virtual {v5}, Lorg/telegram/messenger/MessagesController;->getTranslateController()Lorg/telegram/messenger/TranslateController;

    move-result-object v5

    .line 11983
    iget v15, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    if-eq v9, v15, :cond_b

    .line 11984
    iput-boolean v11, v6, Lorg/telegram/ui/PhotoViewer;->captionTranslated:Z

    const/4 v15, 0x0

    .line 11985
    iput-object v15, v6, Lorg/telegram/ui/PhotoViewer;->captionDetectedLanguage:Ljava/lang/String;

    .line 11987
    :cond_b
    invoke-virtual {v5}, Lorg/telegram/messenger/TranslateController;->isContextTranslateEnabled()Z

    move-result v15

    if-eqz v15, :cond_c

    .line 11989
    new-instance v15, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda92;

    invoke-direct {v15, v6, v7, v5, v0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda92;-><init>(Lorg/telegram/ui/PhotoViewer;ILorg/telegram/messenger/TranslateController;Lorg/telegram/messenger/MessageObject;)V

    invoke-virtual {v5, v0, v15}, Lorg/telegram/messenger/TranslateController;->detectPhotoLanguage(Lorg/telegram/messenger/MessageObject;Lorg/telegram/messenger/Utilities$Callback;)V

    .line 12008
    :cond_c
    invoke-virtual {v5}, Lorg/telegram/messenger/TranslateController;->isContextTranslateEnabled()Z

    move-result v15

    if-eqz v15, :cond_e

    iget-object v15, v6, Lorg/telegram/ui/PhotoViewer;->captionDetectedLanguage:Ljava/lang/String;

    invoke-virtual {v5, v0, v15}, Lorg/telegram/messenger/TranslateController;->canTranslatePhoto(Lorg/telegram/messenger/MessageObject;Ljava/lang/String;)Z

    move-result v5

    if-eqz v5, :cond_e

    .line 12009
    iget-boolean v5, v6, Lorg/telegram/ui/PhotoViewer;->captionTranslated:Z

    if-eqz v5, :cond_d

    .line 12010
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v15, 0x16

    invoke-virtual {v5, v15}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12011
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v15, 0x15

    invoke-virtual {v5, v15}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    goto :goto_7

    :cond_d
    const/16 v5, 0x15

    const/16 v15, 0x16

    .line 12013
    iget-object v10, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v10, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12014
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v5, v15}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    goto :goto_7

    :cond_e
    const/16 v5, 0x15

    const/16 v15, 0x16

    .line 12017
    iget-object v10, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v10, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12018
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v5, v15}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    :goto_7
    xor-int/lit8 v5, v4, 0x1

    .line 12020
    iput-boolean v5, v6, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    .line 12021
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isNewGif()Z

    move-result v5

    if-eqz v5, :cond_f

    iget-boolean v5, v6, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    if-eqz v5, :cond_f

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v21

    invoke-static/range {v21 .. v22}, Lorg/telegram/messenger/DialogObject;->isEncryptedDialog(J)Z

    move-result v5

    if-nez v5, :cond_f

    .line 12022
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v10, 0xe

    invoke-virtual {v5, v10}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12024
    :cond_f
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v5, :cond_10

    invoke-virtual {v5}, Lorg/telegram/ui/ChatActivity;->isInScheduleMode()Z

    move-result v5

    if-eqz v5, :cond_10

    const/4 v5, 0x1

    goto :goto_8

    :cond_10
    const/4 v5, 0x0

    :goto_8
    const/4 v10, 0x0

    invoke-virtual {v0, v5, v10}, Lorg/telegram/messenger/MessageObject;->canDeleteMessage(ZLorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v5

    if-eqz v5, :cond_11

    iget v5, v6, Lorg/telegram/ui/PhotoViewer;->slideshowMessageId:I

    if-nez v5, :cond_11

    .line 12025
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v10, 0x6

    invoke-virtual {v5, v10}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_9

    :cond_11
    const/4 v10, 0x6

    .line 12027
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v5, v10}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12029
    :goto_9
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->checkHideMenuItem()V

    .line 12030
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v5

    if-eqz v5, :cond_12

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->canPreviewDocument()Z

    move-result v5

    if-nez v5, :cond_12

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getMimeType()Ljava/lang/String;

    move-result-object v5

    const-string v10, "video/"

    invoke-virtual {v5, v10}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result v5

    if-eqz v5, :cond_14

    :cond_12
    iget-boolean v5, v6, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-nez v5, :cond_14

    iget-object v5, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget v5, v5, Lorg/telegram/tgnet/TLRPC$Message;->ttl:I

    if-eqz v5, :cond_13

    const/16 v10, 0xe10

    if-lt v5, v10, :cond_14

    :cond_13
    if-nez v4, :cond_14

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->canSendMediaToParentChatActivity()Z

    move-result v5

    if-eqz v5, :cond_14

    iget-boolean v5, v6, Lorg/telegram/ui/PhotoViewer;->opennedFromMedia:Z

    if-nez v5, :cond_14

    const/4 v5, 0x1

    goto :goto_a

    :cond_14
    const/4 v5, 0x0

    .line 12031
    :goto_a
    iget-boolean v10, v6, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-eqz v10, :cond_15

    .line 12032
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v5, 0xb

    invoke-virtual {v1, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12033
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->editItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v6, v1, v11, v11}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12034
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v5, 0x1

    invoke-direct {v6, v1, v5, v11}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    :goto_b
    move-object/from16 v19, v3

    goto/16 :goto_18

    :cond_15
    if-eqz v1, :cond_1f

    if-eqz v4, :cond_18

    .line 12036
    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->slideshowMessageId:I

    if-nez v1, :cond_16

    iget-object v1, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    if-eqz v1, :cond_17

    iget-object v1, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$WebPage;->url:Ljava/lang/String;

    if-eqz v1, :cond_17

    goto :goto_c

    :cond_16
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    .line 12037
    invoke-virtual {v1, v11}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lorg/telegram/messenger/MessageObject;

    iget-object v1, v1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    if-eqz v1, :cond_17

    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1, v11}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lorg/telegram/messenger/MessageObject;

    iget-object v1, v1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$WebPage;->url:Ljava/lang/String;

    if-eqz v1, :cond_17

    goto :goto_c

    .line 12040
    :cond_17
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v5, 0xb

    invoke-virtual {v1, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    goto :goto_d

    :cond_18
    :goto_c
    const/16 v5, 0xb

    .line 12038
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12042
    :goto_d
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->masksItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v1

    if-nez v1, :cond_19

    const/4 v1, 0x1

    goto :goto_e

    :cond_19
    const/4 v1, 0x0

    :goto_e
    if-eqz v1, :cond_1a

    .line 12044
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->masksItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v6, v5, v11, v11}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12046
    :cond_1a
    iget-boolean v5, v6, Lorg/telegram/ui/PhotoViewer;->pipAvailable:Z

    if-nez v5, :cond_1c

    .line 12047
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v5, v11}, Landroid/widget/FrameLayout;->setEnabled(Z)V

    .line 12048
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    if-nez v1, :cond_1b

    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->editItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getAlpha()F

    move-result v1

    const/4 v10, 0x0

    cmpg-float v1, v1, v10

    if-gtz v1, :cond_1b

    const/4 v1, 0x1

    goto :goto_f

    :cond_1b
    const/4 v1, 0x0

    :goto_f
    const/high16 v10, 0x3f000000    # 0.5f

    const/4 v15, 0x1

    invoke-direct {v6, v5, v15, v1, v10}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZF)V

    goto :goto_11

    .line 12050
    :cond_1c
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    if-nez v1, :cond_1d

    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->editItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getAlpha()F

    move-result v1

    const/4 v10, 0x0

    cmpg-float v1, v1, v10

    if-gtz v1, :cond_1d

    const/4 v1, 0x1

    goto :goto_10

    :cond_1d
    const/4 v1, 0x0

    :goto_10
    const/4 v10, 0x1

    invoke-direct {v6, v5, v10, v1}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12052
    :goto_11
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->editItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v6, v1, v11, v11}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12053
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->hasAttachedStickers()Z

    move-result v1

    if-eqz v1, :cond_1e

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v19

    invoke-static/range {v19 .. v20}, Lorg/telegram/messenger/DialogObject;->isEncryptedDialog(J)Z

    move-result v1

    if-nez v1, :cond_1e

    .line 12054
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v5, 0xf

    invoke-virtual {v1, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_12

    .line 12056
    :cond_1e
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v5, 0xf

    invoke-virtual {v1, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12058
    :goto_12
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->checkHideMenuItem()V

    goto/16 :goto_b

    .line 12060
    :cond_1f
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    const/16 v15, 0x8

    invoke-virtual {v1, v15}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12061
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->speedGap:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$GapView;

    invoke-virtual {v1, v15}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12062
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v10, 0xb

    invoke-virtual {v1, v10}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12063
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->checkHideMenuItem()V

    .line 12064
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v1

    if-nez v1, :cond_20

    const/4 v1, 0x1

    goto :goto_13

    :cond_20
    const/4 v1, 0x0

    .line 12065
    :goto_13
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->hasAttachedStickers()Z

    move-result v10

    if-eqz v10, :cond_21

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v19

    invoke-static/range {v19 .. v20}, Lorg/telegram/messenger/DialogObject;->isEncryptedDialog(J)Z

    move-result v10

    if-nez v10, :cond_21

    const/4 v10, 0x1

    goto :goto_14

    :cond_21
    const/4 v10, 0x0

    :goto_14
    if-eqz v1, :cond_23

    .line 12067
    iget-object v15, v6, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    if-nez v10, :cond_22

    if-nez v5, :cond_22

    move-object/from16 v19, v3

    const/4 v3, 0x1

    goto :goto_15

    :cond_22
    move-object/from16 v19, v3

    const/4 v3, 0x0

    :goto_15
    invoke-direct {v6, v15, v11, v3}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    goto :goto_16

    :cond_23
    move-object/from16 v19, v3

    .line 12069
    :goto_16
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->editItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    if-eqz v8, :cond_24

    if-nez v1, :cond_24

    if-nez v10, :cond_24

    const/4 v15, 0x1

    goto :goto_17

    :cond_24
    const/4 v15, 0x0

    :goto_17
    invoke-direct {v6, v3, v5, v15}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12070
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->masksItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v5, 0x1

    xor-int/2addr v1, v5

    invoke-direct {v6, v3, v10, v1}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12072
    :goto_18
    iget-object v1, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$Message;->restriction_reason:Ljava/util/ArrayList;

    invoke-static {v1}, Lorg/telegram/messenger/MessagesController;->getRestrictionReason(Ljava/util/ArrayList;)Ljava/lang/String;

    move-result-object v1

    .line 12073
    invoke-static {v1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v3

    if-nez v3, :cond_25

    goto/16 :goto_6

    .line 12075
    :cond_25
    iget-boolean v1, v6, Lorg/telegram/ui/PhotoViewer;->captionTranslated:Z

    if-eqz v1, :cond_26

    iget-object v1, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    if-eqz v1, :cond_26

    iget-object v3, v1, Lorg/telegram/tgnet/TLRPC$Message;->translatedText:Lorg/telegram/tgnet/TLRPC$TL_textWithEntities;

    if-eqz v3, :cond_26

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$Message;->translatedToLanguage:Ljava/lang/String;

    invoke-static {}, Lorg/telegram/ui/Components/TranslateAlert2;->getToLanguage()Ljava/lang/String;

    move-result-object v3

    invoke-static {v1, v3}, Landroid/text/TextUtils;->equals(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Z

    move-result v1

    if-eqz v1, :cond_26

    .line 12076
    invoke-direct {v6, v0}, Lorg/telegram/ui/PhotoViewer;->postProcessTranslated(Lorg/telegram/messenger/MessageObject;)Ljava/lang/CharSequence;

    move-result-object v1

    goto/16 :goto_6

    .line 12078
    :cond_26
    iget-object v1, v0, Lorg/telegram/messenger/MessageObject;->caption:Ljava/lang/CharSequence;

    .line 12079
    iget-boolean v3, v6, Lorg/telegram/ui/PhotoViewer;->captionTranslated:Z

    .line 12083
    :goto_19
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    if-eqz v5, :cond_29

    .line 12084
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v10, 0x1

    invoke-virtual {v5, v10}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12085
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v10, 0xa

    invoke-virtual {v5, v10}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12086
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->editItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v6, v5, v11, v8}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12087
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v5, :cond_27

    invoke-virtual {v5}, Lorg/telegram/ui/ChatActivity;->isInScheduleMode()Z

    move-result v5

    if-eqz v5, :cond_27

    const/4 v5, 0x1

    goto :goto_1a

    :cond_27
    const/4 v5, 0x0

    :goto_1a
    const/4 v15, 0x0

    invoke-virtual {v0, v5, v15}, Lorg/telegram/messenger/MessageObject;->canDeleteMessage(ZLorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v5

    if-nez v5, :cond_28

    .line 12088
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v10, 0x6

    invoke-virtual {v5, v10}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    :cond_28
    xor-int/lit8 v5, v4, 0x1

    .line 12090
    iput-boolean v5, v6, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    .line 12092
    :cond_29
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v5, :cond_2a

    invoke-virtual {v5}, Lorg/telegram/ui/ChatActivity;->getChatMode()I

    move-result v5

    const/4 v10, 0x5

    if-ne v5, v10, :cond_2a

    .line 12093
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v2, :cond_47

    .line 12094
    invoke-virtual {v2, v11, v8}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    goto/16 :goto_23

    .line 12096
    :cond_2a
    iget-boolean v5, v6, Lorg/telegram/ui/PhotoViewer;->currentFiltered:Z

    if-eqz v5, :cond_2c

    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->currentFilterTag:Lorg/telegram/ui/Components/Reactions/ReactionsLayoutInBubble$VisibleReaction;

    if-nez v5, :cond_2b

    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->currentFilterQuery:Ljava/lang/String;

    invoke-static {v5}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v5

    if-nez v5, :cond_2c

    .line 12097
    :cond_2b
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v2, :cond_47

    const/4 v5, 0x1

    .line 12098
    invoke-virtual {v2, v5, v8}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12099
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    iget v10, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    add-int/2addr v10, v5

    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v5}, Ljava/util/ArrayList;->size()I

    move-result v5

    invoke-virtual {v2, v10, v5}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->set(II)V

    goto/16 :goto_23

    .line 12101
    :cond_2c
    iget v5, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    iget v10, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    add-int/2addr v5, v10

    if-eqz v5, :cond_39

    iget-boolean v5, v6, Lorg/telegram/ui/PhotoViewer;->needSearchImageInArr:Z

    if-nez v5, :cond_39

    .line 12102
    iget-boolean v2, v6, Lorg/telegram/ui/PhotoViewer;->opennedFromMedia:Z

    if-eqz v2, :cond_33

    .line 12103
    iget v2, v6, Lorg/telegram/ui/PhotoViewer;->startOffset:I

    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v5}, Ljava/util/ArrayList;->size()I

    move-result v5

    add-int/2addr v2, v5

    iget v5, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    iget v10, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    add-int/2addr v5, v10

    if-ge v2, v5, :cond_31

    iget-boolean v2, v6, Lorg/telegram/ui/PhotoViewer;->loadingMoreImages:Z

    if-nez v2, :cond_31

    iget v2, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v5}, Ljava/util/ArrayList;->size()I

    move-result v5

    const/4 v10, 0x5

    sub-int/2addr v5, v10

    if-le v2, v5, :cond_31

    .line 12104
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-eqz v2, :cond_2d

    const/4 v2, 0x0

    goto :goto_1b

    :cond_2d
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v5

    const/4 v10, 0x1

    sub-int/2addr v5, v10

    invoke-virtual {v2, v5}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v2

    .line 12106
    :goto_1b
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->endReached:[Z

    aget-boolean v5, v5, v11

    if-eqz v5, :cond_2f

    iget-wide v12, v6, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    cmp-long v5, v12, v16

    if-eqz v5, :cond_2f

    .line 12108
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v5}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v5

    if-nez v5, :cond_2e

    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v5}, Ljava/util/ArrayList;->size()I

    move-result v10

    const/4 v12, 0x1

    sub-int/2addr v10, v12

    invoke-virtual {v5, v10}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v5}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v12

    iget-wide v14, v6, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    cmp-long v5, v12, v14

    if-eqz v5, :cond_2e

    const/4 v2, 0x1

    const/16 v28, 0x0

    goto :goto_1c

    :cond_2e
    move/from16 v28, v2

    const/4 v2, 0x1

    goto :goto_1c

    :cond_2f
    move/from16 v28, v2

    const/4 v2, 0x0

    .line 12113
    :goto_1c
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v5}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->loadMore()Z

    move-result v5

    if-nez v5, :cond_31

    .line 12114
    iget v5, v6, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v5}, Lorg/telegram/messenger/MediaDataController;->getInstance(I)Lorg/telegram/messenger/MediaDataController;

    move-result-object v24

    if-nez v2, :cond_30

    iget-wide v12, v6, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    goto :goto_1d

    :cond_30
    iget-wide v12, v6, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    :goto_1d
    move-wide/from16 v25, v12

    const/16 v27, 0x28

    const/16 v29, 0x0

    iget v2, v6, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    iget-wide v12, v6, Lorg/telegram/ui/PhotoViewer;->topicId:J

    const/16 v33, 0x1

    iget v5, v6, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    const/16 v35, 0x0

    iget-object v10, v6, Lorg/telegram/ui/PhotoViewer;->currentFilterTag:Lorg/telegram/ui/Components/Reactions/ReactionsLayoutInBubble$VisibleReaction;

    const/16 v37, 0x0

    move/from16 v30, v2

    move-wide/from16 v31, v12

    move/from16 v34, v5

    move-object/from16 v36, v10

    invoke-virtual/range {v24 .. v37}, Lorg/telegram/messenger/MediaDataController;->loadMedia(JIIIIJIIILorg/telegram/ui/Components/Reactions/ReactionsLayoutInBubble$VisibleReaction;Ljava/lang/String;)V

    const/4 v2, 0x1

    .line 12115
    iput-boolean v2, v6, Lorg/telegram/ui/PhotoViewer;->loadingMoreImages:Z

    .line 12119
    :cond_31
    iget v2, v6, Lorg/telegram/ui/PhotoViewer;->startOffset:I

    if-lez v2, :cond_32

    iget v2, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    const/4 v5, 0x5

    if-ge v2, v5, :cond_32

    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-nez v2, :cond_32

    .line 12120
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2, v11}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v29

    .line 12122
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->loadMore()Z

    move-result v2

    if-nez v2, :cond_32

    .line 12123
    iget v2, v6, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/MediaDataController;->getInstance(I)Lorg/telegram/messenger/MediaDataController;

    move-result-object v24

    iget-wide v12, v6, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    const/16 v27, 0x28

    const/16 v28, 0x0

    iget v2, v6, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    iget-wide v14, v6, Lorg/telegram/ui/PhotoViewer;->topicId:J

    const/16 v33, 0x1

    iget v5, v6, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    const/16 v35, 0x0

    iget-object v10, v6, Lorg/telegram/ui/PhotoViewer;->currentFilterTag:Lorg/telegram/ui/Components/Reactions/ReactionsLayoutInBubble$VisibleReaction;

    const/16 v37, 0x0

    move-wide/from16 v25, v12

    move/from16 v30, v2

    move-wide/from16 v31, v14

    move/from16 v34, v5

    move-object/from16 v36, v10

    invoke-virtual/range {v24 .. v37}, Lorg/telegram/messenger/MediaDataController;->loadMedia(JIIIIJIIILorg/telegram/ui/Components/Reactions/ReactionsLayoutInBubble$VisibleReaction;Ljava/lang/String;)V

    const/4 v2, 0x1

    .line 12124
    iput-boolean v2, v6, Lorg/telegram/ui/PhotoViewer;->loadingMoreImages:Z

    .line 12127
    :cond_32
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v2, :cond_47

    .line 12128
    iget-boolean v5, v6, Lorg/telegram/ui/PhotoViewer;->openedFromProfile:Z

    invoke-virtual {v2, v5, v8}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12129
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    iget v5, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    iget v10, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    add-int v12, v5, v10

    iget v13, v6, Lorg/telegram/ui/PhotoViewer;->startOffset:I

    iget v14, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    add-int/2addr v13, v14

    sub-int/2addr v12, v13

    add-int/2addr v5, v10

    invoke-virtual {v2, v12, v5}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->set(II)V

    goto/16 :goto_23

    .line 12132
    :cond_33
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    iget v5, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    iget v10, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    add-int/2addr v5, v10

    if-ge v2, v5, :cond_38

    iget-boolean v2, v6, Lorg/telegram/ui/PhotoViewer;->loadingMoreImages:Z

    if-nez v2, :cond_38

    iget v2, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    const/4 v5, 0x5

    if-ge v2, v5, :cond_38

    .line 12133
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-eqz v2, :cond_34

    const/4 v2, 0x0

    goto :goto_1e

    :cond_34
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2, v11}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v2

    .line 12135
    :goto_1e
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->endReached:[Z

    aget-boolean v5, v5, v11

    if-eqz v5, :cond_36

    iget-wide v12, v6, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    cmp-long v5, v12, v16

    if-eqz v5, :cond_36

    .line 12137
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v5}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v5

    if-nez v5, :cond_35

    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v5, v11}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v5}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v12

    iget-wide v14, v6, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    cmp-long v5, v12, v14

    if-eqz v5, :cond_35

    const/4 v2, 0x1

    const/16 v28, 0x0

    goto :goto_1f

    :cond_35
    move/from16 v28, v2

    const/4 v2, 0x1

    goto :goto_1f

    :cond_36
    move/from16 v28, v2

    const/4 v2, 0x0

    .line 12142
    :goto_1f
    iget v5, v6, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v5}, Lorg/telegram/messenger/MediaDataController;->getInstance(I)Lorg/telegram/messenger/MediaDataController;

    move-result-object v24

    if-nez v2, :cond_37

    iget-wide v12, v6, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    goto :goto_20

    :cond_37
    iget-wide v12, v6, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    :goto_20
    move-wide/from16 v25, v12

    const/16 v27, 0x50

    const/16 v29, 0x0

    iget v2, v6, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    iget-wide v12, v6, Lorg/telegram/ui/PhotoViewer;->topicId:J

    const/16 v33, 0x1

    iget v5, v6, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    const/16 v35, 0x0

    iget-object v10, v6, Lorg/telegram/ui/PhotoViewer;->currentFilterTag:Lorg/telegram/ui/Components/Reactions/ReactionsLayoutInBubble$VisibleReaction;

    const/16 v37, 0x0

    move/from16 v30, v2

    move-wide/from16 v31, v12

    move/from16 v34, v5

    move-object/from16 v36, v10

    invoke-virtual/range {v24 .. v37}, Lorg/telegram/messenger/MediaDataController;->loadMedia(JIIIIJIIILorg/telegram/ui/Components/Reactions/ReactionsLayoutInBubble$VisibleReaction;Ljava/lang/String;)V

    const/4 v2, 0x1

    .line 12143
    iput-boolean v2, v6, Lorg/telegram/ui/PhotoViewer;->loadingMoreImages:Z

    goto :goto_21

    :cond_38
    const/4 v2, 0x1

    .line 12145
    :goto_21
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v5, :cond_47

    .line 12146
    invoke-virtual {v5, v2, v8}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12147
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    iget v10, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    iget v12, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    add-int/2addr v10, v12

    iget-object v12, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v12}, Ljava/util/ArrayList;->size()I

    move-result v12

    sub-int/2addr v10, v12

    iget v12, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    add-int/2addr v10, v12

    add-int/2addr v10, v2

    iget v2, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    iget v12, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    add-int/2addr v2, v12

    invoke-virtual {v5, v10, v2}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->set(II)V

    goto/16 :goto_23

    .line 12150
    :cond_39
    iget v5, v6, Lorg/telegram/ui/PhotoViewer;->slideshowMessageId:I

    if-nez v5, :cond_3f

    iget-object v5, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v5}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v5

    instance-of v5, v5, Lorg/telegram/tgnet/TLRPC$TL_messageMediaWebPage;

    if-eqz v5, :cond_3f

    .line 12151
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v5, :cond_3a

    .line 12152
    invoke-virtual {v5, v11, v8}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12154
    :cond_3a
    iget-boolean v5, v6, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-eqz v5, :cond_3b

    const-string v2, "YouTube"

    goto :goto_22

    .line 12156
    :cond_3b
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->canPreviewDocument()Z

    move-result v5

    if-eqz v5, :cond_3c

    .line 12157
    sget v2, Lorg/telegram/messenger/R$string;->AttachDocument:I

    const-string v5, "AttachDocument"

    invoke-static {v5, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    goto :goto_22

    .line 12158
    :cond_3c
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v5

    if-eqz v5, :cond_3d

    .line 12159
    sget v2, Lorg/telegram/messenger/R$string;->AttachVideo:I

    invoke-static {v12, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    goto :goto_22

    .line 12160
    :cond_3d
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isGif()Z

    move-result v5

    if-eqz v5, :cond_3e

    .line 12161
    sget v5, Lorg/telegram/messenger/R$string;->AttachGif:I

    invoke-static {v2, v5}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    goto :goto_22

    .line 12163
    :cond_3e
    sget v2, Lorg/telegram/messenger/R$string;->AttachPhoto:I

    invoke-static {v13, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    goto :goto_22

    :cond_3f
    if-eqz v14, :cond_41

    .line 12166
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v2, :cond_40

    .line 12167
    invoke-virtual {v2, v11, v8}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12169
    :cond_40
    iget-object v2, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v2}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v2

    iget-object v2, v2, Lorg/telegram/tgnet/TLRPC$MessageMedia;->title:Ljava/lang/String;

    :goto_22
    move-object v5, v2

    goto :goto_24

    .line 12170
    :cond_41
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v5

    if-eqz v5, :cond_43

    .line 12171
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v2, :cond_42

    .line 12172
    invoke-virtual {v2, v11, v8}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12174
    :cond_42
    sget v2, Lorg/telegram/messenger/R$string;->AttachVideo:I

    invoke-static {v12, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    goto :goto_22

    .line 12175
    :cond_43
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isGif()Z

    move-result v5

    if-eqz v5, :cond_45

    .line 12176
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v5, :cond_44

    .line 12177
    invoke-virtual {v5, v11, v8}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12179
    :cond_44
    sget v5, Lorg/telegram/messenger/R$string;->AttachGif:I

    invoke-static {v2, v5}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    goto :goto_22

    .line 12180
    :cond_45
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v2

    if-eqz v2, :cond_47

    .line 12181
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v2, :cond_46

    .line 12182
    invoke-virtual {v2, v11, v8}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12184
    :cond_46
    sget v2, Lorg/telegram/messenger/R$string;->AttachDocument:I

    const-string v5, "AttachDocument"

    invoke-static {v5, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    goto :goto_22

    :cond_47
    :goto_23
    move-object/from16 v5, v19

    .line 12186
    :goto_24
    iget-wide v12, v6, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    invoke-static {v12, v13}, Lorg/telegram/messenger/DialogObject;->isEncryptedDialog(J)Z

    move-result v2

    if-eqz v2, :cond_48

    iget-boolean v2, v6, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-eqz v2, :cond_49

    :cond_48
    if-eqz v4, :cond_4a

    .line 12187
    :cond_49
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->sendItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v6, v2, v11, v11}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12189
    :cond_4a
    iget-boolean v2, v6, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-nez v2, :cond_4d

    iget-object v2, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget v2, v2, Lorg/telegram/tgnet/TLRPC$Message;->ttl:I

    if-eqz v2, :cond_4b

    const/16 v10, 0xe10

    if-lt v2, v10, :cond_4d

    :cond_4b
    if-eqz v4, :cond_4c

    goto :goto_25

    :cond_4c
    const/4 v2, 0x1

    .line 12195
    iput-boolean v2, v6, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    .line 12196
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v4, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12197
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v10, 0xa

    invoke-virtual {v4, v10}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_26

    :cond_4d
    :goto_25
    const/4 v2, 0x1

    const/16 v10, 0xa

    .line 12190
    iput-boolean v11, v6, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    .line 12191
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v4, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12192
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v2, v10}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12193
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->editItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v6, v2, v11, v8}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12199
    :goto_26
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/GroupedPhotosListView;->fillList()V

    move-object v11, v0

    move v0, v8

    goto :goto_29

    :cond_4e
    :goto_27
    return-void

    :cond_4f
    const/4 v10, 0x0

    const/4 v15, 0x0

    .line 12200
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    const-string v3, ""

    if-nez v1, :cond_52

    .line 12201
    iput-boolean v11, v6, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    .line 12202
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v1, 0x6

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12203
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v1, 0x1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12204
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v2, 0x15

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12205
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v2, 0x16

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12206
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v0, :cond_51

    .line 12207
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-le v2, v1, :cond_50

    const/4 v2, 0x1

    goto :goto_28

    :cond_50
    const/4 v2, 0x0

    :goto_28
    invoke-virtual {v0, v2, v1}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12208
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    iget v2, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    add-int/2addr v2, v1

    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    invoke-virtual {v0, v2, v1}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->set(II)V

    .line 12211
    :cond_51
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    invoke-virtual {v0, v3}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setTitle(Ljava/lang/CharSequence;)V

    .line 12212
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    invoke-virtual {v0, v3, v8}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;Z)V

    move v0, v8

    move-object v1, v15

    move-object v5, v1

    move-object v11, v5

    const/4 v3, 0x0

    :goto_29
    const/16 v10, 0x8

    goto/16 :goto_63

    .line 12213
    :cond_52
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    const/4 v5, -0x1

    if-nez v1, :cond_68

    if-ltz v7, :cond_67

    .line 12214
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt v7, v1, :cond_53

    goto/16 :goto_37

    .line 12217
    :cond_53
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v2, 0x15

    invoke-virtual {v1, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12218
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v2, 0x16

    invoke-virtual {v1, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12219
    iget-boolean v1, v6, Lorg/telegram/ui/PhotoViewer;->canEditAvatar:Z

    const/16 v2, 0x11

    const/16 v4, 0x10

    if-eqz v1, :cond_59

    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_59

    .line 12220
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12221
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isCurrentAvatarSet()Z

    move-result v1

    if-eqz v1, :cond_54

    .line 12223
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    goto :goto_2a

    .line 12225
    :cond_54
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12228
    :goto_2a
    iget-wide v1, v6, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    cmp-long v4, v1, v16

    if-lez v4, :cond_56

    :cond_55
    :goto_2b
    const/4 v1, 0x1

    goto :goto_2c

    .line 12231
    :cond_56
    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v1

    iget-wide v14, v6, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    neg-long v14, v14

    invoke-static {v14, v15}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v2

    invoke-virtual {v1, v2}, Lorg/telegram/messenger/MessagesController;->getChat(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v1

    .line 12232
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isCurrentAvatarSet()Z

    move-result v2

    if-nez v2, :cond_55

    iget v2, v6, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->imagesArrMessages:Ljava/util/ArrayList;

    invoke-virtual {v4, v7}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v2, v11, v4, v1}, Lorg/telegram/messenger/MessageObject;->canDeleteMessage(IZLorg/telegram/tgnet/TLRPC$Message;Lorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v1

    if-eqz v1, :cond_57

    goto :goto_2b

    :cond_57
    const/4 v1, 0x0

    :goto_2c
    if-eqz v1, :cond_58

    .line 12235
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v10, 0x6

    invoke-virtual {v1, v10}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_2d

    :cond_58
    const/4 v10, 0x6

    .line 12237
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v10}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    goto :goto_2d

    :cond_59
    const/4 v10, 0x6

    .line 12240
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12241
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12242
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v10}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12244
    :goto_2d
    iget-wide v1, v6, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    cmp-long v4, v1, v16

    if-eqz v4, :cond_5d

    cmp-long v4, v1, v16

    if-ltz v4, :cond_5a

    .line 12246
    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v1

    iget-wide v14, v6, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    invoke-static {v14, v15}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v2

    invoke-virtual {v1, v2}, Lorg/telegram/messenger/MessagesController;->getUser(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$User;

    move-result-object v1

    .line 12247
    invoke-static {v1}, Lorg/telegram/messenger/UserObject;->getUserName(Lorg/telegram/tgnet/TLRPC$User;)Ljava/lang/String;

    move-result-object v1

    :goto_2e
    move-object v15, v1

    goto :goto_2f

    .line 12249
    :cond_5a
    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v1

    iget-wide v14, v6, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    neg-long v14, v14

    invoke-static {v14, v15}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v2

    invoke-virtual {v1, v2}, Lorg/telegram/messenger/MessagesController;->getChat(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v1

    if-eqz v1, :cond_5b

    .line 12250
    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$Chat;->title:Ljava/lang/String;

    goto :goto_2e

    :cond_5b
    move-object v1, v3

    goto :goto_2e

    .line 12252
    :goto_2f
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1, v7}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lorg/telegram/messenger/ImageLocation;

    if-eqz v1, :cond_5c

    .line 12253
    iget-object v1, v1, Lorg/telegram/messenger/ImageLocation;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    if-eqz v1, :cond_5c

    .line 12254
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    iget v1, v1, Lorg/telegram/tgnet/TLRPC$Photo;->date:I

    int-to-long v3, v1

    const/4 v1, 0x1

    invoke-static {v3, v4, v1}, Lorg/telegram/messenger/LocaleController;->formatDateTime(JZ)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v2, v3, v8}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;Z)V

    goto :goto_30

    .line 12256
    :cond_5c
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    invoke-virtual {v1, v3, v8}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;Z)V

    goto :goto_30

    :cond_5d
    const/4 v15, 0x0

    .line 12260
    :goto_30
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->dialogPhotos:Lorg/telegram/messenger/MessagesController$DialogPhotos;

    if-eqz v1, :cond_5e

    .line 12261
    invoke-virtual {v1, v7, v0}, Lorg/telegram/messenger/MessagesController$DialogPhotos;->loadAfter(IZ)V

    .line 12263
    :cond_5e
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v0, :cond_60

    .line 12264
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    const/4 v2, 0x1

    if-le v1, v2, :cond_5f

    const/4 v1, 0x1

    goto :goto_31

    :cond_5f
    const/4 v1, 0x0

    :goto_31
    invoke-virtual {v0, v1, v2}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12265
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    add-int/2addr v1, v2

    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    invoke-virtual {v0, v1, v2}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->set(II)V

    .line 12267
    :cond_60
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->customTitle:Ljava/lang/CharSequence;

    if-eqz v0, :cond_61

    move-object v15, v0

    goto :goto_32

    .line 12269
    :cond_61
    iget-boolean v0, v6, Lorg/telegram/ui/PhotoViewer;->isEvent:Z

    if-eqz v0, :cond_62

    .line 12270
    sget v0, Lorg/telegram/messenger/R$string;->AttachPhoto:I

    invoke-static {v13, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v15

    .line 12272
    :cond_62
    :goto_32
    iget-wide v0, v6, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    cmp-long v2, v0, v16

    if-eqz v2, :cond_63

    iget v0, v6, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v0

    iget-wide v1, v6, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    neg-long v1, v1

    invoke-virtual {v0, v1, v2}, Lorg/telegram/messenger/MessagesController;->isChatNoForwards(J)Z

    move-result v0

    if-eqz v0, :cond_63

    const/4 v0, 0x1

    goto :goto_33

    :cond_63
    const/4 v0, 0x0

    :goto_33
    if-eqz v0, :cond_64

    .line 12274
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v2, 0x1

    invoke-virtual {v1, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    goto :goto_34

    :cond_64
    const/4 v2, 0x1

    .line 12276
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    :goto_34
    xor-int/2addr v0, v2

    .line 12278
    iput-boolean v0, v6, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    .line 12279
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v1, 0xa

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12280
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->checkHideMenuItem()V

    .line 12281
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/GroupedPhotosListView;->fillList()V

    .line 12282
    iget-boolean v0, v6, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    if-eqz v0, :cond_66

    iget v0, v6, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eqz v0, :cond_65

    const/4 v1, 0x2

    if-eq v0, v1, :cond_65

    if-ne v0, v5, :cond_66

    :cond_65
    const/4 v0, 0x1

    goto :goto_35

    :cond_66
    const/4 v0, 0x0

    :goto_35
    iput-boolean v0, v6, Lorg/telegram/ui/PhotoViewer;->editing:Z

    move v0, v8

    move-object v5, v15

    const/4 v1, 0x0

    :goto_36
    const/4 v3, 0x0

    const/16 v10, 0x8

    const/4 v11, 0x0

    goto/16 :goto_63

    :cond_67
    :goto_37
    return-void

    .line 12283
    :cond_68
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_9f

    if-ltz v7, :cond_9e

    .line 12284
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    if-lt v7, v0, :cond_69

    goto/16 :goto_59

    .line 12287
    :cond_69
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v1, 0x15

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12288
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v1, 0x16

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12289
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0, v7}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v14

    .line 12295
    instance-of v0, v14, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v0, :cond_6c

    .line 12296
    move-object v0, v14

    check-cast v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iput-object v0, v6, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    .line 12297
    iget-object v1, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    if-eqz v1, :cond_6a

    .line 12298
    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->isVideoDocument(Lorg/telegram/tgnet/TLRPC$Document;)Z

    move-result v0

    goto :goto_38

    .line 12299
    :cond_6a
    iget-object v1, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    instance-of v1, v1, Lorg/telegram/tgnet/TLRPC$TL_webDocument;

    if-eqz v1, :cond_6b

    .line 12300
    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->type:Ljava/lang/String;

    const-string v1, "video"

    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0

    goto :goto_38

    :cond_6b
    const/4 v0, 0x0

    :goto_38
    move/from16 v18, v8

    const/4 v1, 0x0

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/16 v11, 0x8

    :goto_39
    const/4 v15, 0x0

    goto/16 :goto_4c

    .line 12304
    :cond_6c
    instance-of v15, v14, Lorg/telegram/messenger/MediaController$PhotoEntry;

    if-eqz v15, :cond_6d

    .line 12305
    move-object v0, v14

    check-cast v0, Lorg/telegram/messenger/MediaController$PhotoEntry;

    .line 12306
    iget-object v1, v0, Lorg/telegram/messenger/MediaController$PhotoEntry;->path:Ljava/lang/String;

    iput-object v1, v6, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    .line 12307
    iget-boolean v1, v0, Lorg/telegram/messenger/MediaController$PhotoEntry;->isVideo:Z

    .line 12308
    iget-object v0, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    move-object/from16 v21, v0

    move/from16 v20, v1

    const/4 v0, 0x0

    goto :goto_3b

    .line 12309
    :cond_6d
    instance-of v0, v14, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v0, :cond_6f

    .line 12310
    move-object v0, v14

    check-cast v0, Lorg/telegram/messenger/MediaController$SearchImage;

    .line 12311
    invoke-virtual {v0}, Lorg/telegram/messenger/MediaController$SearchImage;->getPathToAttach()Ljava/lang/String;

    move-result-object v1

    iput-object v1, v6, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    .line 12312
    iget-object v1, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    .line 12313
    iget v0, v0, Lorg/telegram/messenger/MediaController$SearchImage;->type:I

    const/4 v2, 0x1

    move-object/from16 v21, v1

    if-ne v0, v2, :cond_6e

    const/4 v0, 0x1

    goto :goto_3a

    :cond_6e
    const/4 v0, 0x0

    :goto_3a
    const/16 v20, 0x0

    goto :goto_3b

    :cond_6f
    const/4 v0, 0x0

    const/16 v20, 0x0

    const/16 v21, 0x0

    :goto_3b
    const/high16 v4, 0x3f800000    # 1.0f

    if-eqz v20, :cond_77

    .line 12318
    iget-boolean v0, v6, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v0, :cond_70

    const/16 v18, 0x0

    goto :goto_3c

    :cond_70
    move/from16 v18, v8

    .line 12321
    :goto_3c
    iget v0, v6, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v0, v5, :cond_71

    const/4 v1, 0x1

    .line 12322
    iput-boolean v1, v6, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    :cond_71
    if-eqz v15, :cond_72

    .line 12329
    move-object v1, v14

    check-cast v1, Lorg/telegram/messenger/MediaController$PhotoEntry;

    .line 12330
    iget-object v1, v1, Lorg/telegram/messenger/MediaController$MediaEditState;->editedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    if-eqz v1, :cond_72

    .line 12331
    iget-boolean v2, v1, Lorg/telegram/messenger/VideoEditedInfo;->muted:Z

    .line 12332
    iget v3, v1, Lorg/telegram/messenger/VideoEditedInfo;->start:F

    .line 12333
    iget v10, v1, Lorg/telegram/messenger/VideoEditedInfo;->end:F

    .line 12334
    iget v1, v1, Lorg/telegram/messenger/VideoEditedInfo;->compressQuality:I

    move/from16 v22, v1

    goto :goto_3d

    :cond_72
    const/4 v2, 0x0

    const/4 v3, 0x0

    const/high16 v10, 0x3f800000    # 1.0f

    const/16 v22, -0x1

    :goto_3d
    if-eq v0, v5, :cond_76

    .line 12338
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    move-object/from16 v0, p0

    const/16 v11, 0x8

    move v4, v10

    const/4 v10, 0x0

    move/from16 v5, v22

    invoke-direct/range {v0 .. v5}, Lorg/telegram/ui/PhotoViewer;->processOpenVideo(Ljava/lang/String;ZFFI)V

    .line 12339
    iget-boolean v0, v6, Lorg/telegram/ui/PhotoViewer;->isDocumentsPicker:Z

    if-nez v0, :cond_75

    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v1, 0x12

    if-ge v0, v1, :cond_73

    goto/16 :goto_3f

    :cond_73
    const/4 v0, 0x1

    .line 12355
    invoke-direct {v6, v0, v8}, Lorg/telegram/ui/PhotoViewer;->showVideoTimeline(ZZ)V

    .line 12356
    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v1, v0, :cond_74

    .line 12357
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    invoke-virtual {v1, v11}, Landroid/widget/TextView;->setVisibility(I)V

    .line 12358
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    const/4 v2, 0x0

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12359
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-static {v0}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12360
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v1, v11}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12361
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v1, v10}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12362
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v1, v11}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12363
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v1, v10}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12364
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    const/high16 v2, 0x3f800000    # 1.0f

    invoke-static {v1, v0, v2, v8}, Lorg/telegram/messenger/AndroidUtilities;->updateViewVisibilityAnimated(Landroid/view/View;ZFZ)V

    .line 12365
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Landroid/view/View;->setVisibility(I)V

    const/4 v3, 0x1

    goto :goto_3e

    :cond_74
    const/4 v1, 0x0

    const/high16 v2, 0x3f800000    # 1.0f

    .line 12367
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setVisibility(I)V

    .line 12368
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v11}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12369
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v10}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12370
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12371
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    const/4 v3, 0x1

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v4

    invoke-virtual {v0, v4}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12372
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12373
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v4

    invoke-virtual {v0, v4}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12374
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-static {v0, v1, v2, v8}, Lorg/telegram/messenger/AndroidUtilities;->updateViewVisibilityAnimated(Landroid/view/View;ZFZ)V

    .line 12375
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {v0, v11}, Landroid/view/View;->setVisibility(I)V

    .line 12377
    :goto_3e
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12378
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12379
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12380
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    goto/16 :goto_48

    :cond_75
    :goto_3f
    const/4 v1, 0x0

    const/high16 v2, 0x3f800000    # 1.0f

    .line 12340
    invoke-direct {v6, v1, v8}, Lorg/telegram/ui/PhotoViewer;->showVideoTimeline(ZZ)V

    .line 12341
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    invoke-virtual {v0, v11}, Landroid/widget/TextView;->setVisibility(I)V

    .line 12342
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v11}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12343
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v10}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12344
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v11}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12345
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v10}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12346
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v11}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12347
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v10}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12348
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v11}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12349
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v10}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12350
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v11}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12351
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v10}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12352
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    const/4 v1, 0x0

    invoke-static {v0, v1, v2, v8}, Lorg/telegram/messenger/AndroidUtilities;->updateViewVisibilityAnimated(Landroid/view/View;ZFZ)V

    .line 12353
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {v0, v11}, Landroid/view/View;->setVisibility(I)V

    goto/16 :goto_48

    :cond_76
    const/4 v1, 0x0

    const/4 v10, 0x0

    const/16 v11, 0x8

    goto/16 :goto_48

    :cond_77
    const/4 v1, 0x0

    const/high16 v2, 0x3f800000    # 1.0f

    const/4 v10, 0x0

    const/16 v11, 0x8

    .line 12384
    invoke-direct {v6, v1, v8}, Lorg/telegram/ui/PhotoViewer;->showVideoTimeline(ZZ)V

    .line 12385
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    invoke-virtual {v4, v11}, Landroid/widget/TextView;->setVisibility(I)V

    .line 12386
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-static {v4, v1, v2, v8}, Lorg/telegram/messenger/AndroidUtilities;->updateViewVisibilityAnimated(Landroid/view/View;ZFZ)V

    .line 12387
    iget-boolean v2, v6, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v2, :cond_78

    const/4 v2, 0x0

    goto :goto_40

    :cond_78
    move v2, v8

    .line 12390
    :goto_40
    iput-boolean v1, v6, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    .line 12391
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {v1, v11}, Landroid/view/View;->setVisibility(I)V

    if-nez v0, :cond_7f

    .line 12392
    iget v0, v6, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/16 v1, 0xa

    if-eq v0, v1, :cond_7f

    iget-boolean v1, v6, Lorg/telegram/ui/PhotoViewer;->isDocumentsPicker:Z

    if-eqz v1, :cond_79

    goto :goto_46

    :cond_79
    const/4 v1, 0x4

    if-eq v0, v1, :cond_7b

    const/4 v1, 0x5

    if-ne v0, v1, :cond_7a

    goto :goto_41

    .line 12407
    :cond_7a
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12408
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    const/4 v4, 0x1

    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v5

    invoke-virtual {v0, v5}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12409
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12410
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    goto :goto_42

    .line 12402
    :cond_7b
    :goto_41
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v11}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12403
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v10}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12404
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v11}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12405
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v10}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12412
    :goto_42
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v4, 0x1

    if-eq v1, v4, :cond_7c

    const/4 v1, 0x0

    goto :goto_43

    :cond_7c
    const/16 v1, 0x8

    :goto_43
    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12413
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v1, v4, :cond_7d

    const/16 v1, 0x8

    goto :goto_44

    :cond_7d
    const/4 v1, 0x0

    :goto_44
    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12414
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v1, v4, :cond_7e

    const/16 v4, 0x8

    goto :goto_45

    :cond_7e
    const/4 v4, 0x0

    :goto_45
    invoke-virtual {v0, v4}, Landroid/widget/ImageView;->setVisibility(I)V

    goto :goto_47

    .line 12393
    :cond_7f
    :goto_46
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v11}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12394
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v10}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12395
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v11}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12396
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v11}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12397
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v11}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12398
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v11}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12399
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v10}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    :goto_47
    if-eqz v8, :cond_80

    .line 12417
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/ActionBar;->beginDelayedTransition()V

    .line 12419
    :cond_80
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    invoke-virtual {v0, v3}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;)V

    move/from16 v18, v2

    :goto_48
    if-eqz v15, :cond_83

    .line 12422
    move-object v0, v14

    check-cast v0, Lorg/telegram/messenger/MediaController$PhotoEntry;

    .line 12423
    iget v1, v0, Lorg/telegram/messenger/MediaController$PhotoEntry;->bucketId:I

    if-nez v1, :cond_81

    iget-wide v1, v0, Lorg/telegram/messenger/MediaController$PhotoEntry;->dateTaken:J

    cmp-long v3, v1, v16

    if-nez v3, :cond_81

    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    const/4 v2, 0x1

    if-ne v1, v2, :cond_81

    const/4 v1, 0x1

    goto :goto_49

    :cond_81
    const/4 v1, 0x0

    :goto_49
    iput-boolean v1, v6, Lorg/telegram/ui/PhotoViewer;->fromCamera:Z

    .line 12424
    iget-boolean v1, v6, Lorg/telegram/ui/PhotoViewer;->hasCaptionForAllMedia:Z

    if-eqz v1, :cond_82

    .line 12425
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->captionForAllMedia:Ljava/lang/CharSequence;

    goto :goto_4a

    .line 12427
    :cond_82
    iget-object v1, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->caption:Ljava/lang/CharSequence;

    .line 12429
    :goto_4a
    iget v2, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->ttl:I

    .line 12430
    iget-boolean v3, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->isFiltered:Z

    .line 12431
    iget-boolean v4, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->isPainted:Z

    .line 12432
    iget-boolean v0, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->isCropped:Z

    goto :goto_4b

    .line 12433
    :cond_83
    instance-of v0, v14, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v0, :cond_84

    .line 12434
    move-object v0, v14

    check-cast v0, Lorg/telegram/messenger/MediaController$SearchImage;

    .line 12435
    iget-object v1, v0, Lorg/telegram/messenger/MediaController$SearchImage;->caption:Ljava/lang/CharSequence;

    .line 12436
    iget v2, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->ttl:I

    .line 12437
    iget-boolean v3, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->isFiltered:Z

    .line 12438
    iget-boolean v4, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->isPainted:Z

    .line 12439
    iget-boolean v0, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->isCropped:Z

    :goto_4b
    move v15, v3

    move-object/from16 v5, v21

    move v3, v2

    move v2, v0

    move/from16 v0, v20

    goto :goto_4c

    :cond_84
    move-object v1, v10

    move/from16 v0, v20

    move-object/from16 v5, v21

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    goto/16 :goto_39

    .line 12442
    :goto_4c
    iget-object v10, v6, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v10}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v10

    if-eq v10, v11, :cond_85

    .line 12443
    iget-object v10, v6, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v10, v11}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12445
    :cond_85
    iget-object v10, v6, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/4 v11, 0x0

    invoke-virtual {v10, v11}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    .line 12446
    iget-object v10, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v10, :cond_86

    const/4 v11, 0x0

    .line 12447
    invoke-virtual {v10, v11, v8}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12449
    :cond_86
    iget-boolean v10, v6, Lorg/telegram/ui/PhotoViewer;->fromCamera:Z

    if-eqz v10, :cond_88

    if-eqz v0, :cond_87

    .line 12451
    sget v10, Lorg/telegram/messenger/R$string;->AttachVideo:I

    invoke-static {v12, v10}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v10

    goto :goto_4d

    .line 12453
    :cond_87
    sget v10, Lorg/telegram/messenger/R$string;->AttachPhoto:I

    invoke-static {v13, v10}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v10

    goto :goto_4d

    :cond_88
    const/4 v10, 0x0

    .line 12456
    :goto_4d
    iget-object v11, v6, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v11, :cond_8f

    .line 12459
    invoke-virtual {v11}, Lorg/telegram/ui/ChatActivity;->getChatMode()I

    move-result v10

    const/4 v11, 0x3

    if-ne v10, v11, :cond_8a

    .line 12460
    iget-object v10, v6, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v10}, Lorg/telegram/ui/ChatActivity;->getSavedDialogId()J

    move-result-wide v10

    cmp-long v12, v10, v16

    if-ltz v12, :cond_89

    .line 12462
    iget-object v12, v6, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v12}, Lorg/telegram/ui/ActionBar/BaseFragment;->getMessagesController()Lorg/telegram/messenger/MessagesController;

    move-result-object v12

    invoke-static {v10, v11}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v10

    invoke-virtual {v12, v10}, Lorg/telegram/messenger/MessagesController;->getUser(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$User;

    move-result-object v10

    move-object v11, v10

    const/4 v10, 0x0

    goto :goto_4e

    .line 12464
    :cond_89
    iget-object v12, v6, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v12}, Lorg/telegram/ui/ActionBar/BaseFragment;->getMessagesController()Lorg/telegram/messenger/MessagesController;

    move-result-object v12

    neg-long v10, v10

    invoke-static {v10, v11}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v10

    invoke-virtual {v12, v10}, Lorg/telegram/messenger/MessagesController;->getChat(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v10

    const/4 v11, 0x0

    goto :goto_4e

    .line 12467
    :cond_8a
    iget-object v10, v6, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v10}, Lorg/telegram/ui/ChatActivity;->getCurrentUser()Lorg/telegram/tgnet/TLRPC$User;

    move-result-object v11

    .line 12468
    iget-object v10, v6, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v10}, Lorg/telegram/ui/ChatActivity;->getCurrentChat()Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v10

    :goto_4e
    if-eqz v10, :cond_8b

    .line 12471
    iget-object v10, v10, Lorg/telegram/tgnet/TLRPC$Chat;->title:Ljava/lang/String;

    goto :goto_50

    .line 12473
    :cond_8b
    invoke-static {v11}, Lorg/telegram/messenger/UserObject;->isUserSelf(Lorg/telegram/tgnet/TLRPC$User;)Z

    move-result v10

    if-eqz v10, :cond_8d

    .line 12474
    iget-object v10, v6, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v10}, Lorg/telegram/ui/ChatActivity;->getChatMode()I

    move-result v10

    const/4 v11, 0x3

    if-ne v10, v11, :cond_8c

    sget v10, Lorg/telegram/messenger/R$string;->MyNotes:I

    goto :goto_4f

    :cond_8c
    sget v10, Lorg/telegram/messenger/R$string;->SavedMessages:I

    :goto_4f
    invoke-static {v10}, Lorg/telegram/messenger/LocaleController;->getString(I)Ljava/lang/String;

    move-result-object v10

    goto :goto_50

    .line 12475
    :cond_8d
    invoke-static {v11}, Lorg/telegram/messenger/UserObject;->isAnonymous(Lorg/telegram/tgnet/TLRPC$User;)Z

    move-result v10

    if-eqz v10, :cond_8e

    .line 12476
    sget v10, Lorg/telegram/messenger/R$string;->AnonymousForward:I

    invoke-static {v10}, Lorg/telegram/messenger/LocaleController;->getString(I)Ljava/lang/String;

    move-result-object v10

    goto :goto_50

    .line 12478
    :cond_8e
    invoke-static {v11}, Lorg/telegram/messenger/UserObject;->getUserName(Lorg/telegram/tgnet/TLRPC$User;)Ljava/lang/String;

    move-result-object v10

    .line 12482
    :cond_8f
    :goto_50
    iget v11, v6, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eqz v11, :cond_91

    const/4 v12, 0x4

    if-eq v11, v12, :cond_91

    const/4 v12, 0x2

    if-eq v11, v12, :cond_90

    const/4 v12, 0x5

    if-ne v11, v12, :cond_92

    :cond_90
    iget-object v11, v6, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v11}, Ljava/util/ArrayList;->size()I

    move-result v11

    const/4 v12, 0x1

    if-le v11, v12, :cond_92

    .line 12483
    :cond_91
    iget-object v11, v6, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    iget-object v12, v6, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget v13, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    invoke-interface {v12, v13}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->isPhotoChecked(I)Z

    move-result v12

    const/4 v13, 0x0

    invoke-virtual {v11, v12, v13}, Lorg/telegram/ui/Components/CheckBox;->setChecked(ZZ)V

    .line 12486
    :cond_92
    invoke-direct {v6, v14}, Lorg/telegram/ui/PhotoViewer;->updateCaptionTextForCurrentPhoto(Ljava/lang/Object;)V

    .line 12487
    new-instance v11, Landroid/graphics/PorterDuffColorFilter;

    sget v12, Lorg/telegram/ui/ActionBar/Theme;->key_chat_editMediaButton:I

    invoke-direct {v6, v12}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v12

    sget-object v13, Landroid/graphics/PorterDuff$Mode;->MULTIPLY:Landroid/graphics/PorterDuff$Mode;

    invoke-direct {v11, v12, v13}, Landroid/graphics/PorterDuffColorFilter;-><init>(ILandroid/graphics/PorterDuff$Mode;)V

    .line 12488
    iget-object v12, v6, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v12, v0}, Lorg/telegram/ui/Components/CaptionPhotoViewer;->setIsVideo(Z)V

    .line 12489
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v0, v3}, Lorg/telegram/ui/Components/CaptionPhotoViewer;->setTimer(I)V

    .line 12490
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    if-eqz v4, :cond_93

    move-object v3, v11

    goto :goto_51

    :cond_93
    const/4 v3, 0x0

    :goto_51
    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 12491
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    if-eqz v2, :cond_94

    move-object v2, v11

    goto :goto_52

    :cond_94
    const/4 v2, 0x0

    :goto_52
    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 12492
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    if-eqz v15, :cond_95

    move-object v2, v11

    goto :goto_53

    :cond_95
    const/4 v2, 0x0

    :goto_53
    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 12493
    iget-boolean v0, v6, Lorg/telegram/ui/PhotoViewer;->fromCamera:Z

    if-eqz v0, :cond_99

    .line 12494
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    if-eqz v5, :cond_98

    iget-boolean v2, v6, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v2, :cond_96

    iget-boolean v3, v5, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v3, :cond_97

    :cond_96
    if-nez v2, :cond_98

    iget-boolean v2, v5, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v2, :cond_98

    :cond_97
    move-object v2, v11

    goto :goto_54

    :cond_98
    const/4 v2, 0x0

    :goto_54
    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    goto :goto_56

    .line 12496
    :cond_99
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    if-eqz v5, :cond_9a

    iget-boolean v2, v5, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v2, :cond_9a

    move-object v2, v11

    goto :goto_55

    :cond_9a
    const/4 v2, 0x0

    :goto_55
    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 12498
    :goto_56
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    if-eqz v5, :cond_9b

    iget v2, v5, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    if-eqz v2, :cond_9b

    move-object v5, v11

    goto :goto_57

    :cond_9b
    const/4 v5, 0x0

    :goto_57
    invoke-virtual {v0, v5}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 12499
    iget-boolean v0, v6, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    if-eqz v0, :cond_9d

    iget v0, v6, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eqz v0, :cond_9c

    const/4 v2, 0x2

    if-eq v0, v2, :cond_9c

    const/4 v2, -0x1

    if-ne v0, v2, :cond_9d

    :cond_9c
    const/4 v0, 0x1

    goto :goto_58

    :cond_9d
    const/4 v0, 0x0

    :goto_58
    iput-boolean v0, v6, Lorg/telegram/ui/PhotoViewer;->editing:Z

    move-object v5, v10

    move/from16 v0, v18

    goto/16 :goto_36

    :cond_9e
    :goto_59
    return-void

    .line 12500
    :cond_9f
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v0, :cond_af

    .line 12501
    invoke-interface {v0}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getItemsCount()I

    move-result v0

    .line 12502
    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    if-ltz v1, :cond_ae

    if-lt v1, v0, :cond_a0

    goto/16 :goto_62

    .line 12505
    :cond_a0
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v3, 0x15

    invoke-virtual {v1, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12506
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v3, 0x16

    invoke-virtual {v1, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12507
    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v1

    iget-wide v3, v6, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    neg-long v3, v3

    invoke-virtual {v1, v3, v4}, Lorg/telegram/messenger/MessagesController;->isChatNoForwards(J)Z

    move-result v1

    if-nez v1, :cond_a2

    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v1, :cond_a1

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->hasRevealedExtendedMedia()Z

    move-result v1

    if-nez v1, :cond_a2

    :cond_a1
    const/4 v1, 0x1

    goto :goto_5a

    :cond_a2
    const/4 v1, 0x0

    :goto_5a
    iput-boolean v1, v6, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    .line 12508
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v3, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    invoke-interface {v1, v3}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->get(I)Lorg/telegram/tgnet/TLRPC$PageBlock;

    move-result-object v1

    .line 12509
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v4, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    invoke-interface {v3, v4}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getCaption(I)Ljava/lang/CharSequence;

    move-result-object v5

    .line 12510
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v4, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    invoke-interface {v3, v4}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isVideo(I)Z

    move-result v3

    if-eqz v3, :cond_a5

    .line 12512
    iget-boolean v4, v6, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    if-eqz v4, :cond_a3

    .line 12513
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v10, 0xb

    invoke-virtual {v4, v10}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_5b

    :cond_a3
    const/16 v10, 0xb

    .line 12515
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v4, v10}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12517
    :goto_5b
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->checkHideMenuItem()V

    .line 12519
    iget-boolean v4, v6, Lorg/telegram/ui/PhotoViewer;->pipAvailable:Z

    if-nez v4, :cond_a4

    .line 12520
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v10, 0x0

    invoke-virtual {v4, v10}, Landroid/widget/FrameLayout;->setEnabled(Z)V

    .line 12521
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/high16 v11, 0x3f000000    # 0.5f

    const/4 v14, 0x1

    invoke-direct {v6, v4, v14, v14, v11}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZF)V

    goto :goto_5c

    :cond_a4
    const/4 v10, 0x0

    const/4 v14, 0x1

    .line 12523
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v6, v4, v14, v14}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    goto :goto_5c

    :cond_a5
    const/4 v10, 0x0

    const/4 v14, 0x1

    .line 12526
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v11, 0xb

    invoke-virtual {v4, v11}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12527
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v6, v4, v10, v14}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12529
    :goto_5c
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v4

    const/16 v10, 0x8

    if-eq v4, v10, :cond_a6

    .line 12530
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v4, v10}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12532
    :cond_a6
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/4 v11, 0x0

    invoke-virtual {v4, v11}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    .line 12533
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v4, :cond_a8

    const/4 v14, 0x1

    if-le v0, v14, :cond_a7

    const/4 v15, 0x1

    goto :goto_5d

    :cond_a7
    const/4 v15, 0x0

    .line 12534
    :goto_5d
    invoke-virtual {v4, v15, v14}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12535
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    iget v15, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    add-int/2addr v15, v14

    invoke-virtual {v4, v15, v0}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->set(II)V

    .line 12537
    :cond_a8
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    if-nez v4, :cond_ac

    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v4, v7}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isVideo(I)Z

    move-result v4

    if-nez v4, :cond_a9

    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v4, v7}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isHardwarePlayer(I)Z

    move-result v4

    if-eqz v4, :cond_a9

    goto :goto_5f

    :cond_a9
    const/4 v4, 0x1

    if-ne v0, v4, :cond_ab

    if-eqz v3, :cond_aa

    .line 12549
    sget v0, Lorg/telegram/messenger/R$string;->AttachVideo:I

    invoke-static {v12, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    goto :goto_5e

    .line 12551
    :cond_aa
    sget v0, Lorg/telegram/messenger/R$string;->AttachPhoto:I

    invoke-static {v13, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    goto :goto_5e

    :cond_ab
    move-object v0, v11

    .line 12554
    :goto_5e
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v2, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12555
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v3, 0xe

    invoke-virtual {v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12556
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->checkHideMenuItem()V

    goto :goto_61

    :cond_ac
    :goto_5f
    const/16 v3, 0xe

    const/4 v4, 0x1

    .line 12538
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12539
    iget-boolean v0, v6, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    if-eqz v0, :cond_ad

    .line 12540
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_60

    .line 12542
    :cond_ad
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12544
    :goto_60
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->checkHideMenuItem()V

    .line 12545
    sget v0, Lorg/telegram/messenger/R$string;->AttachGif:I

    invoke-static {v2, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    .line 12558
    :goto_61
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/GroupedPhotosListView;->fillList()V

    .line 12559
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v2, v1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->updateSlideshowCell(Lorg/telegram/tgnet/TLRPC$PageBlock;)V

    move-object v1, v5

    const/4 v3, 0x0

    move-object v5, v0

    move v0, v8

    goto :goto_63

    :cond_ae
    :goto_62
    return-void

    :cond_af
    const/16 v10, 0x8

    const/4 v11, 0x0

    .line 12561
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v1, 0x15

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12562
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v1, 0x16

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    move v0, v8

    move-object v1, v11

    move-object v5, v1

    const/4 v3, 0x0

    .line 12564
    :goto_63
    iget-boolean v2, v6, Lorg/telegram/ui/PhotoViewer;->editing:Z

    if-eqz v2, :cond_b0

    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->setAvatarFor:Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;

    if-nez v2, :cond_b0

    const/4 v2, 0x1

    goto :goto_64

    :cond_b0
    const/4 v2, 0x0

    :goto_64
    iput-boolean v2, v6, Lorg/telegram/ui/PhotoViewer;->fancyShadows:Z

    .line 12565
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    if-nez v2, :cond_b2

    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->setAvatarFor:Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;

    if-eqz v2, :cond_b1

    goto :goto_65

    :cond_b1
    const/high16 v2, 0x7f000000

    goto :goto_66

    :cond_b2
    :goto_65
    const/4 v2, 0x0

    :goto_66
    invoke-virtual {v4, v2}, Lorg/telegram/ui/ActionBar/ActionBar;->setBackgroundColor(I)V

    .line 12566
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    iget-boolean v4, v6, Lorg/telegram/ui/PhotoViewer;->fancyShadows:Z

    invoke-virtual {v2, v4}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setTextShadows(Z)V

    .line 12567
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    iget-boolean v4, v6, Lorg/telegram/ui/PhotoViewer;->fancyShadows:Z

    if-eqz v4, :cond_b3

    const/16 v4, 0x8

    goto :goto_67

    :cond_b3
    const/4 v4, 0x0

    :goto_67
    invoke-virtual {v2, v4}, Landroid/view/View;->setVisibility(I)V

    .line 12568
    iget v2, v6, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v2, :cond_b5

    .line 12569
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    iget-boolean v4, v6, Lorg/telegram/ui/PhotoViewer;->fancyShadows:Z

    if-eqz v4, :cond_b4

    const/4 v4, 0x0

    goto :goto_68

    :cond_b4
    const/high16 v4, 0x7f000000

    :goto_68
    invoke-virtual {v2, v4}, Landroid/view/View;->setBackgroundColor(I)V

    :cond_b5
    if-eqz v5, :cond_b9

    if-eqz v8, :cond_b8

    if-ne v9, v7, :cond_b6

    .line 12574
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    const/4 v4, 0x1

    invoke-virtual {v2, v5, v4, v4}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setTitleAnimated(Ljava/lang/CharSequence;ZZ)V

    goto :goto_6a

    :cond_b6
    const/4 v4, 0x1

    .line 12576
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    const/4 v4, 0x0

    if-le v9, v7, :cond_b7

    const/4 v10, 0x1

    goto :goto_69

    :cond_b7
    const/4 v10, 0x0

    :goto_69
    invoke-virtual {v2, v5, v4, v10}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setTitleAnimated(Ljava/lang/CharSequence;ZZ)V

    goto :goto_6a

    .line 12579
    :cond_b8
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    invoke-virtual {v2, v5}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setTitle(Ljava/lang/CharSequence;)V

    .line 12582
    :cond_b9
    :goto_6a
    invoke-direct {v6, v11, v1, v3, v0}, Lorg/telegram/ui/PhotoViewer;->setCurrentCaption(Lorg/telegram/messenger/MessageObject;Ljava/lang/CharSequence;ZZ)V

    return-void
.end method

.method private setItemVisible(Landroid/view/View;ZZ)V
    .locals 1

    const/high16 v0, 0x3f800000    # 1.0f

    .line 11373
    invoke-direct {p0, p1, p2, p3, v0}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZF)V

    return-void
.end method

.method private setItemVisible(Landroid/view/View;ZZF)V
    .locals 3

    .line 11377
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarItemsVisibility:Ljava/util/Map;

    invoke-interface {v0, p1}, Ljava/util/Map;->get(Ljava/lang/Object;)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Ljava/lang/Boolean;

    if-eqz v0, :cond_0

    .line 11378
    invoke-virtual {v0}, Ljava/lang/Boolean;->booleanValue()Z

    move-result v1

    if-eq v1, p2, :cond_5

    .line 11379
    :cond_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->actionBarItemsVisibility:Ljava/util/Map;

    invoke-static {p2}, Ljava/lang/Boolean;->valueOf(Z)Ljava/lang/Boolean;

    move-result-object v2

    invoke-interface {v1, p1, v2}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 11380
    invoke-virtual {p1}, Landroid/view/View;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object v1

    invoke-virtual {v1}, Landroid/view/ViewPropertyAnimator;->cancel()V

    if-eqz p2, :cond_1

    const/high16 v1, 0x3f800000    # 1.0f

    goto :goto_0

    :cond_1
    const/4 v1, 0x0

    :goto_0
    mul-float v1, v1, p4

    const/4 p4, 0x0

    if-eqz p3, :cond_3

    if-eqz v0, :cond_3

    if-eqz p2, :cond_2

    .line 11384
    invoke-virtual {p1, p4}, Landroid/view/View;->setVisibility(I)V

    .line 11386
    :cond_2
    invoke-virtual {p1}, Landroid/view/View;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object p3

    invoke-virtual {p3, v1}, Landroid/view/ViewPropertyAnimator;->alpha(F)Landroid/view/ViewPropertyAnimator;

    move-result-object p3

    const-wide/16 v0, 0x64

    invoke-virtual {p3, v0, v1}, Landroid/view/ViewPropertyAnimator;->setDuration(J)Landroid/view/ViewPropertyAnimator;

    move-result-object p3

    new-instance p4, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda10;

    invoke-direct {p4, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda10;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {p3, p4}, Landroid/view/ViewPropertyAnimator;->setUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)Landroid/view/ViewPropertyAnimator;

    move-result-object p3

    new-instance p4, Landroid/view/animation/LinearInterpolator;

    invoke-direct {p4}, Landroid/view/animation/LinearInterpolator;-><init>()V

    invoke-virtual {p3, p4}, Landroid/view/ViewPropertyAnimator;->setInterpolator(Landroid/animation/TimeInterpolator;)Landroid/view/ViewPropertyAnimator;

    move-result-object p3

    new-instance p4, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda80;

    invoke-direct {p4, p0, p2, p1}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda80;-><init>(Lorg/telegram/ui/PhotoViewer;ZLandroid/view/View;)V

    invoke-virtual {p3, p4}, Landroid/view/ViewPropertyAnimator;->withEndAction(Ljava/lang/Runnable;)Landroid/view/ViewPropertyAnimator;

    move-result-object p1

    .line 11391
    invoke-virtual {p1}, Landroid/view/ViewPropertyAnimator;->start()V

    goto :goto_2

    :cond_3
    if-eqz p2, :cond_4

    goto :goto_1

    :cond_4
    const/16 p4, 0x8

    .line 11393
    :goto_1
    invoke-virtual {p1, p4}, Landroid/view/View;->setVisibility(I)V

    .line 11394
    invoke-virtual {p1, v1}, Landroid/view/View;->setAlpha(F)V

    .line 11395
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateActionBarTitlePadding()V

    :cond_5
    :goto_2
    return-void
.end method

.method private setMenuItemIcon(ZZ)V
    .locals 5

    .line 6937
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v0

    const/4 v1, 0x0

    if-eqz v0, :cond_0

    .line 6938
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->menuItemIcon:Lorg/telegram/ui/Components/OptionsSpeedIconDrawable;

    invoke-virtual {p2, v1, p1}, Lorg/telegram/ui/Components/OptionsSpeedIconDrawable;->setSpeed(Ljava/lang/Float;Z)V

    return-void

    .line 6941
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->menuItemIcon:Lorg/telegram/ui/Components/OptionsSpeedIconDrawable;

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    const/high16 v3, 0x3f800000    # 1.0f

    sub-float/2addr v2, v3

    invoke-static {v2}, Ljava/lang/Math;->abs(F)F

    move-result v2

    const v4, 0x3a83126f    # 0.001f

    cmpg-float v2, v2, v4

    if-gez v2, :cond_1

    goto :goto_0

    :cond_1
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    invoke-static {v1}, Ljava/lang/Float;->valueOf(F)Ljava/lang/Float;

    move-result-object v1

    :goto_0
    invoke-virtual {v0, v1, p1}, Lorg/telegram/ui/Components/OptionsSpeedIconDrawable;->setSpeed(Ljava/lang/Float;Z)V

    if-eqz p2, :cond_7

    .line 6943
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    const v0, 0x3e4ccccd    # 0.2f

    sub-float/2addr p1, v0

    invoke-static {p1}, Ljava/lang/Math;->abs(F)F

    move-result p1

    const v0, 0x3d4ccccd    # 0.05f

    cmpg-float p1, p1, v0

    if-gez p1, :cond_2

    .line 6944
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v0, Lorg/telegram/messenger/R$string;->VideoSpeedVerySlow:I

    const-string v1, "VideoSpeedVerySlow"

    invoke-static {v1, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setSubtext(Ljava/lang/String;)V

    goto/16 :goto_1

    .line 6945
    :cond_2
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    const/high16 v1, 0x3f000000    # 0.5f

    sub-float/2addr p1, v1

    invoke-static {p1}, Ljava/lang/Math;->abs(F)F

    move-result p1

    cmpg-float p1, p1, v0

    if-gez p1, :cond_3

    .line 6946
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v0, Lorg/telegram/messenger/R$string;->VideoSpeedSlow:I

    const-string v1, "VideoSpeedSlow"

    invoke-static {v1, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setSubtext(Ljava/lang/String;)V

    goto/16 :goto_1

    .line 6947
    :cond_3
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    sub-float/2addr p1, v3

    invoke-static {p1}, Ljava/lang/Math;->abs(F)F

    move-result p1

    cmpg-float p1, p1, v0

    if-gez p1, :cond_4

    .line 6948
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v0, Lorg/telegram/messenger/R$string;->VideoSpeedNormal:I

    const-string v1, "VideoSpeedNormal"

    invoke-static {v1, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setSubtext(Ljava/lang/String;)V

    goto :goto_1

    .line 6949
    :cond_4
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    const/high16 v1, 0x3fc00000    # 1.5f

    sub-float/2addr p1, v1

    invoke-static {p1}, Ljava/lang/Math;->abs(F)F

    move-result p1

    cmpg-float p1, p1, v0

    if-gez p1, :cond_5

    .line 6950
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v0, Lorg/telegram/messenger/R$string;->VideoSpeedFast:I

    const-string v1, "VideoSpeedFast"

    invoke-static {v1, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setSubtext(Ljava/lang/String;)V

    goto :goto_1

    .line 6951
    :cond_5
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    const/high16 v1, 0x40000000    # 2.0f

    sub-float/2addr p1, v1

    invoke-static {p1}, Ljava/lang/Math;->abs(F)F

    move-result p1

    cmpg-float p1, p1, v0

    if-gez p1, :cond_6

    .line 6952
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v0, Lorg/telegram/messenger/R$string;->VideoSpeedVeryFast:I

    const-string v1, "VideoSpeedVeryFast"

    invoke-static {v1, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setSubtext(Ljava/lang/String;)V

    goto :goto_1

    .line 6954
    :cond_6
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v0, Lorg/telegram/messenger/R$string;->VideoSpeedCustom:I

    const/4 v1, 0x1

    new-array v1, v1, [Ljava/lang/Object;

    const/4 v2, 0x0

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    invoke-static {v4}, Lorg/telegram/ui/Components/SpeedIconDrawable;->formatNumber(F)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    const-string v4, "x"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    aput-object v3, v1, v2

    const-string v2, "VideoSpeedCustom"

    invoke-static {v2, v0, v1}, Lorg/telegram/messenger/LocaleController;->formatString(Ljava/lang/String;I[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setSubtext(Ljava/lang/String;)V

    .line 6957
    :cond_7
    :goto_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->chooseSpeedLayout:Lorg/telegram/ui/ChooseSpeedLayout;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    invoke-virtual {p1, v0, p2}, Lorg/telegram/ui/ChooseSpeedLayout;->update(FZ)V

    return-void
.end method

.method private setPhotoChecked()V
    .locals 4

    .line 9681
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v0, :cond_4

    .line 9682
    invoke-interface {v0}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getSelectedPhotos()Ljava/util/HashMap;

    move-result-object v0

    if-eqz v0, :cond_1

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->maxSelectedPhotos:I

    if-lez v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v0}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getSelectedPhotos()Ljava/util/HashMap;

    move-result-object v0

    invoke-virtual {v0}, Ljava/util/HashMap;->size()I

    move-result v0

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->maxSelectedPhotos:I

    if-lt v0, v1, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->isPhotoChecked(I)Z

    move-result v0

    if-nez v0, :cond_1

    .line 9683
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->allowOrder:Z

    if-eqz v0, :cond_0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v0, :cond_0

    .line 9684
    invoke-virtual {v0}, Lorg/telegram/ui/ChatActivity;->getCurrentChat()Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v0

    if-eqz v0, :cond_0

    .line 9685
    invoke-static {v0}, Lorg/telegram/messenger/ChatObject;->hasAdminRights(Lorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v1

    if-nez v1, :cond_0

    iget-boolean v0, v0, Lorg/telegram/tgnet/TLRPC$Chat;->slowmode_enabled:Z

    if-eqz v0, :cond_0

    .line 9686
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    sget v1, Lorg/telegram/messenger/R$string;->Slowmode:I

    const-string v2, "Slowmode"

    invoke-static {v2, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    sget v2, Lorg/telegram/messenger/R$string;->SlowmodeSelectSendError:I

    const-string v3, "SlowmodeSelectSendError"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-static {v0, v1, v2}, Lorg/telegram/ui/Components/AlertsCreator;->createSimpleAlert(Landroid/content/Context;Ljava/lang/String;Ljava/lang/String;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    move-result-object v0

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->show()Lorg/telegram/ui/ActionBar/AlertDialog;

    :cond_0
    return-void

    .line 9691
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoEditedInfo()Lorg/telegram/messenger/VideoEditedInfo;

    move-result-object v2

    invoke-interface {v0, v1, v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->setPhotoChecked(ILorg/telegram/messenger/VideoEditedInfo;)I

    move-result v0

    .line 9692
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v1, v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->isPhotoChecked(I)Z

    move-result v1

    .line 9693
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    const/4 v3, 0x1

    invoke-virtual {v2, v1, v3}, Lorg/telegram/ui/Components/CheckBox;->setChecked(ZZ)V

    if-ltz v0, :cond_3

    if-eqz v1, :cond_2

    .line 9696
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosAdapter:Lorg/telegram/ui/PhotoViewer$ListAdapter;

    invoke-virtual {v1, v0}, Landroidx/recyclerview/widget/RecyclerView$Adapter;->notifyItemInserted(I)V

    .line 9697
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    invoke-virtual {v1, v0}, Landroidx/recyclerview/widget/RecyclerView;->smoothScrollToPosition(I)V

    goto :goto_0

    .line 9699
    :cond_2
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosAdapter:Lorg/telegram/ui/PhotoViewer$ListAdapter;

    invoke-virtual {v1, v0}, Landroidx/recyclerview/widget/RecyclerView$Adapter;->notifyItemRemoved(I)V

    if-nez v0, :cond_3

    .line 9701
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosAdapter:Lorg/telegram/ui/PhotoViewer$ListAdapter;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Landroidx/recyclerview/widget/RecyclerView$Adapter;->notifyItemChanged(I)V

    .line 9705
    :cond_3
    :goto_0
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateSelectedCount()V

    :cond_4
    return-void
.end method

.method private setScaleToFill()V
    .locals 6

    .line 4233
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v0

    int-to-float v0, v0

    .line 4234
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v1

    int-to-float v1, v1

    const/4 v2, 0x0

    cmpl-float v3, v0, v2

    if-eqz v3, :cond_1

    cmpl-float v2, v1, v2

    if-nez v2, :cond_0

    goto :goto_0

    .line 4238
    :cond_0
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v2

    int-to-float v2, v2

    .line 4239
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v3

    int-to-float v3, v3

    div-float v4, v3, v1

    div-float v5, v2, v0

    .line 4240
    invoke-static {v4, v5}, Ljava/lang/Math;->min(FF)F

    move-result v4

    mul-float v0, v0, v4

    float-to-int v0, v0

    int-to-float v0, v0

    mul-float v1, v1, v4

    float-to-int v1, v1

    int-to-float v1, v1

    div-float/2addr v2, v0

    div-float/2addr v3, v1

    .line 4243
    invoke-static {v2, v3}, Ljava/lang/Math;->max(FF)F

    move-result v0

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    .line 4244
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    :cond_1
    :goto_0
    return-void
.end method

.method private setVideoPlayerControlVisible(ZZ)V
    .locals 5

    .line 9115
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlVisible:Z

    if-eq v0, p1, :cond_8

    const/4 v0, 0x1

    if-eqz p1, :cond_0

    .line 9118
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-static {v0}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    goto :goto_0

    .line 9120
    :cond_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/4 v2, 0x0

    invoke-virtual {v1, v2}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    .line 9123
    :goto_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlAnimator:Landroid/animation/Animator;

    if-eqz v1, :cond_1

    .line 9124
    invoke-virtual {v1}, Landroid/animation/Animator;->cancel()V

    .line 9126
    :cond_1
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlVisible:Z

    const/high16 v1, 0x3f800000    # 1.0f

    const/4 v2, 0x0

    const/4 v3, 0x0

    if-eqz p2, :cond_4

    if-eqz p1, :cond_2

    .line 9130
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    invoke-virtual {p2, v3}, Landroid/widget/FrameLayout;->setVisibility(I)V

    :cond_2
    const/4 p2, 0x2

    new-array p2, p2, [F

    .line 9133
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getAlpha()F

    move-result v4

    aput v4, p2, v3

    if-eqz p1, :cond_3

    goto :goto_1

    :cond_3
    const/4 v1, 0x0

    :goto_1
    aput v1, p2, v0

    invoke-static {p2}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object p2

    const-wide/16 v0, 0xc8

    .line 9134
    invoke-virtual {p2, v0, v1}, Landroid/animation/ValueAnimator;->setDuration(J)Landroid/animation/ValueAnimator;

    .line 9135
    new-instance v0, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda1;

    invoke-direct {v0, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda1;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {p2, v0}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 9139
    new-instance v0, Lorg/telegram/ui/PhotoViewer$50;

    invoke-direct {v0, p0, p1}, Lorg/telegram/ui/PhotoViewer$50;-><init>(Lorg/telegram/ui/PhotoViewer;Z)V

    invoke-virtual {p2, v0}, Landroid/animation/ValueAnimator;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 9147
    iput-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlAnimator:Landroid/animation/Animator;

    .line 9148
    invoke-virtual {p2}, Landroid/animation/ValueAnimator;->start()V

    goto :goto_4

    .line 9150
    :cond_4
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    if-eqz p1, :cond_5

    goto :goto_2

    :cond_5
    const/16 v3, 0x8

    :goto_2
    invoke-virtual {p2, v3}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 9151
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    if-eqz p1, :cond_6

    goto :goto_3

    :cond_6
    const/4 v1, 0x0

    :goto_3
    invoke-virtual {p2, v1}, Landroid/widget/FrameLayout;->setAlpha(F)V

    .line 9153
    :goto_4
    iget-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    if-eqz p2, :cond_8

    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-nez p2, :cond_8

    const/16 p2, 0xa

    if-eqz p1, :cond_7

    .line 9155
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p1, p2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_5

    .line 9157
    :cond_7
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p1, p2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    :cond_8
    :goto_5
    return-void
.end method

.method private shouldIndexAutoPlayed(I)Z
    .locals 1

    .line 16110
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v0, :cond_1

    .line 16111
    invoke-interface {v0, p1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isVideo(I)Z

    move-result v0

    if-nez v0, :cond_0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v0, p1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isHardwarePlayer(I)Z

    move-result v0

    if-eqz v0, :cond_1

    :cond_0
    invoke-static {}, Lorg/telegram/messenger/SharedConfig;->isAutoplayVideo()Z

    move-result v0

    if-eqz v0, :cond_1

    .line 16112
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v0, p1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getFile(I)Ljava/io/File;

    move-result-object p1

    if-eqz p1, :cond_1

    .line 16113
    invoke-virtual {p1}, Ljava/io/File;->exists()Z

    move-result p1

    if-eqz p1, :cond_1

    const/4 p1, 0x1

    return p1

    :cond_1
    const/4 p1, 0x0

    return p1
.end method

.method private shouldMessageObjectAutoPlayed(Lorg/telegram/messenger/MessageObject;)Z
    .locals 1

    if-eqz p1, :cond_1

    .line 16106
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v0

    if-eqz v0, :cond_1

    iget-boolean v0, p1, Lorg/telegram/messenger/MessageObject;->mediaExists:Z

    if-nez v0, :cond_0

    iget-boolean v0, p1, Lorg/telegram/messenger/MessageObject;->attachPathExists:Z

    if-nez v0, :cond_0

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->canStreamVideo()Z

    move-result p1

    if-eqz p1, :cond_1

    sget-boolean p1, Lorg/telegram/messenger/SharedConfig;->streamMedia:Z

    if-eqz p1, :cond_1

    :cond_0
    invoke-static {}, Lorg/telegram/messenger/SharedConfig;->isAutoplayVideo()Z

    move-result p1

    if-eqz p1, :cond_1

    const/4 p1, 0x1

    goto :goto_0

    :cond_1
    const/4 p1, 0x0

    :goto_0
    return p1
.end method

.method private showDownloadAlert()V
    .locals 4

    .line 4157
    new-instance v0, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    invoke-direct {v0, v1, v2}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;-><init>(Landroid/content/Context;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    .line 4158
    sget v1, Lorg/telegram/messenger/R$string;->AppName:I

    const-string v2, "AppName"

    invoke-static {v2, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setTitle(Ljava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 4159
    sget v1, Lorg/telegram/messenger/R$string;->OK:I

    const-string v2, "OK"

    invoke-static {v2, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    const/4 v2, 0x0

    invoke-virtual {v0, v1, v2}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setPositiveButton(Ljava/lang/CharSequence;Landroid/content/DialogInterface$OnClickListener;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 4160
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    const/4 v2, 0x0

    if-eqz v1, :cond_0

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v1

    if-eqz v1, :cond_0

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget v1, v1, Lorg/telegram/messenger/MessageObject;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v3, v3, v2

    invoke-virtual {v1, v3}, Lorg/telegram/messenger/FileLoader;->isLoadingFile(Ljava/lang/String;)Z

    move-result v1

    if-eqz v1, :cond_0

    const/4 v2, 0x1

    :cond_0
    if-eqz v2, :cond_1

    .line 4162
    sget v1, Lorg/telegram/messenger/R$string;->PleaseStreamDownload:I

    const-string v2, "PleaseStreamDownload"

    invoke-static {v2, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setMessage(Ljava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    goto :goto_0

    .line 4164
    :cond_1
    sget v1, Lorg/telegram/messenger/R$string;->PleaseDownload:I

    const-string v2, "PleaseDownload"

    invoke-static {v2, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setMessage(Ljava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 4166
    :goto_0
    invoke-virtual {p0, v0}, Lorg/telegram/ui/PhotoViewer;->showAlertDialog(Lorg/telegram/ui/ActionBar/AlertDialog$Builder;)V

    return-void
.end method

.method private showEditCaption(ZZ)V
    .locals 9

    const/4 v0, 0x0

    const/4 v1, 0x0

    const/4 v2, 0x1

    const/4 v3, 0x0

    if-nez p2, :cond_1

    .line 12629
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {p2}, Landroid/widget/FrameLayout;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object p2

    invoke-virtual {p2, v1}, Landroid/view/ViewPropertyAnimator;->setListener(Landroid/animation/Animator$AnimatorListener;)Landroid/view/ViewPropertyAnimator;

    move-result-object p2

    invoke-virtual {p2}, Landroid/view/ViewPropertyAnimator;->cancel()V

    .line 12630
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    if-eqz p1, :cond_0

    goto :goto_0

    :cond_0
    const/16 v3, 0x8

    :goto_0
    invoke-virtual {p2, v3}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12631
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {p2, v0}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 12632
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getAlpha()F

    move-result v0

    invoke-virtual {p2, v0}, Landroid/widget/FrameLayout;->setAlpha(F)V

    goto/16 :goto_1

    :cond_1
    const-wide/16 v4, 0xdc

    const/4 p2, 0x2

    const/high16 v6, 0x42680000    # 58.0f

    if-eqz p1, :cond_4

    .line 12634
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v7}, Landroid/widget/FrameLayout;->getTag()Ljava/lang/Object;

    move-result-object v7

    if-nez v7, :cond_4

    .line 12635
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v7}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v7

    if-eqz v7, :cond_2

    .line 12636
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v7, v3}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12637
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v8}, Landroid/widget/FrameLayout;->getAlpha()F

    move-result v8

    invoke-virtual {v7, v8}, Landroid/widget/FrameLayout;->setAlpha(F)V

    .line 12638
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v6

    int-to-float v6, v6

    invoke-virtual {v7, v6}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 12640
    :cond_2
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->captionAnimator:Landroid/animation/ObjectAnimator;

    if-eqz v6, :cond_3

    .line 12641
    invoke-virtual {v6}, Landroid/animation/ObjectAnimator;->removeAllListeners()V

    .line 12642
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->captionAnimator:Landroid/animation/ObjectAnimator;

    invoke-virtual {v6}, Landroid/animation/ObjectAnimator;->cancel()V

    .line 12644
    :cond_3
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    sget-object v7, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array p2, p2, [F

    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getTranslationY()F

    move-result v8

    aput v8, p2, v3

    aput v0, p2, v2

    invoke-static {v6, v7, p2}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object p2

    iput-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionAnimator:Landroid/animation/ObjectAnimator;

    .line 12645
    invoke-virtual {p2, v4, v5}, Landroid/animation/ObjectAnimator;->setDuration(J)Landroid/animation/ObjectAnimator;

    .line 12646
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionAnimator:Landroid/animation/ObjectAnimator;

    sget-object v0, Lorg/telegram/ui/Components/CubicBezierInterpolator;->DEFAULT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-virtual {p2, v0}, Landroid/animation/ObjectAnimator;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    .line 12647
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionAnimator:Landroid/animation/ObjectAnimator;

    invoke-virtual {p2}, Landroid/animation/ObjectAnimator;->start()V

    goto :goto_1

    :cond_4
    if-nez p1, :cond_6

    .line 12649
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getTag()Ljava/lang/Object;

    move-result-object v0

    if-eqz v0, :cond_6

    .line 12650
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionAnimator:Landroid/animation/ObjectAnimator;

    if-eqz v0, :cond_5

    .line 12651
    invoke-virtual {v0}, Landroid/animation/ObjectAnimator;->removeAllListeners()V

    .line 12652
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionAnimator:Landroid/animation/ObjectAnimator;

    invoke-virtual {v0}, Landroid/animation/ObjectAnimator;->cancel()V

    .line 12655
    :cond_5
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    sget-object v7, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array p2, p2, [F

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getTranslationY()F

    move-result v8

    aput v8, p2, v3

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v3

    int-to-float v3, v3

    aput v3, p2, v2

    invoke-static {v0, v7, p2}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object p2

    iput-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionAnimator:Landroid/animation/ObjectAnimator;

    .line 12656
    new-instance v0, Lorg/telegram/ui/Components/HideViewAfterAnimation;

    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-direct {v0, v3}, Lorg/telegram/ui/Components/HideViewAfterAnimation;-><init>(Landroid/view/View;)V

    invoke-virtual {p2, v0}, Landroid/animation/ObjectAnimator;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 12657
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionAnimator:Landroid/animation/ObjectAnimator;

    invoke-virtual {p2, v4, v5}, Landroid/animation/ObjectAnimator;->setDuration(J)Landroid/animation/ObjectAnimator;

    .line 12658
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionAnimator:Landroid/animation/ObjectAnimator;

    sget-object v0, Lorg/telegram/ui/Components/CubicBezierInterpolator;->DEFAULT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-virtual {p2, v0}, Landroid/animation/ObjectAnimator;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    .line 12659
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionAnimator:Landroid/animation/ObjectAnimator;

    invoke-virtual {p2}, Landroid/animation/ObjectAnimator;->start()V

    .line 12662
    :cond_6
    :goto_1
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    if-eqz p1, :cond_7

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v1

    :cond_7
    invoke-virtual {p2, v1}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    return-void
.end method

.method private showQualityView(Z)V
    .locals 13

    if-eqz p1, :cond_0

    .line 17943
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    if-eqz v0, :cond_0

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    if-eqz v0, :cond_0

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->changingTextureView:Z

    if-nez v0, :cond_0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v0, :cond_0

    .line 17944
    invoke-virtual {v0}, Landroid/view/TextureView;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmap:Landroid/graphics/Bitmap;

    :cond_0
    if-eqz p1, :cond_1

    .line 17948
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->previousCompression:I

    .line 17950
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    if-eqz v0, :cond_2

    .line 17951
    invoke-virtual {v0}, Landroid/animation/AnimatorSet;->cancel()V

    .line 17953
    :cond_2
    new-instance v0, Landroid/animation/AnimatorSet;

    invoke-direct {v0}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    const/4 v0, 0x3

    const/high16 v1, 0x3f800000    # 1.0f

    const/4 v2, 0x2

    const/4 v3, 0x0

    const/4 v4, 0x1

    const/4 v5, 0x0

    if-eqz p1, :cond_6

    .line 17955
    iget-boolean v6, p0, Lorg/telegram/ui/PhotoViewer;->fancyShadows:Z

    if-eqz v6, :cond_3

    .line 17956
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    invoke-virtual {v6, v5}, Landroid/view/View;->setVisibility(I)V

    .line 17957
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    invoke-virtual {v6, v3}, Landroid/view/View;->setAlpha(F)V

    .line 17958
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    const/high16 v7, 0x7f000000

    invoke-virtual {v6, v7}, Landroid/view/View;->setBackgroundColor(I)V

    .line 17960
    :cond_3
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v7

    invoke-virtual {v6, v7}, Landroid/view/View;->setTag(Ljava/lang/Object;)V

    .line 17961
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    const/4 v7, 0x4

    new-array v7, v7, [Landroid/animation/Animator;

    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    sget-object v9, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v10, v2, [F

    aput v3, v10, v5

    .line 17962
    invoke-virtual {v8}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v11

    iget-object v12, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v12}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->getEditTextHeight()I

    move-result v12

    add-int/2addr v11, v12

    iget-boolean v12, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v12, :cond_4

    const/high16 v12, 0x42680000    # 58.0f

    invoke-static {v12}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v12

    goto :goto_0

    :cond_4
    const/4 v12, 0x0

    :goto_0
    add-int/2addr v11, v12

    int-to-float v11, v11

    aput v11, v10, v4

    invoke-static {v8, v9, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v8

    aput-object v8, v7, v5

    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    sget-object v9, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v10, v4, [F

    aput v3, v10, v5

    .line 17963
    invoke-static {v8, v9, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v8

    aput-object v8, v7, v4

    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    sget-object v9, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v10, v2, [F

    aput v3, v10, v5

    const/high16 v11, 0x431e0000    # 158.0f

    .line 17964
    invoke-static {v11}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v11

    int-to-float v11, v11

    aput v11, v10, v4

    invoke-static {v8, v9, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v8

    aput-object v8, v7, v2

    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    sget-object v9, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v2, v2, [F

    .line 17965
    iget-boolean v10, p0, Lorg/telegram/ui/PhotoViewer;->fancyShadows:Z

    if-eqz v10, :cond_5

    const/4 v10, 0x0

    goto :goto_1

    :cond_5
    const/high16 v10, 0x3f800000    # 1.0f

    :goto_1
    aput v10, v2, v5

    aput v1, v2, v4

    invoke-static {v8, v9, v2}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    aput-object v2, v7, v0

    .line 17961
    invoke-virtual {v6, v7}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    goto :goto_3

    .line 17968
    :cond_6
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    const/4 v7, 0x0

    invoke-virtual {v6, v7}, Landroid/view/View;->setTag(Ljava/lang/Object;)V

    .line 17969
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    new-array v0, v0, [Landroid/animation/Animator;

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    sget-object v8, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v9, v2, [F

    aput v3, v9, v5

    const/high16 v10, 0x43260000    # 166.0f

    .line 17970
    invoke-static {v10}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v11

    int-to-float v11, v11

    aput v11, v9, v4

    invoke-static {v7, v8, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v7

    aput-object v7, v0, v5

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    sget-object v8, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v9, v2, [F

    aput v3, v9, v5

    .line 17971
    invoke-static {v10}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v10

    int-to-float v10, v10

    aput v10, v9, v4

    invoke-static {v7, v8, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v7

    aput-object v7, v0, v4

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    sget-object v8, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v2, [F

    aput v1, v9, v5

    .line 17972
    iget-boolean v5, p0, Lorg/telegram/ui/PhotoViewer;->fancyShadows:Z

    if-eqz v5, :cond_7

    const/4 v5, 0x0

    goto :goto_2

    :cond_7
    const/high16 v5, 0x3f800000    # 1.0f

    :goto_2
    aput v5, v9, v4

    invoke-static {v7, v8, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    aput-object v4, v0, v2

    .line 17969
    invoke-virtual {v6, v0}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    .line 17975
    :goto_3
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$74;

    invoke-direct {v2, p0, p1}, Lorg/telegram/ui/PhotoViewer$74;-><init>(Lorg/telegram/ui/PhotoViewer;Z)V

    invoke-virtual {v0, v2}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 18021
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    const-wide/16 v4, 0xc8

    invoke-virtual {v0, v4, v5}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 18022
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    sget-object v2, Lorg/telegram/messenger/AndroidUtilities;->accelerateInterpolator:Landroid/view/animation/AccelerateInterpolator;

    invoke-virtual {v0, v2}, Landroid/animation/AnimatorSet;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    .line 18023
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {v0}, Landroid/animation/AnimatorSet;->start()V

    .line 18025
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v0}, Landroid/widget/ImageView;->getVisibility()I

    move-result v0

    if-nez v0, :cond_b

    .line 18026
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v0}, Landroid/widget/ImageView;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    const/high16 v2, 0x3e800000    # 0.25f

    if-eqz p1, :cond_8

    const/high16 v6, 0x3e800000    # 0.25f

    goto :goto_4

    :cond_8
    const/high16 v6, 0x3f800000    # 1.0f

    :goto_4
    invoke-virtual {v0, v6}, Landroid/view/ViewPropertyAnimator;->scaleX(F)Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    if-eqz p1, :cond_9

    goto :goto_5

    :cond_9
    const/high16 v2, 0x3f800000    # 1.0f

    .line 18027
    :goto_5
    invoke-virtual {v0, v2}, Landroid/view/ViewPropertyAnimator;->scaleY(F)Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    if-eqz p1, :cond_a

    const/4 v1, 0x0

    .line 18028
    :cond_a
    invoke-virtual {v0, v1}, Landroid/view/ViewPropertyAnimator;->alpha(F)Landroid/view/ViewPropertyAnimator;

    move-result-object p1

    .line 18029
    invoke-virtual {p1, v4, v5}, Landroid/view/ViewPropertyAnimator;->setDuration(J)Landroid/view/ViewPropertyAnimator;

    :cond_b
    return-void
.end method

.method private showScheduleDatePickerDialog()V
    .locals 9

    .line 6706
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-nez v0, :cond_0

    return-void

    .line 6709
    :cond_0
    new-instance v0, Lorg/telegram/ui/Components/AlertsCreator$ScheduleDatePickerColors;

    const/4 v2, -0x1

    const v3, -0xdadadb

    const/4 v4, -0x1

    const v5, 0x1effffff

    const/4 v6, -0x1

    const v7, -0x6ddddde

    const v8, 0x24ffffff

    move-object v1, v0

    invoke-direct/range {v1 .. v8}, Lorg/telegram/ui/Components/AlertsCreator$ScheduleDatePickerColors;-><init>(IIIIIII)V

    .line 6710
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v2}, Lorg/telegram/ui/ChatActivity;->getDialogId()J

    move-result-wide v2

    new-instance v4, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda94;

    invoke-direct {v4, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda94;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-static {v1, v2, v3, v4, v0}, Lorg/telegram/ui/Components/AlertsCreator;->createScheduleDatePickerDialog(Landroid/content/Context;JLorg/telegram/ui/Components/AlertsCreator$ScheduleDatePickerDelegate;Lorg/telegram/ui/Components/AlertsCreator$ScheduleDatePickerColors;)Lorg/telegram/ui/ActionBar/BottomSheet$Builder;

    return-void
.end method

.method private showShareAlert(Ljava/util/ArrayList;)V
    .locals 20
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/MessageObject;",
            ">;)V"
        }
    .end annotation

    move-object/from16 v15, p0

    .line 6869
    iget-object v14, v15, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    .line 6870
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->requestAdjustToNothing()V

    .line 6872
    iget-object v0, v15, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    const/4 v13, 0x0

    if-eqz v0, :cond_1

    invoke-virtual {v0}, Lorg/telegram/ui/ChatActivity;->getChatActivityEnterView()Lorg/telegram/ui/Components/ChatActivityEnterView;

    move-result-object v0

    if-eqz v0, :cond_1

    iget-object v0, v15, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v0

    if-eqz v0, :cond_1

    .line 6873
    iget-object v0, v15, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v0}, Lorg/telegram/ui/ChatActivity;->getChatActivityEnterView()Lorg/telegram/ui/Components/ChatActivityEnterView;

    move-result-object v0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/ChatActivityEnterView;->isKeyboardVisible()Z

    move-result v0

    if-eqz v0, :cond_0

    .line 6875
    iget-object v0, v15, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v0}, Lorg/telegram/ui/ChatActivity;->getChatActivityEnterView()Lorg/telegram/ui/Components/ChatActivityEnterView;

    move-result-object v0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/ChatActivityEnterView;->showEmojiView()V

    const/4 v0, 0x1

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    .line 6878
    :goto_0
    iget-object v1, v15, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v1}, Lorg/telegram/ui/ActionBar/BaseFragment;->getParentActivity()Landroid/app/Activity;

    move-result-object v1

    iget v2, v15, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    invoke-static {v1, v2}, Lorg/telegram/messenger/AndroidUtilities;->setAdjustResizeToNothing(Landroid/app/Activity;I)V

    .line 6879
    iget-object v1, v15, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v1}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v1

    invoke-virtual {v1}, Landroid/view/View;->requestLayout()V

    move/from16 v16, v0

    goto :goto_1

    :cond_1
    const/16 v16, 0x0

    .line 6882
    :goto_1
    new-instance v12, Lorg/telegram/ui/PhotoViewer$33;

    iget-object v2, v15, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    iget-object v3, v15, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x0

    const/4 v10, 0x0

    const/4 v11, 0x1

    const/16 v17, 0x0

    const/16 v18, 0x0

    move-object v0, v12

    move-object/from16 v1, p0

    move-object/from16 v4, p1

    move-object/from16 v19, v12

    move/from16 v12, v17

    move-object/from16 v13, v18

    move/from16 v15, v16

    invoke-direct/range {v0 .. v15}, Lorg/telegram/ui/PhotoViewer$33;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;Lorg/telegram/ui/ChatActivity;Ljava/util/ArrayList;Ljava/lang/String;Ljava/lang/String;ZLjava/lang/String;Ljava/lang/String;ZZZLorg/telegram/ui/ActionBar/Theme$ResourcesProvider;Landroid/widget/FrameLayout;Z)V

    move-object/from16 v0, v19

    const/4 v1, 0x0

    .line 6903
    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/BottomSheet;->setFocusable(Z)V

    .line 6904
    invoke-virtual {v0}, Landroid/app/Dialog;->getWindow()Landroid/view/Window;

    move-result-object v1

    const/16 v2, 0x30

    invoke-virtual {v1, v2}, Landroid/view/Window;->setSoftInputMode(I)V

    .line 6905
    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda75;

    move-object/from16 v2, p0

    invoke-direct {v1, v2, v0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda75;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/Components/ShareAlert;)V

    const-wide/16 v3, 0xfa

    invoke-static {v1, v3, v4}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;J)V

    .line 6913
    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BottomSheet;->show()V

    return-void
.end method

.method private showVideoSeekPreviewPosition(Z)V
    .locals 6

    if-eqz p1, :cond_0

    .line 7773
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    invoke-virtual {v0}, Landroid/view/View;->getTag()Ljava/lang/Object;

    move-result-object v0

    if-nez v0, :cond_1

    :cond_0
    if-nez p1, :cond_2

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    invoke-virtual {v0}, Landroid/view/View;->getTag()Ljava/lang/Object;

    move-result-object v0

    if-nez v0, :cond_2

    :cond_1
    return-void

    :cond_2
    const/4 v0, 0x1

    if-eqz p1, :cond_4

    .line 7776
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/VideoSeekPreviewImage;->isReady()Z

    move-result v1

    if-nez v1, :cond_4

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v1, :cond_3

    invoke-virtual {v1}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isYouTube()Z

    move-result v1

    if-eqz v1, :cond_3

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/PhotoViewerWebView;->hasYoutubeStoryboards()Z

    move-result v1

    if-nez v1, :cond_4

    .line 7777
    :cond_3
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->needShowOnReady:Z

    return-void

    .line 7780
    :cond_4
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrameAnimation:Landroid/animation/AnimatorSet;

    if-eqz v1, :cond_5

    .line 7781
    invoke-virtual {v1}, Landroid/animation/AnimatorSet;->cancel()V

    .line 7783
    :cond_5
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    if-eqz p1, :cond_6

    invoke-static {v0}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    goto :goto_0

    :cond_6
    const/4 v2, 0x0

    :goto_0
    invoke-virtual {v1, v2}, Landroid/view/View;->setTag(Ljava/lang/Object;)V

    .line 7784
    new-instance v1, Landroid/animation/AnimatorSet;

    invoke-direct {v1}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrameAnimation:Landroid/animation/AnimatorSet;

    new-array v2, v0, [Landroid/animation/Animator;

    .line 7785
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v0, v0, [F

    if-eqz p1, :cond_7

    const/high16 p1, 0x3f800000    # 1.0f

    goto :goto_1

    :cond_7
    const/4 p1, 0x0

    :goto_1
    const/4 v5, 0x0

    aput p1, v0, v5

    invoke-static {v3, v4, v0}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object p1

    aput-object p1, v2, v5

    invoke-virtual {v1, v2}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    .line 7786
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrameAnimation:Landroid/animation/AnimatorSet;

    new-instance v0, Lorg/telegram/ui/PhotoViewer$41;

    invoke-direct {v0, p0}, Lorg/telegram/ui/PhotoViewer$41;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {p1, v0}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 7792
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrameAnimation:Landroid/animation/AnimatorSet;

    const-wide/16 v0, 0xb4

    invoke-virtual {p1, v0, v1}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 7793
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrameAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {p1}, Landroid/animation/AnimatorSet;->start()V

    return-void
.end method

.method private showVideoTimeline(ZZ)V
    .locals 9

    const/4 v0, 0x0

    const/4 v1, 0x0

    const/4 v2, 0x1

    const/4 v3, 0x0

    if-nez p2, :cond_1

    .line 12668
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    invoke-virtual {p2}, Landroid/widget/FrameLayout;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object p2

    invoke-virtual {p2, v1}, Landroid/view/ViewPropertyAnimator;->setListener(Landroid/animation/Animator$AnimatorListener;)Landroid/view/ViewPropertyAnimator;

    move-result-object p2

    invoke-virtual {p2}, Landroid/view/ViewPropertyAnimator;->cancel()V

    .line 12669
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    if-eqz p1, :cond_0

    goto :goto_0

    :cond_0
    const/16 v3, 0x8

    :goto_0
    invoke-virtual {p2, v3}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12670
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {p2, v0}, Landroid/view/View;->setTranslationY(F)V

    .line 12671
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getAlpha()F

    move-result v0

    invoke-virtual {p2, v0}, Landroid/widget/FrameLayout;->setAlpha(F)V

    goto/16 :goto_1

    :cond_1
    const-wide/16 v4, 0xdc

    const/4 p2, 0x2

    const/high16 v6, 0x42680000    # 58.0f

    if-eqz p1, :cond_4

    .line 12673
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v7}, Landroid/widget/FrameLayout;->getTag()Ljava/lang/Object;

    move-result-object v7

    if-nez v7, :cond_4

    .line 12674
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v7}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v7

    if-eqz v7, :cond_2

    .line 12675
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v7, v3}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12676
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v8}, Landroid/widget/FrameLayout;->getAlpha()F

    move-result v8

    invoke-virtual {v7, v8}, Landroid/widget/FrameLayout;->setAlpha(F)V

    .line 12677
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v6

    int-to-float v6, v6

    invoke-virtual {v7, v6}, Landroid/view/View;->setTranslationY(F)V

    .line 12679
    :cond_2
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineAnimator:Landroid/animation/ObjectAnimator;

    if-eqz v6, :cond_3

    .line 12680
    invoke-virtual {v6}, Landroid/animation/ObjectAnimator;->removeAllListeners()V

    .line 12681
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineAnimator:Landroid/animation/ObjectAnimator;

    invoke-virtual {v6}, Landroid/animation/ObjectAnimator;->cancel()V

    .line 12683
    :cond_3
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    sget-object v7, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array p2, p2, [F

    invoke-virtual {v6}, Landroid/view/View;->getTranslationY()F

    move-result v8

    aput v8, p2, v3

    aput v0, p2, v2

    invoke-static {v6, v7, p2}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object p2

    iput-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineAnimator:Landroid/animation/ObjectAnimator;

    .line 12684
    invoke-virtual {p2, v4, v5}, Landroid/animation/ObjectAnimator;->setDuration(J)Landroid/animation/ObjectAnimator;

    .line 12685
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineAnimator:Landroid/animation/ObjectAnimator;

    sget-object v0, Lorg/telegram/ui/Components/CubicBezierInterpolator;->DEFAULT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-virtual {p2, v0}, Landroid/animation/ObjectAnimator;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    .line 12686
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineAnimator:Landroid/animation/ObjectAnimator;

    invoke-virtual {p2}, Landroid/animation/ObjectAnimator;->start()V

    goto :goto_1

    :cond_4
    if-nez p1, :cond_6

    .line 12688
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getTag()Ljava/lang/Object;

    move-result-object v0

    if-eqz v0, :cond_6

    .line 12689
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineAnimator:Landroid/animation/ObjectAnimator;

    if-eqz v0, :cond_5

    .line 12690
    invoke-virtual {v0}, Landroid/animation/ObjectAnimator;->removeAllListeners()V

    .line 12691
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineAnimator:Landroid/animation/ObjectAnimator;

    invoke-virtual {v0}, Landroid/animation/ObjectAnimator;->cancel()V

    .line 12694
    :cond_5
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    sget-object v7, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array p2, p2, [F

    invoke-virtual {v0}, Landroid/view/View;->getTranslationY()F

    move-result v8

    aput v8, p2, v3

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v3

    int-to-float v3, v3

    aput v3, p2, v2

    invoke-static {v0, v7, p2}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object p2

    iput-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineAnimator:Landroid/animation/ObjectAnimator;

    .line 12695
    new-instance v0, Lorg/telegram/ui/Components/HideViewAfterAnimation;

    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    invoke-direct {v0, v3}, Lorg/telegram/ui/Components/HideViewAfterAnimation;-><init>(Landroid/view/View;)V

    invoke-virtual {p2, v0}, Landroid/animation/ObjectAnimator;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 12696
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineAnimator:Landroid/animation/ObjectAnimator;

    invoke-virtual {p2, v4, v5}, Landroid/animation/ObjectAnimator;->setDuration(J)Landroid/animation/ObjectAnimator;

    .line 12697
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineAnimator:Landroid/animation/ObjectAnimator;

    sget-object v0, Lorg/telegram/ui/Components/CubicBezierInterpolator;->DEFAULT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-virtual {p2, v0}, Landroid/animation/ObjectAnimator;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    .line 12698
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineAnimator:Landroid/animation/ObjectAnimator;

    invoke-virtual {p2}, Landroid/animation/ObjectAnimator;->start()V

    .line 12701
    :cond_6
    :goto_1
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    if-eqz p1, :cond_7

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v1

    :cond_7
    invoke-virtual {p2, v1}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    return-void
.end method

.method private startVideoPlayer()V
    .locals 2

    .line 9791
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v0, :cond_2

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_2

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->isPlaying()Z

    move-result v0

    if-nez v0, :cond_2

    .line 9792
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-eqz v0, :cond_0

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v1, 0x1

    if-ne v0, v1, :cond_1

    .line 9793
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/VideoPlayer;->setVolume(F)V

    :cond_1
    const/4 v0, 0x0

    .line 9795
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->manuallyPaused:Z

    .line 9796
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->toggleVideoPlayer()V

    :cond_2
    return-void
.end method

.method private supportsSendingNewEntities()Z
    .locals 2

    .line 8081
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v0, :cond_1

    iget-object v0, v0, Lorg/telegram/ui/ChatActivity;->currentEncryptedChat:Lorg/telegram/tgnet/TLRPC$EncryptedChat;

    if-eqz v0, :cond_0

    iget v0, v0, Lorg/telegram/tgnet/TLRPC$EncryptedChat;->layer:I

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->getPeerLayerVersion(I)I

    move-result v0

    const/16 v1, 0x65

    if-lt v0, v1, :cond_1

    :cond_0
    const/4 v0, 0x1

    goto :goto_0

    :cond_1
    const/4 v0, 0x0

    :goto_0
    return v0
.end method

.method private switchToNextIndex(IZ)V
    .locals 3

    .line 16082
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    const/4 v1, 0x0

    if-eqz v0, :cond_0

    .line 16083
    invoke-direct {p0, v1}, Lorg/telegram/ui/PhotoViewer;->releasePlayer(Z)V

    .line 16084
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v0

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v2

    invoke-virtual {v0, v2}, Lorg/telegram/messenger/FileLoader;->cancelLoadFile(Lorg/telegram/tgnet/TLRPC$Document;)V

    goto :goto_0

    .line 16085
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentPageBlock:Lorg/telegram/tgnet/TLRPC$PageBlock;

    if-eqz v0, :cond_1

    .line 16086
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v2}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getMedia(I)Lorg/telegram/tgnet/TLObject;

    move-result-object v0

    .line 16087
    instance-of v2, v0, Lorg/telegram/tgnet/TLRPC$Document;

    if-eqz v2, :cond_1

    .line 16088
    invoke-direct {p0, v1}, Lorg/telegram/ui/PhotoViewer;->releasePlayer(Z)V

    .line 16089
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    check-cast v0, Lorg/telegram/tgnet/TLRPC$Document;

    invoke-virtual {v2, v0}, Lorg/telegram/messenger/FileLoader;->cancelLoadFile(Lorg/telegram/tgnet/TLRPC$Document;)V

    .line 16092
    :cond_1
    :goto_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    const/4 v2, 0x1

    if-eqz v0, :cond_2

    .line 16093
    invoke-virtual {v0, v2}, Lorg/telegram/ui/Components/GroupedPhotosListView;->setAnimateBackground(Z)V

    .line 16095
    :cond_2
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->playerAutoStarted:Z

    .line 16096
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    add-int/2addr v0, p1

    invoke-direct {p0, v0, p2, v2}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(IZZ)V

    .line 16097
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->shouldMessageObjectAutoPlayed(Lorg/telegram/messenger/MessageObject;)Z

    move-result p1

    if-nez p1, :cond_3

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->shouldIndexAutoPlayed(I)Z

    move-result p1

    if-eqz p1, :cond_4

    .line 16098
    :cond_3
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->playerAutoStarted:Z

    .line 16099
    invoke-direct {p0, v2}, Lorg/telegram/ui/PhotoViewer;->onActionClick(Z)V

    .line 16100
    invoke-direct {p0, v1, v1, v2}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    .line 16102
    :cond_4
    invoke-virtual {p0}, Lorg/telegram/ui/PhotoViewer;->checkFullscreenButton()V

    return-void
.end method

.method private switchToPaintMode()V
    .locals 15

    const/4 v0, 0x0

    .line 10644
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    .line 10645
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    const/16 v1, 0x8

    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 10646
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 10647
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setVisibility(I)V

    .line 10648
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 10649
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    const/4 v2, 0x4

    if-eqz v0, :cond_0

    .line 10650
    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 10652
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/RecyclerListView;->setVisibility(I)V

    .line 10653
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    const/4 v3, 0x0

    invoke-virtual {v0, v3}, Landroid/view/ViewGroup;->setAlpha(F)V

    .line 10654
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    const/high16 v4, 0x41200000    # 10.0f

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v4

    neg-int v4, v4

    int-to-float v4, v4

    invoke-virtual {v0, v4}, Lorg/telegram/ui/Components/RecyclerListView;->setTranslationY(F)V

    .line 10655
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    invoke-virtual {v0, v3}, Lorg/telegram/ui/PhotoViewer$CounterView;->setRotationX(F)V

    .line 10656
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    const/4 v4, 0x0

    invoke-virtual {v0, v4}, Landroid/view/ViewGroup;->setEnabled(Z)V

    .line 10657
    iput-boolean v4, p0, Lorg/telegram/ui/PhotoViewer;->isPhotosListViewVisible:Z

    .line 10658
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    if-eqz v0, :cond_1

    .line 10659
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v0, v2}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setVisibility(I)V

    .line 10661
    :cond_1
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v5, 0x2

    const/4 v6, 0x1

    if-eqz v0, :cond_3

    if-eq v0, v2, :cond_3

    if-eq v0, v5, :cond_2

    const/4 v7, 0x5

    if-ne v0, v7, :cond_4

    :cond_2
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    if-le v0, v6, :cond_4

    .line 10662
    :cond_3
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/CheckBox;->setVisibility(I)V

    .line 10663
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    invoke-virtual {v0, v1}, Landroid/view/View;->setVisibility(I)V

    .line 10664
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateActionBarTitlePadding()V

    .line 10666
    :cond_4
    invoke-direct {p0, v4, v6}, Lorg/telegram/ui/PhotoViewer;->showEditCaption(ZZ)V

    .line 10668
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    const/high16 v1, 0x41400000    # 12.0f

    const/4 v7, 0x3

    if-eqz v0, :cond_d

    .line 10671
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v0

    .line 10672
    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v8}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v8

    .line 10676
    iget v9, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/16 v10, 0x10e

    const/16 v11, 0x5a

    const/high16 v12, 0x40000000    # 2.0f

    if-ne v9, v6, :cond_7

    .line 10677
    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v9

    int-to-float v9, v9

    iput v9, p0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 10678
    iget-object v13, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v13, :cond_5

    .line 10679
    invoke-virtual {v13}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getAdditionalTop()I

    move-result v13

    int-to-float v13, v13

    div-float/2addr v13, v12

    add-float/2addr v9, v13

    iput v9, p0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 10681
    :cond_5
    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v9}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v9

    if-eq v9, v11, :cond_6

    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v9}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v9

    if-ne v9, v10, :cond_c

    :cond_6
    move v14, v8

    move v8, v0

    move v0, v14

    goto :goto_1

    :cond_7
    const/high16 v9, 0x42300000    # 44.0f

    .line 10687
    invoke-static {v9}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v9

    neg-int v9, v9

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v13

    if-eqz v13, :cond_8

    sget v13, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    div-int/2addr v13, v5

    goto :goto_0

    :cond_8
    const/4 v13, 0x0

    :goto_0
    add-int/2addr v9, v13

    int-to-float v9, v9

    iput v9, p0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 10688
    iget-object v13, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v13, :cond_9

    .line 10689
    invoke-virtual {v13}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getAdditionalTop()I

    move-result v13

    int-to-float v13, v13

    div-float/2addr v13, v12

    add-float/2addr v9, v13

    iput v9, p0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 10690
    iget-object v13, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v13}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getAdditionalBottom()I

    move-result v13

    int-to-float v13, v13

    div-float/2addr v13, v12

    sub-float/2addr v9, v13

    iput v9, p0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 10692
    :cond_9
    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v9, v9, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v9, :cond_c

    .line 10693
    iget v12, v9, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    if-eq v12, v11, :cond_a

    if-ne v12, v10, :cond_b

    :cond_a
    move v14, v8

    move v8, v0

    move v0, v14

    :cond_b
    int-to-float v0, v0

    .line 10698
    iget v10, v9, Lorg/telegram/messenger/MediaController$CropState;->cropPw:F

    mul-float v0, v0, v10

    float-to-int v0, v0

    int-to-float v8, v8

    .line 10699
    iget v9, v9, Lorg/telegram/messenger/MediaController$CropState;->cropPh:F

    mul-float v8, v8, v9

    float-to-int v8, v8

    .line 10702
    :cond_c
    :goto_1
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v9

    int-to-float v9, v9

    int-to-float v0, v0

    div-float/2addr v9, v0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v10

    int-to-float v10, v10

    int-to-float v8, v8

    div-float/2addr v10, v8

    invoke-static {v9, v10}, Ljava/lang/Math;->min(FF)F

    move-result v9

    .line 10703
    invoke-direct {p0, v7}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth(I)I

    move-result v10

    int-to-float v10, v10

    div-float/2addr v10, v0

    invoke-direct {p0, v7}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(I)I

    move-result v0

    int-to-float v0, v0

    div-float/2addr v0, v8

    invoke-static {v10, v0}, Ljava/lang/Math;->min(FF)F

    move-result v0

    div-float/2addr v0, v9

    .line 10704
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    .line 10705
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v0

    div-int/2addr v0, v5

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getRightInset()I

    move-result v8

    div-int/2addr v8, v5

    sub-int/2addr v0, v8

    int-to-float v0, v0

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    .line 10706
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v8

    iput-wide v8, p0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    .line 10707
    iput-boolean v6, p0, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    .line 10710
    :cond_d
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v0, v6}, Landroid/widget/FrameLayout;->setClipChildren(Z)V

    .line 10711
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    invoke-virtual {v0, v2}, Landroid/view/View;->setVisibility(I)V

    .line 10712
    new-instance v0, Landroid/animation/AnimatorSet;

    invoke-direct {v0}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    new-array v0, v5, [F

    const/high16 v2, 0x42fc0000    # 126.0f

    .line 10713
    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v2

    int-to-float v2, v2

    aput v2, v0, v4

    aput v3, v0, v6

    invoke-static {v0}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v0

    new-array v2, v5, [F

    .line 10714
    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v1

    neg-int v1, v1

    int-to-float v1, v1

    aput v1, v2, v4

    aput v3, v2, v6

    invoke-static {v2}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v1

    .line 10715
    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda7;

    invoke-direct {v2, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda7;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v2}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 10716
    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda11;

    invoke-direct {v2, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda11;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v1, v2}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 10717
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    new-array v3, v7, [Landroid/animation/Animator;

    sget-object v7, Lorg/telegram/ui/Components/AnimationProperties;->PHOTO_VIEWER_ANIMATION_VALUE:Landroid/util/Property;

    new-array v8, v5, [F

    fill-array-data v8, :array_0

    .line 10718
    invoke-static {p0, v7, v8}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v7

    aput-object v7, v3, v4

    aput-object v0, v3, v6

    aput-object v1, v3, v5

    .line 10717
    invoke-virtual {v2, v3}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    .line 10722
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v0, v6}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->onAnimationStateChanged(Z)V

    .line 10723
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    const-wide/16 v1, 0xc8

    invoke-virtual {v0, v1, v2}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 10724
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$57;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$57;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 10751
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {v0}, Landroid/animation/AnimatorSet;->start()V

    return-void

    nop

    :array_0
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data
.end method

.method private switchToPip(Z)V
    .locals 35

    move-object/from16 v12, p0

    .line 7283
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_11

    iget-boolean v0, v12, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    if-eqz v0, :cond_11

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->checkInlinePermissions()Z

    move-result v0

    if-eqz v0, :cond_11

    iget-boolean v0, v12, Lorg/telegram/ui/PhotoViewer;->changingTextureView:Z

    if-nez v0, :cond_11

    iget-boolean v0, v12, Lorg/telegram/ui/PhotoViewer;->switchingInlineMode:Z

    if-nez v0, :cond_11

    iget-boolean v0, v12, Lorg/telegram/ui/PhotoViewer;->isInline:Z

    if-eqz v0, :cond_0

    goto/16 :goto_7

    .line 7286
    :cond_0
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    if-eqz v0, :cond_1

    .line 7287
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    invoke-virtual {v0}, Lorg/telegram/ui/PhotoViewer;->destroyPhotoViewer()V

    :cond_1
    const/4 v13, 0x0

    .line 7289
    iput-boolean v13, v12, Lorg/telegram/ui/PhotoViewer;->openedFullScreenVideo:Z

    .line 7290
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    sput-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    const/4 v1, 0x0

    .line 7291
    sput-object v1, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    const/4 v14, 0x1

    .line 7292
    iput-boolean v14, v12, Lorg/telegram/ui/PhotoViewer;->switchingInlineMode:Z

    .line 7293
    iput-boolean v13, v12, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    .line 7294
    iput-boolean v13, v12, Lorg/telegram/ui/PhotoViewer;->isVisibleOrAnimating:Z

    .line 7295
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->hideActionBarRunnable:Ljava/lang/Runnable;

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    .line 7296
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    const-wide/16 v10, 0xfa

    const/4 v2, 0x0

    const/4 v15, 0x2

    if-eqz v0, :cond_5

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getVisible()Z

    move-result v0

    if-nez v0, :cond_5

    .line 7297
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v14, v14}, Lorg/telegram/messenger/ImageReceiver;->setVisible(ZZ)V

    .line 7298
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getAnimation()Lorg/telegram/ui/Components/AnimatedFileDrawable;

    move-result-object v3

    if-eqz v3, :cond_5

    .line 7300
    invoke-virtual {v3}, Lorg/telegram/ui/Components/AnimatedFileDrawable;->getAnimatedBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    if-eqz v0, :cond_3

    .line 7303
    :try_start_0
    iget-boolean v4, v12, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v4, :cond_2

    .line 7304
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    invoke-static {v4, v0}, Lorg/telegram/messenger/AndroidUtilities;->getBitmapFromSurface(Landroid/view/SurfaceView;Landroid/graphics/Bitmap;)V

    goto :goto_0

    .line 7306
    :cond_2
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v5

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v6

    invoke-virtual {v4, v5, v6}, Landroid/view/TextureView;->getBitmap(II)Landroid/graphics/Bitmap;

    move-result-object v4

    .line 7307
    new-instance v5, Landroid/graphics/Canvas;

    invoke-direct {v5, v0}, Landroid/graphics/Canvas;-><init>(Landroid/graphics/Bitmap;)V

    .line 7308
    invoke-virtual {v5, v4, v2, v2, v1}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;FFLandroid/graphics/Paint;)V

    .line 7309
    invoke-virtual {v4}, Landroid/graphics/Bitmap;->recycle()V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_0

    :catchall_0
    move-exception v0

    .line 7312
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    .line 7315
    :cond_3
    :goto_0
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getCurrentPosition()J

    move-result-wide v4

    invoke-virtual {v3, v4, v5, v14}, Lorg/telegram/ui/Components/AnimatedFileDrawable;->seekTo(JZ)V

    if-eqz p1, :cond_4

    .line 7317
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v2}, Lorg/telegram/messenger/ImageReceiver;->setAlpha(F)V

    .line 7318
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    new-array v3, v15, [F

    .line 7319
    fill-array-data v3, :array_0

    invoke-static {v3}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v3

    .line 7320
    new-instance v4, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda0;

    invoke-direct {v4, v0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda0;-><init>(Lorg/telegram/messenger/ImageReceiver;)V

    invoke-virtual {v3, v4}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 7321
    new-instance v4, Lorg/telegram/ui/PhotoViewer$35;

    invoke-direct {v4, v12, v0}, Lorg/telegram/ui/PhotoViewer$35;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/messenger/ImageReceiver;)V

    invoke-virtual {v3, v4}, Landroid/animation/ValueAnimator;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 7327
    invoke-virtual {v3, v10, v11}, Landroid/animation/ValueAnimator;->setDuration(J)Landroid/animation/ValueAnimator;

    .line 7328
    invoke-virtual {v3}, Landroid/animation/ValueAnimator;->start()V

    .line 7330
    :cond_4
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v14}, Lorg/telegram/messenger/ImageReceiver;->setAllowStartAnimation(Z)V

    .line 7331
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->startAnimation()V

    .line 7334
    :cond_5
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v3, 0x15

    if-lt v0, v3, :cond_f

    .line 7335
    iput-boolean v14, v12, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    .line 7336
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v0}, Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;->getAspectRatio()F

    move-result v0

    invoke-static {v14, v0}, Lorg/telegram/ui/Components/PipVideoOverlay;->getPipRect(ZF)Lorg/telegram/ui/Components/Rect;

    move-result-object v0

    .line 7337
    iget-boolean v3, v12, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v3, :cond_6

    iget-object v3, v12, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    goto :goto_1

    :cond_6
    iget-object v3, v12, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    :goto_1
    move-object v9, v3

    .line 7338
    iget v3, v0, Lorg/telegram/ui/Components/Rect;->width:F

    invoke-virtual {v9}, Landroid/view/View;->getWidth()I

    move-result v4

    int-to-float v4, v4

    div-float v8, v3, v4

    new-array v3, v15, [F

    .line 7340
    fill-array-data v3, :array_1

    invoke-static {v3}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v7

    .line 7342
    iget-boolean v3, v12, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v3, :cond_7

    .line 7343
    iget-object v3, v12, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getLeft()I

    move-result v3

    int-to-float v3, v3

    invoke-virtual {v9}, Landroid/view/View;->getTranslationX()F

    move-result v4

    add-float/2addr v3, v4

    .line 7344
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getTop()I

    move-result v4

    int-to-float v4, v4

    invoke-virtual {v9}, Landroid/view/View;->getTranslationY()F

    move-result v5

    add-float/2addr v4, v5

    iget v5, v12, Lorg/telegram/ui/PhotoViewer;->translationY:F

    add-float/2addr v4, v5

    .line 7345
    iget-object v5, v12, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v5}, Landroid/widget/FrameLayout;->getTop()I

    move-result v5

    int-to-float v5, v5

    iget-object v6, v12, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v6}, Landroid/widget/ImageView;->getTranslationY()F

    move-result v6

    add-float/2addr v5, v6

    iget v6, v12, Lorg/telegram/ui/PhotoViewer;->translationY:F

    goto :goto_2

    .line 7347
    :cond_7
    invoke-virtual {v9}, Landroid/view/View;->getTranslationX()F

    move-result v3

    .line 7348
    invoke-virtual {v9}, Landroid/view/View;->getTranslationY()F

    move-result v4

    iget v5, v12, Lorg/telegram/ui/PhotoViewer;->translationY:F

    add-float/2addr v4, v5

    .line 7349
    iget-object v5, v12, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v5}, Landroid/widget/ImageView;->getTranslationY()F

    move-result v5

    iget v6, v12, Lorg/telegram/ui/PhotoViewer;->translationY:F

    :goto_2
    add-float/2addr v5, v6

    move v6, v5

    move v5, v4

    move v4, v3

    .line 7351
    iget v3, v0, Lorg/telegram/ui/Components/Rect;->x:F

    .line 7352
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getX()F

    move-result v1

    sub-float v1, v3, v1

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v10

    int-to-float v10, v10

    add-float/2addr v10, v1

    .line 7354
    iget v0, v0, Lorg/telegram/ui/Components/Rect;->y:F

    .line 7355
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getY()F

    move-result v1

    sub-float v11, v0, v1

    .line 7357
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    const/4 v15, 0x4

    if-eqz v1, :cond_9

    .line 7358
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    iget-object v1, v1, Lorg/telegram/ui/Components/VideoPlayer;->player:Lcom/google/android/exoplayer2/ExoPlayer;

    invoke-interface {v1}, Lcom/google/android/exoplayer2/Player;->pause()V

    .line 7359
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v1, v13}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 7360
    iget-boolean v1, v12, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v1, :cond_8

    .line 7361
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    invoke-virtual {v1}, Landroid/view/SurfaceView;->getWidth()I

    move-result v1

    iget-object v13, v12, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    invoke-virtual {v13}, Landroid/view/SurfaceView;->getHeight()I

    move-result v13

    sget-object v14, Landroid/graphics/Bitmap$Config;->ARGB_8888:Landroid/graphics/Bitmap$Config;

    invoke-static {v1, v13, v14}, Lorg/telegram/messenger/Bitmaps;->createBitmap(IILandroid/graphics/Bitmap$Config;)Landroid/graphics/Bitmap;

    move-result-object v1

    .line 7362
    iget-object v13, v12, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    invoke-static {v13, v1}, Lorg/telegram/messenger/AndroidUtilities;->getBitmapFromSurface(Landroid/view/SurfaceView;Landroid/graphics/Bitmap;)V

    .line 7363
    iget-object v13, v12, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v13, v1}, Landroid/widget/ImageView;->setImageBitmap(Landroid/graphics/Bitmap;)V

    .line 7365
    :cond_8
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    invoke-virtual {v1, v15}, Landroid/view/SurfaceView;->setVisibility(I)V

    .line 7367
    :cond_9
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v1, v6}, Landroid/widget/ImageView;->setTranslationY(F)V

    .line 7368
    invoke-virtual {v9, v5}, Landroid/view/View;->setTranslationY(F)V

    .line 7369
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v1, :cond_a

    .line 7370
    invoke-virtual {v1, v5}, Landroid/widget/ImageView;->setTranslationY(F)V

    .line 7373
    :cond_a
    iput v2, v12, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 7374
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->invalidate()V

    if-eqz p1, :cond_c

    cmpg-float v1, v5, v11

    if-gez v1, :cond_b

    .line 7379
    new-instance v1, Lorg/telegram/ui/Components/CubicBezierInterpolator;

    const-wide/high16 v18, 0x3fe0000000000000L    # 0.5

    const-wide/16 v20, 0x0

    const-wide v22, 0x3feccccccccccccdL    # 0.9

    const-wide v24, 0x3feccccccccccccdL    # 0.9

    move-object/from16 v17, v1

    invoke-direct/range {v17 .. v25}, Lorg/telegram/ui/Components/CubicBezierInterpolator;-><init>(DDDD)V

    goto :goto_3

    .line 7381
    :cond_b
    new-instance v1, Lorg/telegram/ui/Components/CubicBezierInterpolator;

    const-wide/16 v27, 0x0

    const-wide/high16 v29, 0x3fe0000000000000L    # 0.5

    const-wide v31, 0x3feccccccccccccdL    # 0.9

    const-wide v33, 0x3feccccccccccccdL    # 0.9

    move-object/from16 v26, v1

    invoke-direct/range {v26 .. v34}, Lorg/telegram/ui/Components/CubicBezierInterpolator;-><init>(DDDD)V

    :goto_3
    move-object/from16 v16, v1

    goto :goto_4

    :cond_c
    const/16 v16, 0x0

    .line 7386
    :goto_4
    new-instance v1, Lorg/telegram/ui/PhotoViewer$36;

    invoke-direct {v1, v12, v7, v8}, Lorg/telegram/ui/PhotoViewer$36;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;F)V

    .line 7392
    invoke-virtual {v9, v1}, Landroid/view/View;->setOutlineProvider(Landroid/view/ViewOutlineProvider;)V

    const/4 v2, 0x1

    .line 7393
    invoke-virtual {v9, v2}, Landroid/view/View;->setClipToOutline(Z)V

    .line 7394
    iget-object v13, v12, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v13, v1}, Landroid/widget/ImageView;->setOutlineProvider(Landroid/view/ViewOutlineProvider;)V

    .line 7395
    iget-object v13, v12, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v13, v2}, Landroid/widget/ImageView;->setClipToOutline(Z)V

    .line 7396
    iget-object v13, v12, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v13, :cond_d

    .line 7397
    invoke-virtual {v13, v1}, Landroid/widget/ImageView;->setOutlineProvider(Landroid/view/ViewOutlineProvider;)V

    .line 7398
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setClipToOutline(Z)V

    .line 7401
    :cond_d
    new-instance v13, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda18;

    move-object v1, v13

    move-object/from16 v2, p0

    move v14, v3

    move-object/from16 v3, v16

    move/from16 v16, v5

    move v5, v14

    move-object v14, v7

    move v7, v0

    move v0, v8

    move-object v8, v9

    move-object v15, v9

    move v9, v10

    move/from16 v10, v16

    invoke-direct/range {v1 .. v11}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda18;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/Components/CubicBezierInterpolator;FFFFLandroid/view/View;FFF)V

    invoke-virtual {v14, v13}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 7423
    new-instance v1, Landroid/animation/AnimatorSet;

    invoke-direct {v1}, Landroid/animation/AnimatorSet;-><init>()V

    const/4 v2, 0x2

    new-array v3, v2, [F

    .line 7424
    fill-array-data v3, :array_2

    invoke-static {v3}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v2

    .line 7425
    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda6;

    invoke-direct {v3, v12}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda6;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v2, v3}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    const/4 v3, 0x7

    new-array v3, v3, [Landroid/animation/Animator;

    const/4 v4, 0x0

    aput-object v2, v3, v4

    .line 7426
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    sget-object v5, Landroid/view/View;->SCALE_X:Landroid/util/Property;

    const/4 v6, 0x1

    new-array v7, v6, [F

    aput v0, v7, v4

    .line 7428
    invoke-static {v2, v5, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    aput-object v2, v3, v6

    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    sget-object v5, Landroid/view/View;->SCALE_Y:Landroid/util/Property;

    new-array v7, v6, [F

    aput v0, v7, v4

    .line 7429
    invoke-static {v2, v5, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    const/4 v5, 0x2

    aput-object v2, v3, v5

    const/4 v2, 0x3

    sget-object v5, Landroid/view/View;->SCALE_X:Landroid/util/Property;

    new-array v7, v6, [F

    aput v0, v7, v4

    .line 7430
    invoke-static {v15, v5, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v5

    aput-object v5, v3, v2

    sget-object v2, Landroid/view/View;->SCALE_Y:Landroid/util/Property;

    new-array v5, v6, [F

    aput v0, v5, v4

    .line 7431
    invoke-static {v15, v2, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v0

    const/4 v2, 0x4

    aput-object v0, v3, v2

    const/4 v0, 0x5

    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    sget-object v5, Lorg/telegram/ui/Components/AnimationProperties;->COLOR_DRAWABLE_ALPHA:Landroid/util/Property;

    new-array v7, v6, [I

    aput v4, v7, v4

    .line 7432
    invoke-static {v2, v5, v7}, Landroid/animation/ObjectAnimator;->ofInt(Ljava/lang/Object;Landroid/util/Property;[I)Landroid/animation/ObjectAnimator;

    move-result-object v2

    aput-object v2, v3, v0

    const/4 v0, 0x6

    aput-object v14, v3, v0

    .line 7426
    invoke-virtual {v1, v3}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    if-eqz p1, :cond_e

    .line 7436
    sget-object v0, Lorg/telegram/ui/Components/CubicBezierInterpolator;->EASE_OUT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-virtual {v1, v0}, Landroid/animation/AnimatorSet;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    const-wide/16 v2, 0x12c

    .line 7437
    invoke-virtual {v1, v2, v3}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    goto :goto_5

    .line 7439
    :cond_e
    new-instance v0, Landroid/view/animation/DecelerateInterpolator;

    invoke-direct {v0}, Landroid/view/animation/DecelerateInterpolator;-><init>()V

    invoke-virtual {v1, v0}, Landroid/animation/AnimatorSet;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    const-wide/16 v2, 0xfa

    .line 7440
    invoke-virtual {v1, v2, v3}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 7442
    :goto_5
    new-instance v0, Lorg/telegram/ui/PhotoViewer$37;

    invoke-direct {v0, v12, v15}, Lorg/telegram/ui/PhotoViewer$37;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V

    invoke-virtual {v1, v0}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 7458
    invoke-virtual {v1}, Landroid/animation/AnimatorSet;->start()V

    if-nez p1, :cond_10

    .line 7460
    new-instance v0, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    invoke-direct {v0}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;-><init>()V

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableStatusBarAnimation(Z)Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    move-result-object v0

    invoke-virtual {v0, v1}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableTranslationAnimation(Z)Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    move-result-object v0

    const/16 v2, 0xfa

    invoke-virtual {v0, v2}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->animationDuration(I)Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    move-result-object v0

    new-instance v2, Landroid/view/animation/DecelerateInterpolator;

    invoke-direct {v2}, Landroid/view/animation/DecelerateInterpolator;-><init>()V

    invoke-virtual {v0, v2}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->animationInterpolator(Landroid/view/animation/Interpolator;)Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    move-result-object v0

    const/4 v2, 0x1

    invoke-direct {v12, v1, v2, v0}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZLorg/telegram/ui/PhotoViewer$ActionBarToggleParams;)V

    goto :goto_6

    .line 7463
    :cond_f
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->switchToInlineRunnable:Ljava/lang/Runnable;

    invoke-interface {v0}, Ljava/lang/Runnable;->run()V

    .line 7464
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->dismissInternal()V

    .line 7466
    :cond_10
    :goto_6
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v0, :cond_11

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v0

    if-eqz v0, :cond_11

    .line 7467
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v0

    invoke-virtual {v0}, Landroid/view/View;->invalidate()V

    :cond_11
    :goto_7
    return-void

    :array_0
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data

    :array_1
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data

    :array_2
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data
.end method

.method private toggleActionBar(ZZ)V
    .locals 1

    .line 10885
    sget-object v0, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->DEFAULT:Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    invoke-direct {p0, p1, p2, v0}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZLorg/telegram/ui/PhotoViewer$ActionBarToggleParams;)V

    return-void
.end method

.method private toggleActionBar(ZZLorg/telegram/ui/PhotoViewer$ActionBarToggleParams;)V
    .locals 10

    .line 10889
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v0, :cond_40

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-eqz v0, :cond_0

    const/4 v1, -0x1

    if-eq v0, v1, :cond_0

    goto/16 :goto_2b

    .line 10893
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarAnimator:Landroid/animation/AnimatorSet;

    if-eqz v0, :cond_1

    .line 10894
    invoke-virtual {v0}, Landroid/animation/AnimatorSet;->cancel()V

    :cond_1
    const/4 v0, 0x0

    if-eqz p1, :cond_3

    .line 10897
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v1, v0}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 10898
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getTag()Ljava/lang/Object;

    move-result-object v1

    if-eqz v1, :cond_2

    .line 10899
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v1, v0}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 10901
    :cond_2
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v1}, Landroid/widget/ViewSwitcher;->getTag()Ljava/lang/Object;

    move-result-object v1

    if-eqz v1, :cond_3

    .line 10902
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v1, v0}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setVisibility(I)V

    .line 10903
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    if-eqz v1, :cond_3

    .line 10904
    invoke-virtual {v1}, Landroid/view/View;->requestLayout()V

    .line 10908
    :cond_3
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    .line 10910
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v1, :cond_4

    .line 10911
    invoke-virtual {v1, p1}, Lorg/telegram/ui/Components/PhotoViewerWebView;->setTouchDisabled(Z)V

    .line 10914
    :cond_4
    iget-boolean v1, p3, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableStatusBarAnimation:Z

    if-eqz v1, :cond_5

    .line 10915
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->updateContainerFlags(Z)V

    .line 10918
    :cond_5
    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlVisible:Z

    if-eqz v1, :cond_6

    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    if-eqz v1, :cond_6

    if-eqz p1, :cond_6

    .line 10919
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->scheduleActionBarHide()V

    goto :goto_0

    .line 10921
    :cond_6
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->hideActionBarRunnable:Ljava/lang/Runnable;

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    :goto_0
    if-nez p1, :cond_7

    .line 10925
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-static {v1}, Lorg/telegram/ui/Components/Bulletin;->hide(Landroid/widget/FrameLayout;)V

    :cond_7
    const/high16 v1, 0x41c00000    # 24.0f

    .line 10928
    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dpf2(F)F

    move-result v1

    .line 10930
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    iget-boolean v3, p3, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableTranslationAnimation:Z

    const/4 v4, 0x1

    if-eqz v3, :cond_8

    iget-boolean v3, p0, Lorg/telegram/ui/PhotoViewer;->playerLooping:Z

    if-eqz v3, :cond_8

    const/4 v3, 0x1

    goto :goto_1

    :cond_8
    const/4 v3, 0x0

    :goto_1
    invoke-virtual {v2, v3}, Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;->setSeekBarTransitionEnabled(Z)V

    .line 10931
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    iget-boolean v3, p3, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableTranslationAnimation:Z

    invoke-virtual {v2, v3}, Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;->setTranslationYAnimationEnabled(Z)V

    const/4 v2, 0x3

    const/high16 v3, 0x3f800000    # 1.0f

    const/4 v5, 0x0

    if-eqz p2, :cond_2a

    .line 10934
    new-instance p2, Ljava/util/ArrayList;

    invoke-direct {p2}, Ljava/util/ArrayList;-><init>()V

    .line 10935
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    sget-object v7, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v8, v4, [F

    if-eqz p1, :cond_9

    const/high16 v9, 0x3f800000    # 1.0f

    goto :goto_2

    :cond_9
    const/4 v9, 0x0

    :goto_2
    aput v9, v8, v0

    invoke-static {v6, v7, v8}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v6

    invoke-virtual {p2, v6}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10936
    iget-boolean v6, p3, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableTranslationAnimation:Z

    if-eqz v6, :cond_b

    .line 10937
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    sget-object v7, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v8, v4, [F

    if-eqz p1, :cond_a

    const/4 v9, 0x0

    goto :goto_3

    :cond_a
    neg-float v9, v1

    :goto_3
    aput v9, v8, v0

    invoke-static {v6, v7, v8}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v6

    invoke-virtual {p2, v6}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_4

    .line 10939
    :cond_b
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v6, v5}, Lorg/telegram/ui/ActionBar/ActionBar;->setTranslationY(F)V

    .line 10941
    :goto_4
    iget-boolean v6, p0, Lorg/telegram/ui/PhotoViewer;->allowShowFullscreenButton:Z

    if-eqz v6, :cond_d

    .line 10942
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v6, v6, v0

    sget-object v7, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v8, v4, [F

    if-eqz p1, :cond_c

    const/high16 v9, 0x3f800000    # 1.0f

    goto :goto_5

    :cond_c
    const/4 v9, 0x0

    :goto_5
    aput v9, v8, v0

    invoke-static {v6, v7, v8}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v6

    invoke-virtual {p2, v6}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    :cond_d
    const/4 v6, 0x1

    :goto_6
    if-ge v6, v2, :cond_f

    .line 10945
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v7, v7, v6

    if-eqz p1, :cond_e

    const/4 v8, 0x0

    goto :goto_7

    :cond_e
    move v8, v1

    :goto_7
    invoke-virtual {v7, v8}, Landroid/widget/ImageView;->setTranslationY(F)V

    add-int/lit8 v6, v6, 0x1

    goto :goto_6

    .line 10947
    :cond_f
    iget-boolean v2, p3, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableTranslationAnimation:Z

    if-eqz v2, :cond_11

    .line 10948
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v0

    sget-object v6, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v7, v4, [F

    if-eqz p1, :cond_10

    const/4 v8, 0x0

    goto :goto_8

    :cond_10
    move v8, v1

    :goto_8
    aput v8, v7, v0

    invoke-static {v2, v6, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {p2, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_9

    .line 10950
    :cond_11
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v0

    invoke-virtual {v2, v5}, Landroid/widget/ImageView;->setTranslationY(F)V

    .line 10952
    :goto_9
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    if-eqz v2, :cond_15

    .line 10953
    sget-object v6, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v7, v4, [F

    if-eqz p1, :cond_12

    const/high16 v8, 0x3f800000    # 1.0f

    goto :goto_a

    :cond_12
    const/4 v8, 0x0

    :goto_a
    aput v8, v7, v0

    invoke-static {v2, v6, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {p2, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10954
    iget-boolean v2, p3, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableTranslationAnimation:Z

    if-eqz v2, :cond_14

    .line 10955
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    sget-object v6, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v7, v4, [F

    if-eqz p1, :cond_13

    const/4 v8, 0x0

    goto :goto_b

    :cond_13
    move v8, v1

    :goto_b
    aput v8, v7, v0

    invoke-static {v2, v6, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {p2, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_c

    .line 10957
    :cond_14
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v2, v5}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 10960
    :cond_15
    :goto_c
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v2, :cond_19

    .line 10961
    sget-object v6, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v7, v4, [F

    if-eqz p1, :cond_16

    const/high16 v8, 0x3f800000    # 1.0f

    goto :goto_d

    :cond_16
    const/4 v8, 0x0

    :goto_d
    aput v8, v7, v0

    invoke-static {v2, v6, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {p2, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10962
    iget-boolean v2, p3, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableTranslationAnimation:Z

    if-eqz v2, :cond_18

    .line 10963
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    sget-object v6, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v7, v4, [F

    if-eqz p1, :cond_17

    const/4 v8, 0x0

    goto :goto_e

    :cond_17
    neg-float v8, v1

    :goto_e
    aput v8, v7, v0

    invoke-static {v2, v6, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {p2, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_f

    .line 10965
    :cond_18
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    invoke-virtual {v2, v5}, Landroid/view/View;->setTranslationY(F)V

    .line 10968
    :cond_19
    :goto_f
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    if-eqz v2, :cond_1b

    .line 10969
    sget-object v6, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v7, v4, [F

    if-eqz p1, :cond_1a

    const/high16 v8, 0x3f800000    # 1.0f

    goto :goto_10

    :cond_1a
    const/4 v8, 0x0

    :goto_10
    aput v8, v7, v0

    invoke-static {v2, v6, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {p2, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10971
    :cond_1b
    iget-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlVisible:Z

    if-eqz v2, :cond_1d

    .line 10972
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    sget-object v6, Lorg/telegram/ui/PhotoViewer;->VPC_PROGRESS:Landroid/util/Property;

    new-array v7, v4, [F

    if-eqz p1, :cond_1c

    const/high16 v8, 0x3f800000    # 1.0f

    goto :goto_11

    :cond_1c
    const/4 v8, 0x0

    :goto_11
    aput v8, v7, v0

    invoke-static {v2, v6, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {p2, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_13

    .line 10974
    :cond_1d
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    if-eqz p1, :cond_1e

    const/high16 v6, 0x3f800000    # 1.0f

    goto :goto_12

    :cond_1e
    const/4 v6, 0x0

    :goto_12
    invoke-virtual {v2, v6}, Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;->setProgress(F)V

    .line 10976
    :goto_13
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    sget-object v6, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v7, v4, [F

    if-eqz p1, :cond_1f

    const/high16 v8, 0x3f800000    # 1.0f

    goto :goto_14

    :cond_1f
    const/4 v8, 0x0

    :goto_14
    aput v8, v7, v0

    invoke-static {v2, v6, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {p2, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10977
    iget-boolean v2, p3, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableTranslationAnimation:Z

    if-eqz v2, :cond_21

    .line 10978
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    sget-object v6, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v7, v4, [F

    if-eqz p1, :cond_20

    const/4 v8, 0x0

    goto :goto_15

    :cond_20
    move v8, v1

    :goto_15
    aput v8, v7, v0

    invoke-static {v2, v6, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {p2, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_16

    .line 10980
    :cond_21
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    invoke-virtual {v2, v5}, Landroid/view/View;->setTranslationY(F)V

    .line 10982
    :goto_16
    iget-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    if-nez v2, :cond_25

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    if-eqz v2, :cond_25

    .line 10983
    sget-object v6, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v7, v4, [F

    if-eqz p1, :cond_22

    const/high16 v8, 0x3f800000    # 1.0f

    goto :goto_17

    :cond_22
    const/4 v8, 0x0

    :goto_17
    aput v8, v7, v0

    invoke-static {v2, v6, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {p2, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10984
    iget-boolean v2, p3, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableTranslationAnimation:Z

    if-eqz v2, :cond_24

    .line 10985
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    sget-object v6, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v7, v4, [F

    if-eqz p1, :cond_23

    const/4 v1, 0x0

    :cond_23
    aput v1, v7, v0

    invoke-static {v2, v6, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v1

    invoke-virtual {p2, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_18

    .line 10987
    :cond_24
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    invoke-virtual {v1, v5}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 10990
    :cond_25
    :goto_18
    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlVisible:Z

    if-eqz v1, :cond_27

    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    if-eqz v1, :cond_27

    const/4 v1, 0x2

    new-array v1, v1, [F

    .line 10991
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v2, v2, v0

    invoke-static {v2}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$22000(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)[F

    move-result-object v2

    aget v2, v2, v4

    aput v2, v1, v0

    if-eqz p1, :cond_26

    const/high16 v2, 0x3f800000    # 1.0f

    goto :goto_19

    :cond_26
    const/4 v2, 0x0

    :goto_19
    aput v2, v1, v4

    invoke-static {v1}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v1

    .line 10992
    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda9;

    invoke-direct {v2, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda9;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v1, v2}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 10993
    invoke-virtual {p2, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10995
    :cond_27
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v1}, Landroid/widget/ImageView;->getTag()Ljava/lang/Object;

    move-result-object v1

    if-eqz v1, :cond_29

    .line 10996
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    sget-object v2, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v4, v4, [F

    if-eqz p1, :cond_28

    goto :goto_1a

    :cond_28
    const/4 v3, 0x0

    :goto_1a
    aput v3, v4, v0

    invoke-static {v1, v2, v4}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v0

    invoke-virtual {p2, v0}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10998
    :cond_29
    new-instance v0, Landroid/animation/AnimatorSet;

    invoke-direct {v0}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarAnimator:Landroid/animation/AnimatorSet;

    .line 10999
    invoke-virtual {v0, p2}, Landroid/animation/AnimatorSet;->playTogether(Ljava/util/Collection;)V

    .line 11000
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->actionBarAnimator:Landroid/animation/AnimatorSet;

    iget v0, p3, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->animationDuration:I

    int-to-long v0, v0

    invoke-virtual {p2, v0, v1}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 11001
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->actionBarAnimator:Landroid/animation/AnimatorSet;

    iget-object p3, p3, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->animationInterpolator:Landroid/view/animation/Interpolator;

    invoke-virtual {p2, p3}, Landroid/animation/AnimatorSet;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    .line 11002
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->actionBarAnimator:Landroid/animation/AnimatorSet;

    new-instance p3, Lorg/telegram/ui/PhotoViewer$59;

    invoke-direct {p3, p0, p1}, Lorg/telegram/ui/PhotoViewer$59;-><init>(Lorg/telegram/ui/PhotoViewer;Z)V

    invoke-virtual {p2, p3}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 11026
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->actionBarAnimator:Landroid/animation/AnimatorSet;

    invoke-virtual {p1}, Landroid/animation/AnimatorSet;->start()V

    goto/16 :goto_2b

    .line 11028
    :cond_2a
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    if-eqz p1, :cond_2b

    const/high16 p3, 0x3f800000    # 1.0f

    goto :goto_1b

    :cond_2b
    const/4 p3, 0x0

    :goto_1b
    invoke-virtual {p2, p3}, Landroid/widget/FrameLayout;->setAlpha(F)V

    .line 11029
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object p2, p2, v0

    invoke-virtual {p2}, Landroid/widget/ImageView;->getTranslationX()F

    move-result p2

    cmpl-float p2, p2, v5

    if-eqz p2, :cond_2d

    .line 11030
    iget-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->allowShowFullscreenButton:Z

    if-eqz p2, :cond_2d

    .line 11031
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object p2, p2, v0

    if-eqz p1, :cond_2c

    const/high16 p3, 0x3f800000    # 1.0f

    goto :goto_1c

    :cond_2c
    const/4 p3, 0x0

    :goto_1c
    invoke-virtual {p2, p3}, Landroid/widget/ImageView;->setAlpha(F)V

    :cond_2d
    const/4 p2, 0x0

    :goto_1d
    if-ge p2, v2, :cond_2f

    .line 11035
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object p3, p3, p2

    if-eqz p1, :cond_2e

    const/4 v6, 0x0

    goto :goto_1e

    :cond_2e
    move v6, v1

    :goto_1e
    invoke-virtual {p3, v6}, Landroid/widget/ImageView;->setTranslationY(F)V

    add-int/lit8 p2, p2, 0x1

    goto :goto_1d

    .line 11037
    :cond_2f
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    if-eqz p1, :cond_30

    const/4 p3, 0x0

    goto :goto_1f

    :cond_30
    neg-float p3, v1

    :goto_1f
    invoke-virtual {p2, p3}, Lorg/telegram/ui/ActionBar/ActionBar;->setTranslationY(F)V

    .line 11038
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz p2, :cond_33

    if-eqz p1, :cond_31

    const/high16 p3, 0x3f800000    # 1.0f

    goto :goto_20

    :cond_31
    const/4 p3, 0x0

    .line 11039
    :goto_20
    invoke-virtual {p2, p3}, Landroid/view/View;->setAlpha(F)V

    .line 11040
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz p1, :cond_32

    const/4 p3, 0x0

    goto :goto_21

    :cond_32
    neg-float p3, v1

    :goto_21
    invoke-virtual {p2, p3}, Landroid/view/View;->setTranslationY(F)V

    .line 11042
    :cond_33
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    if-eqz p1, :cond_34

    const/high16 p3, 0x3f800000    # 1.0f

    goto :goto_22

    :cond_34
    const/4 p3, 0x0

    :goto_22
    invoke-virtual {p2, p3}, Landroid/widget/FrameLayout;->setAlpha(F)V

    .line 11043
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    if-eqz p1, :cond_35

    const/4 p3, 0x0

    goto :goto_23

    :cond_35
    move p3, v1

    :goto_23
    invoke-virtual {p2, p3}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 11044
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    if-eqz p1, :cond_36

    const/high16 p3, 0x3f800000    # 1.0f

    goto :goto_24

    :cond_36
    const/4 p3, 0x0

    :goto_24
    invoke-virtual {p2, p3}, Landroid/view/View;->setAlpha(F)V

    .line 11045
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    if-eqz p1, :cond_37

    iget p3, p0, Lorg/telegram/ui/PhotoViewer;->aboutToSwitchTo:I

    if-eq p3, v2, :cond_37

    const/high16 p3, 0x3f800000    # 1.0f

    goto :goto_25

    :cond_37
    const/4 p3, 0x0

    :goto_25
    invoke-virtual {p2, p3}, Landroid/view/View;->setAlpha(F)V

    .line 11046
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    if-eqz p1, :cond_38

    iget p3, p0, Lorg/telegram/ui/PhotoViewer;->aboutToSwitchTo:I

    if-eq p3, v2, :cond_38

    const/4 p3, 0x0

    goto :goto_26

    :cond_38
    move p3, v1

    :goto_26
    invoke-virtual {p2, p3}, Landroid/view/View;->setTranslationY(F)V

    .line 11047
    iget-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    if-nez p2, :cond_3b

    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    if-eqz p2, :cond_3b

    if-eqz p1, :cond_39

    const/high16 p3, 0x3f800000    # 1.0f

    goto :goto_27

    :cond_39
    const/4 p3, 0x0

    .line 11048
    :goto_27
    invoke-virtual {p2, p3}, Landroid/widget/FrameLayout;->setAlpha(F)V

    .line 11049
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    if-eqz p1, :cond_3a

    const/4 v1, 0x0

    :cond_3a
    invoke-virtual {p2, v1}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 11051
    :cond_3b
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    if-eqz p1, :cond_3c

    const/high16 p3, 0x3f800000    # 1.0f

    goto :goto_28

    :cond_3c
    const/4 p3, 0x0

    :goto_28
    invoke-virtual {p2, p3}, Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;->setProgress(F)V

    .line 11052
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {p2}, Landroid/widget/ImageView;->getTag()Ljava/lang/Object;

    move-result-object p2

    if-eqz p2, :cond_3e

    .line 11053
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    if-eqz p1, :cond_3d

    const/high16 p3, 0x3f800000    # 1.0f

    goto :goto_29

    :cond_3d
    const/4 p3, 0x0

    :goto_29
    invoke-virtual {p2, p3}, Landroid/widget/ImageView;->setAlpha(F)V

    .line 11055
    :cond_3e
    iget-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlVisible:Z

    if-eqz p2, :cond_40

    iget-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    if-eqz p2, :cond_40

    .line 11056
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p2, p2, v0

    if-eqz p1, :cond_3f

    goto :goto_2a

    :cond_3f
    const/4 v3, 0x0

    :goto_2a
    invoke-virtual {p2, v4, v3, v0}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setIndexedAlpha(IFZ)V

    :cond_40
    :goto_2b
    return-void
.end method

.method private toggleCheckImageView(Z)V
    .locals 11

    .line 10755
    new-instance v0, Landroid/animation/AnimatorSet;

    invoke-direct {v0}, Landroid/animation/AnimatorSet;-><init>()V

    .line 10756
    new-instance v1, Ljava/util/ArrayList;

    invoke-direct {v1}, Ljava/util/ArrayList;-><init>()V

    const/high16 v2, 0x41c00000    # 24.0f

    .line 10757
    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->dpf2(F)F

    move-result v2

    .line 10758
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    const/4 v5, 0x1

    new-array v6, v5, [F

    const/high16 v7, 0x3f800000    # 1.0f

    const/4 v8, 0x0

    if-eqz p1, :cond_0

    const/high16 v9, 0x3f800000    # 1.0f

    goto :goto_0

    :cond_0
    const/4 v9, 0x0

    :goto_0
    const/4 v10, 0x0

    aput v9, v6, v10

    invoke-static {v3, v4, v6}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10759
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    sget-object v4, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v6, v5, [F

    if-eqz p1, :cond_1

    const/4 v9, 0x0

    goto :goto_1

    :cond_1
    move v9, v2

    :goto_1
    aput v9, v6, v10

    invoke-static {v3, v4, v6}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10760
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v6, v5, [F

    if-eqz p1, :cond_2

    const/high16 v9, 0x3f800000    # 1.0f

    goto :goto_2

    :cond_2
    const/4 v9, 0x0

    :goto_2
    aput v9, v6, v10

    invoke-static {v3, v4, v6}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10761
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    sget-object v4, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v6, v5, [F

    if-eqz p1, :cond_3

    const/4 v9, 0x0

    goto :goto_3

    :cond_3
    move v9, v2

    :goto_3
    aput v9, v6, v10

    invoke-static {v3, v4, v6}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10762
    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eqz v3, :cond_4

    const/4 v4, 0x4

    if-ne v3, v4, :cond_9

    .line 10763
    :cond_4
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v6, v5, [F

    if-eqz p1, :cond_5

    const/high16 v9, 0x3f800000    # 1.0f

    goto :goto_4

    :cond_5
    const/4 v9, 0x0

    :goto_4
    aput v9, v6, v10

    invoke-static {v3, v4, v6}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10764
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    sget-object v4, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v6, v5, [F

    if-eqz p1, :cond_6

    const/4 v9, 0x0

    goto :goto_5

    :cond_6
    neg-float v9, v2

    :goto_5
    aput v9, v6, v10

    invoke-static {v3, v4, v6}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10765
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v6, v5, [F

    if-eqz p1, :cond_7

    goto :goto_6

    :cond_7
    const/4 v7, 0x0

    :goto_6
    aput v7, v6, v10

    invoke-static {v3, v4, v6}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10766
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    sget-object v4, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v6, v5, [F

    if-eqz p1, :cond_8

    goto :goto_7

    :cond_8
    neg-float v8, v2

    :goto_7
    aput v8, v6, v10

    invoke-static {v3, v4, v6}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10768
    :cond_9
    invoke-virtual {v0, v1}, Landroid/animation/AnimatorSet;->playTogether(Ljava/util/Collection;)V

    const-wide/16 v1, 0xc8

    .line 10769
    invoke-virtual {v0, v1, v2}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 10770
    invoke-virtual {v0}, Landroid/animation/AnimatorSet;->start()V

    if-nez p1, :cond_b

    .line 10771
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result p1

    if-eqz p1, :cond_b

    .line 10772
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object p1, p1, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->editText:Lorg/telegram/ui/Components/EditTextEmoji;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/EditTextEmoji;->isPopupShowing()Z

    move-result p1

    if-eqz p1, :cond_a

    .line 10773
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object p1, p1, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->editText:Lorg/telegram/ui/Components/EditTextEmoji;

    invoke-virtual {p1, v5}, Lorg/telegram/ui/Components/EditTextEmoji;->hidePopup(Z)V

    .line 10775
    :cond_a
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object p1, p1, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->editText:Lorg/telegram/ui/Components/EditTextEmoji;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/EditTextEmoji;->closeKeyboard()V

    :cond_b
    return-void
.end method

.method private toggleMiniProgress(ZZ)V
    .locals 2

    .line 10808
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressShowRunnable:Ljava/lang/Runnable;

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    const/4 v0, 0x0

    const/4 v1, 0x0

    if-eqz p2, :cond_3

    .line 10810
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->toggleMiniProgressInternal(Z)V

    if-eqz p1, :cond_2

    .line 10812
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    if-eqz p1, :cond_0

    .line 10813
    invoke-virtual {p1}, Landroid/animation/AnimatorSet;->cancel()V

    .line 10814
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    .line 10816
    :cond_0
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->firstAnimationDelay:Z

    if-eqz p1, :cond_1

    .line 10817
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->firstAnimationDelay:Z

    const/4 p1, 0x1

    .line 10818
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->toggleMiniProgressInternal(Z)V

    goto :goto_2

    .line 10820
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressShowRunnable:Ljava/lang/Runnable;

    const-wide/16 v0, 0x1f4

    invoke-static {p1, v0, v1}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;J)V

    goto :goto_2

    .line 10823
    :cond_2
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    if-eqz p1, :cond_7

    .line 10824
    invoke-virtual {p1}, Landroid/animation/AnimatorSet;->cancel()V

    .line 10825
    invoke-direct {p0, v1}, Lorg/telegram/ui/PhotoViewer;->toggleMiniProgressInternal(Z)V

    goto :goto_2

    .line 10829
    :cond_3
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    if-eqz p2, :cond_4

    .line 10830
    invoke-virtual {p2}, Landroid/animation/AnimatorSet;->cancel()V

    .line 10831
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    .line 10833
    :cond_4
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    if-eqz p1, :cond_5

    const/high16 v0, 0x3f800000    # 1.0f

    goto :goto_0

    :cond_5
    const/4 v0, 0x0

    :goto_0
    invoke-virtual {p2, v0}, Lorg/telegram/ui/Components/RadialProgressView;->setAlpha(F)V

    .line 10834
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    if-eqz p1, :cond_6

    goto :goto_1

    :cond_6
    const/4 v1, 0x4

    :goto_1
    invoke-virtual {p2, v1}, Landroid/view/View;->setVisibility(I)V

    :cond_7
    :goto_2
    return-void
.end method

.method private toggleMiniProgressInternal(Z)V
    .locals 7

    const/4 v0, 0x0

    if-eqz p1, :cond_0

    .line 10781
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    invoke-virtual {v1, v0}, Landroid/view/View;->setVisibility(I)V

    .line 10783
    :cond_0
    new-instance v1, Landroid/animation/AnimatorSet;

    invoke-direct {v1}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    const/4 v2, 0x1

    new-array v3, v2, [Landroid/animation/Animator;

    .line 10784
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    sget-object v5, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v2, v2, [F

    if-eqz p1, :cond_1

    const/high16 v6, 0x3f800000    # 1.0f

    goto :goto_0

    :cond_1
    const/4 v6, 0x0

    :goto_0
    aput v6, v2, v0

    invoke-static {v4, v5, v2}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    aput-object v2, v3, v0

    invoke-virtual {v1, v3}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    .line 10785
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    const-wide/16 v1, 0xc8

    invoke-virtual {v0, v1, v2}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 10786
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$58;

    invoke-direct {v1, p0, p1}, Lorg/telegram/ui/PhotoViewer$58;-><init>(Lorg/telegram/ui/PhotoViewer;Z)V

    invoke-virtual {v0, v1}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 10804
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    invoke-virtual {p1}, Landroid/animation/AnimatorSet;->start()V

    return-void
.end method

.method private togglePhotosListView(ZZ)V
    .locals 9

    .line 11062
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isPhotosListViewVisible:Z

    if-ne p1, v0, :cond_0

    return-void

    :cond_0
    const/4 v0, 0x0

    if-eqz p1, :cond_1

    .line 11066
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    invoke-virtual {v1, v0}, Lorg/telegram/ui/Components/RecyclerListView;->setVisibility(I)V

    .line 11068
    :cond_1
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isPhotosListViewVisible:Z

    .line 11069
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    invoke-virtual {v1, p1}, Landroid/view/ViewGroup;->setEnabled(Z)V

    const/high16 v1, 0x41200000    # 10.0f

    const/high16 v2, 0x3f800000    # 1.0f

    const/4 v3, 0x0

    if-eqz p2, :cond_6

    .line 11072
    new-instance p2, Ljava/util/ArrayList;

    invoke-direct {p2}, Ljava/util/ArrayList;-><init>()V

    .line 11073
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    sget-object v5, Landroid/view/View;->ALPHA:Landroid/util/Property;

    const/4 v6, 0x1

    new-array v7, v6, [F

    if-eqz p1, :cond_2

    const/high16 v8, 0x3f800000    # 1.0f

    goto :goto_0

    :cond_2
    const/4 v8, 0x0

    :goto_0
    aput v8, v7, v0

    invoke-static {v4, v5, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {p2, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11074
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    sget-object v5, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v7, v6, [F

    if-eqz p1, :cond_3

    const/4 v1, 0x0

    goto :goto_1

    :cond_3
    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v1

    neg-int v1, v1

    int-to-float v1, v1

    :goto_1
    aput v1, v7, v0

    invoke-static {v4, v5, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v1

    invoke-virtual {p2, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11075
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    sget-object v4, Landroid/view/View;->ROTATION_X:Landroid/util/Property;

    new-array v5, v6, [F

    if-eqz p1, :cond_4

    goto :goto_2

    :cond_4
    const/4 v2, 0x0

    :goto_2
    aput v2, v5, v0

    invoke-static {v1, v4, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v0

    invoke-virtual {p2, v0}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11076
    new-instance v0, Landroid/animation/AnimatorSet;

    invoke-direct {v0}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentListViewAnimation:Landroid/animation/AnimatorSet;

    .line 11077
    invoke-virtual {v0, p2}, Landroid/animation/AnimatorSet;->playTogether(Ljava/util/Collection;)V

    if-nez p1, :cond_5

    .line 11079
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentListViewAnimation:Landroid/animation/AnimatorSet;

    new-instance p2, Lorg/telegram/ui/PhotoViewer$60;

    invoke-direct {p2, p0}, Lorg/telegram/ui/PhotoViewer$60;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {p1, p2}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 11089
    :cond_5
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentListViewAnimation:Landroid/animation/AnimatorSet;

    const-wide/16 v0, 0xc8

    invoke-virtual {p1, v0, v1}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 11090
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentListViewAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {p1}, Landroid/animation/AnimatorSet;->start()V

    goto :goto_6

    .line 11092
    :cond_6
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    if-eqz p1, :cond_7

    const/high16 v0, 0x3f800000    # 1.0f

    goto :goto_3

    :cond_7
    const/4 v0, 0x0

    :goto_3
    invoke-virtual {p2, v0}, Landroid/view/ViewGroup;->setAlpha(F)V

    .line 11093
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    if-eqz p1, :cond_8

    const/4 v0, 0x0

    goto :goto_4

    :cond_8
    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v0

    neg-int v0, v0

    int-to-float v0, v0

    :goto_4
    invoke-virtual {p2, v0}, Lorg/telegram/ui/Components/RecyclerListView;->setTranslationY(F)V

    .line 11094
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    if-eqz p1, :cond_9

    goto :goto_5

    :cond_9
    const/4 v2, 0x0

    :goto_5
    invoke-virtual {p2, v2}, Lorg/telegram/ui/PhotoViewer$CounterView;->setRotationX(F)V

    if-nez p1, :cond_a

    .line 11096
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    const/16 p2, 0x8

    invoke-virtual {p1, p2}, Lorg/telegram/ui/Components/RecyclerListView;->setVisibility(I)V

    :cond_a
    :goto_6
    return-void
.end method

.method private toggleVideoPlayer()V
    .locals 5

    .line 11102
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-nez v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v0

    if-nez v0, :cond_1

    :cond_0
    return-void

    .line 11105
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_2

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    goto :goto_0

    :cond_2
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isPlaying()Z

    move-result v0

    .line 11106
    :goto_0
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->cancelVideoPlayRunnable()V

    .line 11107
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->hideActionBarRunnable:Ljava/lang/Runnable;

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    if-eqz v0, :cond_3

    .line 11109
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->pauseVideoOrWeb()V

    goto :goto_2

    .line 11111
    :cond_3
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    const v1, 0x3c23d70a    # 0.01f

    if-eqz v0, :cond_5

    .line 11112
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getProgress()F

    move-result v0

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getRightProgress()F

    move-result v2

    sub-float/2addr v0, v2

    invoke-static {v0}, Ljava/lang/Math;->abs(F)F

    move-result v0

    cmpg-float v0, v0, v1

    if-ltz v0, :cond_4

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_8

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getCurrentPosition()J

    move-result-wide v0

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v2

    cmp-long v4, v0, v2

    if-nez v4, :cond_8

    .line 11113
    :cond_4
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v0

    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->seekVideoOrWebToProgress(F)V

    goto :goto_1

    .line 11116
    :cond_5
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->getProgress()F

    move-result v0

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getRightProgress()F

    move-result v2

    sub-float/2addr v0, v2

    invoke-static {v0}, Ljava/lang/Math;->abs(F)F

    move-result v0

    cmpg-float v0, v0, v1

    if-ltz v0, :cond_6

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_7

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getCurrentPosition()J

    move-result-wide v0

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v2

    cmp-long v4, v0, v2

    if-nez v4, :cond_7

    :cond_6
    const/4 v0, 0x0

    .line 11117
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->seekVideoOrWebToProgress(F)V

    .line 11119
    :cond_7
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->scheduleActionBarHide()V

    .line 11121
    :cond_8
    :goto_1
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->playVideoOrWeb()V

    .line 11123
    :goto_2
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    return-void
.end method

.method private translateY(F)V
    .locals 3

    .line 10619
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->translateYAnimator:Landroid/animation/ValueAnimator;

    if-eqz v0, :cond_0

    .line 10620
    invoke-virtual {v0}, Landroid/animation/ValueAnimator;->cancel()V

    const/4 v0, 0x0

    .line 10621
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->translateYAnimator:Landroid/animation/ValueAnimator;

    .line 10623
    :cond_0
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v1, 0x3

    if-eq v0, v1, :cond_1

    const/4 p1, 0x0

    :cond_1
    const/4 v0, 0x2

    new-array v0, v0, [F

    const/4 v1, 0x0

    .line 10626
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->translateY:F

    aput v2, v0, v1

    const/4 v1, 0x1

    aput p1, v0, v1

    invoke-static {v0}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object p1

    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->translateYAnimator:Landroid/animation/ValueAnimator;

    .line 10627
    new-instance v0, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda12;

    invoke-direct {v0, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda12;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {p1, v0}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 10634
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->translateYAnimator:Landroid/animation/ValueAnimator;

    const-wide/16 v0, 0x140

    invoke-virtual {p1, v0, v1}, Landroid/animation/ValueAnimator;->setDuration(J)Landroid/animation/ValueAnimator;

    .line 10635
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->translateYAnimator:Landroid/animation/ValueAnimator;

    sget-object v0, Lorg/telegram/ui/Components/CubicBezierInterpolator;->EASE_OUT_QUINT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-virtual {p1, v0}, Landroid/animation/ValueAnimator;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    .line 10636
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->translateYAnimator:Landroid/animation/ValueAnimator;

    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->start()V

    return-void
.end method

.method private updateAccessibilityOverlayVisibility()V
    .locals 6

    .line 18161
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->playButtonAccessibilityOverlay:Landroid/view/View;

    if-eqz v0, :cond_5

    .line 18162
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    const/4 v1, 0x0

    aget-object v0, v0, v1

    invoke-static {v0}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$23900(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result v0

    .line 18163
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v2, v2, v1

    invoke-virtual {v2}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->isVisible()Z

    move-result v2

    const/4 v3, 0x4

    if-eqz v2, :cond_4

    const/4 v2, 0x1

    const/4 v4, 0x2

    const/4 v5, 0x3

    if-eq v0, v5, :cond_0

    if-eq v0, v3, :cond_0

    if-eq v0, v4, :cond_0

    if-ne v0, v2, :cond_4

    :cond_0
    if-ne v0, v5, :cond_1

    .line 18165
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->playButtonAccessibilityOverlay:Landroid/view/View;

    sget v2, Lorg/telegram/messenger/R$string;->AccActionPlay:I

    const-string v3, "AccActionPlay"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/view/View;->setContentDescription(Ljava/lang/CharSequence;)V

    goto :goto_0

    :cond_1
    if-ne v0, v4, :cond_2

    .line 18167
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->playButtonAccessibilityOverlay:Landroid/view/View;

    sget v2, Lorg/telegram/messenger/R$string;->AccActionDownload:I

    const-string v3, "AccActionDownload"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/view/View;->setContentDescription(Ljava/lang/CharSequence;)V

    goto :goto_0

    :cond_2
    if-ne v0, v2, :cond_3

    .line 18169
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->playButtonAccessibilityOverlay:Landroid/view/View;

    sget v2, Lorg/telegram/messenger/R$string;->AccActionCancelDownload:I

    const-string v3, "AccActionCancelDownload"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/view/View;->setContentDescription(Ljava/lang/CharSequence;)V

    goto :goto_0

    .line 18171
    :cond_3
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->playButtonAccessibilityOverlay:Landroid/view/View;

    sget v2, Lorg/telegram/messenger/R$string;->AccActionPause:I

    const-string v3, "AccActionPause"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/view/View;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 18173
    :goto_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->playButtonAccessibilityOverlay:Landroid/view/View;

    invoke-virtual {v0, v1}, Landroid/view/View;->setVisibility(I)V

    goto :goto_1

    .line 18175
    :cond_4
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->playButtonAccessibilityOverlay:Landroid/view/View;

    invoke-virtual {v0, v3}, Landroid/view/View;->setVisibility(I)V

    :cond_5
    :goto_1
    return-void
.end method

.method private updateActionBarTitlePadding()V
    .locals 7

    .line 6917
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->menu:Lorg/telegram/ui/ActionBar/ActionBarMenu;

    if-eqz v0, :cond_5

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    if-nez v0, :cond_0

    goto :goto_1

    :cond_0
    const/4 v0, 0x0

    const/4 v1, 0x0

    const/4 v2, 0x0

    .line 6921
    :goto_0
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->menu:Lorg/telegram/ui/ActionBar/ActionBarMenu;

    invoke-virtual {v3}, Landroid/widget/LinearLayout;->getChildCount()I

    move-result v3

    if-ge v2, v3, :cond_2

    .line 6922
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->menu:Lorg/telegram/ui/ActionBar/ActionBarMenu;

    invoke-virtual {v3, v2}, Landroid/widget/LinearLayout;->getChildAt(I)Landroid/view/View;

    move-result-object v3

    .line 6923
    invoke-virtual {v3}, Landroid/view/View;->getVisibility()I

    move-result v4

    if-nez v4, :cond_1

    const/high16 v4, 0x40000000    # 2.0f

    const/high16 v5, 0x3f000000    # 0.5f

    .line 6924
    invoke-virtual {v3}, Landroid/view/View;->getAlpha()F

    move-result v6

    invoke-static {v5, v6}, Ljava/lang/Math;->min(FF)F

    move-result v5

    mul-float v5, v5, v4

    invoke-virtual {v3}, Landroid/view/View;->getWidth()I

    move-result v3

    int-to-float v3, v3

    mul-float v5, v5, v3

    add-float/2addr v0, v5

    :cond_1
    add-int/lit8 v2, v2, 0x1

    goto :goto_0

    .line 6927
    :cond_2
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    if-eqz v2, :cond_3

    invoke-virtual {v2}, Landroid/view/View;->getVisibility()I

    move-result v2

    if-nez v2, :cond_3

    const/high16 v2, 0x42400000    # 48.0f

    .line 6928
    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v2

    int-to-float v2, v2

    invoke-static {v0, v2}, Ljava/lang/Math;->max(FF)F

    move-result v0

    .line 6930
    :cond_3
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    if-eqz v2, :cond_4

    invoke-virtual {v2}, Landroid/view/View;->getVisibility()I

    move-result v2

    if-nez v2, :cond_4

    const/high16 v2, 0x42c80000    # 100.0f

    .line 6931
    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v2

    int-to-float v2, v2

    invoke-static {v0, v2}, Ljava/lang/Math;->max(FF)F

    move-result v0

    .line 6933
    :cond_4
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    invoke-virtual {v2, v0, v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->updateRightPadding(FZ)V

    :cond_5
    :goto_1
    return-void
.end method

.method private updateCaptionTextForCurrentPhoto(Ljava/lang/Object;)V
    .locals 2

    .line 9165
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->hasCaptionForAllMedia:Z

    if-eqz v0, :cond_0

    .line 9166
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionForAllMedia:Ljava/lang/CharSequence;

    goto :goto_1

    .line 9167
    :cond_0
    instance-of v0, p1, Lorg/telegram/messenger/MediaController$PhotoEntry;

    if-eqz v0, :cond_1

    .line 9168
    check-cast p1, Lorg/telegram/messenger/MediaController$PhotoEntry;

    iget-object p1, p1, Lorg/telegram/messenger/MediaController$MediaEditState;->caption:Ljava/lang/CharSequence;

    goto :goto_1

    .line 9169
    :cond_1
    instance-of v0, p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v0, :cond_2

    goto :goto_0

    .line 9171
    :cond_2
    instance-of v0, p1, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v0, :cond_3

    .line 9172
    check-cast p1, Lorg/telegram/messenger/MediaController$SearchImage;

    iget-object p1, p1, Lorg/telegram/messenger/MediaController$SearchImage;->caption:Ljava/lang/CharSequence;

    goto :goto_1

    :cond_3
    :goto_0
    const/4 p1, 0x0

    .line 9174
    :goto_1
    invoke-static {p1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v0

    if-eqz v0, :cond_4

    .line 9175
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    const-string v0, ""

    invoke-virtual {p1, v0}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->setText(Ljava/lang/CharSequence;)V

    goto :goto_2

    .line 9177
    :cond_4
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    const/4 v1, 0x3

    invoke-static {p1, v1}, Lorg/telegram/ui/Components/AnimatedEmojiSpan;->cloneSpans(Ljava/lang/CharSequence;I)Ljava/lang/CharSequence;

    move-result-object p1

    invoke-virtual {v0, p1}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->setText(Ljava/lang/CharSequence;)V

    .line 9179
    :goto_2
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object p1, p1, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->editText:Lorg/telegram/ui/Components/EditTextEmoji;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/EditTextEmoji;->getEditText()Lorg/telegram/ui/Components/EditTextCaption;

    move-result-object p1

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->supportsSendingNewEntities()Z

    move-result v0

    invoke-virtual {p1, v0}, Lorg/telegram/ui/Components/EditTextCaption;->setAllowTextEntitiesIntersection(Z)V

    return-void
.end method

.method private updateCaptionTranslated()V
    .locals 4

    .line 12586
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_3

    .line 12587
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    if-ltz v0, :cond_3

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt v0, v1, :cond_0

    goto :goto_0

    .line 12590
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lorg/telegram/messenger/MessageObject;

    if-nez v0, :cond_1

    return-void

    .line 12594
    :cond_1
    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->captionTranslated:Z

    const/4 v2, 0x1

    if-eqz v1, :cond_2

    iget-object v1, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    if-eqz v1, :cond_2

    iget-object v3, v1, Lorg/telegram/tgnet/TLRPC$Message;->translatedText:Lorg/telegram/tgnet/TLRPC$TL_textWithEntities;

    if-eqz v3, :cond_2

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$Message;->translatedToLanguage:Ljava/lang/String;

    invoke-static {}, Lorg/telegram/ui/Components/TranslateAlert2;->getToLanguage()Ljava/lang/String;

    move-result-object v3

    invoke-static {v1, v3}, Landroid/text/TextUtils;->equals(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Z

    move-result v1

    if-eqz v1, :cond_2

    .line 12595
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->postProcessTranslated(Lorg/telegram/messenger/MessageObject;)Ljava/lang/CharSequence;

    move-result-object v1

    const/4 v3, 0x0

    invoke-direct {p0, v0, v1, v3, v2}, Lorg/telegram/ui/PhotoViewer;->setCurrentCaption(Lorg/telegram/messenger/MessageObject;Ljava/lang/CharSequence;ZZ)V

    goto :goto_0

    .line 12597
    :cond_2
    iget-object v1, v0, Lorg/telegram/messenger/MessageObject;->caption:Ljava/lang/CharSequence;

    iget-boolean v3, p0, Lorg/telegram/ui/PhotoViewer;->captionTranslated:Z

    invoke-direct {p0, v0, v1, v3, v2}, Lorg/telegram/ui/PhotoViewer;->setCurrentCaption(Lorg/telegram/messenger/MessageObject;Ljava/lang/CharSequence;ZZ)V

    nop

    :cond_3
    :goto_0
    return-void
.end method

.method private updateCompressionsCount(II)V
    .locals 0

    .line 18148
    invoke-static {p1, p2}, Ljava/lang/Math;->max(II)I

    move-result p1

    const/16 p2, 0x500

    if-le p1, p2, :cond_0

    const/4 p1, 0x4

    .line 18150
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    goto :goto_0

    :cond_0
    const/16 p2, 0x356

    if-le p1, p2, :cond_1

    const/4 p1, 0x3

    .line 18152
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    goto :goto_0

    :cond_1
    const/16 p2, 0x280

    if-le p1, p2, :cond_2

    const/4 p1, 0x2

    .line 18154
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    goto :goto_0

    :cond_2
    const/4 p1, 0x1

    .line 18156
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    :goto_0
    return-void
.end method

.method private updateContainerFlags(Z)V
    .locals 2

    .line 10839
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v1, 0x15

    if-lt v0, v1, :cond_2

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v1, 0x1

    if-eq v0, v1, :cond_2

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    if-eqz v0, :cond_2

    const/16 v1, 0x700

    if-nez p1, :cond_1

    const/16 v1, 0x704

    .line 10843
    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getPaddingLeft()I

    move-result p1

    if-gtz p1, :cond_0

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->getPaddingRight()I

    move-result p1

    if-lez p1, :cond_1

    :cond_0
    const/16 v1, 0x1706

    .line 10847
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p1, v1}, Landroid/widget/FrameLayout;->setSystemUiVisibility(I)V

    :cond_2
    return-void
.end method

.method private updateMinMax(F)V
    .locals 4

    .line 15548
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    if-eqz v0, :cond_1

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v0

    if-nez v0, :cond_1

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    if-eqz v0, :cond_1

    .line 15549
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v0, :cond_0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    goto :goto_0

    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    .line 15550
    :goto_0
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v1

    int-to-float v1, v1

    invoke-virtual {v0}, Landroid/view/View;->getMeasuredWidth()I

    move-result v2

    int-to-float v2, v2

    div-float/2addr v1, v2

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v2

    int-to-float v2, v2

    invoke-virtual {v0}, Landroid/view/View;->getMeasuredHeight()I

    move-result v0

    int-to-float v0, v0

    div-float/2addr v2, v0

    invoke-static {v1, v2}, Ljava/lang/Math;->min(FF)F

    move-result v0

    mul-float p1, p1, v0

    .line 15552
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getImageWidth()F

    move-result v0

    .line 15553
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getImageHeight()F

    move-result v1

    .line 15554
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v2, :cond_2

    .line 15555
    iget v3, v2, Lorg/telegram/messenger/MediaController$CropState;->cropPw:F

    mul-float v0, v0, v3

    .line 15556
    iget v2, v2, Lorg/telegram/messenger/MediaController$CropState;->cropPh:F

    mul-float v1, v1, v2

    :cond_2
    mul-float v0, v0, p1

    .line 15558
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v2

    int-to-float v2, v2

    sub-float/2addr v0, v2

    float-to-int v0, v0

    div-int/lit8 v0, v0, 0x2

    mul-float v1, v1, p1

    .line 15559
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v2

    int-to-float v2, v2

    sub-float/2addr v1, v2

    float-to-int v1, v1

    div-int/lit8 v1, v1, 0x2

    const/4 v2, 0x0

    if-lez v0, :cond_3

    neg-int v3, v0

    int-to-float v3, v3

    .line 15562
    iput v3, p0, Lorg/telegram/ui/PhotoViewer;->minX:F

    int-to-float v0, v0

    .line 15563
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    goto :goto_1

    .line 15565
    :cond_3
    iput v2, p0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    iput v2, p0, Lorg/telegram/ui/PhotoViewer;->minX:F

    :goto_1
    if-lez v1, :cond_4

    neg-int v0, v1

    int-to-float v0, v0

    .line 15568
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->minY:F

    int-to-float v0, v1

    .line 15569
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->maxY:F

    goto :goto_2

    .line 15571
    :cond_4
    iput v2, p0, Lorg/telegram/ui/PhotoViewer;->maxY:F

    iput v2, p0, Lorg/telegram/ui/PhotoViewer;->minY:F

    .line 15573
    :goto_2
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v0, :cond_6

    const v1, 0x3f8ccccd    # 1.1f

    cmpg-float p1, p1, v1

    if-gtz p1, :cond_5

    const/4 p1, 0x1

    goto :goto_3

    :cond_5
    const/4 p1, 0x0

    .line 15574
    :goto_3
    invoke-virtual {v0, p1}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->updateZoom(Z)V

    :cond_6
    return-void
.end method

.method private updatePlayerState(ZI)V
    .locals 21

    move-object/from16 v1, p0

    move/from16 v2, p2

    .line 8341
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-nez v0, :cond_1

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v0

    if-nez v0, :cond_1

    :cond_0
    return-void

    .line 8344
    :cond_1
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    const/4 v3, 0x1

    if-eqz v0, :cond_2

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v0

    if-eqz v0, :cond_2

    if-nez p1, :cond_2

    .line 8345
    invoke-direct {v1, v3, v3}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    .line 8347
    :cond_2
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    const-wide/16 v4, 0x3e8

    const/4 v6, 0x0

    const/4 v7, 0x3

    const/4 v8, 0x0

    const/4 v9, 0x0

    if-eqz v0, :cond_b

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v0

    if-eqz v0, :cond_b

    if-ne v2, v7, :cond_b

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getVideoDuration()J

    move-result-wide v10

    const-wide/16 v12, 0x2710

    cmp-long v0, v10, v12

    if-ltz v0, :cond_b

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideo:Ljava/lang/String;

    if-nez v0, :cond_b

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideoShortTerm:Ljava/lang/String;

    if-nez v0, :cond_b

    .line 8348
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    const/high16 v10, -0x40800000    # -1.0f

    if-eqz v0, :cond_a

    .line 8349
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getVideoDuration()J

    move-result-wide v11

    div-long/2addr v11, v4

    .line 8350
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v0, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    if-eqz v0, :cond_3

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$Message;->media:Lorg/telegram/tgnet/TLRPC$MessageMedia;

    if-eqz v0, :cond_3

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    if-eqz v0, :cond_3

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$WebPage;->url:Ljava/lang/String;

    goto :goto_0

    :cond_3
    move-object v0, v6

    .line 8351
    :goto_0
    invoke-static {v0}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v13

    if-nez v13, :cond_a

    const-wide/16 v13, 0x258

    const v15, 0x3f7fbe77    # 0.999f

    cmp-long v16, v11, v13

    if-ltz v16, :cond_5

    .line 8353
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget v11, v11, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    cmpg-float v11, v11, v8

    if-gez v11, :cond_4

    .line 8354
    sget-object v11, Lorg/telegram/messenger/ApplicationLoader;->applicationContext:Landroid/content/Context;

    const-string v12, "media_saved_pos"

    invoke-virtual {v11, v12, v9}, Landroid/content/Context;->getSharedPreferences(Ljava/lang/String;I)Landroid/content/SharedPreferences;

    move-result-object v11

    .line 8355
    invoke-interface {v11, v0, v10}, Landroid/content/SharedPreferences;->getFloat(Ljava/lang/String;F)F

    move-result v11

    cmpl-float v12, v11, v8

    if-lez v12, :cond_4

    cmpg-float v12, v11, v15

    if-gez v12, :cond_4

    .line 8357
    iget-object v12, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iput v11, v12, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    .line 8358
    iget-object v12, v1, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {v12, v11}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setProgress(F)V

    .line 8361
    :cond_4
    iput-object v0, v1, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideo:Ljava/lang/String;

    goto :goto_3

    :cond_5
    const-wide/16 v13, 0xa

    cmp-long v16, v11, v13

    if-ltz v16, :cond_a

    .line 8364
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->savedVideoPositions:Landroidx/collection/ArrayMap;

    invoke-virtual {v11}, Landroidx/collection/SimpleArrayMap;->size()I

    move-result v11

    sub-int/2addr v11, v3

    move-object v12, v6

    :goto_1
    if-ltz v11, :cond_8

    .line 8365
    iget-object v13, v1, Lorg/telegram/ui/PhotoViewer;->savedVideoPositions:Landroidx/collection/ArrayMap;

    invoke-virtual {v13, v11}, Landroidx/collection/SimpleArrayMap;->valueAt(I)Ljava/lang/Object;

    move-result-object v13

    check-cast v13, Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;

    .line 8366
    iget-wide v4, v13, Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;->timestamp:J

    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v17

    const-wide/16 v19, 0x1388

    sub-long v17, v17, v19

    cmp-long v14, v4, v17

    if-gez v14, :cond_6

    .line 8367
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->savedVideoPositions:Landroidx/collection/ArrayMap;

    invoke-virtual {v4, v11}, Landroidx/collection/SimpleArrayMap;->removeAt(I)Ljava/lang/Object;

    goto :goto_2

    :cond_6
    if-nez v12, :cond_7

    .line 8368
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->savedVideoPositions:Landroidx/collection/ArrayMap;

    invoke-virtual {v4, v11}, Landroidx/collection/SimpleArrayMap;->keyAt(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Ljava/lang/String;

    invoke-virtual {v4, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v4

    if-eqz v4, :cond_7

    move-object v12, v13

    :cond_7
    :goto_2
    add-int/lit8 v11, v11, -0x1

    const-wide/16 v4, 0x3e8

    goto :goto_1

    .line 8372
    :cond_8
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget v5, v4, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    cmpg-float v5, v5, v8

    if-gez v5, :cond_9

    if-eqz v12, :cond_9

    .line 8373
    iget v5, v12, Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;->position:F

    cmpl-float v11, v5, v8

    if-lez v11, :cond_9

    cmpg-float v11, v5, v15

    if-gez v11, :cond_9

    .line 8375
    iput v5, v4, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    .line 8376
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {v4, v5}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setProgress(F)V

    .line 8379
    :cond_9
    iput-object v0, v1, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideoShortTerm:Ljava/lang/String;

    .line 8384
    :cond_a
    :goto_3
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v0, :cond_b

    iget v0, v0, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    cmpl-float v4, v0, v8

    if-ltz v4, :cond_b

    .line 8385
    invoke-direct {v1, v0}, Lorg/telegram/ui/PhotoViewer;->seekVideoOrWebToProgress(F)V

    .line 8386
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iput v10, v0, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    .line 8389
    :cond_b
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->isStreaming:Z

    const/4 v4, 0x2

    if-eqz v0, :cond_10

    if-ne v2, v4, :cond_c

    .line 8390
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->skipFirstBufferingProgress:Z

    if-eqz v0, :cond_c

    if-eqz p1, :cond_10

    .line 8392
    iput-boolean v9, v1, Lorg/telegram/ui/PhotoViewer;->skipFirstBufferingProgress:Z

    goto :goto_7

    .line 8395
    :cond_c
    iget v0, v1, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending:F

    cmpl-float v0, v0, v8

    if-nez v0, :cond_e

    if-ne v2, v4, :cond_d

    goto :goto_4

    :cond_d
    const/4 v0, 0x0

    goto :goto_5

    :cond_e
    :goto_4
    const/4 v0, 0x1

    :goto_5
    if-eqz v0, :cond_f

    .line 8397
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->hideActionBarRunnable:Ljava/lang/Runnable;

    invoke-static {v5}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    goto :goto_6

    .line 8399
    :cond_f
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->scheduleActionBarHide()V

    .line 8401
    :goto_6
    invoke-direct {v1, v0, v3}, Lorg/telegram/ui/PhotoViewer;->toggleMiniProgress(ZZ)V

    .line 8404
    :cond_10
    :goto_7
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    const/4 v5, 0x4

    if-eqz v0, :cond_12

    if-eqz p1, :cond_11

    if-eq v2, v5, :cond_11

    if-eq v2, v3, :cond_11

    const/4 v10, 0x1

    goto :goto_8

    :cond_11
    const/4 v10, 0x0

    .line 8405
    :goto_8
    invoke-virtual {v0, v10}, Landroid/widget/FrameLayout;->setKeepScreenOn(Z)V

    :cond_12
    const/16 v0, 0x80

    if-eqz p1, :cond_13

    if-eq v2, v5, :cond_13

    if-eq v2, v3, :cond_13

    .line 8409
    :try_start_0
    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-virtual {v10}, Landroid/app/Activity;->getWindow()Landroid/view/Window;

    move-result-object v10

    invoke-virtual {v10, v0}, Landroid/view/Window;->addFlags(I)V

    .line 8410
    iput-boolean v3, v1, Lorg/telegram/ui/PhotoViewer;->keepScreenOnFlagSet:Z
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_9

    :catch_0
    move-exception v0

    .line 8412
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    goto :goto_9

    .line 8416
    :cond_13
    :try_start_1
    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-virtual {v10}, Landroid/app/Activity;->getWindow()Landroid/view/Window;

    move-result-object v10

    invoke-virtual {v10, v0}, Landroid/view/Window;->clearFlags(I)V

    .line 8417
    iput-boolean v9, v1, Lorg/telegram/ui/PhotoViewer;->keepScreenOnFlagSet:Z
    :try_end_1
    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_1

    goto :goto_9

    :catch_1
    move-exception v0

    .line 8419
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :goto_9
    if-eq v2, v7, :cond_14

    if-ne v2, v3, :cond_16

    .line 8423
    :cond_14
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v0, :cond_15

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_15

    .line 8424
    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getCurrentUri()Landroid/net/Uri;

    move-result-object v0

    invoke-virtual {v10, v0}, Lorg/telegram/ui/Components/VideoSeekPreviewImage;->open(Landroid/net/Uri;)V

    .line 8426
    :cond_15
    iget v0, v1, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending:F

    cmpl-float v10, v0, v8

    if-eqz v10, :cond_16

    .line 8427
    invoke-direct {v1, v0}, Lorg/telegram/ui/PhotoViewer;->seekVideoOrWebToProgress(F)V

    .line 8428
    iput v8, v1, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending:F

    .line 8429
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v0, :cond_16

    iget v0, v0, Lorg/telegram/messenger/MessageObject;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v0

    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v10}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v10

    invoke-virtual {v0, v10}, Lorg/telegram/messenger/FileLoader;->isLoadingVideoAny(Lorg/telegram/tgnet/TLRPC$Document;)Z

    move-result v0

    if-nez v0, :cond_16

    .line 8430
    iput-boolean v3, v1, Lorg/telegram/ui/PhotoViewer;->skipFirstBufferingProgress:Z

    :cond_16
    const/high16 v0, 0x3f800000    # 1.0f

    if-ne v2, v7, :cond_19

    .line 8435
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    if-eqz v4, :cond_17

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v4

    if-eqz v4, :cond_17

    .line 8436
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v4, v9}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 8438
    :cond_17
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->isEnabled()Z

    move-result v4

    if-nez v4, :cond_18

    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v4

    if-nez v4, :cond_18

    .line 8439
    iput-boolean v3, v1, Lorg/telegram/ui/PhotoViewer;->pipAvailable:Z

    .line 8440
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v4, v3}, Landroid/widget/FrameLayout;->setEnabled(Z)V

    .line 8441
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object v4

    invoke-virtual {v4, v0}, Landroid/view/ViewPropertyAnimator;->alpha(F)Landroid/view/ViewPropertyAnimator;

    move-result-object v4

    const-wide/16 v10, 0xaf

    invoke-virtual {v4, v10, v11}, Landroid/view/ViewPropertyAnimator;->setDuration(J)Landroid/view/ViewPropertyAnimator;

    move-result-object v4

    invoke-virtual {v4, v6}, Landroid/view/ViewPropertyAnimator;->withEndAction(Ljava/lang/Runnable;)Landroid/view/ViewPropertyAnimator;

    move-result-object v4

    invoke-virtual {v4}, Landroid/view/ViewPropertyAnimator;->start()V

    .line 8443
    :cond_18
    iput-boolean v3, v1, Lorg/telegram/ui/PhotoViewer;->playerWasReady:Z

    .line 8444
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v4, :cond_1b

    invoke-virtual {v4}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v4

    if-eqz v4, :cond_1b

    .line 8445
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->setLoadingRunnable:Ljava/lang/Runnable;

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    .line 8446
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget v4, v4, Lorg/telegram/messenger/MessageObject;->currentAccount:I

    invoke-static {v4}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v4

    iget-object v6, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v6}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v6

    invoke-virtual {v4, v6, v3, v9}, Lorg/telegram/messenger/FileLoader;->removeLoadingVideo(Lorg/telegram/tgnet/TLRPC$Document;ZZ)V

    goto :goto_a

    :cond_19
    if-ne v2, v4, :cond_1b

    if-eqz p1, :cond_1b

    .line 8449
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v4, :cond_1b

    invoke-virtual {v4}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v4

    if-eqz v4, :cond_1b

    .line 8450
    iget-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->playerWasReady:Z

    if-eqz v4, :cond_1a

    .line 8451
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->setLoadingRunnable:Ljava/lang/Runnable;

    invoke-interface {v4}, Ljava/lang/Runnable;->run()V

    goto :goto_a

    .line 8453
    :cond_1a
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->setLoadingRunnable:Ljava/lang/Runnable;

    const-wide/16 v10, 0x3e8

    invoke-static {v4, v10, v11}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;J)V

    .line 8457
    :cond_1b
    :goto_a
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v4, :cond_1c

    invoke-virtual {v4}, Lorg/telegram/ui/Components/VideoPlayer;->isPlaying()Z

    move-result v4

    if-eqz v4, :cond_22

    goto :goto_b

    :cond_1c
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isPlaying()Z

    move-result v4

    if-eqz v4, :cond_22

    :goto_b
    if-eq v2, v5, :cond_22

    .line 8458
    iget-boolean v2, v1, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    if-nez v2, :cond_2d

    .line 8459
    iput-boolean v3, v1, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    .line 8460
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v2, v2, v9

    iget-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v4, :cond_1d

    const/4 v5, -0x1

    :cond_1d
    invoke-virtual {v2, v5, v9, v3}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    .line 8461
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v2, v2, v9

    iget-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v4, :cond_20

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isAccessibilityEnabled()Z

    move-result v4

    if-eqz v4, :cond_1e

    iget-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->playerWasPlaying:Z

    if-eqz v4, :cond_20

    :cond_1e
    iget-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->playerAutoStarted:Z

    if-eqz v4, :cond_1f

    iget-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->playerWasPlaying:Z

    if-eqz v4, :cond_21

    :cond_1f
    iget-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-nez v4, :cond_20

    goto :goto_c

    :cond_20
    const/high16 v8, 0x3f800000    # 1.0f

    :cond_21
    :goto_c
    invoke-virtual {v2, v3, v8, v9}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setIndexedAlpha(IFZ)V

    .line 8462
    iput-boolean v3, v1, Lorg/telegram/ui/PhotoViewer;->playerWasPlaying:Z

    .line 8463
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->updateProgressRunnable:Ljava/lang/Runnable;

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;)V

    goto/16 :goto_13

    .line 8465
    :cond_22
    iget-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    if-nez v4, :cond_23

    if-ne v2, v5, :cond_2d

    .line 8466
    :cond_23
    iget v4, v1, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v4, v7, :cond_26

    .line 8467
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v4, v4, v9

    if-ne v2, v5, :cond_24

    const/4 v6, 0x1

    goto :goto_d

    :cond_24
    const/4 v6, 0x0

    :goto_d
    invoke-virtual {v4, v3, v0, v6}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setIndexedAlpha(IFZ)V

    .line 8468
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v4, v0, v9

    aget-object v0, v0, v9

    invoke-static {v0}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$22000(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)[F

    move-result-object v0

    aget v0, v0, v3

    cmpl-float v0, v0, v8

    if-lez v0, :cond_25

    const/4 v0, 0x1

    goto :goto_e

    :cond_25
    const/4 v0, 0x0

    :goto_e
    invoke-virtual {v4, v7, v9, v0}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    .line 8470
    :cond_26
    iput-boolean v9, v1, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    .line 8471
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->updateProgressRunnable:Ljava/lang/Runnable;

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    if-ne v2, v5, :cond_2d

    .line 8473
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v0, :cond_2a

    .line 8474
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->isDragging()Z

    move-result v0

    if-nez v0, :cond_2c

    .line 8475
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v2

    invoke-virtual {v0, v2}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setProgress(F)V

    .line 8476
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->inPreview:Z

    if-nez v0, :cond_28

    iget v0, v1, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v0, :cond_27

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v0

    if-nez v0, :cond_28

    .line 8477
    :cond_27
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v0

    invoke-direct {v1, v0}, Lorg/telegram/ui/PhotoViewer;->seekVideoOrWebToProgress(F)V

    goto :goto_f

    .line 8479
    :cond_28
    invoke-direct {v1, v8}, Lorg/telegram/ui/PhotoViewer;->seekVideoOrWebToProgress(F)V

    .line 8481
    :goto_f
    iput-boolean v9, v1, Lorg/telegram/ui/PhotoViewer;->manuallyPaused:Z

    .line 8482
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->cancelVideoPlayRunnable()V

    .line 8483
    iget v0, v1, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v0, v3, :cond_29

    iget v0, v1, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v0, :cond_29

    iget v0, v1, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-gtz v0, :cond_29

    .line 8484
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->pauseVideoOrWeb()V

    goto :goto_10

    .line 8486
    :cond_29
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->playVideoOrWeb()V

    .line 8488
    :goto_10
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    goto :goto_12

    .line 8491
    :cond_2a
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {v0, v8}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setProgress(F)V

    .line 8492
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbarView:Landroid/view/View;

    invoke-virtual {v0}, Landroid/view/View;->invalidate()V

    .line 8493
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->inPreview:Z

    if-nez v0, :cond_2b

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v0

    if-nez v0, :cond_2b

    .line 8494
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v0

    invoke-direct {v1, v0}, Lorg/telegram/ui/PhotoViewer;->seekVideoOrWebToProgress(F)V

    goto :goto_11

    .line 8496
    :cond_2b
    invoke-direct {v1, v8}, Lorg/telegram/ui/PhotoViewer;->seekVideoOrWebToProgress(F)V

    .line 8498
    :goto_11
    iput-boolean v9, v1, Lorg/telegram/ui/PhotoViewer;->manuallyPaused:Z

    .line 8499
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->pauseVideoOrWeb()V

    .line 8500
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-nez v0, :cond_2c

    .line 8501
    invoke-direct {v1, v3, v3}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    .line 8504
    :cond_2c
    :goto_12
    invoke-static {}, Lorg/telegram/ui/Components/PipVideoOverlay;->onVideoCompleted()V

    .line 8507
    :cond_2d
    :goto_13
    invoke-static {}, Lorg/telegram/ui/Components/PipVideoOverlay;->updatePlayButton()V

    .line 8508
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getVideoDuration()J

    move-result-wide v3

    invoke-virtual {v0, v2, v3, v4}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->updateTimestamps(Lorg/telegram/messenger/MessageObject;J)V

    .line 8509
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->updateVideoPlayerTime()V

    return-void
.end method

.method private updateResetButtonVisibility(Z)V
    .locals 3

    .line 9710
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    invoke-virtual {v0}, Landroid/widget/TextView;->isClickable()Z

    move-result v0

    if-eq v0, p1, :cond_1

    .line 9712
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    invoke-virtual {v0, p1}, Landroid/widget/TextView;->setClickable(Z)V

    .line 9713
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setVisibility(I)V

    .line 9714
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    invoke-virtual {v0}, Landroid/widget/TextView;->clearAnimation()V

    .line 9715
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    invoke-virtual {v0}, Landroid/widget/TextView;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    if-eqz p1, :cond_0

    const/high16 v1, 0x3f800000    # 1.0f

    goto :goto_0

    :cond_0
    const/4 v1, 0x0

    .line 9716
    :goto_0
    invoke-virtual {v0, v1}, Landroid/view/ViewPropertyAnimator;->alpha(F)Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    sget-object v1, Lorg/telegram/ui/Components/CubicBezierInterpolator;->DEFAULT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    .line 9717
    invoke-virtual {v0, v1}, Landroid/view/ViewPropertyAnimator;->setInterpolator(Landroid/animation/TimeInterpolator;)Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    const-wide/16 v1, 0x96

    .line 9718
    invoke-virtual {v0, v1, v2}, Landroid/view/ViewPropertyAnimator;->setDuration(J)Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda79;

    invoke-direct {v1, p0, p1}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda79;-><init>(Lorg/telegram/ui/PhotoViewer;Z)V

    .line 9719
    invoke-virtual {v0, v1}, Landroid/view/ViewPropertyAnimator;->withEndAction(Ljava/lang/Runnable;)Landroid/view/ViewPropertyAnimator;

    :cond_1
    return-void
.end method

.method private updateSelectedCount()V
    .locals 2

    .line 11340
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-nez v0, :cond_0

    return-void

    .line 11343
    :cond_0
    invoke-interface {v0}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getSelectedCount()I

    move-result v0

    .line 11344
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    invoke-virtual {v1, v0}, Lorg/telegram/ui/PhotoViewer$CounterView;->setCount(I)V

    if-nez v0, :cond_1

    const/4 v0, 0x0

    const/4 v1, 0x1

    .line 11346
    invoke-direct {p0, v0, v1}, Lorg/telegram/ui/PhotoViewer;->togglePhotosListView(ZZ)V

    :cond_1
    return-void
.end method

.method private updateVideoInfo()V
    .locals 10

    .line 17733
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    if-nez v0, :cond_0

    return-void

    .line 17736
    :cond_0
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    if-nez v0, :cond_1

    .line 17737
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;)V

    return-void

    .line 17740
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->videoConvertSupported:Z

    const/4 v2, 0x0

    const/4 v3, 0x1

    if-eqz v1, :cond_2

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    if-le v1, v3, :cond_2

    const/4 v1, 0x1

    goto :goto_0

    :cond_2
    const/4 v1, 0x0

    :goto_0
    iget-boolean v4, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    iget v6, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    invoke-static {v5, v6}, Ljava/lang/Math;->min(II)I

    move-result v5

    invoke-virtual {v0, v1, v4, v5}, Lorg/telegram/ui/Components/VideoCompressButton;->setState(ZZI)V

    .line 17741
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->itemsLayout:Landroid/widget/LinearLayout;

    invoke-virtual {v0}, Landroid/widget/LinearLayout;->requestLayout()V

    .line 17743
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getRightProgress()F

    move-result v0

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v1

    sub-float/2addr v0, v1

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    mul-float v0, v0, v1

    float-to-double v0, v0

    invoke-static {v0, v1}, Ljava/lang/Math;->ceil(D)D

    move-result-wide v0

    double-to-long v0, v0

    iput-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->estimatedDuration:J

    .line 17744
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v0

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->videoCutStart:F

    .line 17745
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getRightProgress()F

    move-result v0

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->videoCutEnd:F

    .line 17747
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->rotationValue:I

    const/16 v1, 0x10e

    const/16 v4, 0x5a

    if-eq v0, v4, :cond_4

    if-ne v0, v1, :cond_3

    goto :goto_1

    :cond_3
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    goto :goto_2

    :cond_4
    :goto_1
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    .line 17748
    :goto_2
    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->rotationValue:I

    if-eq v5, v4, :cond_6

    if-ne v5, v1, :cond_5

    goto :goto_3

    :cond_5
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    goto :goto_4

    :cond_6
    :goto_3
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    .line 17750
    :goto_4
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->needEncoding()Z

    move-result v4

    .line 17751
    iget-boolean v5, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-eqz v5, :cond_a

    .line 17753
    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v4, v3, :cond_9

    .line 17754
    iget-wide v4, p0, Lorg/telegram/ui/PhotoViewer;->estimatedDuration:J

    const-wide/16 v6, 0x7d0

    cmp-long v8, v4, v6

    if-gtz v8, :cond_7

    const v4, 0x27ac40

    goto :goto_5

    :cond_7
    const-wide/16 v6, 0x1388

    cmp-long v8, v4, v6

    if-gtz v8, :cond_8

    const v4, 0x2191c0

    goto :goto_5

    :cond_8
    const v4, 0x17cdc0

    goto :goto_5

    :cond_9
    const v4, 0xe1000

    .line 17764
    :goto_5
    div-int/lit8 v4, v4, 0x8

    int-to-float v4, v4

    iget-wide v5, p0, Lorg/telegram/ui/PhotoViewer;->estimatedDuration:J

    long-to-float v5, v5

    const/high16 v6, 0x447a0000    # 1000.0f

    div-float/2addr v5, v6

    mul-float v4, v4, v5

    float-to-long v4, v4

    iput-wide v4, p0, Lorg/telegram/ui/PhotoViewer;->estimatedSize:J

    const-wide/32 v6, 0x8000

    .line 17765
    div-long v6, v4, v6

    const-wide/16 v8, 0x10

    mul-long v6, v6, v8

    add-long/2addr v4, v6

    iput-wide v4, p0, Lorg/telegram/ui/PhotoViewer;->estimatedSize:J

    goto :goto_7

    .line 17767
    :cond_a
    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v5, v3, :cond_b

    const/4 v5, 0x1

    goto :goto_6

    :cond_b
    const/4 v5, 0x0

    :goto_6
    invoke-direct {p0, v4, v5}, Lorg/telegram/ui/PhotoViewer;->calculateEstimatedVideoSize(ZZ)V

    .line 17770
    :goto_7
    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->videoCutStart:F

    const/4 v5, 0x0

    const-wide/16 v6, -0x1

    const-wide/16 v8, 0x3e8

    cmpl-float v5, v4, v5

    if-nez v5, :cond_c

    .line 17771
    iput-wide v6, p0, Lorg/telegram/ui/PhotoViewer;->startTime:J

    goto :goto_8

    .line 17773
    :cond_c
    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    mul-float v4, v4, v5

    float-to-long v4, v4

    mul-long v4, v4, v8

    iput-wide v4, p0, Lorg/telegram/ui/PhotoViewer;->startTime:J

    .line 17775
    :goto_8
    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->videoCutEnd:F

    const/high16 v5, 0x3f800000    # 1.0f

    cmpl-float v5, v4, v5

    if-nez v5, :cond_d

    .line 17776
    iput-wide v6, p0, Lorg/telegram/ui/PhotoViewer;->endTime:J

    goto :goto_9

    .line 17778
    :cond_d
    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    mul-float v4, v4, v5

    float-to-long v4, v4

    mul-long v4, v4, v8

    iput-wide v4, p0, Lorg/telegram/ui/PhotoViewer;->endTime:J

    :goto_9
    const/4 v4, 0x2

    new-array v5, v4, [Ljava/lang/Object;

    .line 17781
    invoke-static {v0}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v0

    aput-object v0, v5, v2

    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v0

    aput-object v0, v5, v3

    const-string v0, "%dx%d"

    invoke-static {v0, v5}, Ljava/lang/String;->format(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v0

    new-array v1, v4, [Ljava/lang/Object;

    .line 17782
    iget-wide v5, p0, Lorg/telegram/ui/PhotoViewer;->estimatedDuration:J

    div-long/2addr v5, v8

    long-to-int v6, v5

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->formatShortDuration(I)Ljava/lang/String;

    move-result-object v5

    aput-object v5, v1, v2

    iget-wide v5, p0, Lorg/telegram/ui/PhotoViewer;->estimatedSize:J

    invoke-static {v5, v6}, Lorg/telegram/messenger/AndroidUtilities;->formatFileSize(J)Ljava/lang/String;

    move-result-object v5

    aput-object v5, v1, v3

    const-string v5, "%s, ~%s"

    invoke-static {v5, v1}, Ljava/lang/String;->format(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v1

    new-array v4, v4, [Ljava/lang/Object;

    aput-object v0, v4, v2

    aput-object v1, v4, v3

    const-string v0, "%s, %s"

    .line 17783
    invoke-static {v0, v4}, Ljava/lang/String;->format(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v0

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentSubtitle:Ljava/lang/String;

    .line 17784
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/ActionBar;->beginDelayedTransition()V

    .line 17785
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->customTitle:Ljava/lang/CharSequence;

    if-nez v0, :cond_f

    .line 17786
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-eqz v1, :cond_e

    sget v1, Lorg/telegram/messenger/R$string;->SoundMuted:I

    const-string v2, "SoundMuted"

    invoke-static {v2, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    goto :goto_a

    :cond_e
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentSubtitle:Ljava/lang/String;

    :goto_a
    invoke-virtual {v0, v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;)V

    :cond_f
    return-void
.end method

.method private updateVideoPlayerTime()V
    .locals 13

    .line 8137
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerCurrentTime:[I

    const/4 v1, 0x0

    invoke-static {v0, v1}, Ljava/util/Arrays;->fill([II)V

    .line 8138
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTotalTime:[I

    invoke-static {v0, v1}, Ljava/util/Arrays;->fill([II)V

    .line 8139
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    const-wide/16 v2, 0x3e8

    const-wide/16 v4, 0x0

    const-wide/16 v6, 0x3c

    const/4 v8, 0x1

    if-eqz v0, :cond_2

    .line 8140
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getCurrentPosition()J

    move-result-wide v9

    invoke-static {v4, v5, v9, v10}, Ljava/lang/Math;->max(JJ)J

    move-result-wide v9

    .line 8141
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->shownControlsByEnd:Z

    if-eqz v0, :cond_0

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarWasShownBeforeByEnd:Z

    if-nez v0, :cond_0

    move-wide v9, v4

    .line 8144
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v11

    invoke-static {v4, v5, v11, v12}, Ljava/lang/Math;->max(JJ)J

    move-result-wide v4

    .line 8145
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->inPreview:Z

    if-nez v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v0

    if-nez v0, :cond_1

    long-to-float v0, v4

    .line 8146
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getRightProgress()F

    move-result v4

    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v5}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v5

    sub-float/2addr v4, v5

    mul-float v0, v0, v4

    float-to-long v4, v0

    long-to-float v0, v9

    .line 8147
    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v9}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v9

    long-to-float v10, v4

    mul-float v9, v9, v10

    sub-float/2addr v0, v9

    float-to-long v9, v0

    cmp-long v0, v9, v4

    if-lez v0, :cond_1

    move-wide v9, v4

    .line 8152
    :cond_1
    div-long/2addr v9, v2

    .line 8153
    div-long/2addr v4, v2

    .line 8154
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerCurrentTime:[I

    div-long v2, v9, v6

    long-to-int v3, v2

    aput v3, v0, v1

    .line 8155
    rem-long/2addr v9, v6

    long-to-int v2, v9

    aput v2, v0, v8

    .line 8156
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTotalTime:[I

    div-long v2, v4, v6

    long-to-int v3, v2

    aput v3, v0, v1

    .line 8157
    rem-long/2addr v4, v6

    long-to-int v2, v4

    aput v2, v0, v8

    goto/16 :goto_1

    .line 8158
    :cond_2
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_5

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v0

    if-eqz v0, :cond_5

    .line 8159
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->getCurrentPosition()I

    move-result v0

    invoke-static {v1, v0}, Ljava/lang/Math;->max(II)I

    move-result v0

    int-to-long v9, v0

    .line 8160
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->shownControlsByEnd:Z

    if-eqz v0, :cond_3

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarWasShownBeforeByEnd:Z

    if-nez v0, :cond_3

    goto :goto_0

    :cond_3
    move-wide v4, v9

    .line 8163
    :goto_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->getVideoDuration()I

    move-result v0

    invoke-static {v1, v0}, Ljava/lang/Math;->max(II)I

    move-result v0

    int-to-long v9, v0

    .line 8164
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->inPreview:Z

    if-nez v0, :cond_4

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v0

    if-nez v0, :cond_4

    long-to-float v0, v9

    .line 8165
    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v9}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getRightProgress()F

    move-result v9

    iget-object v10, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v10}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v10

    sub-float/2addr v9, v10

    mul-float v0, v0, v9

    float-to-long v9, v0

    long-to-float v0, v4

    .line 8166
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v4

    long-to-float v5, v9

    mul-float v4, v4, v5

    sub-float/2addr v0, v4

    float-to-long v4, v0

    cmp-long v0, v4, v9

    if-lez v0, :cond_4

    move-wide v4, v9

    .line 8171
    :cond_4
    div-long/2addr v4, v2

    .line 8172
    div-long/2addr v9, v2

    .line 8173
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerCurrentTime:[I

    div-long v2, v4, v6

    long-to-int v3, v2

    aput v3, v0, v1

    .line 8174
    rem-long/2addr v4, v6

    long-to-int v2, v4

    aput v2, v0, v8

    .line 8175
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTotalTime:[I

    div-long v2, v9, v6

    long-to-int v3, v2

    aput v3, v0, v1

    .line 8176
    rem-long/2addr v9, v6

    long-to-int v2, v9

    aput v2, v0, v8

    .line 8179
    :cond_5
    :goto_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerCurrentTime:[I

    aget v2, v0, v1

    const/16 v3, 0x3c

    if-lt v2, v3, :cond_6

    .line 8180
    aget v2, v0, v1

    div-int/2addr v2, v3

    aget v4, v0, v1

    rem-int/2addr v4, v3

    aget v0, v0, v8

    invoke-direct {p0, v2, v4, v0}, Lorg/telegram/ui/PhotoViewer;->format(III)Ljava/lang/String;

    move-result-object v0

    goto :goto_2

    .line 8182
    :cond_6
    aget v2, v0, v1

    aget v0, v0, v8

    invoke-direct {p0, v2, v0}, Lorg/telegram/ui/PhotoViewer;->format(II)Ljava/lang/String;

    move-result-object v0

    .line 8184
    :goto_2
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTotalTime:[I

    aget v4, v2, v1

    if-lt v4, v3, :cond_7

    .line 8185
    aget v4, v2, v1

    div-int/2addr v4, v3

    aget v1, v2, v1

    rem-int/2addr v1, v3

    aget v2, v2, v8

    invoke-direct {p0, v4, v1, v2}, Lorg/telegram/ui/PhotoViewer;->format(III)Ljava/lang/String;

    move-result-object v1

    goto :goto_3

    .line 8187
    :cond_7
    aget v1, v2, v1

    aget v2, v2, v8

    invoke-direct {p0, v1, v2}, Lorg/telegram/ui/PhotoViewer;->format(II)Ljava/lang/String;

    move-result-object v1

    .line 8190
    :goto_3
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTime:Lorg/telegram/ui/ActionBar/SimpleTextView;

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    const-string v0, " / "

    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v3, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-virtual {v2, v0}, Lorg/telegram/ui/ActionBar/SimpleTextView;->setText(Ljava/lang/CharSequence;)Z

    .line 8191
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->lastControlFrameDuration:Ljava/lang/String;

    invoke-static {v0, v1}, Ljava/util/Objects;->equals(Ljava/lang/Object;Ljava/lang/Object;)Z

    move-result v0

    if-nez v0, :cond_8

    .line 8192
    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->lastControlFrameDuration:Ljava/lang/String;

    .line 8193
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    invoke-virtual {v0}, Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;->requestLayout()V

    :cond_8
    return-void
.end method

.method private updateVideoSeekPreviewPosition()V
    .locals 4

    .line 7761
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->getThumbX()I

    move-result v0

    const/high16 v1, 0x40000000    # 2.0f

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v1

    add-int/2addr v0, v1

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    invoke-virtual {v1}, Landroid/view/View;->getMeasuredWidth()I

    move-result v1

    div-int/lit8 v1, v1, 0x2

    sub-int/2addr v0, v1

    const/high16 v1, 0x41200000    # 10.0f

    .line 7762
    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v2

    .line 7763
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v3

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v1

    sub-int/2addr v3, v1

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    invoke-virtual {v1}, Landroid/view/View;->getMeasuredWidth()I

    move-result v1

    div-int/lit8 v1, v1, 0x2

    sub-int/2addr v3, v1

    if-ge v0, v2, :cond_0

    move v0, v2

    goto :goto_0

    :cond_0
    if-lt v0, v3, :cond_1

    move v0, v3

    .line 7769
    :cond_1
    :goto_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    int-to-float v0, v0

    invoke-virtual {v1, v0}, Landroid/view/View;->setTranslationX(F)V

    return-void
.end method

.method private updateWidthHeightBitrateForCompression()V
    .locals 6

    .line 17909
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    if-gtz v0, :cond_0

    return-void

    .line 17912
    :cond_0
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    const/4 v2, 0x1

    if-lt v0, v1, :cond_1

    .line 17913
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    sub-int/2addr v0, v2

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    .line 17916
    :cond_1
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v0, v2, :cond_2

    .line 17917
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    int-to-float v0, v0

    const/high16 v1, 0x44480000    # 800.0f

    div-float v0, v1, v0

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    int-to-float v3, v3

    div-float/2addr v1, v3

    invoke-static {v0, v1}, Ljava/lang/Math;->max(FF)F

    move-result v0

    .line 17918
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    int-to-float v1, v1

    mul-float v1, v1, v0

    const/high16 v3, 0x40000000    # 2.0f

    div-float/2addr v1, v3

    invoke-static {v1}, Ljava/lang/Math;->round(F)I

    move-result v1

    mul-int/lit8 v1, v1, 0x2

    iput v1, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    .line 17919
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    int-to-float v1, v1

    mul-float v1, v1, v0

    div-float/2addr v1, v3

    invoke-static {v1}, Ljava/lang/Math;->round(F)I

    move-result v0

    mul-int/lit8 v0, v0, 0x2

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    goto :goto_0

    .line 17921
    :cond_2
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->calculateResultVideoSize()Lorg/telegram/messenger/camera/Size;

    move-result-object v0

    .line 17922
    invoke-virtual {v0}, Lorg/telegram/messenger/camera/Size;->getWidth()I

    move-result v1

    iput v1, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    .line 17923
    invoke-virtual {v0}, Lorg/telegram/messenger/camera/Size;->getHeight()I

    move-result v0

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    .line 17926
    :goto_0
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    if-eqz v0, :cond_5

    .line 17928
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v0, v2, :cond_3

    const v0, 0x17cdc0

    .line 17929
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    .line 17930
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    goto :goto_1

    .line 17931
    :cond_3
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    const/4 v2, 0x0

    if-ne v0, v1, :cond_4

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    if-ne v0, v1, :cond_4

    .line 17932
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->originalBitrate:I

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    .line 17933
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    invoke-static {v0, v1, v3, v2}, Lorg/telegram/messenger/MediaController;->extractRealEncoderBitrate(IIIZ)I

    move-result v0

    goto :goto_1

    .line 17935
    :cond_4
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->originalBitrate:I

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    invoke-static {v0, v1, v3, v4, v5}, Lorg/telegram/messenger/MediaController;->makeVideoBitrate(IIIII)I

    move-result v0

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    .line 17936
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    invoke-static {v0, v1, v3, v2}, Lorg/telegram/messenger/MediaController;->extractRealEncoderBitrate(IIIZ)I

    move-result v0

    .line 17938
    :goto_1
    div-int/lit8 v0, v0, 0x8

    int-to-float v0, v0

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    mul-float v0, v0, v1

    const/high16 v1, 0x447a0000    # 1000.0f

    div-float/2addr v0, v1

    float-to-long v0, v0

    iput-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->videoFramesSize:J

    :cond_5
    return-void
.end method

.method private useFullWidthSendButton()Z
    .locals 2

    .line 1124
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->setAvatarFor:Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;

    if-eqz v0, :cond_0

    iget-boolean v1, v0, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->self:Z

    if-eqz v1, :cond_0

    iget-boolean v0, v0, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->isVideo:Z

    if-nez v0, :cond_0

    const/4 v0, 0x1

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    :goto_0
    return v0
.end method


# virtual methods
.method public addPhoto(Lorg/telegram/messenger/MessageObject;I)V
    .locals 2

    .line 1062
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    if-eq p2, v0, :cond_0

    return-void

    .line 1066
    :cond_0
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imagesByIds:[Landroid/util/SparseArray;

    const/4 v0, 0x0

    aget-object p2, p2, v0

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v1

    invoke-virtual {p2, v1}, Landroid/util/SparseArray;->indexOfKey(I)I

    move-result p2

    if-gez p2, :cond_2

    .line 1067
    iget-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->opennedFromMedia:Z

    if-eqz p2, :cond_1

    .line 1068
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {p2, p1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_0

    .line 1070
    :cond_1
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {p2, v0, p1}, Ljava/util/ArrayList;->add(ILjava/lang/Object;)V

    .line 1072
    :goto_0
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imagesByIds:[Landroid/util/SparseArray;

    aget-object p2, p2, v0

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v1

    invoke-virtual {p2, v1, p1}, Landroid/util/SparseArray;->put(ILjava/lang/Object;)V

    .line 1074
    :cond_2
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->endReached:[Z

    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {p2}, Ljava/util/ArrayList;->size()I

    move-result p2

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    if-ne p2, v1, :cond_3

    const/4 p2, 0x1

    goto :goto_1

    :cond_3
    const/4 p2, 0x0

    :goto_1
    aput-boolean p2, p1, v0

    .line 1075
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->setImages()V

    return-void
.end method

.method public canDoubleTap(Landroid/view/MotionEvent;)Z
    .locals 7

    .line 17218
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {v0}, Landroid/view/View;->getVisibility()I

    move-result v0

    const/4 v1, 0x1

    if-eqz v0, :cond_3

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->drawPressedDrawable:[Z

    const/4 v2, 0x0

    aget-boolean v3, v0, v2

    if-nez v3, :cond_3

    aget-boolean v0, v0, v1

    if-nez v0, :cond_3

    .line 17219
    invoke-virtual {p1}, Landroid/view/MotionEvent;->getX()F

    move-result v0

    const/16 v3, 0x87

    .line 17220
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v4

    div-int/lit8 v4, v4, 0x8

    invoke-static {v3, v4}, Ljava/lang/Math;->min(II)I

    move-result v3

    int-to-float v4, v3

    cmpg-float v4, v0, v4

    if-ltz v4, :cond_0

    .line 17221
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v4

    sub-int/2addr v4, v3

    int-to-float v3, v4

    cmpl-float v0, v0, v3

    if-lez v0, :cond_3

    .line 17222
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v0, :cond_3

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v0

    if-nez v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_2

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v0

    if-eqz v0, :cond_2

    :cond_1
    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v3

    iget-wide v5, p0, Lorg/telegram/ui/PhotoViewer;->lastPhotoSetTime:J

    sub-long/2addr v3, v5

    const-wide/16 v5, 0x1f4

    cmp-long v0, v3, v5

    if-ltz v0, :cond_2

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->canDoubleTapSeekVideo(Landroid/view/MotionEvent;)Z

    move-result p1

    if-eqz p1, :cond_2

    goto :goto_0

    :cond_2
    const/4 v1, 0x0

    :cond_3
    :goto_0
    return v1
.end method

.method public checkCurrentImageVisibility()V
    .locals 6

    .line 14022
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    const/4 v1, 0x1

    if-eqz v0, :cond_0

    .line 14023
    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v1, v1}, Lorg/telegram/messenger/ImageReceiver;->setVisible(ZZ)V

    .line 14025
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    const/4 v2, 0x0

    if-nez v0, :cond_1

    const/4 v0, 0x0

    goto :goto_0

    :cond_1
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    invoke-static {v4}, Lorg/telegram/ui/PhotoViewer;->getFileLocation(Lorg/telegram/messenger/ImageLocation;)Lorg/telegram/tgnet/TLRPC$FileLocation;

    move-result-object v4

    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v3, v4, v5, v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getPlaceForPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;IZ)Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    move-result-object v0

    :goto_0
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    if-eqz v0, :cond_2

    .line 14027
    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v2, v1}, Lorg/telegram/messenger/ImageReceiver;->setVisible(ZZ)V

    :cond_2
    return-void
.end method

.method public checkFullscreenButton()V
    .locals 13

    .line 8883
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    const/4 v1, 0x3

    const/4 v2, 0x4

    const/4 v3, 0x0

    if-eqz v0, :cond_1

    :goto_0
    if-ge v3, v1, :cond_0

    .line 8885
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v0, v0, v3

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    add-int/lit8 v3, v3, 0x1

    goto :goto_0

    :cond_0
    return-void

    :cond_1
    const/4 v0, 0x0

    :goto_1
    if-ge v0, v1, :cond_16

    .line 8890
    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    const/4 v5, 0x2

    const/4 v6, 0x1

    if-ne v0, v6, :cond_2

    add-int/lit8 v4, v4, 0x1

    goto :goto_2

    :cond_2
    if-ne v0, v5, :cond_3

    add-int/lit8 v4, v4, -0x1

    :cond_3
    :goto_2
    if-ltz v4, :cond_15

    .line 8896
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->size()I

    move-result v7

    if-lt v4, v7, :cond_4

    goto/16 :goto_b

    .line 8900
    :cond_4
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v7, v4}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lorg/telegram/messenger/MessageObject;

    .line 8901
    invoke-virtual {v4}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v7

    if-nez v7, :cond_5

    invoke-virtual {v4}, Lorg/telegram/messenger/MessageObject;->isYouTubeVideo()Z

    move-result v7

    if-nez v7, :cond_5

    .line 8902
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v4, v4, v0

    invoke-virtual {v4, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    goto/16 :goto_c

    .line 8905
    :cond_5
    invoke-virtual {v4}, Lorg/telegram/messenger/MessageObject;->isYouTubeVideo()Z

    move-result v7

    if-eqz v7, :cond_6

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v7, :cond_6

    invoke-virtual {v7}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v7

    invoke-virtual {v4}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v8

    if-ne v7, v8, :cond_6

    const/4 v7, 0x1

    goto :goto_3

    :cond_6
    const/4 v7, 0x0

    :goto_3
    if-eqz v7, :cond_7

    .line 8906
    iget-object v8, v4, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v8, v8, Lorg/telegram/tgnet/TLRPC$Message;->media:Lorg/telegram/tgnet/TLRPC$MessageMedia;

    iget-object v8, v8, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    iget v8, v8, Lorg/telegram/tgnet/TLRPC$WebPage;->embed_width:I

    goto :goto_4

    :cond_7
    if-nez v0, :cond_8

    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v8, :cond_8

    invoke-virtual {v8}, Landroid/view/TextureView;->getMeasuredWidth()I

    move-result v8

    goto :goto_4

    :cond_8
    const/4 v8, 0x0

    :goto_4
    if-eqz v7, :cond_9

    .line 8907
    iget-object v7, v4, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v7, v7, Lorg/telegram/tgnet/TLRPC$Message;->media:Lorg/telegram/tgnet/TLRPC$MessageMedia;

    iget-object v7, v7, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    iget v7, v7, Lorg/telegram/tgnet/TLRPC$WebPage;->embed_height:I

    goto :goto_5

    :cond_9
    if-nez v0, :cond_a

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v7, :cond_a

    invoke-virtual {v7}, Landroid/view/TextureView;->getMeasuredHeight()I

    move-result v7

    goto :goto_5

    :cond_a
    const/4 v7, 0x0

    .line 8908
    :goto_5
    invoke-virtual {v4}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v4

    if-eqz v4, :cond_c

    .line 8910
    iget-object v9, v4, Lorg/telegram/tgnet/TLRPC$Document;->attributes:Ljava/util/ArrayList;

    invoke-virtual {v9}, Ljava/util/ArrayList;->size()I

    move-result v9

    const/4 v10, 0x0

    :goto_6
    if-ge v10, v9, :cond_c

    .line 8911
    iget-object v11, v4, Lorg/telegram/tgnet/TLRPC$Document;->attributes:Ljava/util/ArrayList;

    invoke-virtual {v11, v10}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v11

    check-cast v11, Lorg/telegram/tgnet/TLRPC$DocumentAttribute;

    .line 8912
    instance-of v12, v11, Lorg/telegram/tgnet/TLRPC$TL_documentAttributeVideo;

    if-eqz v12, :cond_b

    .line 8913
    iget v8, v11, Lorg/telegram/tgnet/TLRPC$DocumentAttribute;->w:I

    .line 8914
    iget v7, v11, Lorg/telegram/tgnet/TLRPC$DocumentAttribute;->h:I

    goto :goto_7

    :cond_b
    add-int/lit8 v10, v10, 0x1

    goto :goto_6

    .line 8919
    :cond_c
    :goto_7
    sget-object v4, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v9, v4, Landroid/graphics/Point;->y:I

    iget v4, v4, Landroid/graphics/Point;->x:I

    const/high16 v10, 0x42400000    # 48.0f

    if-le v9, v4, :cond_f

    if-le v8, v7, :cond_f

    .line 8920
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v4, v4, v0

    invoke-virtual {v4}, Landroid/widget/ImageView;->getVisibility()I

    move-result v4

    if-eqz v4, :cond_d

    .line 8921
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v4, v4, v0

    invoke-virtual {v4, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 8923
    :cond_d
    iget-boolean v4, p0, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-eqz v4, :cond_e

    .line 8924
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v4, v4, v0

    const/high16 v9, 0x3f800000    # 1.0f

    invoke-virtual {v4, v9}, Landroid/widget/ImageView;->setAlpha(F)V

    :cond_e
    int-to-float v4, v8

    .line 8926
    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v8}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v8

    int-to-float v8, v8

    div-float/2addr v4, v8

    int-to-float v7, v7

    div-float/2addr v7, v4

    float-to-int v4, v7

    .line 8928
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v7, v7, v0

    invoke-virtual {v7}, Landroid/widget/ImageView;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

    move-result-object v7

    check-cast v7, Landroid/widget/FrameLayout$LayoutParams;

    .line 8929
    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v8}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result v8

    add-int/2addr v8, v4

    div-int/2addr v8, v5

    invoke-static {v10}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v4

    sub-int/2addr v8, v4

    iput v8, v7, Landroid/widget/FrameLayout$LayoutParams;->topMargin:I

    goto :goto_8

    .line 8931
    :cond_f
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v4, v4, v0

    invoke-virtual {v4}, Landroid/widget/ImageView;->getVisibility()I

    move-result v4

    if-eq v4, v2, :cond_10

    .line 8932
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v4, v4, v0

    invoke-virtual {v4, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 8937
    :cond_10
    :goto_8
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    if-eqz v4, :cond_11

    .line 8938
    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v7, p0, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    sub-float/2addr v7, v4

    iget v8, p0, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    mul-float v7, v7, v8

    add-float/2addr v4, v7

    goto :goto_9

    .line 8940
    :cond_11
    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    :goto_9
    const/4 v7, 0x0

    if-ne v0, v6, :cond_12

    goto :goto_a

    :cond_12
    if-ne v0, v5, :cond_13

    .line 8946
    sget-object v5, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v5, v5, Landroid/graphics/Point;->x:I

    neg-int v5, v5

    const/high16 v6, 0x41700000    # 15.0f

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v6

    sub-int/2addr v5, v6

    int-to-float v5, v5

    iget v6, p0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    sub-float/2addr v4, v6

    add-float v7, v5, v4

    goto :goto_a

    .line 8948
    :cond_13
    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpg-float v6, v4, v5

    if-gez v6, :cond_14

    sub-float/2addr v4, v5

    move v7, v4

    .line 8950
    :cond_14
    :goto_a
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v4, v4, v0

    sget-object v5, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v5, v5, Landroid/graphics/Point;->x:I

    int-to-float v5, v5

    add-float/2addr v7, v5

    invoke-static {v10}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v5

    int-to-float v5, v5

    sub-float/2addr v7, v5

    invoke-virtual {v4, v7}, Landroid/widget/ImageView;->setTranslationX(F)V

    goto :goto_c

    .line 8897
    :cond_15
    :goto_b
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v4, v4, v0

    invoke-virtual {v4, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    :goto_c
    add-int/lit8 v0, v0, 0x1

    goto/16 :goto_1

    :cond_16
    return-void
.end method

.method public closePhoto(ZZ)V
    .locals 27

    move-object/from16 v1, p0

    const/4 v2, 0x3

    const/4 v3, 0x1

    const/4 v4, 0x0

    if-nez p2, :cond_2

    .line 14931
    iget v0, v1, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eqz v0, :cond_2

    if-ne v0, v2, :cond_0

    .line 14932
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v2, :cond_0

    .line 14933
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->closePaintMode()V

    return-void

    :cond_0
    if-ne v0, v3, :cond_1

    .line 14937
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    iget-boolean v6, v1, Lorg/telegram/ui/PhotoViewer;->previousHasTransform:Z

    iget v7, v1, Lorg/telegram/ui/PhotoViewer;->previousCropPx:F

    iget v8, v1, Lorg/telegram/ui/PhotoViewer;->previousCropPy:F

    iget v9, v1, Lorg/telegram/ui/PhotoViewer;->previousCropRotation:F

    iget v10, v1, Lorg/telegram/ui/PhotoViewer;->previousCropOrientation:I

    iget v11, v1, Lorg/telegram/ui/PhotoViewer;->previousCropScale:F

    const/high16 v12, 0x3f800000    # 1.0f

    const/high16 v13, 0x3f800000    # 1.0f

    iget v14, v1, Lorg/telegram/ui/PhotoViewer;->previousCropPw:F

    iget v15, v1, Lorg/telegram/ui/PhotoViewer;->previousCropPh:F

    const/16 v16, 0x0

    const/16 v17, 0x0

    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->previousCropMirrored:Z

    move/from16 v18, v0

    invoke-virtual/range {v5 .. v18}, Lorg/telegram/ui/Components/Crop/CropTransform;->setViewTransform(ZFFFIFFFFFFFZ)V

    .line 14939
    :cond_1
    invoke-virtual {v1, v4}, Lorg/telegram/ui/PhotoViewer;->switchToEditMode(I)V

    return-void

    .line 14942
    :cond_2
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    if-eqz v0, :cond_3

    invoke-virtual {v0}, Landroid/view/View;->getTag()Ljava/lang/Object;

    move-result-object v0

    if-eqz v0, :cond_3

    .line 14943
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v0, v0, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->cancelButton:Landroid/widget/TextView;

    invoke-virtual {v0}, Landroid/widget/TextView;->callOnClick()Z

    return-void

    .line 14946
    :cond_3
    iput-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->isVisibleOrAnimating:Z

    .line 14947
    iput-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->openedFullScreenVideo:Z

    const/4 v5, 0x0

    .line 14949
    :try_start_0
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->visibleDialog:Lorg/telegram/ui/ActionBar/AlertDialog;

    if-eqz v0, :cond_4

    .line 14950
    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/AlertDialog;->dismiss()V

    .line 14951
    iput-object v5, v1, Lorg/telegram/ui/PhotoViewer;->visibleDialog:Lorg/telegram/ui/ActionBar/AlertDialog;
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_0

    :catch_0
    move-exception v0

    .line 14954
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    .line 14956
    :cond_4
    :goto_0
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v6, 0x15

    if-lt v0, v6, :cond_5

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    if-eqz v0, :cond_5

    .line 14957
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->updateContainerFlagsRunnable:Ljava/lang/Runnable;

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    .line 14958
    invoke-direct {v1, v3}, Lorg/telegram/ui/PhotoViewer;->updateContainerFlags(Z)V

    .line 14960
    :cond_5
    iget v0, v1, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/16 v7, 0x8

    const/4 v8, 0x2

    if-eqz v0, :cond_a

    if-ne v0, v8, :cond_6

    .line 14962
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoFilterView;->shutdown()V

    .line 14963
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v9, v1, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v0, v9}, Landroid/widget/FrameLayout;->removeView(Landroid/view/View;)V

    .line 14964
    iput-object v5, v1, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    goto :goto_1

    :cond_6
    if-ne v0, v3, :cond_7

    .line 14966
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    invoke-virtual {v0, v7}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 14967
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v0, v7}, Landroid/widget/FrameLayout;->setVisibility(I)V

    goto :goto_1

    :cond_7
    if-ne v0, v2, :cond_8

    .line 14969
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->shutdown()V

    .line 14970
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v9, v1, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v9}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getView()Landroid/view/View;

    move-result-object v9

    invoke-virtual {v0, v9}, Landroid/widget/FrameLayout;->removeView(Landroid/view/View;)V

    .line 14971
    iput-object v5, v1, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    .line 14972
    iput-object v5, v1, Lorg/telegram/ui/PhotoViewer;->savedState:Lorg/telegram/ui/PhotoViewer$SavedState;

    .line 14974
    :cond_8
    :goto_1
    iput v4, v1, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    .line 14975
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->keyboardNotifier:Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;

    invoke-virtual {v0, v4}, Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;->ignore(Z)V

    .line 14976
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->paintKeyboardNotifier:Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;

    if-eqz v0, :cond_a

    .line 14977
    iget v9, v1, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v9, v2, :cond_9

    const/4 v9, 0x1

    goto :goto_2

    :cond_9
    const/4 v9, 0x0

    :goto_2
    invoke-virtual {v0, v9}, Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;->ignore(Z)V

    .line 14981
    :cond_a
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    if-eqz v0, :cond_b

    .line 14982
    invoke-virtual {v0, v4}, Landroid/view/View;->setVisibility(I)V

    .line 14984
    :cond_b
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    if-eqz v0, :cond_c

    .line 14985
    invoke-virtual {v0, v4}, Landroid/widget/FrameLayout;->setClipChildren(Z)V

    .line 14988
    :cond_c
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-eqz v0, :cond_42

    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->isInline:Z

    if-nez v0, :cond_d

    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-eqz v0, :cond_42

    :cond_d
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->checkAnimation()Z

    move-result v0

    if-nez v0, :cond_42

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-nez v0, :cond_e

    goto/16 :goto_1e

    .line 14994
    :cond_e
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-eqz v0, :cond_f

    iget v9, v1, Lorg/telegram/ui/PhotoViewer;->fullscreenedByButton:I

    if-eqz v9, :cond_f

    .line 14995
    iget v9, v1, Lorg/telegram/ui/PhotoViewer;->prevOrientation:I

    invoke-virtual {v0, v9}, Landroid/app/Activity;->setRequestedOrientation(I)V

    .line 14996
    iput v4, v1, Lorg/telegram/ui/PhotoViewer;->fullscreenedByButton:I

    .line 14997
    iput-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->wasRotated:Z

    .line 14999
    :cond_f
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->doneButtonPressed:Z

    if-nez v0, :cond_10

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_10

    iget v0, v1, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz v0, :cond_10

    iget-object v9, v1, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v9}, Ljava/util/ArrayList;->size()I

    move-result v9

    if-ge v0, v9, :cond_10

    .line 15000
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v9, v1, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v0, v9}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    .line 15001
    instance-of v9, v0, Lorg/telegram/messenger/MediaController$MediaEditState;

    if-eqz v9, :cond_10

    .line 15002
    check-cast v0, Lorg/telegram/messenger/MediaController$MediaEditState;

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoEditedInfo()Lorg/telegram/messenger/VideoEditedInfo;

    move-result-object v9

    iput-object v9, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->editedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    .line 15006
    :cond_10
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    const/high16 v9, 0x3f800000    # 1.0f

    if-eqz v0, :cond_11

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v0

    if-eqz v0, :cond_11

    .line 15007
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v0

    .line 15008
    invoke-virtual {v0}, Landroid/view/View;->getScaleX()F

    move-result v10

    .line 15009
    invoke-virtual {v0}, Landroid/view/View;->getScaleY()F

    move-result v11

    .line 15010
    invoke-virtual {v0, v9}, Landroid/view/View;->setScaleX(F)V

    .line 15011
    invoke-virtual {v0, v9}, Landroid/view/View;->setScaleY(F)V

    .line 15013
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

    if-eqz v0, :cond_12

    .line 15014
    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BottomSheet;->getContainer()Lorg/telegram/ui/ActionBar/BottomSheet$ContainerView;

    move-result-object v0

    .line 15015
    invoke-virtual {v0}, Landroid/view/View;->getScaleX()F

    move-result v12

    .line 15016
    invoke-virtual {v0}, Landroid/view/View;->getScaleY()F

    move-result v13

    .line 15017
    invoke-virtual {v0, v9}, Landroid/view/View;->setScaleX(F)V

    .line 15018
    invoke-virtual {v0, v9}, Landroid/view/View;->setScaleY(F)V

    goto :goto_3

    :cond_11
    const/high16 v10, 0x3f800000    # 1.0f

    const/high16 v11, 0x3f800000    # 1.0f

    :cond_12
    const/high16 v12, 0x3f800000    # 1.0f

    const/high16 v13, 0x3f800000    # 1.0f

    .line 15021
    :goto_3
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v0, :cond_13

    .line 15022
    iget v14, v1, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v14}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->onReleasePlayerBeforeClose(I)V

    .line 15024
    :cond_13
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget-object v14, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v15, v1, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    invoke-static {v15}, Lorg/telegram/ui/PhotoViewer;->getFileLocation(Lorg/telegram/messenger/ImageLocation;)Lorg/telegram/tgnet/TLRPC$FileLocation;

    move-result-object v15

    iget v7, v1, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v14, v15, v7, v3}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getPlaceForPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;IZ)Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    move-result-object v7

    .line 15025
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    const/4 v14, 0x0

    if-eqz v0, :cond_18

    if-eqz v7, :cond_18

    .line 15026
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getAnimation()Lorg/telegram/ui/Components/AnimatedFileDrawable;

    move-result-object v15

    if-eqz v15, :cond_18

    .line 15028
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    if-eqz v0, :cond_15

    .line 15029
    invoke-virtual {v15}, Lorg/telegram/ui/Components/AnimatedFileDrawable;->getAnimatedBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    if-eqz v0, :cond_15

    .line 15031
    iget-boolean v6, v1, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v6, :cond_14

    .line 15032
    iget-object v6, v1, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    invoke-static {v6, v0}, Lorg/telegram/messenger/AndroidUtilities;->getBitmapFromSurface(Landroid/view/SurfaceView;Landroid/graphics/Bitmap;)V

    goto :goto_4

    .line 15035
    :cond_14
    :try_start_1
    iget-object v6, v1, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v8

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v2

    invoke-virtual {v6, v8, v2}, Landroid/view/TextureView;->getBitmap(II)Landroid/graphics/Bitmap;

    move-result-object v2

    .line 15036
    new-instance v6, Landroid/graphics/Canvas;

    invoke-direct {v6, v0}, Landroid/graphics/Canvas;-><init>(Landroid/graphics/Bitmap;)V

    .line 15037
    invoke-virtual {v6, v2, v14, v14, v5}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;FFLandroid/graphics/Paint;)V

    .line 15038
    invoke-virtual {v2}, Landroid/graphics/Bitmap;->recycle()V
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    goto :goto_4

    :catchall_0
    move-exception v0

    .line 15040
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    .line 15045
    :cond_15
    :goto_4
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v0, :cond_17

    .line 15046
    invoke-virtual {v15}, Lorg/telegram/ui/Components/AnimatedFileDrawable;->getStartTime()J

    move-result-wide v19

    .line 15047
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getCurrentPosition()J

    move-result-wide v21

    const-wide/16 v23, 0x0

    cmp-long v0, v19, v23

    move v6, v10

    if-lez v0, :cond_16

    goto :goto_5

    :cond_16
    move-wide/from16 v19, v23

    :goto_5
    add-long v9, v21, v19

    .line 15048
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget v0, v0, Lorg/telegram/messenger/MessageObject;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v0

    iget-object v8, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v8}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v8

    invoke-virtual {v0, v8, v3}, Lorg/telegram/messenger/FileLoader;->isLoadingVideo(Lorg/telegram/tgnet/TLRPC$Document;Z)Z

    move-result v0

    xor-int/2addr v0, v3

    invoke-virtual {v15, v9, v10, v0}, Lorg/telegram/ui/Components/AnimatedFileDrawable;->seekTo(JZ)V

    goto :goto_6

    :cond_17
    move v6, v10

    .line 15050
    :goto_6
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v3}, Lorg/telegram/messenger/ImageReceiver;->setAllowStartAnimation(Z)V

    .line 15051
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->startAnimation()V

    goto :goto_7

    :cond_18
    move v6, v10

    .line 15054
    :goto_7
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->doneButtonPressed:Z

    if-nez v0, :cond_19

    .line 15055
    invoke-direct {v1, v3}, Lorg/telegram/ui/PhotoViewer;->releasePlayer(Z)V

    .line 15057
    :cond_19
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_1a

    .line 15058
    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->release()V

    .line 15059
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v8, v1, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v0, v8}, Landroid/widget/FrameLayout;->removeView(Landroid/view/View;)V

    .line 15060
    iput-object v5, v1, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    .line 15063
    :cond_1a
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v0, :cond_1b

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v0

    if-eqz v0, :cond_1b

    .line 15064
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v0

    invoke-virtual {v0}, Landroid/view/View;->invalidate()V

    .line 15066
    :cond_1b
    iput-object v5, v1, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    .line 15067
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->removeObservers()V

    .line 15069
    iput-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    .line 15071
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    if-eqz v0, :cond_1c

    .line 15072
    invoke-virtual {v0}, Landroid/view/VelocityTracker;->recycle()V

    .line 15073
    iput-object v5, v1, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    .line 15076
    :cond_1c
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->isInline:Z

    if-eqz v0, :cond_1d

    .line 15077
    iput-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->isInline:Z

    .line 15078
    iput v4, v1, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    .line 15079
    invoke-direct {v1, v7}, Lorg/telegram/ui/PhotoViewer;->onPhotoClosed(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    .line 15080
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/high16 v2, 0x3f800000    # 1.0f

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setScaleX(F)V

    .line 15081
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setScaleY(F)V

    move/from16 v16, v12

    move/from16 v25, v13

    goto/16 :goto_1d

    :cond_1d
    if-eqz p1, :cond_3d

    .line 15084
    invoke-direct {v1, v7}, Lorg/telegram/ui/PhotoViewer;->getAnimatingImageViews(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)[Lorg/telegram/ui/Components/ClippingImageView;

    move-result-object v15

    const/4 v5, 0x0

    .line 15086
    :goto_8
    array-length v8, v15

    if-ge v5, v8, :cond_1e

    .line 15087
    aget-object v8, v15, v5

    iget-object v9, v1, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    invoke-virtual {v8, v9}, Lorg/telegram/ui/Components/ClippingImageView;->setAnimationValues([[F)V

    .line 15088
    aget-object v8, v15, v5

    invoke-virtual {v8, v4}, Landroid/view/View;->setVisibility(I)V

    add-int/lit8 v5, v5, 0x1

    goto :goto_8

    :cond_1e
    const/4 v5, 0x3

    .line 15091
    iput v5, v1, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    .line 15092
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v5}, Landroid/widget/FrameLayout;->invalidate()V

    .line 15094
    new-instance v5, Landroid/animation/AnimatorSet;

    invoke-direct {v5}, Landroid/animation/AnimatorSet;-><init>()V

    .line 15096
    iget-object v8, v1, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v8}, Landroid/view/View;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

    move-result-object v8

    if-eqz v7, :cond_20

    .line 15099
    iget-object v9, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v9}, Lorg/telegram/messenger/ImageReceiver;->getDrawRegion()Landroid/graphics/RectF;

    move-result-object v9

    .line 15100
    invoke-virtual {v9}, Landroid/graphics/RectF;->width()F

    move-result v2

    float-to-int v2, v2

    iput v2, v8, Landroid/view/ViewGroup$LayoutParams;->width:I

    .line 15101
    invoke-virtual {v9}, Landroid/graphics/RectF;->height()F

    move-result v2

    float-to-int v2, v2

    iput v2, v8, Landroid/view/ViewGroup$LayoutParams;->height:I

    .line 15102
    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v2}, Lorg/telegram/messenger/ImageReceiver;->getOrientation()I

    move-result v2

    .line 15103
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getAnimatedOrientation()I

    move-result v0

    if-eqz v0, :cond_1f

    move v2, v0

    :cond_1f
    const/4 v0, 0x0

    .line 15107
    :goto_9
    array-length v10, v15

    if-ge v0, v10, :cond_22

    .line 15108
    aget-object v10, v15, v0

    iget-object v14, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v14}, Lorg/telegram/messenger/ImageReceiver;->getInvert()I

    move-result v14

    invoke-virtual {v10, v2, v14}, Lorg/telegram/ui/Components/ClippingImageView;->setOrientation(II)V

    .line 15109
    aget-object v10, v15, v0

    iget-object v14, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->thumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    invoke-virtual {v10, v14}, Lorg/telegram/ui/Components/ClippingImageView;->setImageBitmap(Lorg/telegram/messenger/ImageReceiver$BitmapHolder;)V

    add-int/lit8 v0, v0, 0x1

    const/4 v14, 0x0

    goto :goto_9

    .line 15112
    :cond_20
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getImageWidth()F

    move-result v0

    float-to-int v0, v0

    iput v0, v8, Landroid/view/ViewGroup$LayoutParams;->width:I

    .line 15113
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getImageHeight()F

    move-result v0

    float-to-int v0, v0

    iput v0, v8, Landroid/view/ViewGroup$LayoutParams;->height:I

    const/4 v0, 0x0

    .line 15114
    :goto_a
    array-length v2, v15

    if-ge v0, v2, :cond_21

    .line 15115
    aget-object v2, v15, v0

    iget-object v9, v1, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v9}, Lorg/telegram/messenger/ImageReceiver;->getOrientation()I

    move-result v9

    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v10}, Lorg/telegram/messenger/ImageReceiver;->getInvert()I

    move-result v10

    invoke-virtual {v2, v9, v10}, Lorg/telegram/ui/Components/ClippingImageView;->setOrientation(II)V

    .line 15116
    aget-object v2, v15, v0

    iget-object v9, v1, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v9}, Lorg/telegram/messenger/ImageReceiver;->getBitmapSafe()Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    move-result-object v9

    invoke-virtual {v2, v9}, Lorg/telegram/ui/Components/ClippingImageView;->setImageBitmap(Lorg/telegram/messenger/ImageReceiver$BitmapHolder;)V

    add-int/lit8 v0, v0, 0x1

    goto :goto_a

    :cond_21
    const/4 v9, 0x0

    .line 15119
    :cond_22
    iget v0, v8, Landroid/view/ViewGroup$LayoutParams;->width:I

    const/16 v2, 0x64

    if-gtz v0, :cond_23

    .line 15120
    iput v2, v8, Landroid/view/ViewGroup$LayoutParams;->width:I

    .line 15122
    :cond_23
    iget v0, v8, Landroid/view/ViewGroup$LayoutParams;->height:I

    if-gtz v0, :cond_24

    .line 15123
    iput v2, v8, Landroid/view/ViewGroup$LayoutParams;->height:I

    .line 15129
    :cond_24
    iget v0, v1, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v0, v3, :cond_26

    .line 15130
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v0

    if-eqz v0, :cond_25

    sget v0, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    goto :goto_b

    :cond_25
    const/4 v0, 0x0

    :goto_b
    int-to-float v0, v0

    .line 15131
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result v2

    int-to-float v2, v2

    const/high16 v10, 0x42800000    # 64.0f

    invoke-static {v10}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v10

    int-to-float v10, v10

    sub-float/2addr v2, v10

    sub-float/2addr v2, v0

    .line 15132
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v0

    int-to-float v0, v0

    invoke-static {v0, v2}, Ljava/lang/Math;->min(FF)F

    move-result v0

    const/high16 v2, 0x41800000    # 16.0f

    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v2

    const/4 v10, 0x2

    mul-int/lit8 v2, v2, 0x2

    int-to-float v2, v2

    sub-float/2addr v0, v2

    .line 15133
    iget v2, v8, Landroid/view/ViewGroup$LayoutParams;->width:I

    int-to-float v2, v2

    div-float v2, v0, v2

    .line 15134
    iget v10, v8, Landroid/view/ViewGroup$LayoutParams;->height:I

    int-to-float v10, v10

    div-float/2addr v0, v10

    .line 15135
    invoke-static {v2, v0}, Ljava/lang/Math;->max(FF)F

    move-result v0

    goto :goto_d

    .line 15137
    :cond_26
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v0

    int-to-float v0, v0

    iget v2, v8, Landroid/view/ViewGroup$LayoutParams;->width:I

    int-to-float v2, v2

    div-float/2addr v0, v2

    .line 15138
    sget-object v2, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v2, v2, Landroid/graphics/Point;->y:I

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v10

    if-eqz v10, :cond_27

    sget v10, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    goto :goto_c

    :cond_27
    const/4 v10, 0x0

    :goto_c
    add-int/2addr v2, v10

    int-to-float v2, v2

    iget v10, v8, Landroid/view/ViewGroup$LayoutParams;->height:I

    int-to-float v10, v10

    div-float/2addr v2, v10

    .line 15139
    invoke-static {v0, v2}, Ljava/lang/Math;->min(FF)F

    move-result v0

    .line 15141
    :goto_d
    iget v2, v8, Landroid/view/ViewGroup$LayoutParams;->width:I

    int-to-float v2, v2

    iget v10, v1, Lorg/telegram/ui/PhotoViewer;->scale:F

    mul-float v2, v2, v10

    mul-float v2, v2, v0

    .line 15142
    iget v14, v8, Landroid/view/ViewGroup$LayoutParams;->height:I

    int-to-float v14, v14

    mul-float v14, v14, v10

    mul-float v14, v14, v0

    .line 15143
    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v10}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v10

    int-to-float v10, v10

    sub-float/2addr v10, v2

    const/high16 v2, 0x40000000    # 2.0f

    div-float/2addr v10, v2

    .line 15145
    iget v4, v1, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v4, v3, :cond_29

    .line 15146
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v4

    if-eqz v4, :cond_28

    sget v4, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    goto :goto_e

    :cond_28
    const/4 v4, 0x0

    :goto_e
    int-to-float v4, v4

    .line 15147
    iget-object v3, v1, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result v3

    int-to-float v3, v3

    sub-float/2addr v3, v4

    goto :goto_10

    .line 15150
    :cond_29
    sget-object v3, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v3, v3, Landroid/graphics/Point;->y:I

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v4

    if-eqz v4, :cond_2a

    sget v4, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    goto :goto_f

    :cond_2a
    const/4 v4, 0x0

    :goto_f
    add-int/2addr v3, v4

    int-to-float v3, v3

    :goto_10
    sub-float/2addr v3, v14

    div-float/2addr v3, v2

    const/4 v2, 0x0

    .line 15152
    :goto_11
    array-length v4, v15

    if-ge v2, v4, :cond_2b

    .line 15153
    aget-object v4, v15, v2

    invoke-virtual {v4, v8}, Landroid/view/View;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V

    .line 15154
    aget-object v4, v15, v2

    iget v14, v1, Lorg/telegram/ui/PhotoViewer;->translationX:F

    add-float/2addr v14, v10

    invoke-virtual {v4, v14}, Landroid/view/View;->setTranslationX(F)V

    .line 15155
    aget-object v4, v15, v2

    iget v14, v1, Lorg/telegram/ui/PhotoViewer;->translationY:F

    add-float/2addr v14, v3

    invoke-virtual {v4, v14}, Lorg/telegram/ui/Components/ClippingImageView;->setTranslationY(F)V

    .line 15156
    aget-object v4, v15, v2

    iget v14, v1, Lorg/telegram/ui/PhotoViewer;->scale:F

    mul-float v14, v14, v0

    invoke-virtual {v4, v14}, Landroid/view/View;->setScaleX(F)V

    .line 15157
    aget-object v4, v15, v2

    iget v14, v1, Lorg/telegram/ui/PhotoViewer;->scale:F

    mul-float v14, v14, v0

    invoke-virtual {v4, v14}, Landroid/view/View;->setScaleY(F)V

    add-int/lit8 v2, v2, 0x1

    goto :goto_11

    :cond_2b
    if-eqz v7, :cond_39

    .line 15161
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    const/4 v2, 0x1

    const/4 v3, 0x0

    invoke-virtual {v0, v3, v2}, Lorg/telegram/messenger/ImageReceiver;->setVisible(ZZ)V

    .line 15162
    iget v0, v9, Landroid/graphics/RectF;->left:F

    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v2}, Lorg/telegram/messenger/ImageReceiver;->getImageX()F

    move-result v2

    sub-float/2addr v0, v2

    invoke-static {v0}, Ljava/lang/Math;->abs(F)F

    move-result v0

    float-to-int v0, v0

    .line 15163
    iget v2, v9, Landroid/graphics/RectF;->top:F

    iget-object v3, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->getImageY()F

    move-result v3

    sub-float/2addr v2, v3

    invoke-static {v2}, Ljava/lang/Math;->abs(F)F

    move-result v2

    float-to-int v2, v2

    .line 15165
    iget-object v3, v1, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v3, :cond_2c

    iget-object v3, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->isAspectFit()Z

    move-result v3

    if-eqz v3, :cond_2c

    const/4 v0, 0x0

    :cond_2c
    const/4 v3, 0x2

    new-array v4, v3, [I

    .line 15170
    iget-object v3, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->parentView:Landroid/view/View;

    invoke-virtual {v3, v4}, Landroid/view/View;->getLocationInWindow([I)V

    const/4 v3, 0x1

    .line 15171
    aget v8, v4, v3

    sget v3, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v10, 0x15

    if-lt v3, v10, :cond_2d

    const/4 v10, 0x0

    goto :goto_12

    :cond_2d
    sget v10, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    :goto_12
    sub-int/2addr v8, v10

    int-to-float v8, v8

    iget v10, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->viewY:I

    int-to-float v14, v10

    move/from16 v25, v13

    iget v13, v9, Landroid/graphics/RectF;->top:F

    add-float/2addr v14, v13

    sub-float/2addr v8, v14

    iget v14, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->clipTopAddition:I

    int-to-float v14, v14

    add-float/2addr v8, v14

    float-to-int v8, v8

    if-gez v8, :cond_2e

    const/4 v8, 0x0

    :cond_2e
    int-to-float v10, v10

    add-float/2addr v10, v13

    .line 15175
    iget v14, v9, Landroid/graphics/RectF;->bottom:F

    sub-float/2addr v14, v13

    add-float/2addr v10, v14

    const/4 v13, 0x1

    aget v4, v4, v13

    iget-object v13, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->parentView:Landroid/view/View;

    invoke-virtual {v13}, Landroid/view/View;->getHeight()I

    move-result v13

    add-int/2addr v4, v13

    const/16 v13, 0x15

    if-lt v3, v13, :cond_2f

    const/4 v3, 0x0

    goto :goto_13

    :cond_2f
    sget v3, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    :goto_13
    sub-int/2addr v4, v3

    int-to-float v3, v4

    sub-float/2addr v10, v3

    iget v3, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->clipBottomAddition:I

    int-to-float v3, v3

    add-float/2addr v10, v3

    float-to-int v3, v10

    if-gez v3, :cond_30

    const/4 v3, 0x0

    .line 15180
    :cond_30
    invoke-static {v8, v2}, Ljava/lang/Math;->max(II)I

    move-result v4

    .line 15181
    invoke-static {v3, v2}, Ljava/lang/Math;->max(II)I

    move-result v3

    .line 15183
    iget-object v8, v1, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    const/4 v10, 0x0

    aget-object v8, v8, v10

    iget-object v13, v1, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v13}, Landroid/view/View;->getScaleX()F

    move-result v13

    aput v13, v8, v10

    .line 15184
    iget-object v8, v1, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    aget-object v8, v8, v10

    iget-object v13, v1, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v13}, Landroid/view/View;->getScaleY()F

    move-result v13

    const/4 v14, 0x1

    aput v13, v8, v14

    .line 15185
    iget-object v8, v1, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    aget-object v8, v8, v10

    iget-object v13, v1, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v13}, Landroid/view/View;->getTranslationX()F

    move-result v13

    const/4 v14, 0x2

    aput v13, v8, v14

    .line 15186
    iget-object v8, v1, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    aget-object v8, v8, v10

    iget-object v13, v1, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v13}, Lorg/telegram/ui/Components/ClippingImageView;->getTranslationY()F

    move-result v13

    const/4 v14, 0x3

    aput v13, v8, v14

    .line 15187
    iget-object v8, v1, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    aget-object v13, v8, v10

    const/4 v14, 0x4

    const/16 v16, 0x0

    aput v16, v13, v14

    .line 15188
    aget-object v13, v8, v10

    const/4 v14, 0x5

    aput v16, v13, v14

    .line 15189
    aget-object v13, v8, v10

    const/4 v14, 0x6

    aput v16, v13, v14

    .line 15190
    aget-object v13, v8, v10

    const/4 v14, 0x7

    aput v16, v13, v14

    .line 15191
    aget-object v13, v8, v10

    const/16 v14, 0x8

    aput v16, v13, v14

    .line 15192
    aget-object v13, v8, v10

    const/16 v14, 0x9

    aput v16, v13, v14

    .line 15193
    aget-object v13, v8, v10

    const/16 v14, 0xa

    aput v16, v13, v14

    .line 15194
    aget-object v13, v8, v10

    const/16 v14, 0xb

    aput v16, v13, v14

    .line 15195
    aget-object v13, v8, v10

    const/16 v26, 0xc

    aput v16, v13, v26

    const/4 v13, 0x1

    .line 15197
    aget-object v16, v8, v13

    iget v14, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->scale:F

    aput v14, v16, v10

    .line 15198
    aget-object v10, v8, v13

    aput v14, v10, v13

    .line 15199
    aget-object v10, v8, v13

    iget v13, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->viewX:I

    int-to-float v13, v13

    move/from16 v16, v12

    iget v12, v9, Landroid/graphics/RectF;->left:F

    mul-float v12, v12, v14

    add-float/2addr v13, v12

    const/4 v12, 0x2

    aput v13, v10, v12

    const/4 v10, 0x1

    .line 15200
    aget-object v12, v8, v10

    iget v13, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->viewY:I

    int-to-float v13, v13

    iget v9, v9, Landroid/graphics/RectF;->top:F

    mul-float v9, v9, v14

    add-float/2addr v13, v9

    const/4 v9, 0x3

    aput v13, v12, v9

    .line 15201
    aget-object v9, v8, v10

    int-to-float v0, v0

    mul-float v12, v0, v14

    const/4 v13, 0x4

    aput v12, v9, v13

    .line 15202
    aget-object v9, v8, v10

    int-to-float v4, v4

    mul-float v4, v4, v14

    const/4 v12, 0x5

    aput v4, v9, v12

    .line 15203
    aget-object v4, v8, v10

    int-to-float v3, v3

    mul-float v3, v3, v14

    const/4 v8, 0x6

    aput v3, v4, v8

    const/4 v3, 0x0

    :goto_14
    if-ge v3, v13, :cond_32

    .line 15205
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    aget-object v4, v4, v10

    add-int/lit8 v8, v3, 0x7

    iget-object v9, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->radius:[I

    if-eqz v9, :cond_31

    aget v9, v9, v3

    int-to-float v9, v9

    goto :goto_15

    :cond_31
    const/4 v9, 0x0

    :goto_15
    aput v9, v4, v8

    add-int/lit8 v3, v3, 0x1

    const/4 v10, 0x1

    const/4 v13, 0x4

    goto :goto_14

    .line 15207
    :cond_32
    iget-object v3, v1, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    const/4 v4, 0x1

    aget-object v8, v3, v4

    int-to-float v2, v2

    iget v9, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->scale:F

    mul-float v2, v2, v9

    const/16 v10, 0xb

    aput v2, v8, v10

    .line 15208
    aget-object v2, v3, v4

    mul-float v0, v0, v9

    aput v0, v2, v26

    .line 15210
    new-instance v0, Ljava/util/ArrayList;

    iget v2, v1, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v4, :cond_33

    const/4 v2, 0x3

    goto :goto_16

    :cond_33
    const/4 v2, 0x2

    :goto_16
    array-length v3, v15

    add-int/2addr v2, v3

    array-length v3, v15

    if-le v3, v4, :cond_34

    const/4 v3, 0x1

    goto :goto_17

    :cond_34
    const/4 v3, 0x0

    :goto_17
    add-int/2addr v2, v3

    invoke-direct {v0, v2}, Ljava/util/ArrayList;-><init>(I)V

    const/4 v2, 0x0

    .line 15211
    :goto_18
    array-length v3, v15

    if-ge v2, v3, :cond_36

    .line 15212
    aget-object v3, v15, v2

    sget-object v4, Lorg/telegram/ui/Components/AnimationProperties;->CLIPPING_IMAGE_VIEW_PROGRESS:Landroid/util/Property;

    const/4 v8, 0x2

    new-array v9, v8, [F

    fill-array-data v9, :array_0

    invoke-static {v3, v4, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    if-nez v2, :cond_35

    .line 15214
    new-instance v4, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda14;

    invoke-direct {v4, v1}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda14;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v3, v4}, Landroid/animation/ObjectAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 15219
    :cond_35
    invoke-virtual {v0, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    add-int/lit8 v2, v2, 0x1

    goto :goto_18

    .line 15221
    :cond_36
    array-length v2, v15

    const/4 v3, 0x1

    if-le v2, v3, :cond_37

    .line 15222
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v8, v3, [F

    const/4 v9, 0x0

    const/4 v10, 0x0

    aput v9, v8, v10

    invoke-static {v2, v4, v8}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 15223
    aget-object v2, v15, v3

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v4

    neg-int v4, v4

    int-to-float v4, v4

    invoke-virtual {v2, v4}, Lorg/telegram/ui/Components/ClippingImageView;->setAdditionalTranslationX(F)V

    .line 15225
    :cond_37
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    sget-object v4, Lorg/telegram/ui/Components/AnimationProperties;->COLOR_DRAWABLE_ALPHA:Landroid/util/Property;

    new-array v8, v3, [I

    const/4 v9, 0x0

    aput v9, v8, v9

    invoke-static {v2, v4, v8}, Landroid/animation/ObjectAnimator;->ofInt(Ljava/lang/Object;Landroid/util/Property;[I)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 15226
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v8, v3, [F

    const/4 v10, 0x0

    aput v10, v8, v9

    invoke-static {v2, v4, v8}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 15227
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v8, v3, [F

    aput v10, v8, v9

    invoke-static {v2, v4, v8}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 15228
    iget v2, v1, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v3, :cond_38

    .line 15229
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v3, v3, [F

    aput v10, v3, v9

    invoke-static {v2, v4, v3}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 15231
    :cond_38
    invoke-virtual {v5, v0}, Landroid/animation/AnimatorSet;->playTogether(Ljava/util/Collection;)V

    goto/16 :goto_1b

    :cond_39
    move/from16 v16, v12

    move/from16 v25, v13

    .line 15233
    sget-object v0, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v0, v0, Landroid/graphics/Point;->y:I

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v2

    if-eqz v2, :cond_3a

    sget v2, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    goto :goto_19

    :cond_3a
    const/4 v2, 0x0

    :goto_19
    add-int/2addr v0, v2

    const/4 v2, 0x2

    new-array v3, v2, [F

    .line 15234
    fill-array-data v3, :array_1

    invoke-static {v3}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v2

    .line 15235
    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda3;

    invoke-direct {v3, v1}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda3;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v2, v3}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    const/4 v3, 0x6

    new-array v3, v3, [Landroid/animation/Animator;

    const/4 v4, 0x0

    aput-object v2, v3, v4

    .line 15236
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    sget-object v8, Lorg/telegram/ui/Components/AnimationProperties;->COLOR_DRAWABLE_ALPHA:Landroid/util/Property;

    const/4 v9, 0x1

    new-array v10, v9, [I

    aput v4, v10, v4

    .line 15238
    invoke-static {v2, v8, v10}, Landroid/animation/ObjectAnimator;->ofInt(Ljava/lang/Object;Landroid/util/Property;[I)Landroid/animation/ObjectAnimator;

    move-result-object v2

    aput-object v2, v3, v9

    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    sget-object v8, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v10, v9, [F

    const/4 v12, 0x0

    aput v12, v10, v4

    .line 15239
    invoke-static {v2, v8, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    const/4 v4, 0x2

    aput-object v2, v3, v4

    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    sget-object v4, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v8, v9, [F

    .line 15240
    iget v9, v1, Lorg/telegram/ui/PhotoViewer;->translationY:F

    cmpl-float v9, v9, v12

    if-ltz v9, :cond_3b

    goto :goto_1a

    :cond_3b
    neg-int v0, v0

    :goto_1a
    int-to-float v0, v0

    const/4 v9, 0x0

    aput v0, v8, v9

    invoke-static {v2, v4, v8}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v0

    const/4 v2, 0x3

    aput-object v0, v3, v2

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    sget-object v2, Landroid/view/View;->ALPHA:Landroid/util/Property;

    const/4 v4, 0x1

    new-array v8, v4, [F

    const/4 v10, 0x0

    aput v10, v8, v9

    .line 15241
    invoke-static {v0, v2, v8}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v0

    const/4 v2, 0x4

    aput-object v0, v3, v2

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    sget-object v2, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v4, v4, [F

    aput v10, v4, v9

    .line 15242
    invoke-static {v0, v2, v4}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v0

    const/4 v2, 0x5

    aput-object v0, v3, v2

    .line 15236
    invoke-virtual {v5, v3}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    .line 15246
    :goto_1b
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v0, :cond_3c

    .line 15247
    invoke-interface {v0}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->onPreClose()V

    .line 15249
    :cond_3c
    new-instance v0, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda78;

    invoke-direct {v0, v1, v7}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda78;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    iput-object v0, v1, Lorg/telegram/ui/PhotoViewer;->animationEndRunnable:Ljava/lang/Runnable;

    const-wide/16 v2, 0xc8

    .line 15258
    invoke-virtual {v5, v2, v3}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 15259
    new-instance v0, Lorg/telegram/ui/PhotoViewer$69;

    invoke-direct {v0, v1}, Lorg/telegram/ui/PhotoViewer$69;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v5, v0}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 15270
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v2

    iput-wide v2, v1, Lorg/telegram/ui/PhotoViewer;->transitionAnimationStartTime:J

    .line 15271
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/4 v2, 0x0

    const/4 v3, 0x2

    invoke-virtual {v0, v3, v2}, Landroid/widget/FrameLayout;->setLayerType(ILandroid/graphics/Paint;)V

    .line 15272
    invoke-virtual {v5}, Landroid/animation/AnimatorSet;->start()V

    const/4 v4, 0x0

    goto/16 :goto_1c

    :cond_3d
    move/from16 v16, v12

    move/from16 v25, v13

    const/4 v3, 0x2

    .line 15274
    new-instance v0, Landroid/animation/AnimatorSet;

    invoke-direct {v0}, Landroid/animation/AnimatorSet;-><init>()V

    new-array v2, v3, [F

    .line 15275
    fill-array-data v2, :array_2

    invoke-static {v2}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v2

    .line 15276
    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda13;

    invoke-direct {v3, v1}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda13;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v2, v3}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    const/4 v3, 0x6

    new-array v3, v3, [Landroid/animation/Animator;

    const/4 v4, 0x0

    aput-object v2, v3, v4

    .line 15277
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    sget-object v5, Landroid/view/View;->SCALE_X:Landroid/util/Property;

    const/4 v8, 0x1

    new-array v9, v8, [F

    const v10, 0x3f666666    # 0.9f

    aput v10, v9, v4

    .line 15279
    invoke-static {v2, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    aput-object v2, v3, v8

    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    sget-object v5, Landroid/view/View;->SCALE_Y:Landroid/util/Property;

    new-array v9, v8, [F

    aput v10, v9, v4

    .line 15280
    invoke-static {v2, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    const/4 v5, 0x2

    aput-object v2, v3, v5

    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    sget-object v5, Lorg/telegram/ui/Components/AnimationProperties;->COLOR_DRAWABLE_ALPHA:Landroid/util/Property;

    new-array v9, v8, [I

    aput v4, v9, v4

    .line 15281
    invoke-static {v2, v5, v9}, Landroid/animation/ObjectAnimator;->ofInt(Ljava/lang/Object;Landroid/util/Property;[I)Landroid/animation/ObjectAnimator;

    move-result-object v2

    const/4 v5, 0x3

    aput-object v2, v3, v5

    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    sget-object v5, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v8, [F

    const/4 v10, 0x0

    aput v10, v9, v4

    .line 15282
    invoke-static {v2, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    const/4 v5, 0x4

    aput-object v2, v3, v5

    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    sget-object v5, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v8, [F

    aput v10, v9, v4

    .line 15283
    invoke-static {v2, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    const/4 v4, 0x5

    aput-object v2, v3, v4

    .line 15277
    invoke-virtual {v0, v3}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    .line 15285
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v2, :cond_3e

    .line 15286
    invoke-interface {v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->onPreClose()V

    :cond_3e
    const/4 v2, 0x2

    .line 15288
    iput v2, v1, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    .line 15289
    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda77;

    invoke-direct {v3, v1, v7}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda77;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    iput-object v3, v1, Lorg/telegram/ui/PhotoViewer;->animationEndRunnable:Ljava/lang/Runnable;

    const-wide/16 v3, 0xc8

    .line 15301
    invoke-virtual {v0, v3, v4}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 15302
    new-instance v3, Lorg/telegram/ui/PhotoViewer$70;

    invoke-direct {v3, v1}, Lorg/telegram/ui/PhotoViewer$70;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v3}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 15323
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v3

    iput-wide v3, v1, Lorg/telegram/ui/PhotoViewer;->transitionAnimationStartTime:J

    .line 15324
    iget-object v3, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/4 v4, 0x0

    invoke-virtual {v3, v2, v4}, Landroid/widget/FrameLayout;->setLayerType(ILandroid/graphics/Paint;)V

    .line 15325
    invoke-virtual {v0}, Landroid/animation/AnimatorSet;->start()V

    if-eqz v7, :cond_3f

    .line 15327
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    const/4 v2, 0x1

    invoke-virtual {v0, v2, v2}, Lorg/telegram/messenger/ImageReceiver;->setVisible(ZZ)V

    .line 15330
    :cond_3f
    :goto_1c
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    if-eqz v0, :cond_40

    .line 15331
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0, v2}, Lorg/telegram/ui/Components/AnimatedFileDrawable;->removeSecondParentView(Landroid/view/View;)V

    .line 15332
    iput-object v4, v1, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    .line 15333
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v4}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/drawable/Drawable;)V

    .line 15334
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;->destroy()V

    .line 15336
    :cond_40
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v0, :cond_41

    invoke-interface {v0}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->canScrollAway()Z

    move-result v0

    if-nez v0, :cond_41

    .line 15337
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v0}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->cancelButtonPressed()Z

    .line 15340
    :cond_41
    :goto_1d
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    if-eqz v0, :cond_42

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v0

    if-eqz v0, :cond_42

    .line 15341
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v0

    .line 15342
    invoke-virtual {v0, v6}, Landroid/view/View;->setScaleX(F)V

    .line 15343
    invoke-virtual {v0, v11}, Landroid/view/View;->setScaleY(F)V

    .line 15345
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

    if-eqz v0, :cond_42

    .line 15346
    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BottomSheet;->getContainer()Lorg/telegram/ui/ActionBar/BottomSheet$ContainerView;

    move-result-object v0

    move/from16 v9, v16

    .line 15347
    invoke-virtual {v0, v9}, Landroid/view/View;->setScaleX(F)V

    move/from16 v9, v25

    .line 15348
    invoke-virtual {v0, v9}, Landroid/view/View;->setScaleY(F)V

    :cond_42
    :goto_1e
    return-void

    nop

    :array_0
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data

    :array_1
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data

    :array_2
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data
.end method

.method public destroyPhotoViewer()V
    .locals 3

    .line 15379
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-eqz v0, :cond_5

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    if-nez v0, :cond_0

    goto :goto_2

    .line 15382
    :cond_0
    invoke-static {}, Lorg/telegram/ui/Components/PipVideoOverlay;->isVisible()Z

    move-result v0

    if-eqz v0, :cond_1

    .line 15383
    invoke-static {}, Lorg/telegram/ui/Components/PipVideoOverlay;->dismiss()V

    .line 15385
    :cond_1
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->removeObservers()V

    const/4 v0, 0x0

    .line 15386
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->releasePlayer(Z)V

    const/4 v0, 0x0

    .line 15388
    :try_start_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getParent()Landroid/view/ViewParent;

    move-result-object v1

    if-eqz v1, :cond_2

    .line 15389
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const-string v2, "window"

    invoke-virtual {v1, v2}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/view/WindowManager;

    .line 15390
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-interface {v1, v2}, Landroid/view/WindowManager;->removeViewImmediate(Landroid/view/View;)V

    .line 15391
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->onHideView()V

    .line 15393
    :cond_2
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_0

    :catch_0
    move-exception v1

    .line 15395
    invoke-static {v1}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    .line 15397
    :goto_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v1, :cond_3

    .line 15398
    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->release()V

    .line 15399
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    .line 15401
    :cond_3
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v1, v0}, Lorg/telegram/ui/Components/ClippingImageView;->setImageBitmap(Lorg/telegram/messenger/ImageReceiver$BitmapHolder;)V

    .line 15405
    sget-object v1, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    if-ne p0, v1, :cond_4

    .line 15406
    sput-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    goto :goto_1

    .line 15408
    :cond_4
    sput-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    .line 15410
    :goto_1
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->onHideView()V

    :cond_5
    :goto_2
    return-void
.end method

.method public varargs didReceivedNotification(II[Ljava/lang/Object;)V
    .locals 30

    move-object/from16 v0, p0

    move/from16 v1, p1

    .line 3757
    sget v2, Lorg/telegram/messenger/NotificationCenter;->fileLoadFailed:I

    const/high16 v3, 0x3f800000    # 1.0f

    const/4 v4, 0x3

    const/4 v5, 0x2

    const/4 v6, 0x1

    const/4 v7, 0x0

    if-ne v1, v2, :cond_4

    .line 3758
    aget-object v1, p3, v7

    check-cast v1, Ljava/lang/String;

    const/4 v2, 0x0

    :goto_0
    if-ge v2, v4, :cond_62

    .line 3760
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v9, v8, v2

    if-eqz v9, :cond_3

    aget-object v8, v8, v2

    invoke-virtual {v8, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v8

    if-eqz v8, :cond_3

    if-eqz v2, :cond_2

    if-ne v2, v6, :cond_0

    .line 3761
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    if-eq v1, v4, :cond_2

    :cond_0
    if-ne v2, v5, :cond_1

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v1, v4, :cond_1

    goto :goto_1

    :cond_1
    const/4 v1, 0x0

    goto :goto_2

    :cond_2
    :goto_1
    const/4 v1, 0x1

    .line 3762
    :goto_2
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v4, v4, v2

    invoke-virtual {v4, v3, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setProgress(FZ)V

    .line 3763
    invoke-direct {v0, v2, v7, v6}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    goto/16 :goto_2f

    :cond_3
    add-int/lit8 v2, v2, 0x1

    goto :goto_0

    .line 3767
    :cond_4
    sget v2, Lorg/telegram/messenger/NotificationCenter;->fileLoaded:I

    if-ne v1, v2, :cond_d

    .line 3768
    aget-object v1, p3, v7

    check-cast v1, Ljava/lang/String;

    const/4 v2, 0x0

    :goto_3
    if-ge v2, v4, :cond_62

    .line 3770
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v9, v8, v2

    if-eqz v9, :cond_c

    aget-object v8, v8, v2

    invoke-virtual {v8, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v8

    if-eqz v8, :cond_c

    if-eqz v2, :cond_7

    if-ne v2, v6, :cond_5

    .line 3771
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    if-eq v1, v4, :cond_7

    :cond_5
    if-ne v2, v5, :cond_6

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v1, v4, :cond_6

    goto :goto_4

    :cond_6
    const/4 v1, 0x0

    goto :goto_5

    :cond_7
    :goto_4
    const/4 v1, 0x1

    .line 3772
    :goto_5
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v4, v4, v2

    invoke-virtual {v4, v3, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setProgress(FZ)V

    .line 3773
    invoke-direct {v0, v2, v7, v1}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    .line 3774
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-nez v1, :cond_b

    if-nez v2, :cond_b

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v1, :cond_8

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v1

    if-nez v1, :cond_a

    :cond_8
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v1, :cond_9

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->type:Ljava/lang/String;

    const-string v3, "video"

    invoke-virtual {v1, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v1

    if-nez v1, :cond_a

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->isVideoDocument(Lorg/telegram/tgnet/TLRPC$Document;)Z

    move-result v1

    if-nez v1, :cond_a

    :cond_9
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v1, :cond_b

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v1, v3}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isVideo(I)Z

    move-result v1

    if-nez v1, :cond_a

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v1, v3}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isHardwarePlayer(I)Z

    move-result v1

    if-eqz v1, :cond_b

    .line 3775
    :cond_a
    invoke-direct {v0, v7}, Lorg/telegram/ui/PhotoViewer;->onActionClick(Z)V

    :cond_b
    if-nez v2, :cond_62

    .line 3777
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v1, :cond_62

    .line 3778
    iput-boolean v6, v0, Lorg/telegram/ui/PhotoViewer;->currentVideoFinishedLoading:Z

    goto/16 :goto_2f

    :cond_c
    add-int/lit8 v2, v2, 0x1

    goto :goto_3

    .line 3783
    :cond_d
    sget v2, Lorg/telegram/messenger/NotificationCenter;->fileLoadProgressChanged:I

    const-wide/16 v8, 0x0

    if-ne v1, v2, :cond_18

    .line 3784
    aget-object v1, p3, v7

    check-cast v1, Ljava/lang/String;

    const/4 v2, 0x0

    :goto_6
    if-ge v2, v4, :cond_62

    .line 3786
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v11, v10, v2

    if-eqz v11, :cond_17

    aget-object v10, v10, v2

    invoke-virtual {v10, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v10

    if-eqz v10, :cond_17

    .line 3787
    aget-object v10, p3, v6

    check-cast v10, Ljava/lang/Long;

    .line 3788
    aget-object v11, p3, v5

    check-cast v11, Ljava/lang/Long;

    .line 3789
    invoke-virtual {v10}, Ljava/lang/Long;->longValue()J

    move-result-wide v12

    long-to-float v10, v12

    invoke-virtual {v11}, Ljava/lang/Long;->longValue()J

    move-result-wide v11

    long-to-float v11, v11

    div-float/2addr v10, v11

    invoke-static {v3, v10}, Ljava/lang/Math;->min(FF)F

    move-result v10

    if-eqz v2, :cond_10

    if-ne v2, v6, :cond_e

    .line 3790
    iget-object v11, v0, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    if-eq v11, v12, :cond_10

    :cond_e
    if-ne v2, v5, :cond_f

    iget-object v11, v0, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v11, v12, :cond_f

    goto :goto_7

    :cond_f
    const/4 v11, 0x0

    goto :goto_8

    :cond_10
    :goto_7
    const/4 v11, 0x1

    .line 3791
    :goto_8
    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v12, v12, v2

    invoke-virtual {v12, v10, v11}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setProgress(FZ)V

    if-nez v2, :cond_17

    .line 3792
    iget-object v11, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v11, :cond_17

    iget-object v11, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    if-eqz v11, :cond_17

    .line 3794
    iget-boolean v11, v0, Lorg/telegram/ui/PhotoViewer;->currentVideoFinishedLoading:Z

    if-eqz v11, :cond_11

    :goto_9
    const/high16 v4, -0x40800000    # -1.0f

    goto :goto_c

    .line 3797
    :cond_11
    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v13

    .line 3798
    iget-wide v3, v0, Lorg/telegram/ui/PhotoViewer;->lastBufferedPositionCheck:J

    sub-long v3, v13, v3

    invoke-static {v3, v4}, Ljava/lang/Math;->abs(J)J

    move-result-wide v3

    const-wide/16 v15, 0x1f4

    cmp-long v17, v3, v15

    if-ltz v17, :cond_15

    .line 3800
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending:F

    const/4 v4, 0x0

    cmpl-float v15, v3, v4

    if-nez v15, :cond_13

    .line 3801
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v4

    .line 3802
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/VideoPlayer;->getCurrentPosition()J

    move-result-wide v11

    cmp-long v3, v4, v8

    if-ltz v3, :cond_12

    const-wide v18, -0x7fffffffffffffffL    # -4.9E-324

    cmp-long v3, v4, v18

    if-eqz v3, :cond_12

    cmp-long v3, v11, v8

    if-ltz v3, :cond_12

    long-to-float v3, v11

    long-to-float v4, v4

    div-float/2addr v3, v4

    goto :goto_a

    :cond_12
    const/4 v3, 0x0

    .line 3811
    :cond_13
    :goto_a
    iget-boolean v4, v0, Lorg/telegram/ui/PhotoViewer;->isStreaming:Z

    if-eqz v4, :cond_14

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v4}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v4

    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v5, v5, v7

    invoke-virtual {v4, v3, v5}, Lorg/telegram/messenger/FileLoader;->getBufferedProgressFromPosition(FLjava/lang/String;)F

    move-result v3

    goto :goto_b

    :cond_14
    const/high16 v3, 0x3f800000    # 1.0f

    .line 3812
    :goto_b
    iput-wide v13, v0, Lorg/telegram/ui/PhotoViewer;->lastBufferedPositionCheck:J

    goto :goto_9

    :cond_15
    const/high16 v3, -0x40800000    # -1.0f

    goto :goto_9

    :goto_c
    cmpl-float v4, v3, v4

    if-eqz v4, :cond_16

    .line 3818
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {v4, v3}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setBufferedProgress(F)V

    .line 3819
    invoke-static {v3}, Lorg/telegram/ui/Components/PipVideoOverlay;->setBufferedProgress(F)V

    .line 3820
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbarView:Landroid/view/View;

    invoke-virtual {v3}, Landroid/view/View;->invalidate()V

    .line 3822
    :cond_16
    invoke-direct {v0, v10}, Lorg/telegram/ui/PhotoViewer;->checkBufferedProgress(F)V

    :cond_17
    add-int/lit8 v2, v2, 0x1

    const/high16 v3, 0x3f800000    # 1.0f

    const/4 v4, 0x3

    const/4 v5, 0x2

    goto/16 :goto_6

    .line 3826
    :cond_18
    sget v2, Lorg/telegram/messenger/NotificationCenter;->dialogPhotosUpdate:I

    const/4 v3, 0x6

    const/4 v4, -0x1

    if-ne v1, v2, :cond_2d

    .line 3827
    aget-object v1, p3, v7

    check-cast v1, Lorg/telegram/messenger/MessagesController$DialogPhotos;

    .line 3828
    iget-wide v5, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    iget-wide v10, v1, Lorg/telegram/messenger/MessagesController$DialogPhotos;->dialogId:J

    cmp-long v2, v5, v10

    if-nez v2, :cond_62

    .line 3829
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->dialogPhotos:Lorg/telegram/messenger/MessagesController$DialogPhotos;

    .line 3831
    new-instance v2, Ljava/util/ArrayList;

    iget-object v1, v1, Lorg/telegram/messenger/MessagesController$DialogPhotos;->photos:Ljava/util/ArrayList;

    invoke-direct {v2, v1}, Ljava/util/ArrayList;-><init>(Ljava/util/Collection;)V

    .line 3832
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->clear()V

    .line 3833
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->clear()V

    .line 3834
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->clear()V

    .line 3835
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrMessages:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->clear()V

    .line 3836
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->clear()V

    const/4 v1, 0x0

    const/4 v5, -0x1

    .line 3838
    :goto_d
    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v6

    const/4 v10, 0x0

    if-ge v1, v6, :cond_25

    .line 3839
    invoke-virtual {v2, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v6

    check-cast v6, Lorg/telegram/tgnet/TLRPC$Photo;

    if-eqz v6, :cond_23

    .line 3840
    instance-of v11, v6, Lorg/telegram/tgnet/TLRPC$TL_photoEmpty;

    if-nez v11, :cond_23

    iget-object v11, v6, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    if-nez v11, :cond_19

    goto/16 :goto_15

    :cond_19
    const/16 v12, 0x280

    .line 3848
    invoke-static {v11, v12}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v11

    .line 3849
    iget-object v12, v6, Lorg/telegram/tgnet/TLRPC$Photo;->video_sizes:Ljava/util/ArrayList;

    invoke-virtual {v12}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v12

    if-eqz v12, :cond_1a

    move-object v12, v10

    goto :goto_e

    :cond_1a
    iget-object v12, v6, Lorg/telegram/tgnet/TLRPC$Photo;->video_sizes:Ljava/util/ArrayList;

    const/16 v13, 0x3e8

    invoke-static {v12, v13}, Lorg/telegram/messenger/FileLoader;->getClosestVideoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$VideoSize;

    move-result-object v12

    :goto_e
    if-eqz v11, :cond_24

    if-ne v5, v4, :cond_1c

    .line 3851
    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    if-eqz v13, :cond_1c

    const/4 v13, 0x0

    .line 3852
    :goto_f
    iget-object v14, v6, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    invoke-virtual {v14}, Ljava/util/ArrayList;->size()I

    move-result v14

    if-ge v13, v14, :cond_1c

    .line 3853
    iget-object v14, v6, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    invoke-virtual {v14, v13}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v14

    check-cast v14, Lorg/telegram/tgnet/TLRPC$PhotoSize;

    .line 3854
    iget-object v14, v14, Lorg/telegram/tgnet/TLRPC$PhotoSize;->location:Lorg/telegram/tgnet/TLRPC$FileLocation;

    if-eqz v14, :cond_1b

    iget v15, v14, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    iget-object v8, v8, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget v9, v8, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    if-ne v15, v9, :cond_1b

    iget-wide v14, v14, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    iget-wide v8, v8, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    cmp-long v16, v14, v8

    if-nez v16, :cond_1b

    .line 3855
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v5}, Ljava/util/ArrayList;->size()I

    move-result v5

    goto :goto_10

    :cond_1b
    add-int/lit8 v13, v13, 0x1

    const-wide/16 v8, 0x0

    goto :goto_f

    :cond_1c
    :goto_10
    if-ne v5, v4, :cond_1f

    .line 3860
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    if-eqz v8, :cond_1f

    const/4 v8, 0x0

    .line 3861
    :goto_11
    iget-object v9, v6, Lorg/telegram/tgnet/TLRPC$Photo;->video_sizes:Ljava/util/ArrayList;

    invoke-virtual {v9}, Ljava/util/ArrayList;->size()I

    move-result v9

    if-ge v8, v9, :cond_1f

    .line 3862
    iget-object v9, v6, Lorg/telegram/tgnet/TLRPC$Photo;->video_sizes:Ljava/util/ArrayList;

    invoke-virtual {v9, v8}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v9

    check-cast v9, Lorg/telegram/tgnet/TLRPC$VideoSize;

    .line 3863
    iget-object v9, v9, Lorg/telegram/tgnet/TLRPC$VideoSize;->location:Lorg/telegram/tgnet/TLRPC$FileLocation;

    if-eqz v9, :cond_1d

    iget v13, v9, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    iget-object v14, v14, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget v15, v14, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    if-ne v13, v15, :cond_1d

    move v15, v5

    iget-wide v4, v9, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    iget-wide v13, v14, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    cmp-long v9, v4, v13

    if-nez v9, :cond_1e

    .line 3864
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v4}, Ljava/util/ArrayList;->size()I

    move-result v4

    move v5, v4

    goto :goto_12

    :cond_1d
    move v15, v5

    :cond_1e
    add-int/lit8 v8, v8, 0x1

    move v5, v15

    const/4 v4, -0x1

    goto :goto_11

    :cond_1f
    move v15, v5

    move v5, v15

    .line 3869
    :goto_12
    iget v4, v6, Lorg/telegram/tgnet/TLRPC$Photo;->dc_id:I

    if-eqz v4, :cond_20

    .line 3870
    iget-object v8, v11, Lorg/telegram/tgnet/TLRPC$PhotoSize;->location:Lorg/telegram/tgnet/TLRPC$FileLocation;

    iput v4, v8, Lorg/telegram/tgnet/TLRPC$FileLocation;->dc_id:I

    .line 3871
    iget-object v4, v6, Lorg/telegram/tgnet/TLRPC$Photo;->file_reference:[B

    iput-object v4, v8, Lorg/telegram/tgnet/TLRPC$FileLocation;->file_reference:[B

    .line 3873
    :cond_20
    invoke-static {v11, v6}, Lorg/telegram/messenger/ImageLocation;->getForPhoto(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLRPC$Photo;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v4

    if-eqz v12, :cond_21

    .line 3874
    invoke-static {v12, v6}, Lorg/telegram/messenger/ImageLocation;->getForPhoto(Lorg/telegram/tgnet/TLRPC$VideoSize;Lorg/telegram/tgnet/TLRPC$Photo;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v8

    goto :goto_13

    :cond_21
    move-object v8, v4

    :goto_13
    if-eqz v4, :cond_24

    .line 3876
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v9, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 3877
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    if-eqz v8, :cond_22

    iget-wide v11, v8, Lorg/telegram/messenger/ImageLocation;->currentSize:J

    invoke-static {v11, v12}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v9

    goto :goto_14

    :cond_22
    move-object v9, v10

    :goto_14
    invoke-virtual {v4, v9}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 3878
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {v4, v8}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 3879
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrMessages:Ljava/util/ArrayList;

    invoke-virtual {v4, v10}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 3880
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    invoke-virtual {v4, v6}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_16

    .line 3841
    :cond_23
    :goto_15
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v4, v10}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 3842
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    invoke-virtual {v4, v10}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 3843
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {v4, v10}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 3844
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrMessages:Ljava/util/ArrayList;

    invoke-virtual {v4, v10}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 3845
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    invoke-virtual {v4, v10}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    :cond_24
    :goto_16
    add-int/lit8 v1, v1, 0x1

    const/4 v4, -0x1

    const-wide/16 v8, 0x0

    goto/16 :goto_d

    .line 3884
    :cond_25
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_26

    .line 3885
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_17

    .line 3887
    :cond_26
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 3889
    :goto_17
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->needSearchImageInArr:Z

    const/4 v1, -0x1

    .line 3890
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-eq v5, v1, :cond_27

    .line 3892
    invoke-direct {v0, v5}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    goto/16 :goto_2f

    .line 3896
    :cond_27
    iget-wide v1, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    const-wide/16 v3, 0x0

    cmp-long v5, v1, v3

    if-lez v5, :cond_28

    .line 3897
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v1

    iget-wide v2, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    invoke-static {v2, v3}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v2

    invoke-virtual {v1, v2}, Lorg/telegram/messenger/MessagesController;->getUser(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$User;

    move-result-object v1

    move-object v2, v10

    goto :goto_18

    .line 3899
    :cond_28
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v1

    iget-wide v2, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    neg-long v2, v2

    invoke-static {v2, v3}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v2

    invoke-virtual {v1, v2}, Lorg/telegram/messenger/MessagesController;->getChat(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v1

    move-object v2, v1

    move-object v1, v10

    :goto_18
    if-nez v1, :cond_29

    if-eqz v2, :cond_62

    :cond_29
    if-eqz v1, :cond_2a

    .line 3904
    invoke-static {v1, v7}, Lorg/telegram/messenger/ImageLocation;->getForUserOrChat(Lorg/telegram/tgnet/TLObject;I)Lorg/telegram/messenger/ImageLocation;

    move-result-object v1

    goto :goto_19

    .line 3906
    :cond_2a
    invoke-static {v2, v7}, Lorg/telegram/messenger/ImageLocation;->getForUserOrChat(Lorg/telegram/tgnet/TLObject;I)Lorg/telegram/messenger/ImageLocation;

    move-result-object v1

    :goto_19
    if-eqz v1, :cond_62

    .line 3909
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-nez v2, :cond_2b

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v2, v7}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    if-eqz v2, :cond_2b

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v2, v7}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/ImageLocation;

    iget-wide v2, v2, Lorg/telegram/messenger/ImageLocation;->photoId:J

    iget-wide v4, v1, Lorg/telegram/messenger/ImageLocation;->photoId:J

    cmp-long v6, v2, v4

    if-nez v6, :cond_2b

    .line 3910
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v2, v7}, Ljava/util/ArrayList;->remove(I)Ljava/lang/Object;

    .line 3911
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    invoke-virtual {v2, v7}, Ljava/util/ArrayList;->remove(I)Ljava/lang/Object;

    .line 3912
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    invoke-virtual {v2, v7}, Ljava/util/ArrayList;->remove(I)Ljava/lang/Object;

    .line 3913
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {v2, v7}, Ljava/util/ArrayList;->remove(I)Ljava/lang/Object;

    .line 3914
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrMessages:Ljava/util/ArrayList;

    invoke-virtual {v2, v7}, Ljava/util/ArrayList;->remove(I)Ljava/lang/Object;

    .line 3916
    :cond_2b
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v2, v7, v1}, Ljava/util/ArrayList;->add(ILjava/lang/Object;)V

    .line 3917
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    new-instance v2, Lorg/telegram/tgnet/TLRPC$TL_photoEmpty;

    invoke-direct {v2}, Lorg/telegram/tgnet/TLRPC$TL_photoEmpty;-><init>()V

    invoke-virtual {v1, v7, v2}, Ljava/util/ArrayList;->add(ILjava/lang/Object;)V

    .line 3918
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    if-eqz v2, :cond_2c

    iget-wide v2, v2, Lorg/telegram/messenger/ImageLocation;->currentSize:J

    invoke-static {v2, v3}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v2

    goto :goto_1a

    :cond_2c
    move-object v2, v10

    :goto_1a
    invoke-virtual {v1, v7, v2}, Ljava/util/ArrayList;->add(ILjava/lang/Object;)V

    .line 3919
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    invoke-virtual {v1, v7, v2}, Ljava/util/ArrayList;->add(ILjava/lang/Object;)V

    .line 3920
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrMessages:Ljava/util/ArrayList;

    invoke-virtual {v1, v7, v10}, Ljava/util/ArrayList;->add(ILjava/lang/Object;)V

    .line 3921
    invoke-direct {v0, v7}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    goto/16 :goto_2f

    .line 3926
    :cond_2d
    sget v2, Lorg/telegram/messenger/NotificationCenter;->mediaCountDidLoad:I

    if-ne v1, v2, :cond_32

    .line 3927
    aget-object v1, p3, v7

    check-cast v1, Ljava/lang/Long;

    invoke-virtual {v1}, Ljava/lang/Long;->longValue()J

    move-result-wide v1

    .line 3928
    aget-object v3, p3, v6

    check-cast v3, Ljava/lang/Long;

    invoke-virtual {v3}, Ljava/lang/Long;->longValue()J

    move-result-wide v23

    .line 3929
    iget-wide v3, v0, Lorg/telegram/ui/PhotoViewer;->topicId:J

    cmp-long v5, v3, v23

    if-nez v5, :cond_62

    iget-wide v3, v0, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    cmp-long v5, v1, v3

    if-eqz v5, :cond_2e

    iget-wide v3, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    cmp-long v5, v1, v3

    if-nez v5, :cond_62

    .line 3930
    :cond_2e
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v3, :cond_2f

    iget-object v3, v3, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v3}, Lorg/telegram/messenger/MediaDataController;->getMediaType(Lorg/telegram/tgnet/TLRPC$Message;)I

    move-result v3

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    if-ne v3, v4, :cond_62

    .line 3931
    :cond_2f
    iget-wide v3, v0, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    cmp-long v5, v1, v3

    if-nez v5, :cond_30

    const/4 v1, 0x2

    .line 3932
    aget-object v1, p3, v1

    check-cast v1, Ljava/lang/Integer;

    invoke-virtual {v1}, Ljava/lang/Integer;->intValue()I

    move-result v1

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    goto :goto_1b

    :cond_30
    const/4 v1, 0x2

    .line 3934
    aget-object v1, p3, v1

    check-cast v1, Ljava/lang/Integer;

    invoke-virtual {v1}, Ljava/lang/Integer;->intValue()I

    move-result v1

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    .line 3936
    :goto_1b
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->needSearchImageInArr:Z

    if-eqz v1, :cond_31

    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->isFirstLoading:Z

    if-eqz v1, :cond_31

    .line 3937
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->isFirstLoading:Z

    .line 3938
    iput-boolean v6, v0, Lorg/telegram/ui/PhotoViewer;->loadingMoreImages:Z

    .line 3939
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/MediaDataController;->getInstance(I)Lorg/telegram/messenger/MediaDataController;

    move-result-object v16

    iget-wide v1, v0, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    const/16 v19, 0x14

    const/16 v20, 0x0

    const/16 v21, 0x0

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    const/16 v25, 0x1

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    const/16 v27, 0x0

    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->currentFilterTag:Lorg/telegram/ui/Components/Reactions/ReactionsLayoutInBubble$VisibleReaction;

    const/16 v29, 0x0

    move-wide/from16 v17, v1

    move/from16 v22, v3

    move/from16 v26, v4

    move-object/from16 v28, v5

    invoke-virtual/range {v16 .. v29}, Lorg/telegram/messenger/MediaDataController;->loadMedia(JIIIIJIIILorg/telegram/ui/Components/Reactions/ReactionsLayoutInBubble$VisibleReaction;Ljava/lang/String;)V

    goto/16 :goto_2f

    .line 3940
    :cond_31
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_62

    .line 3941
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    invoke-direct {v0, v1, v6, v6}, Lorg/telegram/ui/PhotoViewer;->setIsAboutToSwitchToIndex(IZZ)V

    goto/16 :goto_2f

    .line 3945
    :cond_32
    sget v2, Lorg/telegram/messenger/NotificationCenter;->mediaDidLoad:I

    if-ne v1, v2, :cond_50

    .line 3946
    aget-object v1, p3, v7

    check-cast v1, Ljava/lang/Long;

    invoke-virtual {v1}, Ljava/lang/Long;->longValue()J

    move-result-wide v1

    const/4 v4, 0x3

    .line 3947
    aget-object v4, p3, v4

    check-cast v4, Ljava/lang/Integer;

    invoke-virtual {v4}, Ljava/lang/Integer;->intValue()I

    move-result v4

    .line 3948
    iget-wide v8, v0, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    cmp-long v5, v1, v8

    if-eqz v5, :cond_33

    iget-wide v10, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    cmp-long v5, v1, v10

    if-nez v5, :cond_62

    :cond_33
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    if-ne v4, v5, :cond_62

    .line 3949
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->loadingMoreImages:Z

    cmp-long v4, v1, v8

    if-nez v4, :cond_34

    const/4 v1, 0x0

    goto :goto_1c

    :cond_34
    const/4 v1, 0x1

    :goto_1c
    const/4 v2, 0x2

    .line 3951
    aget-object v4, p3, v2

    check-cast v4, Ljava/util/ArrayList;

    .line 3952
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->endReached:[Z

    const/4 v5, 0x5

    aget-object v5, p3, v5

    check-cast v5, Ljava/lang/Boolean;

    invoke-virtual {v5}, Ljava/lang/Boolean;->booleanValue()Z

    move-result v5

    aput-boolean v5, v2, v1

    .line 3953
    aget-object v2, p3, v3

    check-cast v2, Ljava/lang/Boolean;

    invoke-virtual {v2}, Ljava/lang/Boolean;->booleanValue()Z

    move-result v2

    .line 3954
    iget-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->needSearchImageInArr:Z

    if-eqz v3, :cond_47

    .line 3955
    invoke-virtual {v4}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-eqz v2, :cond_35

    if-nez v1, :cond_46

    iget-wide v2, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    const-wide/16 v8, 0x0

    cmp-long v5, v2, v8

    if-eqz v5, :cond_46

    :cond_35
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz v2, :cond_46

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v3}, Ljava/util/ArrayList;->size()I

    move-result v3

    if-lt v2, v3, :cond_36

    goto/16 :goto_25

    .line 3961
    :cond_36
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v2, v3}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/MessageObject;

    const/4 v3, -0x1

    const/4 v5, 0x0

    const/4 v8, 0x0

    .line 3964
    :goto_1d
    invoke-virtual {v4}, Ljava/util/ArrayList;->size()I

    move-result v9

    if-ge v5, v9, :cond_3a

    .line 3965
    invoke-virtual {v4, v5}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v9

    check-cast v9, Lorg/telegram/messenger/MessageObject;

    .line 3966
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIdsTemp:[Landroid/util/SparseArray;

    aget-object v10, v10, v1

    invoke-virtual {v9}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v11

    invoke-virtual {v10, v11}, Landroid/util/SparseArray;->indexOfKey(I)I

    move-result v10

    if-gez v10, :cond_39

    .line 3967
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIdsTemp:[Landroid/util/SparseArray;

    aget-object v10, v10, v1

    invoke-virtual {v9}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v11

    invoke-virtual {v10, v11, v9}, Landroid/util/SparseArray;->put(ILjava/lang/Object;)V

    .line 3968
    iget-boolean v10, v0, Lorg/telegram/ui/PhotoViewer;->opennedFromMedia:Z

    if-eqz v10, :cond_38

    .line 3969
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v10, v9}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 3970
    invoke-virtual {v9}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v9

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v10

    if-ne v9, v10, :cond_37

    move v3, v8

    :cond_37
    add-int/lit8 v8, v8, 0x1

    goto :goto_1e

    :cond_38
    add-int/lit8 v8, v8, 0x1

    .line 3976
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v10, v7, v9}, Ljava/util/ArrayList;->add(ILjava/lang/Object;)V

    .line 3977
    invoke-virtual {v9}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v9

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v10

    if-ne v9, v10, :cond_39

    .line 3978
    invoke-virtual {v4}, Ljava/util/ArrayList;->size()I

    move-result v3

    sub-int/2addr v3, v8

    :cond_39
    :goto_1e
    add-int/lit8 v5, v5, 0x1

    goto :goto_1d

    :cond_3a
    if-nez v8, :cond_3c

    if-nez v1, :cond_3b

    .line 3983
    iget-wide v4, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    const-wide/16 v8, 0x0

    cmp-long v2, v4, v8

    if-nez v2, :cond_3c

    .line 3984
    :cond_3b
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    .line 3985
    iput v7, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    :cond_3c
    const/4 v2, -0x1

    if-eq v3, v2, :cond_3f

    .line 3989
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->clear()V

    .line 3990
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v1, v2}, Ljava/util/ArrayList;->addAll(Ljava/util/Collection;)Z

    const/4 v1, 0x0

    :goto_1f
    const/4 v2, 0x2

    if-ge v1, v2, :cond_3d

    .line 3992
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIds:[Landroid/util/SparseArray;

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIdsTemp:[Landroid/util/SparseArray;

    aget-object v4, v4, v1

    invoke-virtual {v4}, Landroid/util/SparseArray;->clone()Landroid/util/SparseArray;

    move-result-object v4

    aput-object v4, v2, v1

    .line 3993
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIdsTemp:[Landroid/util/SparseArray;

    aget-object v2, v2, v1

    invoke-virtual {v2}, Landroid/util/SparseArray;->clear()V

    add-int/lit8 v1, v1, 0x1

    goto :goto_1f

    .line 3995
    :cond_3d
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->clear()V

    .line 3996
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->needSearchImageInArr:Z

    const/4 v1, -0x1

    .line 3997
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    .line 3998
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt v3, v1, :cond_3e

    .line 3999
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    add-int/lit8 v3, v1, -0x1

    .line 4001
    :cond_3e
    invoke-direct {v0, v3}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    goto/16 :goto_2f

    .line 4004
    :cond_3f
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->opennedFromMedia:Z

    if-eqz v2, :cond_41

    .line 4005
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-eqz v2, :cond_40

    const/4 v2, 0x0

    goto :goto_20

    :cond_40
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v3

    sub-int/2addr v3, v6

    invoke-virtual {v2, v3}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v2

    :goto_20
    if-nez v1, :cond_44

    .line 4006
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->endReached:[Z

    aget-boolean v3, v3, v1

    if-eqz v3, :cond_44

    iget-wide v3, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    const-wide/16 v8, 0x0

    cmp-long v5, v3, v8

    if-eqz v5, :cond_44

    .line 4008
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_43

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v3

    sub-int/2addr v3, v6

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v3

    iget-wide v8, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    cmp-long v1, v3, v8

    if-eqz v1, :cond_43

    goto :goto_22

    .line 4013
    :cond_41
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-eqz v2, :cond_42

    const/4 v2, 0x0

    goto :goto_21

    :cond_42
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v2, v7}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v2

    :goto_21
    if-nez v1, :cond_44

    .line 4014
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->endReached:[Z

    aget-boolean v3, v3, v1

    if-eqz v3, :cond_44

    iget-wide v3, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    const-wide/16 v8, 0x0

    cmp-long v5, v3, v8

    if-eqz v5, :cond_44

    .line 4016
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_43

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v1, v7}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v3

    iget-wide v8, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    cmp-long v1, v3, v8

    if-eqz v1, :cond_43

    :goto_22
    const/4 v1, 0x1

    const/4 v11, 0x0

    goto :goto_23

    :cond_43
    move v11, v2

    const/4 v1, 0x1

    goto :goto_23

    :cond_44
    move v11, v2

    .line 4022
    :goto_23
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->endReached:[Z

    aget-boolean v2, v2, v1

    if-nez v2, :cond_62

    .line 4023
    iput-boolean v6, v0, Lorg/telegram/ui/PhotoViewer;->loadingMoreImages:Z

    .line 4024
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/MediaDataController;->getInstance(I)Lorg/telegram/messenger/MediaDataController;

    move-result-object v7

    if-nez v1, :cond_45

    iget-wide v1, v0, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    goto :goto_24

    :cond_45
    iget-wide v1, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    :goto_24
    move-wide v8, v1

    const/16 v10, 0x28

    const/4 v12, 0x0

    iget v13, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    iget-wide v14, v0, Lorg/telegram/ui/PhotoViewer;->topicId:J

    const/16 v16, 0x1

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    const/16 v18, 0x0

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentFilterTag:Lorg/telegram/ui/Components/Reactions/ReactionsLayoutInBubble$VisibleReaction;

    const/16 v20, 0x0

    move/from16 v17, v1

    move-object/from16 v19, v2

    invoke-virtual/range {v7 .. v20}, Lorg/telegram/messenger/MediaDataController;->loadMedia(JIIIIJIIILorg/telegram/ui/Components/Reactions/ReactionsLayoutInBubble$VisibleReaction;Ljava/lang/String;)V

    goto/16 :goto_2f

    .line 3956
    :cond_46
    :goto_25
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->needSearchImageInArr:Z

    return-void

    :cond_47
    const/4 v3, 0x0

    const/4 v5, 0x0

    .line 4029
    :goto_26
    invoke-virtual {v4}, Ljava/util/ArrayList;->size()I

    move-result v8

    if-ge v3, v8, :cond_4d

    if-eqz v2, :cond_48

    .line 4030
    invoke-virtual {v4}, Ljava/util/ArrayList;->size()I

    move-result v8

    sub-int/2addr v8, v6

    sub-int/2addr v8, v3

    goto :goto_27

    :cond_48
    move v8, v3

    :goto_27
    invoke-virtual {v4, v8}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v8

    check-cast v8, Lorg/telegram/messenger/MessageObject;

    .line 4031
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIds:[Landroid/util/SparseArray;

    aget-object v9, v9, v1

    invoke-virtual {v8}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v10

    invoke-virtual {v9, v10}, Landroid/util/SparseArray;->indexOfKey(I)I

    move-result v9

    if-gez v9, :cond_4c

    add-int/lit8 v5, v5, 0x1

    .line 4033
    iget-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->opennedFromMedia:Z

    if-eqz v9, :cond_4a

    if-eqz v2, :cond_49

    .line 4035
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v9, v7, v8}, Ljava/util/ArrayList;->add(ILjava/lang/Object;)V

    .line 4036
    iget v9, v0, Lorg/telegram/ui/PhotoViewer;->startOffset:I

    sub-int/2addr v9, v6

    iput v9, v0, Lorg/telegram/ui/PhotoViewer;->startOffset:I

    .line 4037
    iget v10, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    add-int/2addr v10, v6

    iput v10, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-gez v9, :cond_4b

    .line 4039
    iput v7, v0, Lorg/telegram/ui/PhotoViewer;->startOffset:I

    goto :goto_28

    .line 4042
    :cond_49
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v9, v8}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_28

    .line 4045
    :cond_4a
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v9, v7, v8}, Ljava/util/ArrayList;->add(ILjava/lang/Object;)V

    .line 4047
    :cond_4b
    :goto_28
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIds:[Landroid/util/SparseArray;

    aget-object v9, v9, v1

    invoke-virtual {v8}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v10

    invoke-virtual {v9, v10, v8}, Landroid/util/SparseArray;->put(ILjava/lang/Object;)V

    :cond_4c
    add-int/lit8 v3, v3, 0x1

    goto :goto_26

    .line 4050
    :cond_4d
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->opennedFromMedia:Z

    if-eqz v1, :cond_4e

    if-nez v5, :cond_62

    if-nez v2, :cond_62

    .line 4052
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->startOffset:I

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    add-int/2addr v1, v2

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    .line 4053
    iput v7, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    goto/16 :goto_2f

    :cond_4e
    if-eqz v5, :cond_4f

    .line 4057
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    const/4 v2, -0x1

    .line 4058
    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    add-int/2addr v1, v5

    .line 4059
    invoke-direct {v0, v1}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    goto/16 :goto_2f

    .line 4061
    :cond_4f
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    .line 4062
    iput v7, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    goto/16 :goto_2f

    .line 4067
    :cond_50
    sget v2, Lorg/telegram/messenger/NotificationCenter;->emojiLoaded:I

    if-ne v1, v2, :cond_51

    .line 4068
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    if-eqz v1, :cond_62

    .line 4069
    invoke-virtual {v1}, Lorg/telegram/ui/Components/TextViewSwitcher;->invalidateViews()V

    goto/16 :goto_2f

    .line 4071
    :cond_51
    sget v2, Lorg/telegram/messenger/NotificationCenter;->filePreparingFailed:I

    const/4 v3, 0x4

    if-ne v1, v2, :cond_54

    .line 4072
    aget-object v1, p3, v7

    check-cast v1, Lorg/telegram/messenger/MessageObject;

    .line 4073
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->loadInitialVideo:Z

    if-eqz v2, :cond_52

    .line 4074
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->loadInitialVideo:Z

    .line 4075
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->progressView:Lorg/telegram/ui/Components/RadialProgressView;

    invoke-virtual {v1, v3}, Landroid/view/View;->setVisibility(I)V

    .line 4076
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentPlayingVideoFile:Landroid/net/Uri;

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$EditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    invoke-direct {v0, v1, v7, v7, v2}, Lorg/telegram/ui/PhotoViewer;->preparePlayer(Landroid/net/Uri;ZZLorg/telegram/messenger/MediaController$SavedFilterState;)V

    goto/16 :goto_2f

    .line 4077
    :cond_52
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->tryStartRequestPreviewOnFinish:Z

    if-eqz v2, :cond_53

    .line 4078
    invoke-direct {v0, v7}, Lorg/telegram/ui/PhotoViewer;->releasePlayer(Z)V

    .line 4079
    invoke-static {}, Lorg/telegram/messenger/MediaController;->getInstance()Lorg/telegram/messenger/MediaController;

    move-result-object v1

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v1, v2, v6, v6}, Lorg/telegram/messenger/MediaController;->scheduleVideoConvert(Lorg/telegram/messenger/MessageObject;ZZ)Z

    move-result v1

    xor-int/2addr v1, v6

    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->tryStartRequestPreviewOnFinish:Z

    goto/16 :goto_2f

    .line 4080
    :cond_53
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    if-ne v1, v2, :cond_62

    .line 4081
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->requestingPreview:Z

    .line 4082
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->progressView:Lorg/telegram/ui/Components/RadialProgressView;

    invoke-virtual {v1, v3}, Landroid/view/View;->setVisibility(I)V

    goto/16 :goto_2f

    .line 4084
    :cond_54
    sget v2, Lorg/telegram/messenger/NotificationCenter;->fileNewChunkAvailable:I

    if-ne v1, v2, :cond_55

    .line 4085
    aget-object v1, p3, v7

    check-cast v1, Lorg/telegram/messenger/MessageObject;

    .line 4086
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    if-ne v1, v2, :cond_62

    .line 4087
    aget-object v1, p3, v6

    check-cast v1, Ljava/lang/String;

    const/4 v2, 0x3

    .line 4088
    aget-object v4, p3, v2

    check-cast v4, Ljava/lang/Long;

    invoke-virtual {v4}, Ljava/lang/Long;->longValue()J

    move-result-wide v4

    .line 4089
    aget-object v2, p3, v3

    check-cast v2, Ljava/lang/Float;

    invoke-virtual {v2}, Ljava/lang/Float;->floatValue()F

    move-result v2

    .line 4090
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v3, v3, v7

    invoke-virtual {v3, v2, v6}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setProgress(FZ)V

    const-wide/16 v2, 0x0

    cmp-long v8, v4, v2

    if-eqz v8, :cond_62

    .line 4092
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->requestingPreview:Z

    .line 4093
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v2, v2, v7

    const/high16 v3, 0x3f800000    # 1.0f

    invoke-virtual {v2, v3, v6}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setProgress(FZ)V

    .line 4094
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v2, v2, v7

    const/4 v3, 0x3

    invoke-virtual {v2, v3, v6, v6}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    .line 4095
    new-instance v2, Ljava/io/File;

    invoke-direct {v2, v1}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    invoke-static {v2}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v1

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$EditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    invoke-direct {v0, v1, v7, v6, v2}, Lorg/telegram/ui/PhotoViewer;->preparePlayer(Landroid/net/Uri;ZZLorg/telegram/messenger/MediaController$SavedFilterState;)V

    goto/16 :goto_2f

    .line 4098
    :cond_55
    sget v2, Lorg/telegram/messenger/NotificationCenter;->messagesDeleted:I

    if-ne v1, v2, :cond_62

    const/4 v1, 0x2

    .line 4099
    aget-object v2, p3, v1

    check-cast v2, Ljava/lang/Boolean;

    invoke-virtual {v2}, Ljava/lang/Boolean;->booleanValue()Z

    move-result v2

    if-eqz v2, :cond_56

    return-void

    .line 4103
    :cond_56
    aget-object v2, p3, v6

    check-cast v2, Ljava/lang/Long;

    invoke-virtual {v2}, Ljava/lang/Long;->longValue()J

    move-result-wide v2

    .line 4104
    aget-object v4, p3, v7

    check-cast v4, Ljava/util/ArrayList;

    const/4 v5, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x0

    :goto_29
    if-ge v5, v1, :cond_5e

    if-nez v5, :cond_57

    .line 4108
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    goto :goto_2a

    :cond_57
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    :goto_2a
    if-nez v5, :cond_58

    .line 4109
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIds:[Landroid/util/SparseArray;

    goto :goto_2b

    :cond_58
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIdsTemp:[Landroid/util/SparseArray;

    .line 4110
    :goto_2b
    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v11

    if-nez v11, :cond_5d

    const/4 v11, 0x0

    :goto_2c
    const/4 v12, 0x2

    if-ge v11, v12, :cond_5d

    .line 4112
    aget-object v14, v10, v11

    invoke-virtual {v14}, Landroid/util/SparseArray;->size()I

    move-result v14

    if-lez v14, :cond_5c

    .line 4113
    aget-object v14, v10, v11

    invoke-virtual {v14, v7}, Landroid/util/SparseArray;->valueAt(I)Ljava/lang/Object;

    move-result-object v14

    check-cast v14, Lorg/telegram/messenger/MessageObject;

    .line 4114
    iget-object v14, v14, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v14, v14, Lorg/telegram/tgnet/TLRPC$Message;->peer_id:Lorg/telegram/tgnet/TLRPC$Peer;

    iget-wide v14, v14, Lorg/telegram/tgnet/TLRPC$Peer;->channel_id:J

    cmp-long v16, v14, v2

    if-nez v16, :cond_5c

    .line 4115
    invoke-virtual {v4}, Ljava/util/ArrayList;->size()I

    move-result v14

    const/4 v15, 0x0

    :goto_2d
    if-ge v15, v14, :cond_5c

    .line 4116
    invoke-virtual {v4, v15}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v16

    check-cast v16, Ljava/lang/Integer;

    invoke-virtual/range {v16 .. v16}, Ljava/lang/Integer;->intValue()I

    move-result v12

    .line 4117
    aget-object v13, v10, v11

    invoke-virtual {v4, v15}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v16

    check-cast v16, Ljava/lang/Integer;

    invoke-virtual/range {v16 .. v16}, Ljava/lang/Integer;->intValue()I

    move-result v7

    invoke-virtual {v13, v7}, Landroid/util/SparseArray;->get(I)Ljava/lang/Object;

    move-result-object v7

    check-cast v7, Lorg/telegram/messenger/MessageObject;

    if-eqz v7, :cond_5b

    .line 4119
    aget-object v8, v10, v11

    invoke-virtual {v8, v12}, Landroid/util/SparseArray;->remove(I)V

    .line 4120
    invoke-virtual {v1, v7}, Ljava/util/ArrayList;->remove(Ljava/lang/Object;)Z

    if-nez v11, :cond_59

    .line 4122
    iget v8, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    sub-int/2addr v8, v6

    iput v8, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    goto :goto_2e

    .line 4124
    :cond_59
    iget v8, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    sub-int/2addr v8, v6

    iput v8, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    .line 4126
    :goto_2e
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-ne v7, v8, :cond_5a

    const/4 v9, 0x1

    :cond_5a
    const/4 v8, 0x1

    :cond_5b
    add-int/lit8 v15, v15, 0x1

    const/4 v7, 0x0

    const/4 v12, 0x2

    goto :goto_2d

    :cond_5c
    add-int/lit8 v11, v11, 0x1

    const/4 v7, 0x0

    goto :goto_2c

    :cond_5d
    add-int/lit8 v5, v5, 0x1

    const/4 v1, 0x2

    const/4 v7, 0x0

    goto/16 :goto_29

    :cond_5e
    if-eqz v8, :cond_62

    if-eqz v9, :cond_5f

    .line 4138
    sget-object v1, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    if-ne v0, v1, :cond_5f

    .line 4139
    invoke-virtual/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->destroyPhotoViewer()V

    goto :goto_2f

    .line 4141
    :cond_5f
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_61

    .line 4142
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    const/4 v2, -0x1

    .line 4143
    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    .line 4144
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-lt v1, v2, :cond_60

    .line 4145
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    sub-int/2addr v1, v6

    .line 4147
    :cond_60
    invoke-direct {v0, v1}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    goto :goto_2f

    :cond_61
    const/4 v1, 0x0

    .line 4149
    invoke-virtual {v0, v1, v6}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    :cond_62
    :goto_2f
    return-void
.end method

.method public exitFromPip()V
    .locals 11

    .line 7589
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isInline:Z

    if-nez v0, :cond_0

    return-void

    .line 7592
    :cond_0
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    const/4 v1, 0x0

    const/4 v2, 0x1

    if-eqz v0, :cond_1

    .line 7593
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    invoke-virtual {v0, v1, v2}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    .line 7595
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_2

    .line 7596
    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->exitFromPip()V

    .line 7598
    :cond_2
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    sput-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    const/4 v0, 0x0

    .line 7599
    sput-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    .line 7600
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-nez v3, :cond_4

    .line 7601
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->switchingInlineMode:Z

    .line 7602
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    if-eqz v3, :cond_3

    .line 7603
    invoke-virtual {v3}, Landroid/graphics/Bitmap;->recycle()V

    .line 7604
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    .line 7606
    :cond_3
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->changingTextureView:Z

    .line 7609
    :cond_4
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->isInline:Z

    .line 7611
    iget-boolean v3, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v3, :cond_5

    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    goto :goto_0

    :cond_5
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    .line 7612
    :goto_0
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    const/4 v5, 0x4

    if-nez v4, :cond_6

    if-eqz v3, :cond_6

    .line 7613
    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->removeFromParent(Landroid/view/View;)V

    .line 7614
    invoke-virtual {v3, v5}, Landroid/view/View;->setVisibility(I)V

    .line 7615
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v4, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;)V

    .line 7618
    :cond_6
    sget-boolean v4, Lorg/telegram/messenger/ApplicationLoader;->mainInterfacePaused:Z

    if-eqz v4, :cond_7

    .line 7620
    :try_start_0
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    new-instance v6, Landroid/content/Intent;

    sget-object v7, Lorg/telegram/messenger/ApplicationLoader;->applicationContext:Landroid/content/Context;

    const-class v8, Lorg/telegram/messenger/BringAppForegroundService;

    invoke-direct {v6, v7, v8}, Landroid/content/Intent;-><init>(Landroid/content/Context;Ljava/lang/Class;)V

    invoke-virtual {v4, v6}, Landroid/app/Activity;->startService(Landroid/content/Intent;)Landroid/content/ComponentName;
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_1

    :catchall_0
    move-exception v4

    .line 7622
    invoke-static {v4}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    .line 7626
    :cond_7
    :goto_1
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    const/4 v6, 0x0

    const/16 v7, 0x15

    if-nez v4, :cond_a

    .line 7627
    sget v4, Landroid/os/Build$VERSION;->SDK_INT:I

    if-lt v4, v7, :cond_9

    if-eqz v3, :cond_9

    .line 7628
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    .line 7629
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v4}, Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;->getAspectRatio()F

    move-result v4

    invoke-static {v1, v4}, Lorg/telegram/ui/Components/PipVideoOverlay;->getPipRect(ZF)Lorg/telegram/ui/Components/Rect;

    move-result-object v4

    .line 7631
    iget v8, v4, Lorg/telegram/ui/Components/Rect;->width:F

    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v9}, Landroid/widget/ImageView;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

    move-result-object v9

    iget v9, v9, Landroid/view/ViewGroup$LayoutParams;->width:I

    int-to-float v9, v9

    div-float/2addr v8, v9

    .line 7632
    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v9, v8}, Landroid/widget/ImageView;->setScaleX(F)V

    .line 7633
    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v9, v8}, Landroid/widget/ImageView;->setScaleY(F)V

    .line 7634
    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    iget v10, v4, Lorg/telegram/ui/Components/Rect;->x:F

    invoke-virtual {v9, v10}, Landroid/widget/ImageView;->setTranslationX(F)V

    .line 7635
    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    iget v10, v4, Lorg/telegram/ui/Components/Rect;->y:F

    invoke-virtual {v9, v10}, Landroid/widget/ImageView;->setTranslationY(F)V

    .line 7636
    invoke-virtual {v3, v8}, Landroid/view/View;->setScaleX(F)V

    .line 7637
    invoke-virtual {v3, v8}, Landroid/view/View;->setScaleY(F)V

    .line 7638
    iget v9, v4, Lorg/telegram/ui/Components/Rect;->x:F

    iget-object v10, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v10}, Landroid/widget/FrameLayout;->getX()F

    move-result v10

    sub-float/2addr v9, v10

    invoke-virtual {v3, v9}, Landroid/view/View;->setTranslationX(F)V

    .line 7639
    iget v4, v4, Lorg/telegram/ui/Components/Rect;->y:F

    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v9}, Landroid/widget/FrameLayout;->getY()F

    move-result v9

    sub-float/2addr v4, v9

    invoke-virtual {v3, v4}, Landroid/view/View;->setTranslationY(F)V

    .line 7640
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v4, :cond_8

    .line 7641
    invoke-virtual {v4, v8}, Landroid/widget/ImageView;->setScaleX(F)V

    .line 7642
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-virtual {v4, v8}, Landroid/widget/ImageView;->setScaleY(F)V

    .line 7643
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-virtual {v3}, Landroid/view/View;->getTranslationX()F

    move-result v9

    invoke-virtual {v4, v9}, Landroid/widget/ImageView;->setTranslationX(F)V

    .line 7644
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-virtual {v3}, Landroid/view/View;->getTranslationY()F

    move-result v9

    invoke-virtual {v4, v9}, Landroid/widget/ImageView;->setTranslationY(F)V

    .line 7647
    :cond_8
    iput v6, p0, Lorg/telegram/ui/PhotoViewer;->inlineOutAnimationProgress:F

    .line 7648
    new-instance v4, Lorg/telegram/ui/PhotoViewer$40;

    invoke-direct {v4, p0, v8}, Lorg/telegram/ui/PhotoViewer$40;-><init>(Lorg/telegram/ui/PhotoViewer;F)V

    .line 7654
    invoke-virtual {v3, v4}, Landroid/view/View;->setOutlineProvider(Landroid/view/ViewOutlineProvider;)V

    .line 7655
    invoke-virtual {v3, v2}, Landroid/view/View;->setClipToOutline(Z)V

    .line 7656
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setOutlineProvider(Landroid/view/ViewOutlineProvider;)V

    .line 7657
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v3, v2}, Landroid/widget/ImageView;->setClipToOutline(Z)V

    .line 7658
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v3, :cond_b

    .line 7659
    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setOutlineProvider(Landroid/view/ViewOutlineProvider;)V

    .line 7660
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-virtual {v3, v2}, Landroid/widget/ImageView;->setClipToOutline(Z)V

    goto :goto_2

    .line 7663
    :cond_9
    invoke-static {v2}, Lorg/telegram/ui/Components/PipVideoOverlay;->dismiss(Z)V

    goto :goto_2

    .line 7666
    :cond_a
    iput v6, p0, Lorg/telegram/ui/PhotoViewer;->clippingImageProgress:F

    .line 7670
    :cond_b
    :goto_2
    :try_start_1
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    .line 7671
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->isVisibleOrAnimating:Z

    .line 7672
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const-string v3, "window"

    invoke-virtual {v2, v3}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Landroid/view/WindowManager;

    .line 7673
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    invoke-interface {v2, v3, v4}, Landroid/view/WindowManager;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 7674
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->onShowView()V

    .line 7675
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    if-eqz v2, :cond_c

    .line 7676
    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v2, v1, v1}, Lorg/telegram/messenger/ImageReceiver;->setVisible(ZZ)V
    :try_end_1
    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_0

    goto :goto_3

    :catch_0
    move-exception v2

    .line 7679
    invoke-static {v2}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    .line 7682
    :cond_c
    :goto_3
    iget-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v2, :cond_e

    .line 7683
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    iget-object v2, v2, Lorg/telegram/ui/Components/VideoPlayer;->player:Lcom/google/android/exoplayer2/ExoPlayer;

    if-eqz v2, :cond_d

    .line 7684
    invoke-interface {v2, v0}, Lcom/google/android/exoplayer2/Player;->setVideoTextureView(Landroid/view/TextureView;)V

    .line 7686
    :cond_d
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    invoke-virtual {v0, v2}, Lorg/telegram/ui/Components/VideoPlayer;->setSurfaceView(Landroid/view/SurfaceView;)V

    .line 7687
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    invoke-virtual {v0, v5}, Landroid/view/SurfaceView;->setVisibility(I)V

    const/4 v0, 0x2

    .line 7688
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->waitingForFirstTextureUpload:I

    .line 7689
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->changingTextureView:Z

    .line 7690
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    .line 7695
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    if-lt v0, v7, :cond_f

    .line 7696
    iput v5, p0, Lorg/telegram/ui/PhotoViewer;->waitingForDraw:I

    goto :goto_4

    .line 7699
    :cond_e
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    if-lt v0, v7, :cond_f

    .line 7700
    iput v5, p0, Lorg/telegram/ui/PhotoViewer;->waitingForDraw:I

    :cond_f
    :goto_4
    return-void
.end method

.method public getAnimationValue()F
    .locals 1
    .annotation build Landroidx/annotation/Keep;
    .end annotation

    .line 16078
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    return v0
.end method

.method public getClassGuid()I
    .locals 1

    .line 1079
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    return v0
.end method

.method public getCurrentIndex()I
    .locals 1

    .line 16062
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    return v0
.end method

.method public getCurrentVideoSpeed()F
    .locals 1

    .line 6961
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    return v0
.end method

.method public getImagesArrLocals()Ljava/util/List;
    .locals 1
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "()",
            "Ljava/util/List<",
            "Ljava/lang/Object;",
            ">;"
        }
    .end annotation

    .line 16066
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    return-object v0
.end method

.method public getSelectionLength()I
    .locals 2

    .line 13583
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object v1, v0, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->editText:Lorg/telegram/ui/Components/EditTextEmoji;

    if-eqz v1, :cond_0

    invoke-virtual {v0}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->getSelectionLength()I

    move-result v0

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    :goto_0
    return v0
.end method

.method public getVideoPlayer()Lorg/telegram/ui/Components/VideoPlayer;
    .locals 1

    .line 7585
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    return-object v0
.end method

.method public getVideoPlayerRewinder()Lorg/telegram/messenger/video/VideoPlayerRewinder;
    .locals 1

    .line 17296
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerRewinder:Lorg/telegram/messenger/video/VideoPlayerRewinder;

    return-object v0
.end method

.method public getVideoSurfaceView()Landroid/view/SurfaceView;
    .locals 1

    .line 332
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    return-object v0
.end method

.method public getVideoTextureView()Landroid/view/TextureView;
    .locals 1

    .line 324
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    return-object v0
.end method

.method public injectVideoPlayer(Lorg/telegram/ui/Components/VideoPlayer;)V
    .locals 0

    .line 8304
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->injectingVideoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    return-void
.end method

.method public injectVideoPlayerSurface(Landroid/graphics/SurfaceTexture;)V
    .locals 0

    .line 8308
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->injectingVideoPlayerSurface:Landroid/graphics/SurfaceTexture;

    return-void
.end method

.method public injectVideoPlayerToMediaController()V
    .locals 3

    .line 14921
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->isPlaying()Z

    move-result v0

    if-eqz v0, :cond_1

    .line 14922
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->playerLooping:Z

    if-eqz v0, :cond_0

    .line 14923
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/VideoPlayer;->setLooping(Z)V

    .line 14925
    :cond_0
    invoke-static {}, Lorg/telegram/messenger/MediaController;->getInstance()Lorg/telegram/messenger/MediaController;

    move-result-object v0

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0, v1, v2}, Lorg/telegram/messenger/MediaController;->injectVideoPlayer(Lorg/telegram/ui/Components/VideoPlayer;Lorg/telegram/messenger/MessageObject;)V

    const/4 v0, 0x0

    .line 14926
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    :cond_1
    return-void
.end method

.method public isInjectingVideoPlayer()Z
    .locals 1

    .line 8312
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->injectingVideoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_0

    const/4 v0, 0x1

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    :goto_0
    return v0
.end method

.method public isOpenedFullScreenVideo()Z
    .locals 1

    .line 3741
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->openedFullScreenVideo:Z

    return v0
.end method

.method public isVisible()Z
    .locals 1

    .line 15544
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-eqz v0, :cond_0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v0, :cond_0

    const/4 v0, 0x1

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    :goto_0
    return v0
.end method

.method public isVisibleOrAnimating()Z
    .locals 1

    .line 328
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isVisibleOrAnimating:Z

    return v0
.end method

.method public onConfigurationChanged(Landroid/content/res/Configuration;)V
    .locals 0

    return-void
.end method

.method public onDoubleTap(Landroid/view/MotionEvent;)Z
    .locals 16

    move-object/from16 v0, p0

    .line 17430
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    const-wide/16 v2, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x1

    if-nez v1, :cond_0

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v1, :cond_8

    invoke-virtual {v1}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v1

    if-eqz v1, :cond_8

    :cond_0
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlVisible:Z

    if-eqz v1, :cond_8

    .line 17431
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoPosition()J

    move-result-wide v6

    .line 17432
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getVideoDuration()J

    move-result-wide v8

    .line 17433
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getX()F

    move-result v1

    .line 17434
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v10

    .line 17435
    div-int/lit8 v10, v10, 0x3

    mul-int/lit8 v11, v10, 0x2

    int-to-float v11, v11

    .line 17436
    invoke-direct/range {p0 .. p1}, Lorg/telegram/ui/PhotoViewer;->canDoubleTapSeekVideo(Landroid/view/MotionEvent;)Z

    move-result v12

    if-eqz v12, :cond_8

    const-wide/16 v12, 0x2710

    cmpl-float v11, v1, v11

    if-ltz v11, :cond_1

    add-long v14, v6, v12

    goto :goto_0

    :cond_1
    int-to-float v11, v10

    cmpg-float v11, v1, v11

    if-gez v11, :cond_2

    sub-long v14, v6, v12

    goto :goto_0

    :cond_2
    move-wide v14, v6

    :goto_0
    cmp-long v11, v6, v14

    if-eqz v11, :cond_8

    cmp-long v6, v14, v8

    if-lez v6, :cond_3

    move-wide v2, v8

    goto :goto_1

    :cond_3
    cmp-long v6, v14, v2

    if-gez v6, :cond_4

    const-wide/16 v6, -0x2328

    cmp-long v11, v14, v6

    if-gez v11, :cond_5

    const/4 v6, 0x0

    goto :goto_2

    :cond_4
    move-wide v2, v14

    :cond_5
    :goto_1
    const/4 v6, 0x1

    :goto_2
    if-eqz v6, :cond_7

    .line 17454
    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->videoForwardDrawable:Lorg/telegram/ui/Components/VideoForwardDrawable;

    invoke-virtual {v6, v5}, Lorg/telegram/ui/Components/VideoForwardDrawable;->setOneShootAnimation(Z)V

    .line 17455
    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->videoForwardDrawable:Lorg/telegram/ui/Components/VideoForwardDrawable;

    int-to-float v7, v10

    cmpg-float v1, v1, v7

    if-gez v1, :cond_6

    const/4 v4, 0x1

    :cond_6
    invoke-virtual {v6, v4}, Lorg/telegram/ui/Components/VideoForwardDrawable;->setLeftSide(Z)V

    .line 17456
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoForwardDrawable:Lorg/telegram/ui/Components/VideoForwardDrawable;

    invoke-virtual {v1, v12, v13}, Lorg/telegram/ui/Components/VideoForwardDrawable;->addTime(J)V

    .line 17457
    invoke-direct {v0, v2, v3}, Lorg/telegram/ui/PhotoViewer;->seekVideoOrWebTo(J)V

    .line 17458
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->invalidate()V

    .line 17459
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    long-to-float v2, v2

    long-to-float v3, v8

    div-float/2addr v2, v3

    invoke-virtual {v1, v2, v5}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setProgress(FZ)V

    .line 17460
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbarView:Landroid/view/View;

    invoke-virtual {v1}, Landroid/view/View;->invalidate()V

    :cond_7
    return v5

    .line 17466
    :cond_8
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->canZoom:Z

    if-eqz v1, :cond_11

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/high16 v6, 0x3f800000    # 1.0f

    const/4 v7, 0x0

    cmpl-float v1, v1, v6

    if-nez v1, :cond_9

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    cmpl-float v1, v1, v7

    if-nez v1, :cond_11

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    cmpl-float v1, v1, v7

    if-eqz v1, :cond_9

    goto/16 :goto_8

    .line 17469
    :cond_9
    iget-wide v8, v0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    cmp-long v1, v8, v2

    if-nez v1, :cond_11

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-eqz v1, :cond_a

    goto/16 :goto_8

    .line 17472
    :cond_a
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v2, v1, v4

    if-eqz v2, :cond_b

    aget-object v1, v1, v4

    invoke-virtual {v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->isVisible()Z

    move-result v1

    if-eqz v1, :cond_b

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v1, v1, v4

    invoke-static {v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$23900(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result v1

    const/4 v2, -0x1

    if-eq v1, v2, :cond_b

    sget-object v1, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v1, v1, Landroid/graphics/Point;->x:I

    int-to-float v1, v1

    const/high16 v2, 0x40000000    # 2.0f

    div-float/2addr v1, v2

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getX()F

    move-result v3

    sub-float/2addr v1, v3

    float-to-double v8, v1

    const-wide/high16 v10, 0x4000000000000000L    # 2.0

    invoke-static {v8, v9, v10, v11}, Ljava/lang/Math;->pow(DD)D

    move-result-wide v8

    sget-object v1, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v1, v1, Landroid/graphics/Point;->y:I

    sget v3, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    add-int/2addr v1, v3

    int-to-float v1, v1

    div-float/2addr v1, v2

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v2

    sub-float/2addr v1, v2

    float-to-double v1, v1

    invoke-static {v1, v2, v10, v11}, Ljava/lang/Math;->pow(DD)D

    move-result-wide v1

    add-double/2addr v8, v1

    invoke-static {v8, v9}, Ljava/lang/Math;->sqrt(D)D

    move-result-wide v1

    const/high16 v3, 0x42200000    # 40.0f

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v3

    int-to-double v8, v3

    cmpg-double v3, v1, v8

    if-gez v3, :cond_b

    return v4

    .line 17475
    :cond_b
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    cmpl-float v1, v1, v6

    if-nez v1, :cond_10

    .line 17476
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getX()F

    move-result v1

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v2

    div-int/lit8 v2, v2, 0x2

    int-to-float v2, v2

    sub-float/2addr v1, v2

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getX()F

    move-result v2

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v3

    div-int/lit8 v3, v3, 0x2

    int-to-float v3, v3

    sub-float/2addr v2, v3

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    sub-float/2addr v2, v3

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/high16 v4, 0x40400000    # 3.0f

    div-float v3, v4, v3

    mul-float v2, v2, v3

    sub-float/2addr v1, v2

    .line 17477
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v2

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v3

    div-int/lit8 v3, v3, 0x2

    int-to-float v3, v3

    sub-float/2addr v2, v3

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v3

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v6

    div-int/lit8 v6, v6, 0x2

    int-to-float v6, v6

    sub-float/2addr v3, v6

    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    sub-float/2addr v3, v6

    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    div-float v6, v4, v6

    mul-float v3, v3, v6

    sub-float/2addr v2, v3

    .line 17478
    invoke-direct {v0, v4}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    .line 17479
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpg-float v6, v1, v3

    if-gez v6, :cond_c

    :goto_3
    move v1, v3

    goto :goto_4

    .line 17481
    :cond_c
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpl-float v6, v1, v3

    if-lez v6, :cond_d

    goto :goto_3

    .line 17484
    :cond_d
    :goto_4
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->minY:F

    cmpg-float v6, v2, v3

    if-gez v6, :cond_e

    :goto_5
    move v2, v3

    goto :goto_6

    .line 17486
    :cond_e
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->maxY:F

    cmpl-float v6, v2, v3

    if-lez v6, :cond_f

    goto :goto_5

    .line 17489
    :cond_f
    :goto_6
    invoke-direct {v0, v4, v1, v2, v5}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZ)V

    goto :goto_7

    .line 17491
    :cond_10
    invoke-direct {v0, v6, v7, v7, v5}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZ)V

    .line 17493
    :goto_7
    iput-boolean v5, v0, Lorg/telegram/ui/PhotoViewer;->doubleTap:Z

    .line 17494
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->hidePressedDrawables()V

    return v5

    :cond_11
    :goto_8
    return v4
.end method

.method public onDoubleTapEvent(Landroid/view/MotionEvent;)Z
    .locals 0

    const/4 p1, 0x0

    return p1
.end method

.method public onDown(Landroid/view/MotionEvent;)Z
    .locals 4

    .line 17198
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->doubleTap:Z

    const/4 v1, 0x0

    if-nez v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {v0}, Landroid/view/View;->getVisibility()I

    move-result v0

    if-eqz v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->drawPressedDrawable:[Z

    aget-boolean v2, v0, v1

    if-nez v2, :cond_1

    const/4 v2, 0x1

    aget-boolean v0, v0, v2

    if-nez v0, :cond_1

    .line 17199
    invoke-virtual {p1}, Landroid/view/MotionEvent;->getX()F

    move-result p1

    const/16 v0, 0x87

    .line 17200
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v3

    div-int/lit8 v3, v3, 0x8

    invoke-static {v0, v3}, Ljava/lang/Math;->min(II)I

    move-result v0

    int-to-float v3, v0

    cmpg-float v3, p1, v3

    if-gez v3, :cond_0

    .line 17202
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {p1}, Lorg/telegram/messenger/ImageReceiver;->hasImageSet()Z

    move-result p1

    if-eqz p1, :cond_1

    .line 17203
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->drawPressedDrawable:[Z

    aput-boolean v2, p1, v1

    .line 17204
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->invalidate()V

    goto :goto_0

    .line 17206
    :cond_0
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v3

    sub-int/2addr v3, v0

    int-to-float v0, v3

    cmpl-float p1, p1, v0

    if-lez p1, :cond_1

    .line 17207
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {p1}, Lorg/telegram/messenger/ImageReceiver;->hasImageSet()Z

    move-result p1

    if-eqz p1, :cond_1

    .line 17208
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->drawPressedDrawable:[Z

    aput-boolean v2, p1, v2

    .line 17209
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->invalidate()V

    :cond_1
    :goto_0
    return v1
.end method

.method public onFling(Landroid/view/MotionEvent;Landroid/view/MotionEvent;FF)Z
    .locals 9

    .line 17301
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/high16 p2, 0x3f800000    # 1.0f

    cmpl-float p1, p1, p2

    if-eqz p1, :cond_0

    .line 17302
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {p1}, Landroid/widget/Scroller;->abortAnimation()V

    .line 17303
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    invoke-static {p1}, Ljava/lang/Math;->round(F)I

    move-result v1

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    invoke-static {p1}, Ljava/lang/Math;->round(F)I

    move-result v2

    invoke-static {p3}, Ljava/lang/Math;->round(F)I

    move-result v3

    invoke-static {p4}, Ljava/lang/Math;->round(F)I

    move-result v4

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->minX:F

    float-to-int v5, p1

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    float-to-int v6, p1

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->minY:F

    float-to-int v7, p1

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->maxY:F

    float-to-int v8, p1

    invoke-virtual/range {v0 .. v8}, Landroid/widget/Scroller;->fling(IIIIIIII)V

    .line 17304
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->postInvalidate()V

    :cond_0
    const/4 p1, 0x0

    return p1
.end method

.method public onLongPress()V
    .locals 7

    .line 17275
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_2

    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlVisible:Z

    if-eqz v1, :cond_2

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    const v2, 0x3f8ccccd    # 1.1f

    cmpg-float v1, v1, v2

    if-gtz v1, :cond_2

    .line 17276
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getCurrentPosition()J

    move-result-wide v0

    .line 17277
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v2

    const-wide v4, -0x7fffffffffffffffL    # -4.9E-324

    cmp-long v6, v0, v4

    if-eqz v6, :cond_2

    const-wide/16 v0, 0x3a98

    cmp-long v4, v2, v0

    if-gez v4, :cond_0

    goto :goto_1

    .line 17281
    :cond_0
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->longPressX:F

    .line 17282
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v1

    .line 17284
    div-int/lit8 v1, v1, 0x3

    mul-int/lit8 v2, v1, 0x2

    int-to-float v2, v2

    cmpl-float v2, v0, v2

    if-ltz v2, :cond_1

    const/4 v0, 0x1

    goto :goto_0

    :cond_1
    int-to-float v1, v1

    cmpg-float v0, v0, v1

    if-gez v0, :cond_2

    const/4 v0, 0x0

    .line 17291
    :goto_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerRewinder:Lorg/telegram/messenger/video/VideoPlayerRewinder;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    invoke-virtual {v1, v2, v0, v3}, Lorg/telegram/messenger/video/VideoPlayerRewinder;->startRewind(Lorg/telegram/ui/Components/VideoPlayer;ZF)V

    nop

    :cond_2
    :goto_1
    return-void
.end method

.method public onLongPress(Landroid/view/MotionEvent;)V
    .locals 0

    return-void
.end method

.method public onPause()V
    .locals 3

    .line 15531
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    const/4 v1, 0x0

    if-eqz v0, :cond_0

    .line 15532
    invoke-virtual {p0, v1, v1}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    return-void

    .line 15535
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->lastTitle:Ljava/lang/CharSequence;

    if-eqz v0, :cond_1

    const/4 v0, 0x1

    .line 15536
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->closeCaptionEnter(Z)V

    .line 15538
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_2

    iget-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->playerLooping:Z

    if-eqz v2, :cond_2

    .line 15539
    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/VideoPlayer;->setLooping(Z)V

    :cond_2
    return-void
.end method

.method public onResume()V
    .locals 5

    const/4 v0, 0x0

    .line 15516
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->redraw(I)V

    .line 15517
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_0

    .line 15518
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getCurrentPosition()J

    move-result-wide v1

    const-wide/16 v3, 0x1

    add-long/2addr v1, v3

    invoke-virtual {v0, v1, v2}, Lorg/telegram/ui/Components/VideoPlayer;->seekTo(J)V

    .line 15519
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->playerLooping:Z

    if-eqz v0, :cond_0

    .line 15520
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    const/4 v1, 0x1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/VideoPlayer;->setLooping(Z)V

    .line 15523
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v0, :cond_1

    .line 15524
    invoke-virtual {v0}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->onResume()V

    :cond_1
    return-void
.end method

.method public onScroll(Landroid/view/MotionEvent;Landroid/view/MotionEvent;FF)Z
    .locals 0

    const/4 p1, 0x0

    return p1
.end method

.method public onShowPress(Landroid/view/MotionEvent;)V
    .locals 0

    return-void
.end method

.method public onSingleTapConfirmed(Landroid/view/MotionEvent;)Z
    .locals 11

    .line 17311
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->discardTap:Z

    const/4 v1, 0x0

    if-eqz v0, :cond_0

    return v1

    .line 17314
    :cond_0
    invoke-virtual {p1}, Landroid/view/MotionEvent;->getX()F

    move-result v0

    .line 17315
    invoke-virtual {p1}, Landroid/view/MotionEvent;->getY()F

    move-result v2

    .line 17316
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {v3}, Landroid/view/View;->getVisibility()I

    move-result v3

    const/4 v4, 0x1

    if-eqz v3, :cond_2

    .line 17317
    sget-boolean v3, Lorg/telegram/messenger/SharedConfig;->nextMediaTap:Z

    if-eqz v3, :cond_2

    invoke-static {}, Lorg/telegram/ui/ActionBar/ActionBar;->getCurrentActionBarHeight()I

    move-result v3

    sget v5, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    add-int/2addr v3, v5

    const/high16 v5, 0x42200000    # 40.0f

    invoke-static {v5}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v5

    add-int/2addr v3, v5

    int-to-float v3, v3

    cmpl-float v3, v2, v3

    if-lez v3, :cond_2

    const/16 v3, 0x87

    .line 17318
    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v5}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v5

    div-int/lit8 v5, v5, 0x8

    invoke-static {v3, v5}, Ljava/lang/Math;->min(II)I

    move-result v3

    int-to-float v5, v3

    cmpg-float v5, v0, v5

    if-gez v5, :cond_1

    .line 17320
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->hasImageSet()Z

    move-result v3

    if-eqz v3, :cond_2

    const/4 p1, -0x1

    .line 17321
    invoke-direct {p0, p1, v4}, Lorg/telegram/ui/PhotoViewer;->switchToNextIndex(IZ)V

    return v4

    .line 17324
    :cond_1
    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v5}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v5

    sub-int/2addr v5, v3

    int-to-float v3, v5

    cmpl-float v3, v0, v3

    if-lez v3, :cond_2

    .line 17325
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->hasImageSet()Z

    move-result v3

    if-eqz v3, :cond_2

    .line 17326
    invoke-direct {p0, v4, v4}, Lorg/telegram/ui/PhotoViewer;->switchToNextIndex(IZ)V

    return v4

    .line 17332
    :cond_2
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v3, :cond_3

    invoke-virtual {v3}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v3

    if-eqz v3, :cond_3

    iget-boolean v3, p0, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-eqz v3, :cond_3

    .line 17333
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/PhotoViewerWebView;->getWebView()Landroid/webkit/WebView;

    move-result-object v3

    .line 17335
    invoke-virtual {v3}, Landroid/view/View;->getX()F

    move-result v5

    cmpl-float v5, v0, v5

    if-ltz v5, :cond_3

    invoke-virtual {v3}, Landroid/view/View;->getX()F

    move-result v5

    invoke-virtual {v3}, Landroid/view/View;->getWidth()I

    move-result v6

    int-to-float v6, v6

    add-float/2addr v5, v6

    cmpg-float v5, v0, v5

    if-gtz v5, :cond_3

    invoke-virtual {v3}, Landroid/view/View;->getY()F

    move-result v5

    cmpl-float v5, v2, v5

    if-ltz v5, :cond_3

    invoke-virtual {v3}, Landroid/view/View;->getY()F

    move-result v5

    invoke-virtual {v3}, Landroid/view/View;->getHeight()I

    move-result v6

    int-to-float v6, v6

    add-float/2addr v5, v6

    cmpg-float v5, v2, v5

    if-gtz v5, :cond_3

    .line 17336
    invoke-static {p1}, Landroid/view/MotionEvent;->obtain(Landroid/view/MotionEvent;)Landroid/view/MotionEvent;

    move-result-object p1

    .line 17337
    invoke-virtual {p1, v1}, Landroid/view/MotionEvent;->setAction(I)V

    .line 17338
    invoke-virtual {v3}, Landroid/view/View;->getX()F

    move-result v0

    neg-float v0, v0

    invoke-virtual {v3}, Landroid/view/View;->getY()F

    move-result v1

    neg-float v1, v1

    invoke-virtual {p1, v0, v1}, Landroid/view/MotionEvent;->offsetLocation(FF)V

    .line 17339
    invoke-virtual {v3, p1}, Landroid/view/View;->dispatchTouchEvent(Landroid/view/MotionEvent;)Z

    .line 17340
    invoke-virtual {p1, v4}, Landroid/view/MotionEvent;->setAction(I)V

    .line 17341
    invoke-virtual {v3, p1}, Landroid/view/View;->dispatchTouchEvent(Landroid/view/MotionEvent;)Z

    .line 17342
    invoke-virtual {p1}, Landroid/view/MotionEvent;->recycle()V

    .line 17344
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->scheduleActionBarHide()V

    return v4

    .line 17348
    :cond_3
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->getTag()Ljava/lang/Object;

    move-result-object p1

    const/4 v3, 0x4

    const/4 v5, 0x3

    const/high16 v6, 0x42c80000    # 100.0f

    const/high16 v7, 0x40000000    # 2.0f

    if-eqz p1, :cond_c

    .line 17349
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    if-eqz p1, :cond_4

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result p1

    if-eqz p1, :cond_5

    :cond_4
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz p1, :cond_6

    invoke-virtual {p1}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result p1

    if-eqz p1, :cond_6

    :cond_5
    const/4 p1, 0x1

    goto :goto_0

    :cond_6
    const/4 p1, 0x0

    .line 17351
    :goto_0
    iget v8, p0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    if-ne v8, v4, :cond_7

    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v8, :cond_7

    .line 17352
    invoke-virtual {v8}, Lorg/telegram/messenger/MessageObject;->canPreviewDocument()Z

    move-result p1

    if-nez p1, :cond_a

    .line 17353
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result p1

    const/high16 v0, 0x43b40000    # 360.0f

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v1

    sub-int/2addr p1, v1

    int-to-float p1, p1

    div-float/2addr p1, v7

    cmpl-float v1, v2, p1

    if-ltz v1, :cond_a

    .line 17354
    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v0

    int-to-float v0, v0

    add-float/2addr p1, v0

    cmpg-float p1, v2, p1

    if-gtz p1, :cond_a

    .line 17355
    invoke-direct {p0, v4}, Lorg/telegram/ui/PhotoViewer;->onActionClick(Z)V

    return v4

    .line 17360
    :cond_7
    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v9, v8, v1

    if-eqz v9, :cond_a

    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    if-eqz v9, :cond_a

    .line 17361
    aget-object v8, v8, v1

    invoke-static {v8}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$23900(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result v8

    .line 17362
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v9

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v10

    sub-int/2addr v9, v10

    int-to-float v9, v9

    div-float/2addr v9, v7

    cmpl-float v9, v0, v9

    if-ltz v9, :cond_a

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v9

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v10

    add-int/2addr v9, v10

    int-to-float v9, v9

    div-float/2addr v9, v7

    cmpg-float v0, v0, v9

    if-gtz v0, :cond_a

    .line 17363
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v0

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v9

    sub-int/2addr v0, v9

    int-to-float v0, v0

    div-float/2addr v0, v7

    cmpl-float v0, v2, v0

    if-ltz v0, :cond_a

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v0

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v6

    add-int/2addr v0, v6

    int-to-float v0, v0

    div-float/2addr v0, v7

    cmpg-float v0, v2, v0

    if-gtz v0, :cond_a

    if-nez p1, :cond_8

    if-lez v8, :cond_a

    if-gt v8, v5, :cond_a

    .line 17366
    invoke-direct {p0, v4}, Lorg/telegram/ui/PhotoViewer;->onActionClick(Z)V

    .line 17367
    invoke-direct {p0, v1, v1, v4}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    return v4

    :cond_8
    if-eq v8, v5, :cond_9

    if-ne v8, v3, :cond_a

    .line 17372
    :cond_9
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p1, p1, v1

    invoke-virtual {p1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->isVisible()Z

    move-result p1

    if-eqz p1, :cond_a

    .line 17373
    iput-boolean v4, p0, Lorg/telegram/ui/PhotoViewer;->manuallyPaused:Z

    .line 17374
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->toggleVideoPlayer()V

    return v4

    .line 17382
    :cond_a
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz p1, :cond_b

    invoke-virtual {p1}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result p1

    if-eqz p1, :cond_b

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isPlaying()Z

    move-result p1

    if-nez p1, :cond_b

    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-nez p1, :cond_13

    .line 17383
    :cond_b
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    xor-int/2addr p1, v4

    invoke-direct {p0, p1, v4}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    goto/16 :goto_2

    .line 17385
    :cond_c
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eqz p1, :cond_10

    if-ne p1, v3, :cond_d

    goto/16 :goto_1

    .line 17395
    :cond_d
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz p1, :cond_f

    iget-object p1, p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->type:Ljava/lang/String;

    const-string v3, "video"

    invoke-virtual {p1, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result p1

    if-nez p1, :cond_e

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object p1, p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    invoke-static {p1}, Lorg/telegram/messenger/MessageObject;->isVideoDocument(Lorg/telegram/tgnet/TLRPC$Document;)Z

    move-result p1

    if-eqz p1, :cond_f

    .line 17396
    :cond_e
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p1, p1, v1

    invoke-static {p1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$23900(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result p1

    if-lez p1, :cond_13

    if-gt p1, v5, :cond_13

    .line 17398
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result p1

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v3

    sub-int/2addr p1, v3

    int-to-float p1, p1

    div-float/2addr p1, v7

    cmpl-float p1, v0, p1

    if-ltz p1, :cond_13

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result p1

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v3

    add-int/2addr p1, v3

    int-to-float p1, p1

    div-float/2addr p1, v7

    cmpg-float p1, v0, p1

    if-gtz p1, :cond_13

    .line 17399
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result p1

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v0

    sub-int/2addr p1, v0

    int-to-float p1, p1

    div-float/2addr p1, v7

    cmpl-float p1, v2, p1

    if-ltz p1, :cond_13

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result p1

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v0

    add-int/2addr p1, v0

    int-to-float p1, p1

    div-float/2addr p1, v7

    cmpg-float p1, v2, p1

    if-gtz p1, :cond_13

    .line 17400
    invoke-direct {p0, v4}, Lorg/telegram/ui/PhotoViewer;->onActionClick(Z)V

    .line 17401
    invoke-direct {p0, v1, v1, v4}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    return v4

    .line 17405
    :cond_f
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v0, 0x2

    if-ne p1, v0, :cond_13

    .line 17406
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz p1, :cond_13

    .line 17407
    iput-boolean v4, p0, Lorg/telegram/ui/PhotoViewer;->manuallyPaused:Z

    .line 17408
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->toggleVideoPlayer()V

    goto :goto_2

    .line 17386
    :cond_10
    :goto_1
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v0, :cond_12

    .line 17387
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_11

    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-nez v1, :cond_11

    if-eq p1, v4, :cond_11

    const/high16 p1, 0x3f800000    # 1.0f

    .line 17388
    invoke-virtual {v0, p1}, Lorg/telegram/ui/Components/VideoPlayer;->setVolume(F)V

    .line 17390
    :cond_11
    iput-boolean v4, p0, Lorg/telegram/ui/PhotoViewer;->manuallyPaused:Z

    .line 17391
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->toggleVideoPlayer()V

    goto :goto_2

    .line 17393
    :cond_12
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {p1}, Landroid/view/View;->performClick()Z

    :cond_13
    :goto_2
    return v4
.end method

.method public onSingleTapUp(Landroid/view/MotionEvent;)Z
    .locals 7

    .line 17245
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->canZoom:Z

    if-nez v0, :cond_0

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->doubleTapEnabled:Z

    if-nez v0, :cond_0

    .line 17246
    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->onSingleTapConfirmed(Landroid/view/MotionEvent;)Z

    move-result p1

    return p1

    .line 17248
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/4 v1, 0x0

    if-eqz v0, :cond_2

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getTag()Ljava/lang/Object;

    move-result-object v0

    if-eqz v0, :cond_2

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v1

    if-eqz v0, :cond_2

    .line 17249
    invoke-virtual {p1}, Landroid/view/MotionEvent;->getX()F

    move-result v0

    .line 17250
    invoke-virtual {p1}, Landroid/view/MotionEvent;->getY()F

    move-result v2

    .line 17252
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v3

    const/high16 v4, 0x42c80000    # 100.0f

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v5

    sub-int/2addr v3, v5

    int-to-float v3, v3

    const/high16 v5, 0x40000000    # 2.0f

    div-float/2addr v3, v5

    cmpl-float v3, v0, v3

    if-ltz v3, :cond_1

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v3

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v6

    add-int/2addr v3, v6

    int-to-float v3, v3

    div-float/2addr v3, v5

    cmpg-float v0, v0, v3

    if-gtz v0, :cond_1

    .line 17253
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v0

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v3

    sub-int/2addr v0, v3

    int-to-float v0, v0

    div-float/2addr v0, v5

    cmpl-float v0, v2, v0

    if-ltz v0, :cond_1

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v0

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v3

    add-int/2addr v0, v3

    int-to-float v0, v0

    div-float/2addr v0, v5

    cmpg-float v0, v2, v0

    if-gtz v0, :cond_1

    .line 17254
    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->onSingleTapConfirmed(Landroid/view/MotionEvent;)Z

    move-result p1

    goto :goto_0

    :cond_1
    const/4 p1, 0x0

    :goto_0
    if-eqz p1, :cond_2

    const/4 p1, 0x1

    .line 17257
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->discardTap:Z

    return p1

    :cond_2
    return v1
.end method

.method public onUp(Landroid/view/MotionEvent;)V
    .locals 0

    .line 17235
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->hidePressedDrawables()V

    return-void
.end method

.method public openPhoto(ILorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;)Z
    .locals 20

    move-object/from16 v0, p0

    move/from16 v8, p1

    move-object/from16 v18, p2

    move-object/from16 v9, p3

    const/4 v1, 0x0

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v10, 0x0

    const-wide/16 v11, 0x0

    const-wide/16 v13, 0x0

    const-wide/16 v15, 0x0

    const/16 v17, 0x1

    const/16 v19, 0x0

    .line 14064
    invoke-virtual/range {v0 .. v19}, Lorg/telegram/ui/PhotoViewer;->openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;JJJZLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Ljava/lang/Integer;)Z

    move-result v0

    return v0
.end method

.method public openPhoto(Ljava/util/ArrayList;IJJJLorg/telegram/ui/PhotoViewer$PhotoViewerProvider;)Z
    .locals 20
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/MessageObject;",
            ">;IJJJ",
            "Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;",
            ")Z"
        }
    .end annotation

    move-object/from16 v0, p0

    move-object/from16 v5, p1

    move/from16 v8, p2

    move-wide/from16 v11, p3

    move-wide/from16 v13, p5

    move-wide/from16 v15, p7

    move-object/from16 v9, p9

    .line 14056
    invoke-virtual/range {p1 .. p2}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lorg/telegram/messenger/MessageObject;

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v10, 0x0

    const/16 v17, 0x1

    const/16 v18, 0x0

    const/16 v19, 0x0

    invoke-virtual/range {v0 .. v19}, Lorg/telegram/ui/PhotoViewer;->openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;JJJZLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Ljava/lang/Integer;)Z

    move-result v0

    return v0
.end method

.method public openPhoto(Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;)Z
    .locals 20
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/SecureDocument;",
            ">;I",
            "Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;",
            ")Z"
        }
    .end annotation

    move-object/from16 v0, p0

    move-object/from16 v6, p1

    move/from16 v8, p2

    move-object/from16 v9, p3

    const/4 v1, 0x0

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v7, 0x0

    const/4 v10, 0x0

    const-wide/16 v11, 0x0

    const-wide/16 v13, 0x0

    const-wide/16 v15, 0x0

    const/16 v17, 0x1

    const/16 v18, 0x0

    const/16 v19, 0x0

    .line 14060
    invoke-virtual/range {v0 .. v19}, Lorg/telegram/ui/PhotoViewer;->openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;JJJZLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Ljava/lang/Integer;)Z

    move-result v0

    return v0
.end method

.method public openPhoto(Lorg/telegram/messenger/MessageObject;ILorg/telegram/ui/ChatActivity;JJJLorg/telegram/ui/PhotoViewer$PhotoViewerProvider;)Z
    .locals 20

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v10, p3

    move-wide/from16 v11, p4

    move-wide/from16 v13, p6

    move-wide/from16 v15, p8

    move-object/from16 v9, p10

    .line 14036
    invoke-static/range {p2 .. p2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v19

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/16 v17, 0x1

    const/16 v18, 0x0

    invoke-virtual/range {v0 .. v19}, Lorg/telegram/ui/PhotoViewer;->openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;JJJZLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Ljava/lang/Integer;)Z

    move-result v0

    return v0
.end method

.method public openPhoto(Lorg/telegram/messenger/MessageObject;JJJLorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Z)Z
    .locals 20

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-wide/from16 v11, p2

    move-wide/from16 v13, p4

    move-wide/from16 v15, p6

    move-object/from16 v9, p8

    move/from16 v17, p9

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v10, 0x0

    const/16 v18, 0x0

    const/16 v19, 0x0

    .line 14040
    invoke-virtual/range {v0 .. v19}, Lorg/telegram/ui/PhotoViewer;->openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;JJJZLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Ljava/lang/Integer;)Z

    move-result v0

    return v0
.end method

.method public openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;JJJZLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Ljava/lang/Integer;)Z
    .locals 17
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Lorg/telegram/messenger/MessageObject;",
            "Lorg/telegram/tgnet/TLRPC$FileLocation;",
            "Lorg/telegram/messenger/ImageLocation;",
            "Lorg/telegram/messenger/ImageLocation;",
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/MessageObject;",
            ">;",
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/SecureDocument;",
            ">;",
            "Ljava/util/ArrayList<",
            "Ljava/lang/Object;",
            ">;I",
            "Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;",
            "Lorg/telegram/ui/ChatActivity;",
            "JJJZ",
            "Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;",
            "Ljava/lang/Integer;",
            ")Z"
        }
    .end annotation

    move-object/from16 v12, p0

    move-object/from16 v0, p1

    move-object/from16 v3, p2

    move-object/from16 v11, p9

    move-object/from16 v1, p10

    move-object/from16 v13, p18

    move-object/from16 v14, p19

    .line 14327
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const/4 v15, 0x0

    if-eqz v2, :cond_27

    iget-boolean v2, v12, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-nez v2, :cond_27

    if-nez v11, :cond_0

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->checkAnimation()Z

    move-result v2

    if-nez v2, :cond_27

    :cond_0
    if-nez v0, :cond_1

    if-nez v3, :cond_1

    if-nez p5, :cond_1

    if-nez p7, :cond_1

    if-nez p6, :cond_1

    if-nez p3, :cond_1

    if-nez v13, :cond_1

    goto/16 :goto_e

    :cond_1
    const/4 v10, 0x1

    move/from16 v9, p8

    .line 14331
    invoke-interface {v11, v0, v3, v9, v10}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getPlaceForPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;IZ)Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    move-result-object v8

    .line 14332
    sget v2, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v4, 0x15

    if-ge v2, v4, :cond_2

    .line 14333
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->insets:Landroid/graphics/Rect;

    sget v5, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    iput v5, v2, Landroid/graphics/Rect;->top:I

    .line 14334
    sget v5, Lorg/telegram/messenger/AndroidUtilities;->navigationBarHeight:I

    iput v5, v2, Landroid/graphics/Rect;->bottom:I

    .line 14336
    :cond_2
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const-string v5, "window"

    invoke-virtual {v2, v5}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Landroid/view/WindowManager;

    .line 14337
    iget-boolean v5, v12, Lorg/telegram/ui/PhotoViewer;->attachedToWindow:Z

    if-eqz v5, :cond_3

    .line 14339
    :try_start_0
    iget-object v5, v12, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-interface {v2, v5}, Landroid/view/WindowManager;->removeView(Landroid/view/View;)V

    .line 14340
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->onHideView()V
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    .line 14347
    :catch_0
    :cond_3
    :try_start_1
    iget-object v5, v12, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    const/16 v6, 0x63

    iput v6, v5, Landroid/view/WindowManager$LayoutParams;->type:I

    .line 14348
    sget v6, Landroid/os/Build$VERSION;->SDK_INT:I

    if-lt v6, v4, :cond_4

    const v4, -0x7ffcff00

    .line 14349
    iput v4, v5, Landroid/view/WindowManager$LayoutParams;->flags:I

    goto :goto_0

    :cond_4
    const/high16 v4, 0x20000

    .line 14355
    iput v4, v5, Landroid/view/WindowManager$LayoutParams;->flags:I

    :goto_0
    if-eqz v1, :cond_5

    .line 14357
    invoke-virtual/range {p10 .. p10}, Lorg/telegram/ui/ChatActivity;->getCurrentEncryptedChat()Lorg/telegram/tgnet/TLRPC$EncryptedChat;

    move-result-object v4

    if-nez v4, :cond_8

    :cond_5
    iget-wide v4, v12, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    const-wide/16 v6, 0x0

    cmp-long v16, v4, v6

    if-eqz v16, :cond_6

    iget v4, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    .line 14358
    invoke-static {v4}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v4

    iget-wide v5, v12, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    neg-long v5, v5

    invoke-virtual {v4, v5, v6}, Lorg/telegram/messenger/MessagesController;->isChatNoForwards(J)Z

    move-result v4

    if-nez v4, :cond_8

    :cond_6
    if-eqz v0, :cond_7

    iget v4, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    .line 14359
    invoke-static {v4}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v4

    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->getChatId()J

    move-result-wide v5

    invoke-virtual {v4, v5, v6}, Lorg/telegram/messenger/MessagesController;->isChatNoForwards(J)Z

    move-result v4

    if-nez v4, :cond_8

    iget-object v4, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    if-eqz v4, :cond_7

    iget-boolean v4, v4, Lorg/telegram/tgnet/TLRPC$Message;->noforwards:Z

    if-nez v4, :cond_8

    :cond_7
    if-eqz v0, :cond_9

    .line 14360
    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->hasRevealedExtendedMedia()Z

    move-result v4

    if-eqz v4, :cond_9

    .line 14361
    :cond_8
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    iget v5, v4, Landroid/view/WindowManager$LayoutParams;->flags:I

    or-int/lit16 v5, v5, 0x2000

    iput v5, v4, Landroid/view/WindowManager$LayoutParams;->flags:I

    goto :goto_1

    .line 14363
    :cond_9
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    iget v5, v4, Landroid/view/WindowManager$LayoutParams;->flags:I

    and-int/lit16 v5, v5, -0x2001

    iput v5, v4, Landroid/view/WindowManager$LayoutParams;->flags:I

    .line 14365
    :goto_1
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    const/16 v5, 0x110

    iput v5, v4, Landroid/view/WindowManager$LayoutParams;->softInputMode:I

    .line 14366
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v4, v15}, Landroid/widget/FrameLayout;->setFocusable(Z)V

    .line 14367
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v4, v15}, Landroid/widget/FrameLayout;->setFocusable(Z)V

    .line 14368
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    iget-object v5, v12, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    invoke-interface {v2, v4, v5}, Landroid/view/WindowManager;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 14369
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->onShowView()V
    :try_end_1
    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_1

    .line 14375
    iput-boolean v15, v12, Lorg/telegram/ui/PhotoViewer;->hasCaptionForAllMedia:Z

    .line 14376
    iput-boolean v15, v12, Lorg/telegram/ui/PhotoViewer;->doneButtonPressed:Z

    .line 14377
    iput-boolean v10, v12, Lorg/telegram/ui/PhotoViewer;->closePhotoAfterSelect:Z

    .line 14378
    iput-boolean v10, v12, Lorg/telegram/ui/PhotoViewer;->allowShowFullscreenButton:Z

    .line 14379
    iput-boolean v15, v12, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    .line 14380
    iput-object v1, v12, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    const/4 v2, 0x0

    .line 14381
    iput-object v2, v12, Lorg/telegram/ui/PhotoViewer;->lastTitle:Ljava/lang/CharSequence;

    if-eqz v14, :cond_a

    const/4 v4, 0x1

    goto :goto_2

    :cond_a
    const/4 v4, 0x0

    .line 14382
    :goto_2
    iput-boolean v4, v12, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    .line 14384
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    const-string v5, ""

    invoke-virtual {v4, v5}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setTitle(Ljava/lang/CharSequence;)V

    .line 14385
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    invoke-virtual {v4, v5, v15}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;Z)V

    .line 14386
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v4, :cond_b

    .line 14387
    invoke-virtual {v4, v15, v15, v15}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->set(IIZ)V

    .line 14388
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    invoke-virtual {v4, v15, v15}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 14390
    :cond_b
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v4, v15}, Lorg/telegram/ui/ActionBar/ActionBar;->setTitleScrollNonFitText(Z)V

    .line 14392
    iget v4, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v4}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v4

    sget v5, Lorg/telegram/messenger/NotificationCenter;->fileLoadFailed:I

    invoke-virtual {v4, v12, v5}, Lorg/telegram/messenger/NotificationCenter;->addObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 14393
    iget v4, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v4}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v4

    sget v5, Lorg/telegram/messenger/NotificationCenter;->fileLoaded:I

    invoke-virtual {v4, v12, v5}, Lorg/telegram/messenger/NotificationCenter;->addObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 14394
    iget v4, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v4}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v4

    sget v5, Lorg/telegram/messenger/NotificationCenter;->fileLoadProgressChanged:I

    invoke-virtual {v4, v12, v5}, Lorg/telegram/messenger/NotificationCenter;->addObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 14395
    iget v4, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v4}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v4

    sget v5, Lorg/telegram/messenger/NotificationCenter;->mediaCountDidLoad:I

    invoke-virtual {v4, v12, v5}, Lorg/telegram/messenger/NotificationCenter;->addObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 14396
    iget v4, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v4}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v4

    sget v5, Lorg/telegram/messenger/NotificationCenter;->mediaDidLoad:I

    invoke-virtual {v4, v12, v5}, Lorg/telegram/messenger/NotificationCenter;->addObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 14397
    iget v4, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v4}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v4

    sget v5, Lorg/telegram/messenger/NotificationCenter;->dialogPhotosUpdate:I

    invoke-virtual {v4, v12, v5}, Lorg/telegram/messenger/NotificationCenter;->addObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 14398
    iget v4, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v4}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v4

    sget v5, Lorg/telegram/messenger/NotificationCenter;->messagesDeleted:I

    invoke-virtual {v4, v12, v5}, Lorg/telegram/messenger/NotificationCenter;->addObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 14399
    invoke-static {}, Lorg/telegram/messenger/NotificationCenter;->getGlobalInstance()Lorg/telegram/messenger/NotificationCenter;

    move-result-object v4

    sget v5, Lorg/telegram/messenger/NotificationCenter;->emojiLoaded:I

    invoke-virtual {v4, v12, v5}, Lorg/telegram/messenger/NotificationCenter;->addObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 14400
    iget v4, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v4}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v4

    sget v5, Lorg/telegram/messenger/NotificationCenter;->filePreparingFailed:I

    invoke-virtual {v4, v12, v5}, Lorg/telegram/messenger/NotificationCenter;->addObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 14401
    iget v4, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v4}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v4

    sget v5, Lorg/telegram/messenger/NotificationCenter;->fileNewChunkAvailable:I

    invoke-virtual {v4, v12, v5}, Lorg/telegram/messenger/NotificationCenter;->addObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 14403
    iput-object v11, v12, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    move-wide/from16 v4, p13

    .line 14404
    iput-wide v4, v12, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    move-wide/from16 v4, p11

    .line 14405
    iput-wide v4, v12, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    if-eqz v1, :cond_c

    .line 14406
    invoke-virtual/range {p10 .. p10}, Lorg/telegram/ui/ChatActivity;->getFilterTag()Lorg/telegram/ui/Components/Reactions/ReactionsLayoutInBubble$VisibleReaction;

    move-result-object v4

    goto :goto_3

    :cond_c
    move-object v4, v2

    :goto_3
    iput-object v4, v12, Lorg/telegram/ui/PhotoViewer;->currentFilterTag:Lorg/telegram/ui/Components/Reactions/ReactionsLayoutInBubble$VisibleReaction;

    if-eqz v1, :cond_d

    .line 14407
    invoke-virtual/range {p10 .. p10}, Lorg/telegram/ui/ChatActivity;->getFilterQuery()Ljava/lang/String;

    move-result-object v4

    goto :goto_4

    :cond_d
    move-object v4, v2

    :goto_4
    iput-object v4, v12, Lorg/telegram/ui/PhotoViewer;->currentFilterQuery:Ljava/lang/String;

    if-eqz v1, :cond_e

    .line 14408
    invoke-virtual/range {p10 .. p10}, Lorg/telegram/ui/ChatActivity;->isFiltered()Z

    move-result v1

    if-eqz v1, :cond_e

    const/4 v1, 0x1

    goto :goto_5

    :cond_e
    const/4 v1, 0x0

    :goto_5
    iput-boolean v1, v12, Lorg/telegram/ui/PhotoViewer;->currentFiltered:Z

    move-wide/from16 v4, p15

    .line 14410
    iput-wide v4, v12, Lorg/telegram/ui/PhotoViewer;->topicId:J

    .line 14411
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->selectedPhotosAdapter:Lorg/telegram/ui/PhotoViewer$ListAdapter;

    invoke-virtual {v1}, Landroidx/recyclerview/widget/RecyclerView$Adapter;->notifyDataSetChanged()V

    .line 14412
    iput-object v13, v12, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    .line 14413
    iput-object v2, v12, Lorg/telegram/ui/PhotoViewer;->setAvatarFor:Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;

    .line 14415
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    if-nez v1, :cond_f

    .line 14416
    invoke-static {}, Landroid/view/VelocityTracker;->obtain()Landroid/view/VelocityTracker;

    move-result-object v1

    iput-object v1, v12, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    .line 14419
    :cond_f
    iput-boolean v10, v12, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    .line 14420
    iput-boolean v10, v12, Lorg/telegram/ui/PhotoViewer;->isVisibleOrAnimating:Z

    .line 14422
    invoke-direct {v12, v15, v15}, Lorg/telegram/ui/PhotoViewer;->togglePhotosListView(ZZ)V

    xor-int/lit8 v1, p17, 0x1

    .line 14424
    iput-boolean v1, v12, Lorg/telegram/ui/PhotoViewer;->openedFullScreenVideo:Z

    if-eqz v1, :cond_10

    .line 14426
    invoke-direct {v12, v15, v15}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    goto :goto_6

    .line 14428
    :cond_10
    iget v1, v12, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v1, v10, :cond_11

    .line 14429
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->createCropView()V

    .line 14430
    invoke-direct {v12, v15, v15}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    goto :goto_6

    .line 14432
    :cond_11
    invoke-direct {v12, v10, v15}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    .line 14436
    :goto_6
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v1, v15}, Landroid/widget/FrameLayout;->setClipChildren(Z)V

    .line 14437
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    invoke-virtual {v1, v15}, Landroid/view/View;->setVisibility(I)V

    const/4 v7, 0x0

    .line 14439
    iput v7, v12, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending2:F

    .line 14440
    iput-boolean v15, v12, Lorg/telegram/ui/PhotoViewer;->skipFirstBufferingProgress:Z

    .line 14441
    iput-boolean v15, v12, Lorg/telegram/ui/PhotoViewer;->playerInjected:Z

    const/high16 v6, 0x3f800000    # 1.0f

    if-eqz v8, :cond_21

    .line 14443
    iput-boolean v10, v12, Lorg/telegram/ui/PhotoViewer;->disableShowCheck:Z

    .line 14444
    iput v10, v12, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-eqz v0, :cond_17

    .line 14446
    iget-boolean v1, v8, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->allowTakeAnimation:Z

    if-eqz v1, :cond_12

    iget-object v1, v8, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getAnimation()Lorg/telegram/ui/Components/AnimatedFileDrawable;

    move-result-object v1

    goto :goto_7

    :cond_12
    move-object v1, v2

    :goto_7
    iput-object v1, v12, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    if-eqz v1, :cond_18

    .line 14448
    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v1

    if-eqz v1, :cond_16

    .line 14449
    iget-object v1, v8, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1, v15}, Lorg/telegram/messenger/ImageReceiver;->setAllowStartAnimation(Z)V

    .line 14450
    iget-object v1, v8, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->stopAnimation()V

    .line 14451
    invoke-static {}, Lorg/telegram/messenger/MediaController;->getInstance()Lorg/telegram/messenger/MediaController;

    move-result-object v1

    invoke-virtual {v1, v0}, Lorg/telegram/messenger/MediaController;->isPlayingMessage(Lorg/telegram/messenger/MessageObject;)Z

    move-result v1

    if-eqz v1, :cond_13

    .line 14452
    iget v1, v0, Lorg/telegram/messenger/MessageObject;->audioProgress:F

    iput v1, v12, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending2:F

    .line 14454
    :cond_13
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->injectingVideoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-nez v1, :cond_15

    iget v1, v0, Lorg/telegram/messenger/MessageObject;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v4

    invoke-virtual {v1, v4, v10}, Lorg/telegram/messenger/FileLoader;->isLoadingVideo(Lorg/telegram/tgnet/TLRPC$Document;Z)Z

    move-result v1

    if-nez v1, :cond_15

    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/AnimatedFileDrawable;->hasBitmap()Z

    move-result v1

    if-nez v1, :cond_14

    iget v1, v0, Lorg/telegram/messenger/MessageObject;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v4

    invoke-virtual {v1, v4, v15}, Lorg/telegram/messenger/FileLoader;->isLoadingVideo(Lorg/telegram/tgnet/TLRPC$Document;Z)Z

    move-result v1

    if-nez v1, :cond_15

    :cond_14
    const/4 v1, 0x1

    goto :goto_8

    :cond_15
    const/4 v1, 0x0

    :goto_8
    iput-boolean v1, v12, Lorg/telegram/ui/PhotoViewer;->skipFirstBufferingProgress:Z

    .line 14455
    iput-object v2, v12, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    goto :goto_9

    .line 14456
    :cond_16
    invoke-virtual {v0, v2, v2}, Lorg/telegram/messenger/MessageObject;->getWebPagePhotos(Ljava/util/ArrayList;Ljava/util/ArrayList;)Ljava/util/ArrayList;

    move-result-object v1

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-le v1, v10, :cond_18

    .line 14457
    iput-object v2, v12, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    goto :goto_9

    :cond_17
    if-eqz v13, :cond_18

    .line 14461
    iget-object v1, v8, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getAnimation()Lorg/telegram/ui/Components/AnimatedFileDrawable;

    move-result-object v1

    iput-object v1, v12, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    :cond_18
    :goto_9
    move-object/from16 v1, p0

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    move-object/from16 v4, p3

    move-object/from16 v5, p4

    const/high16 v0, 0x3f800000    # 1.0f

    move-object/from16 v6, p5

    const/4 v0, 0x0

    move-object/from16 v7, p6

    move-object/from16 p10, v8

    move-object/from16 v8, p7

    move/from16 v9, p8

    const/4 v0, 0x1

    move-object/from16 v10, p10

    .line 14464
    invoke-direct/range {v1 .. v10}, Lorg/telegram/ui/PhotoViewer;->onPhotoShow(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/List;ILorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    .line 14465
    iget v1, v12, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v1, v0, :cond_19

    .line 14466
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v1, v15}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 14467
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    const/4 v2, 0x0

    invoke-virtual {v1, v2}, Landroid/widget/FrameLayout;->setAlpha(F)V

    .line 14468
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v1, v15}, Lorg/telegram/ui/Components/PhotoCropView;->setFreeform(Z)V

    :cond_19
    move-object/from16 v10, p10

    .line 14470
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getDrawRegion()Landroid/graphics/RectF;

    move-result-object v1

    .line 14471
    iget v5, v1, Landroid/graphics/RectF;->left:F

    .line 14472
    iget v7, v1, Landroid/graphics/RectF;->top:F

    .line 14473
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v2}, Lorg/telegram/messenger/ImageReceiver;->getOrientation()I

    move-result v2

    .line 14474
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->getAnimatedOrientation()I

    move-result v3

    if-eqz v3, :cond_1a

    move v2, v3

    .line 14479
    :cond_1a
    invoke-direct {v12, v10}, Lorg/telegram/ui/PhotoViewer;->getAnimatingImageViews(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)[Lorg/telegram/ui/Components/ClippingImageView;

    move-result-object v3

    const/high16 v4, 0x3f800000    # 1.0f

    .line 14480
    iput v4, v12, Lorg/telegram/ui/PhotoViewer;->clippingImageProgress:F

    const/4 v4, 0x0

    .line 14482
    :goto_a
    array-length v6, v3

    if-ge v4, v6, :cond_1b

    .line 14483
    aget-object v6, v3, v4

    iget-object v8, v12, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    invoke-virtual {v6, v8}, Lorg/telegram/ui/Components/ClippingImageView;->setAnimationValues([[F)V

    .line 14484
    aget-object v6, v3, v4

    invoke-virtual {v6, v15}, Landroid/view/View;->setVisibility(I)V

    .line 14485
    aget-object v6, v3, v4

    iget-object v8, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->radius:[I

    invoke-virtual {v6, v8}, Lorg/telegram/ui/Components/ClippingImageView;->setRadius([I)V

    .line 14486
    aget-object v6, v3, v4

    iget-object v8, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v8}, Lorg/telegram/messenger/ImageReceiver;->getInvert()I

    move-result v8

    invoke-virtual {v6, v2, v8}, Lorg/telegram/ui/Components/ClippingImageView;->setOrientation(II)V

    .line 14487
    aget-object v6, v3, v4

    iget-object v8, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->thumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    invoke-virtual {v6, v8}, Lorg/telegram/ui/Components/ClippingImageView;->setImageBitmap(Lorg/telegram/messenger/ImageReceiver$BitmapHolder;)V

    add-int/lit8 v4, v4, 0x1

    goto :goto_a

    .line 14490
    :cond_1b
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->initCropView()V

    .line 14491
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v0, :cond_1c

    .line 14492
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    const/high16 v4, 0x3f800000    # 1.0f

    invoke-virtual {v2, v4}, Lorg/telegram/ui/Components/PhotoCropView;->setAspectRatio(F)V

    .line 14495
    :cond_1c
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v2}, Landroid/view/View;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

    move-result-object v4

    .line 14496
    invoke-virtual {v1}, Landroid/graphics/RectF;->width()F

    move-result v2

    float-to-int v2, v2

    iput v2, v4, Landroid/view/ViewGroup$LayoutParams;->width:I

    .line 14497
    invoke-virtual {v1}, Landroid/graphics/RectF;->height()F

    move-result v2

    float-to-int v2, v2

    iput v2, v4, Landroid/view/ViewGroup$LayoutParams;->height:I

    .line 14498
    iget v6, v4, Landroid/view/ViewGroup$LayoutParams;->width:I

    const/16 v8, 0x64

    if-gtz v6, :cond_1d

    .line 14499
    iput v8, v4, Landroid/view/ViewGroup$LayoutParams;->width:I

    :cond_1d
    if-gtz v2, :cond_1e

    .line 14502
    iput v8, v4, Landroid/view/ViewGroup$LayoutParams;->height:I

    .line 14505
    :cond_1e
    :goto_b
    array-length v2, v3

    if-ge v15, v2, :cond_20

    .line 14506
    array-length v2, v3

    if-le v2, v0, :cond_1f

    .line 14507
    aget-object v2, v3, v15

    const/4 v6, 0x0

    invoke-virtual {v2, v6}, Landroid/view/View;->setAlpha(F)V

    const/high16 v8, 0x3f800000    # 1.0f

    goto :goto_c

    :cond_1f
    const/4 v6, 0x0

    .line 14509
    aget-object v2, v3, v15

    const/high16 v8, 0x3f800000    # 1.0f

    invoke-virtual {v2, v8}, Landroid/view/View;->setAlpha(F)V

    .line 14511
    :goto_c
    aget-object v2, v3, v15

    invoke-virtual {v2, v6}, Landroid/view/View;->setPivotX(F)V

    .line 14512
    aget-object v2, v3, v15

    invoke-virtual {v2, v6}, Landroid/view/View;->setPivotY(F)V

    .line 14513
    aget-object v2, v3, v15

    iget v9, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->scale:F

    invoke-virtual {v2, v9}, Landroid/view/View;->setScaleX(F)V

    .line 14514
    aget-object v2, v3, v15

    iget v9, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->scale:F

    invoke-virtual {v2, v9}, Landroid/view/View;->setScaleY(F)V

    .line 14515
    aget-object v2, v3, v15

    iget v9, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->viewX:I

    int-to-float v9, v9

    iget v6, v1, Landroid/graphics/RectF;->left:F

    iget v8, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->scale:F

    mul-float v6, v6, v8

    add-float/2addr v9, v6

    invoke-virtual {v2, v9}, Landroid/view/View;->setTranslationX(F)V

    .line 14516
    aget-object v2, v3, v15

    iget v6, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->viewY:I

    int-to-float v6, v6

    iget v8, v1, Landroid/graphics/RectF;->top:F

    iget v9, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->scale:F

    mul-float v8, v8, v9

    add-float/2addr v6, v8

    invoke-virtual {v2, v6}, Lorg/telegram/ui/Components/ClippingImageView;->setTranslationY(F)V

    .line 14517
    aget-object v2, v3, v15

    invoke-virtual {v2, v4}, Landroid/view/View;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V

    add-int/lit8 v15, v15, 0x1

    goto :goto_b

    .line 14520
    :cond_20
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getViewTreeObserver()Landroid/view/ViewTreeObserver;

    move-result-object v15

    new-instance v9, Lorg/telegram/ui/PhotoViewer$66;

    move-object v1, v9

    move-object/from16 v2, p0

    move-object v6, v10

    move-object/from16 v8, p18

    move-object v13, v9

    move-object/from16 v9, p9

    move-object/from16 v10, p7

    move-object/from16 v11, p19

    invoke-direct/range {v1 .. v11}, Lorg/telegram/ui/PhotoViewer$66;-><init>(Lorg/telegram/ui/PhotoViewer;[Lorg/telegram/ui/Components/ClippingImageView;Landroid/view/ViewGroup$LayoutParams;FLorg/telegram/ui/PhotoViewer$PlaceProviderObject;FLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Ljava/util/ArrayList;Ljava/lang/Integer;)V

    invoke-virtual {v15, v13}, Landroid/view/ViewTreeObserver;->addOnPreDrawListener(Landroid/view/ViewTreeObserver$OnPreDrawListener;)V

    goto :goto_d

    :cond_21
    move-object v10, v8

    const/4 v0, 0x1

    const/high16 v1, 0x3f800000    # 1.0f

    if-eqz p7, :cond_23

    .line 14735
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v4, 0x3

    if-eq v2, v4, :cond_23

    .line 14736
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v2, :cond_22

    invoke-interface {v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->closeKeyboard()Z

    move-result v2

    if-nez v2, :cond_23

    .line 14737
    :cond_22
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->makeFocusable()V

    .line 14742
    :cond_23
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v2, v1}, Landroid/widget/FrameLayout;->setAlpha(F)V

    move-object/from16 v1, p0

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    move-object/from16 v4, p3

    move-object/from16 v5, p4

    move-object/from16 v6, p5

    move-object/from16 v7, p6

    move-object/from16 v8, p7

    move/from16 v9, p8

    .line 14743
    invoke-direct/range {v1 .. v10}, Lorg/telegram/ui/PhotoViewer;->onPhotoShow(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/List;ILorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    .line 14744
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->initCropView()V

    .line 14745
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->setCropBitmap()V

    .line 14746
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v1, :cond_25

    .line 14747
    invoke-virtual {v1}, Lorg/telegram/ui/ChatActivity;->getUndoView()Lorg/telegram/ui/Components/UndoView;

    move-result-object v1

    if-eqz v1, :cond_24

    .line 14749
    invoke-virtual {v1, v15, v0}, Lorg/telegram/ui/Components/UndoView;->hide(ZI)V

    .line 14751
    :cond_24
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v1}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v1

    invoke-virtual {v1}, Landroid/view/View;->invalidate()V

    .line 14753
    :cond_25
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getViewTreeObserver()Landroid/view/ViewTreeObserver;

    move-result-object v1

    new-instance v2, Lorg/telegram/ui/PhotoViewer$67;

    invoke-direct {v2, v12, v11, v14}, Lorg/telegram/ui/PhotoViewer$67;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Ljava/lang/Integer;)V

    invoke-virtual {v1, v2}, Landroid/view/ViewTreeObserver;->addOnPreDrawListener(Landroid/view/ViewTreeObserver$OnPreDrawListener;)V

    .line 14823
    :goto_d
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const-string v2, "accessibility"

    invoke-virtual {v1, v2}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/view/accessibility/AccessibilityManager;

    .line 14824
    invoke-virtual {v1}, Landroid/view/accessibility/AccessibilityManager;->isTouchExplorationEnabled()Z

    move-result v2

    if-eqz v2, :cond_26

    .line 14825
    invoke-static {}, Landroid/view/accessibility/AccessibilityEvent;->obtain()Landroid/view/accessibility/AccessibilityEvent;

    move-result-object v2

    const/16 v3, 0x4000

    .line 14826
    invoke-virtual {v2, v3}, Landroid/view/accessibility/AccessibilityEvent;->setEventType(I)V

    .line 14827
    invoke-virtual {v2}, Landroid/view/accessibility/AccessibilityEvent;->getText()Ljava/util/List;

    move-result-object v3

    sget v4, Lorg/telegram/messenger/R$string;->AccDescrPhotoViewer:I

    const-string v5, "AccDescrPhotoViewer"

    invoke-static {v5, v4}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v4

    invoke-interface {v3, v4}, Ljava/util/List;->add(Ljava/lang/Object;)Z

    .line 14828
    invoke-virtual {v1, v2}, Landroid/view/accessibility/AccessibilityManager;->sendAccessibilityEvent(Landroid/view/accessibility/AccessibilityEvent;)V

    :cond_26
    return v0

    :catch_1
    move-exception v0

    .line 14371
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :cond_27
    :goto_e
    return v15
.end method

.method public openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/ui/ChatActivity;JJJLorg/telegram/ui/PhotoViewer$PhotoViewerProvider;)Z
    .locals 20

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v10, p2

    move-wide/from16 v11, p3

    move-wide/from16 v13, p5

    move-wide/from16 v15, p7

    move-object/from16 v9, p9

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/16 v17, 0x1

    const/16 v18, 0x0

    const/16 v19, 0x0

    .line 14032
    invoke-virtual/range {v0 .. v19}, Lorg/telegram/ui/PhotoViewer;->openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;JJJZLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Ljava/lang/Integer;)Z

    move-result v0

    return v0
.end method

.method public openPhoto(Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;)Z
    .locals 20

    move-object/from16 v0, p0

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    move-object/from16 v9, p3

    const/4 v1, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v10, 0x0

    const-wide/16 v11, 0x0

    const-wide/16 v13, 0x0

    const-wide/16 v15, 0x0

    const/16 v17, 0x1

    const/16 v18, 0x0

    const/16 v19, 0x0

    .line 14052
    invoke-virtual/range {v0 .. v19}, Lorg/telegram/ui/PhotoViewer;->openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;JJJZLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Ljava/lang/Integer;)Z

    move-result v0

    return v0
.end method

.method public openPhoto(Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;)Z
    .locals 20

    move-object/from16 v0, p0

    move-object/from16 v2, p1

    move-object/from16 v9, p2

    const/4 v1, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v10, 0x0

    const-wide/16 v11, 0x0

    const-wide/16 v13, 0x0

    const-wide/16 v15, 0x0

    const/16 v17, 0x1

    const/16 v18, 0x0

    const/16 v19, 0x0

    .line 14044
    invoke-virtual/range {v0 .. v19}, Lorg/telegram/ui/PhotoViewer;->openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;JJJZLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Ljava/lang/Integer;)Z

    move-result v0

    return v0
.end method

.method public openPhotoForSelect(Ljava/util/ArrayList;IIZLorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;)Z
    .locals 9
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/util/ArrayList<",
            "Ljava/lang/Object;",
            ">;IIZ",
            "Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;",
            "Lorg/telegram/ui/ChatActivity;",
            ")Z"
        }
    .end annotation

    const/4 v1, 0x0

    const/4 v2, 0x0

    move-object v0, p0

    move-object v3, p1

    move v4, p2

    move v5, p3

    move v6, p4

    move-object v7, p5

    move-object v8, p6

    .line 14068
    invoke-virtual/range {v0 .. v8}, Lorg/telegram/ui/PhotoViewer;->openPhotoForSelect(Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;IIZLorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;)Z

    move-result p1

    return p1
.end method

.method public openPhotoForSelect(Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;IIZLorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;)Z
    .locals 20
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Lorg/telegram/tgnet/TLRPC$FileLocation;",
            "Lorg/telegram/messenger/ImageLocation;",
            "Ljava/util/ArrayList<",
            "Ljava/lang/Object;",
            ">;IIZ",
            "Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;",
            "Lorg/telegram/ui/ChatActivity;",
            ")Z"
        }
    .end annotation

    move-object/from16 v10, p0

    move/from16 v0, p5

    move/from16 v1, p6

    .line 14072
    iput-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->isDocumentsPicker:Z

    .line 14073
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    const/high16 v2, 0x3f800000    # 1.0f

    const/4 v11, 0x1

    const/4 v3, 0x0

    if-eqz v1, :cond_4

    .line 14074
    invoke-virtual {v1}, Landroid/widget/ImageView;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

    move-result-object v1

    check-cast v1, Landroid/widget/FrameLayout$LayoutParams;

    const/4 v4, 0x4

    const v5, 0x40ea8f5c    # 7.33f

    if-eq v0, v4, :cond_3

    const/4 v4, 0x5

    if-ne v0, v4, :cond_0

    goto :goto_1

    :cond_0
    if-eq v0, v11, :cond_2

    const/4 v4, 0x3

    if-eq v0, v4, :cond_2

    const/16 v4, 0xa

    if-ne v0, v4, :cond_1

    goto :goto_0

    .line 14083
    :cond_1
    iget-object v4, v10, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    sget v5, Lorg/telegram/messenger/R$drawable;->msg_input_send_mini:I

    invoke-virtual {v4, v5}, Landroid/widget/ImageView;->setImageResource(I)V

    const v4, 0x40151eb8    # 2.33f

    .line 14084
    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v4

    iput v4, v1, Landroid/widget/FrameLayout$LayoutParams;->bottomMargin:I

    goto :goto_2

    .line 14079
    :cond_2
    :goto_0
    iget-object v4, v10, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    sget v6, Lorg/telegram/messenger/R$drawable;->floating_check:I

    invoke-virtual {v4, v6}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 14080
    iget-object v4, v10, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v6

    invoke-virtual {v4, v3, v6, v3, v3}, Landroid/widget/ImageView;->setPadding(IIII)V

    .line 14081
    invoke-static {v5}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v4

    iput v4, v1, Landroid/widget/FrameLayout$LayoutParams;->bottomMargin:I

    goto :goto_2

    .line 14076
    :cond_3
    :goto_1
    iget-object v4, v10, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    sget v6, Lorg/telegram/messenger/R$drawable;->msg_input_send_mini:I

    invoke-virtual {v4, v6}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 14077
    invoke-static {v5}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v4

    iput v4, v1, Landroid/widget/FrameLayout$LayoutParams;->bottomMargin:I

    .line 14086
    :goto_2
    iget-object v4, v10, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v4, v1}, Landroid/widget/ImageView;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V

    .line 14088
    :cond_4
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v1, v11, :cond_6

    if-ne v0, v11, :cond_6

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-eqz v1, :cond_6

    .line 14089
    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    .line 14090
    iput-boolean v3, v10, Lorg/telegram/ui/PhotoViewer;->doneButtonPressed:Z

    .line 14091
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    const-string v1, ""

    invoke-virtual {v0, v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setTitle(Ljava/lang/CharSequence;)V

    .line 14092
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    invoke-virtual {v0, v1, v3}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;Z)V

    move-object/from16 v9, p7

    .line 14093
    iput-object v9, v10, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    const-wide/16 v0, 0x0

    .line 14094
    iput-wide v0, v10, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    .line 14095
    iput-wide v0, v10, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    .line 14096
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->selectedPhotosAdapter:Lorg/telegram/ui/PhotoViewer$ListAdapter;

    invoke-virtual {v0}, Landroidx/recyclerview/widget/RecyclerView$Adapter;->notifyDataSetChanged()V

    const/4 v0, 0x0

    .line 14097
    iput-object v0, v10, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    .line 14099
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    if-nez v0, :cond_5

    .line 14100
    invoke-static {}, Landroid/view/VelocityTracker;->obtain()Landroid/view/VelocityTracker;

    move-result-object v0

    iput-object v0, v10, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    .line 14103
    :cond_5
    iput-boolean v11, v10, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    .line 14104
    iput-boolean v11, v10, Lorg/telegram/ui/PhotoViewer;->isVisibleOrAnimating:Z

    .line 14106
    invoke-direct {v10, v3, v3}, Lorg/telegram/ui/PhotoViewer;->togglePhotosListView(ZZ)V

    .line 14108
    iput-boolean v3, v10, Lorg/telegram/ui/PhotoViewer;->openedFullScreenVideo:Z

    .line 14109
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->createCropView()V

    .line 14110
    invoke-direct {v10, v3, v3}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    const/4 v0, 0x0

    .line 14111
    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending2:F

    .line 14112
    iput-boolean v3, v10, Lorg/telegram/ui/PhotoViewer;->skipFirstBufferingProgress:Z

    .line 14113
    iput-boolean v3, v10, Lorg/telegram/ui/PhotoViewer;->playerInjected:Z

    .line 14115
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->makeFocusable()V

    .line 14117
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    const/16 v1, 0xff

    invoke-virtual {v0, v1}, Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;->setAlpha(I)V

    .line 14118
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setAlpha(F)V

    const/4 v1, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v9, 0x0

    move-object/from16 v0, p0

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    move-object/from16 v7, p3

    move/from16 v8, p4

    .line 14119
    invoke-direct/range {v0 .. v9}, Lorg/telegram/ui/PhotoViewer;->onPhotoShow(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/List;ILorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    .line 14120
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->initCropView()V

    .line 14121
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->setCropBitmap()V

    return v11

    :cond_6
    move-object/from16 v9, p7

    .line 14124
    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v1, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const-wide/16 v11, 0x0

    const-wide/16 v13, 0x0

    const-wide/16 v15, 0x0

    const/16 v17, 0x1

    const/16 v18, 0x0

    const/16 v19, 0x0

    move-object/from16 v0, p0

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    move-object/from16 v7, p3

    move/from16 v8, p4

    move-object/from16 v9, p7

    move-object/from16 v10, p8

    .line 14125
    invoke-virtual/range {v0 .. v19}, Lorg/telegram/ui/PhotoViewer;->openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;JJJZLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Ljava/lang/Integer;)Z

    move-result v0

    return v0
.end method

.method public openPhotoWithVideo(Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;)Z
    .locals 20

    move-object/from16 v0, p0

    move-object/from16 v2, p1

    move-object/from16 v4, p2

    move-object/from16 v9, p3

    const/4 v1, 0x0

    const/4 v3, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v10, 0x0

    const-wide/16 v11, 0x0

    const-wide/16 v13, 0x0

    const-wide/16 v15, 0x0

    const/16 v17, 0x1

    const/16 v18, 0x0

    const/16 v19, 0x0

    .line 14048
    invoke-virtual/range {v0 .. v19}, Lorg/telegram/ui/PhotoViewer;->openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;JJJZLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Ljava/lang/Integer;)Z

    move-result v0

    return v0
.end method

.method public setAnimationValue(F)V
    .locals 0
    .annotation build Landroidx/annotation/Keep;
    .end annotation

    .line 16071
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    .line 16072
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->invalidate()V

    .line 16073
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->invalidateBlur()V

    return-void
.end method

.method public setAvatarFor(Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;)V
    .locals 6

    .line 1090
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->setAvatarFor:Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;

    .line 1091
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v1, 0x0

    const/4 v2, 0x1

    if-ne v0, v2, :cond_3

    .line 1092
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->useFullWidthSendButton()Z

    move-result v0

    const/16 v3, 0x8

    const/4 v4, 0x0

    if-eqz v0, :cond_0

    .line 1093
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    invoke-virtual {v0, v4}, Landroid/widget/TextView;->setVisibility(I)V

    .line 1094
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    goto :goto_0

    .line 1096
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v0, v4}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 1097
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    invoke-virtual {v0, v3}, Landroid/widget/TextView;->setVisibility(I)V

    :goto_0
    if-eqz p1, :cond_2

    .line 1099
    iget-object v0, p1, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->fromObject:Lorg/telegram/tgnet/TLRPC$User;

    if-eqz v0, :cond_2

    iget v3, p1, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->type:I

    if-ne v3, v2, :cond_2

    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->setAvatarFor:Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;

    iget-boolean v3, v3, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->self:Z

    if-eqz v3, :cond_2

    .line 1100
    iget-boolean v3, p1, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->isVideo:Z

    if-eqz v3, :cond_1

    .line 1101
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    sget v5, Lorg/telegram/messenger/R$string;->SetSuggestedVideoTooltip:I

    new-array v2, v2, [Ljava/lang/Object;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$User;->first_name:Ljava/lang/String;

    aput-object v0, v2, v4

    const-string v0, "SetSuggestedVideoTooltip"

    invoke-static {v0, v5, v2}, Lorg/telegram/messenger/LocaleController;->formatString(Ljava/lang/String;I[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {v3, v0}, Lorg/telegram/ui/Components/PhotoCropView;->setSubtitle(Ljava/lang/String;)V

    goto :goto_1

    .line 1103
    :cond_1
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    sget v5, Lorg/telegram/messenger/R$string;->SetSuggestedPhotoTooltip:I

    new-array v2, v2, [Ljava/lang/Object;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$User;->first_name:Ljava/lang/String;

    aput-object v0, v2, v4

    const-string v0, "SetSuggestedPhotoTooltip"

    invoke-static {v0, v5, v2}, Lorg/telegram/messenger/LocaleController;->formatString(Ljava/lang/String;I[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {v3, v0}, Lorg/telegram/ui/Components/PhotoCropView;->setSubtitle(Ljava/lang/String;)V

    goto :goto_1

    .line 1106
    :cond_2
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/PhotoCropView;->setSubtitle(Ljava/lang/String;)V

    :cond_3
    :goto_1
    if-eqz p1, :cond_7

    .line 1110
    iget v0, p1, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->type:I

    const/4 v2, 0x2

    if-ne v0, v2, :cond_5

    .line 1111
    iget-boolean v0, p1, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->isVideo:Z

    if-eqz v0, :cond_4

    sget v0, Lorg/telegram/messenger/R$string;->SuggestVideo:I

    const-string v2, "SuggestVideo"

    goto :goto_2

    :cond_4
    sget v0, Lorg/telegram/messenger/R$string;->SuggestPhoto:I

    const-string v2, "SuggestPhoto"

    :goto_2
    invoke-static {v2, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p0, v0}, Lorg/telegram/ui/PhotoViewer;->setTitle(Ljava/lang/CharSequence;)V

    .line 1113
    :cond_5
    iget-boolean p1, p1, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->isVideo:Z

    if-eqz p1, :cond_6

    .line 1114
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    sget v0, Lorg/telegram/messenger/R$string;->SetCover:I

    const-string v2, "SetCover"

    invoke-static {v2, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 1116
    :cond_6
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {p1, v1}, Landroid/widget/FrameLayout;->setBackground(Landroid/graphics/drawable/Drawable;)V

    .line 1117
    sget p1, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v0, 0x15

    if-lt p1, v0, :cond_7

    .line 1118
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    const/high16 v0, 0x40000000    # 2.0f

    invoke-virtual {p1, v0}, Landroid/widget/FrameLayout;->setElevation(F)V

    :cond_7
    return-void
.end method

.method public setCaption(Ljava/lang/CharSequence;)V
    .locals 2

    const/4 v0, 0x1

    .line 1083
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->hasCaptionForAllMedia:Z

    .line 1084
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionForAllMedia:Ljava/lang/CharSequence;

    const/4 v0, 0x0

    const/4 v1, 0x0

    .line 1085
    invoke-direct {p0, v0, p1, v1, v1}, Lorg/telegram/ui/PhotoViewer;->setCurrentCaption(Lorg/telegram/messenger/MessageObject;Ljava/lang/CharSequence;ZZ)V

    .line 1086
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->updateCaptionTextForCurrentPhoto(Ljava/lang/Object;)V

    return-void
.end method

.method public setMaxSelectedPhotos(IZ)V
    .locals 0

    .line 14017
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->maxSelectedPhotos:I

    .line 14018
    iput-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->allowOrder:Z

    return-void
.end method

.method public setParentActivity(Landroid/app/Activity;)V
    .locals 1

    const/4 v0, 0x0

    .line 4252
    invoke-virtual {p0, p1, v0, v0}, Lorg/telegram/ui/PhotoViewer;->setParentActivity(Landroid/app/Activity;Lorg/telegram/ui/ActionBar/BaseFragment;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    return-void
.end method

.method public setParentActivity(Landroid/app/Activity;Lorg/telegram/ui/ActionBar/BaseFragment;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V
    .locals 41

    move-object/from16 v9, p0

    move-object/from16 v10, p3

    if-eqz p1, :cond_0

    move-object/from16 v11, p1

    goto :goto_0

    .line 4268
    :cond_0
    invoke-virtual/range {p2 .. p2}, Lorg/telegram/ui/ActionBar/BaseFragment;->getParentActivity()Landroid/app/Activity;

    move-result-object v0

    move-object v11, v0

    :goto_0
    const/4 v12, 0x0

    .line 4269
    invoke-static {v11, v12}, Lorg/telegram/ui/ActionBar/Theme;->createChatResources(Landroid/content/Context;Z)V

    .line 4270
    iput-object v10, v9, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    move-object/from16 v0, p2

    .line 4271
    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    .line 4272
    sget v0, Lorg/telegram/messenger/UserConfig;->selectedAccount:I

    iput v0, v9, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    .line 4273
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1, v0}, Lorg/telegram/messenger/ImageReceiver;->setCurrentAccount(I)V

    .line 4274
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-virtual {v0, v1}, Lorg/telegram/messenger/ImageReceiver;->setCurrentAccount(I)V

    .line 4275
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-virtual {v0, v1}, Lorg/telegram/messenger/ImageReceiver;->setCurrentAccount(I)V

    .line 4276
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    if-eqz v0, :cond_1

    .line 4277
    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->setAccount(I)V

    .line 4279
    :cond_1
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-eq v0, v11, :cond_13

    if-nez v11, :cond_2

    goto/16 :goto_b

    .line 4283
    :cond_2
    instance-of v0, v11, Lorg/telegram/ui/BubbleActivity;

    iput-boolean v0, v9, Lorg/telegram/ui/PhotoViewer;->inBubbleMode:Z

    .line 4284
    iput-object v11, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    .line 4285
    new-instance v0, Landroid/view/ContextThemeWrapper;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    sget v2, Lorg/telegram/messenger/R$style;->Theme_TMessages:I

    invoke-direct {v0, v1, v2}, Landroid/view/ContextThemeWrapper;-><init>(Landroid/content/Context;I)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    .line 4286
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-static {v0}, Landroid/view/ViewConfiguration;->get(Landroid/content/Context;)Landroid/view/ViewConfiguration;

    move-result-object v0

    invoke-virtual {v0}, Landroid/view/ViewConfiguration;->getScaledTouchSlop()I

    move-result v0

    iput v0, v9, Lorg/telegram/ui/PhotoViewer;->touchSlop:I

    .line 4288
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->progressDrawables:[Landroid/graphics/drawable/Drawable;

    const/4 v13, 0x2

    const/4 v14, 0x3

    const/4 v15, 0x1

    if-nez v0, :cond_3

    .line 4289
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    sget v1, Lorg/telegram/messenger/R$drawable;->circle_big:I

    invoke-static {v0, v1}, Landroidx/core/content/ContextCompat;->getDrawable(Landroid/content/Context;I)Landroid/graphics/drawable/Drawable;

    move-result-object v0

    new-array v1, v14, [Landroid/graphics/drawable/Drawable;

    aput-object v0, v1, v12

    .line 4290
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    sget v2, Lorg/telegram/messenger/R$drawable;->cancel_big:I

    .line 4292
    invoke-static {v0, v2}, Landroidx/core/content/ContextCompat;->getDrawable(Landroid/content/Context;I)Landroid/graphics/drawable/Drawable;

    move-result-object v0

    aput-object v0, v1, v15

    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    sget v2, Lorg/telegram/messenger/R$drawable;->load_big:I

    .line 4293
    invoke-static {v0, v2}, Landroidx/core/content/ContextCompat;->getDrawable(Landroid/content/Context;I)Landroid/graphics/drawable/Drawable;

    move-result-object v0

    aput-object v0, v1, v13

    sput-object v1, Lorg/telegram/ui/PhotoViewer;->progressDrawables:[Landroid/graphics/drawable/Drawable;

    .line 4297
    :cond_3
    new-instance v0, Landroid/widget/Scroller;

    invoke-direct {v0, v11}, Landroid/widget/Scroller;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    .line 4299
    new-instance v0, Lorg/telegram/ui/PhotoViewer$12;

    invoke-direct {v0, v9, v11}, Lorg/telegram/ui/PhotoViewer$12;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    .line 4491
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setBackgroundDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 4492
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v0, v12}, Landroid/widget/FrameLayout;->setFocusable(Z)V

    .line 4494
    new-instance v0, Lorg/telegram/ui/Components/ClippingImageView;

    invoke-direct {v0, v11}, Lorg/telegram/ui/Components/ClippingImageView;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    .line 4495
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/ClippingImageView;->setAnimationValues([[F)V

    .line 4496
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    const/16 v2, 0x28

    const/high16 v3, 0x42200000    # 40.0f

    invoke-static {v2, v3}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IF)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 4498
    new-instance v0, Lorg/telegram/ui/PhotoViewer$13;

    invoke-direct {v0, v9, v11, v11}, Lorg/telegram/ui/PhotoViewer$13;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;Landroid/app/Activity;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    .line 4532
    invoke-virtual {v0, v12}, Landroid/widget/FrameLayout;->setFocusable(Z)V

    .line 4534
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0, v15}, Landroid/widget/FrameLayout;->setClipChildren(Z)V

    .line 4535
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0, v15}, Landroid/widget/FrameLayout;->setClipToPadding(Z)V

    .line 4536
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v0, v12}, Landroid/widget/FrameLayout;->setClipChildren(Z)V

    .line 4537
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v0, v12}, Landroid/widget/FrameLayout;->setClipToPadding(Z)V

    .line 4539
    new-instance v0, Lorg/telegram/ui/Components/BlurringShader$BlurManager;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-direct {v0, v1}, Lorg/telegram/ui/Components/BlurringShader$BlurManager;-><init>(Landroid/view/View;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->blurManager:Lorg/telegram/ui/Components/BlurringShader$BlurManager;

    .line 4540
    iput v15, v0, Lorg/telegram/ui/Components/BlurringShader$BlurManager;->padding:I

    .line 4542
    new-instance v1, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/4 v3, 0x6

    invoke-direct {v1, v0, v2, v3}, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;-><init>(Lorg/telegram/ui/Components/BlurringShader$BlurManager;Landroid/view/View;I)V

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->shadowBlurer:Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;

    .line 4544
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/4 v8, -0x1

    const/16 v7, 0x33

    invoke-static {v8, v8, v7}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 4545
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v6, 0x15

    if-lt v0, v6, :cond_4

    .line 4546
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1, v15}, Landroid/widget/FrameLayout;->setFitsSystemWindows(Z)V

    .line 4547
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda25;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda25;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v1, v2}, Landroid/widget/FrameLayout;->setOnApplyWindowInsetsListener(Landroid/view/View$OnApplyWindowInsetsListener;)V

    .line 4595
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/16 v2, 0x700

    invoke-virtual {v1, v2}, Landroid/widget/FrameLayout;->setSystemUiVisibility(I)V

    .line 4598
    :cond_4
    new-instance v1, Landroid/view/WindowManager$LayoutParams;

    invoke-direct {v1}, Landroid/view/WindowManager$LayoutParams;-><init>()V

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    .line 4599
    iput v8, v1, Landroid/view/WindowManager$LayoutParams;->height:I

    const/4 v2, -0x3

    .line 4600
    iput v2, v1, Landroid/view/WindowManager$LayoutParams;->format:I

    .line 4601
    iput v8, v1, Landroid/view/WindowManager$LayoutParams;->width:I

    .line 4602
    iput v7, v1, Landroid/view/WindowManager$LayoutParams;->gravity:I

    const/16 v2, 0x63

    .line 4603
    iput v2, v1, Landroid/view/WindowManager$LayoutParams;->type:I

    const/16 v2, 0x1c

    if-lt v0, v2, :cond_5

    .line 4605
    iput v15, v1, Landroid/view/WindowManager$LayoutParams;->layoutInDisplayCutoutMode:I

    :cond_5
    if-lt v0, v6, :cond_6

    const v0, -0x7ffcff00

    .line 4608
    iput v0, v1, Landroid/view/WindowManager$LayoutParams;->flags:I

    goto :goto_1

    :cond_6
    const/high16 v0, 0x20000

    .line 4614
    iput v0, v1, Landroid/view/WindowManager$LayoutParams;->flags:I

    .line 4617
    :goto_1
    new-instance v0, Lorg/telegram/ui/Components/PaintingOverlay;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v1}, Lorg/telegram/ui/Components/PaintingOverlay;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    .line 4618
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/4 v5, -0x2

    const/high16 v2, -0x40000000    # -2.0f

    invoke-static {v5, v2}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IF)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v1, v0, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 4619
    new-instance v0, Lorg/telegram/ui/Components/PaintingOverlay;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v1}, Lorg/telegram/ui/Components/PaintingOverlay;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    .line 4620
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-static {v5, v2}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IF)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v1, v0, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 4621
    new-instance v0, Lorg/telegram/ui/Components/PaintingOverlay;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v1}, Lorg/telegram/ui/Components/PaintingOverlay;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    .line 4622
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-static {v5, v2}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IF)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v1, v0, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 4624
    new-instance v0, Lorg/telegram/ui/PhotoViewer$14;

    invoke-direct {v0, v9, v11}, Lorg/telegram/ui/PhotoViewer$14;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    .line 4631
    invoke-virtual {v0, v15}, Lorg/telegram/ui/ActionBar/ActionBar;->setOverlayTitleAnimation(Z)V

    .line 4632
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v0, v8}, Lorg/telegram/ui/ActionBar/ActionBar;->setTitleColor(I)V

    .line 4633
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v0, v8}, Lorg/telegram/ui/ActionBar/ActionBar;->setSubtitleColor(I)V

    .line 4634
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    const/high16 v1, 0x7f000000

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBar;->setBackgroundColor(I)V

    .line 4635
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v3

    invoke-virtual {v0, v3}, Lorg/telegram/ui/ActionBar/ActionBar;->setOccupyStatusBar(Z)V

    .line 4636
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    const v4, 0x40ffffff    # 7.9999995f

    invoke-virtual {v0, v4, v12}, Lorg/telegram/ui/ActionBar/ActionBar;->setItemsBackgroundColor(IZ)V

    .line 4637
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v0, v8, v12}, Lorg/telegram/ui/ActionBar/ActionBar;->setItemsColor(IZ)V

    .line 4638
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    sget v3, Lorg/telegram/messenger/R$drawable;->ic_ab_back:I

    invoke-virtual {v0, v3}, Lorg/telegram/ui/ActionBar/ActionBar;->setBackButtonImage(I)V

    .line 4639
    new-instance v0, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    invoke-direct {v0, v11}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    .line 4640
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    const/16 v7, 0x77

    invoke-static {v8, v8, v7}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v7

    invoke-virtual {v3, v0, v7}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 4641
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-static {v8, v2}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IF)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v0, v3, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 4643
    new-instance v0, Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    invoke-direct {v0, v11}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    .line 4644
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/16 v3, 0x37

    invoke-static {v8, v5, v3}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v2, v0, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 4646
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$15;

    invoke-direct {v2, v9, v10}, Lorg/telegram/ui/PhotoViewer$15;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBar;->setActionBarMenuOnItemClick(Lorg/telegram/ui/ActionBar/ActionBar$ActionBarMenuOnItemClick;)V

    .line 5376
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/ActionBar;->createMenu()Lorg/telegram/ui/ActionBar/ActionBarMenu;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menu:Lorg/telegram/ui/ActionBar/ActionBarMenu;

    .line 5377
    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda65;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda65;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenu;->setOnLayoutListener(Ljava/lang/Runnable;)V

    .line 5379
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menu:Lorg/telegram/ui/ActionBar/ActionBarMenu;

    const/16 v2, 0xd

    sget v3, Lorg/telegram/messenger/R$drawable;->msg_mask:I

    invoke-virtual {v0, v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenu;->addItem(II)Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->masksItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    .line 5380
    sget v2, Lorg/telegram/messenger/R$string;->Masks:I

    const-string v3, "Masks"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 5381
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menu:Lorg/telegram/ui/ActionBar/ActionBarMenu;

    const/4 v2, 0x5

    sget v3, Lorg/telegram/messenger/R$drawable;->ic_goinline:I

    invoke-virtual {v0, v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenu;->addItem(II)Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    .line 5382
    sget v2, Lorg/telegram/messenger/R$string;->AccDescrPipMode:I

    const-string v3, "AccDescrPipMode"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 5383
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menu:Lorg/telegram/ui/ActionBar/ActionBarMenu;

    const/16 v2, 0x14

    sget v3, Lorg/telegram/messenger/R$drawable;->msg_header_draw:I

    invoke-virtual {v0, v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenu;->addItem(II)Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->editItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    .line 5384
    sget v2, Lorg/telegram/messenger/R$string;->AccDescrPhotoEditor:I

    const-string v3, "AccDescrPhotoEditor"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 5385
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menu:Lorg/telegram/ui/ActionBar/ActionBarMenu;

    sget v2, Lorg/telegram/messenger/R$drawable;->msg_header_share:I

    invoke-virtual {v0, v14, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenu;->addItem(II)Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->sendItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    .line 5386
    sget v2, Lorg/telegram/messenger/R$string;->Forward:I

    const-string v3, "Forward"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 5388
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menu:Lorg/telegram/ui/ActionBar/ActionBarMenu;

    new-instance v2, Lorg/telegram/ui/Components/OptionsSpeedIconDrawable;

    invoke-direct {v2}, Lorg/telegram/ui/Components/OptionsSpeedIconDrawable;-><init>()V

    iput-object v2, v9, Lorg/telegram/ui/PhotoViewer;->menuItemIcon:Lorg/telegram/ui/Components/OptionsSpeedIconDrawable;

    invoke-virtual {v0, v12, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenu;->addItem(ILandroid/graphics/drawable/Drawable;)Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    .line 5389
    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda88;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda88;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->setOnMenuDismiss(Lorg/telegram/messenger/Utilities$Callback;)V

    .line 5391
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->getPopupLayout()Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    move-result-object v0

    iput-boolean v15, v0, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;->swipeBackGravityRight:Z

    .line 5392
    new-instance v0, Lorg/telegram/ui/ChooseSpeedLayout;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->getPopupLayout()Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    move-result-object v3

    invoke-virtual {v3}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;->getSwipeBack()Lorg/telegram/ui/Components/PopupSwipeBackLayout;

    move-result-object v3

    new-instance v7, Lorg/telegram/ui/PhotoViewer$16;

    invoke-direct {v7, v9}, Lorg/telegram/ui/PhotoViewer$16;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-direct {v0, v2, v3, v7}, Lorg/telegram/ui/ChooseSpeedLayout;-><init>(Landroid/content/Context;Lorg/telegram/ui/Components/PopupSwipeBackLayout;Lorg/telegram/ui/ChooseSpeedLayout$Callback;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->chooseSpeedLayout:Lorg/telegram/ui/ChooseSpeedLayout;

    .line 5419
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v2, Lorg/telegram/messenger/R$drawable;->msg_speed:I

    sget v3, Lorg/telegram/messenger/R$string;->Speed:I

    const-string v7, "Speed"

    invoke-static {v7, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    iget-object v7, v9, Lorg/telegram/ui/PhotoViewer;->chooseSpeedLayout:Lorg/telegram/ui/ChooseSpeedLayout;

    iget-object v7, v7, Lorg/telegram/ui/ChooseSpeedLayout;->speedSwipeBackLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    const/4 v5, 0x0

    invoke-virtual {v0, v2, v5, v3, v7}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSwipeBackItem(ILandroid/graphics/drawable/Drawable;Ljava/lang/String;Landroid/view/View;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5420
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->getPopupLayout()Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    move-result-object v0

    const v2, -0xddddde

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;->setSwipeBackForegroundColor(I)V

    .line 5421
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v2, Lorg/telegram/messenger/R$string;->SpeedNormal:I

    const-string v3, "SpeedNormal"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setSubtext(Ljava/lang/String;)V

    .line 5422
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    const v2, -0x50506

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5423
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addColoredGap()Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$GapView;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->speedGap:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$GapView;

    const v3, -0xe7e7e8

    .line 5424
    invoke-virtual {v0, v3}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$GapView;->setColor(I)V

    .line 5425
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->getPopupLayout()Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    move-result-object v0

    invoke-virtual {v0, v15}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;->setFitItems(Z)V

    .line 5427
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v3, 0xb

    sget v7, Lorg/telegram/messenger/R$drawable;->msg_openin:I

    sget v5, Lorg/telegram/messenger/R$string;->OpenInExternalApp:I

    const-string v4, "OpenInExternalApp"

    invoke-static {v4, v5}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v0, v3, v7, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5428
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v3, Lorg/telegram/messenger/R$string;->AccDescrMoreOptions:I

    const-string v4, "AccDescrMoreOptions"

    invoke-static {v4, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v0, v3}, Landroid/widget/FrameLayout;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 5429
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v3, Lorg/telegram/messenger/R$drawable;->msg_media:I

    sget v4, Lorg/telegram/messenger/R$string;->ShowAllMedia:I

    invoke-static {v4}, Lorg/telegram/messenger/LocaleController;->getString(I)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v0, v13, v3, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->allMediaItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5430
    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5431
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v3, 0xe

    sget v4, Lorg/telegram/messenger/R$drawable;->msg_gif:I

    sget v5, Lorg/telegram/messenger/R$string;->SaveToGIFs:I

    const-string v7, "SaveToGIFs"

    invoke-static {v7, v5}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v0, v3, v4, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5432
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v3, Lorg/telegram/messenger/R$drawable;->msg_message:I

    sget v4, Lorg/telegram/messenger/R$string;->ShowInChat:I

    const-string v5, "ShowInChat"

    invoke-static {v5, v4}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v4

    const/4 v5, 0x4

    invoke-virtual {v0, v5, v3, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5433
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v3, 0xf

    sget v4, Lorg/telegram/messenger/R$drawable;->msg_sticker:I

    sget v7, Lorg/telegram/messenger/R$string;->ShowStickers:I

    const-string v5, "ShowStickers"

    invoke-static {v5, v7}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v0, v3, v4, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5434
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v3, 0xa

    sget v4, Lorg/telegram/messenger/R$drawable;->msg_shareout:I

    sget v5, Lorg/telegram/messenger/R$string;->ShareFile:I

    const-string v7, "ShareFile"

    invoke-static {v7, v5}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v0, v3, v4, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5435
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v3, Lorg/telegram/messenger/R$drawable;->msg_gallery:I

    sget v4, Lorg/telegram/messenger/R$string;->SaveToGallery:I

    const-string v5, "SaveToGallery"

    invoke-static {v5, v4}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v0, v15, v3, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5437
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v3, 0x10

    sget v4, Lorg/telegram/messenger/R$drawable;->msg_openprofile:I

    sget v5, Lorg/telegram/messenger/R$string;->SetAsMain:I

    const-string v7, "SetAsMain"

    invoke-static {v7, v5}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v0, v3, v4, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5438
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v3, Lorg/telegram/messenger/R$drawable;->msg_translate:I

    sget v4, Lorg/telegram/messenger/R$string;->TranslateMessage:I

    invoke-static {v4}, Lorg/telegram/messenger/LocaleController;->getString(I)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v0, v6, v3, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5439
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v4, 0x16

    sget v5, Lorg/telegram/messenger/R$string;->HideTranslation:I

    invoke-static {v5}, Lorg/telegram/messenger/LocaleController;->getString(I)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v0, v4, v3, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5440
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v3, 0x6

    sget v4, Lorg/telegram/messenger/R$drawable;->msg_delete:I

    sget v5, Lorg/telegram/messenger/R$string;->Delete:I

    const-string v7, "Delete"

    invoke-static {v7, v5}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v0, v3, v4, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5441
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v3, 0x7

    sget v4, Lorg/telegram/messenger/R$drawable;->msg_cancel:I

    sget v5, Lorg/telegram/messenger/R$string;->StopDownload:I

    const-string v7, "StopDownload"

    invoke-static {v7, v5}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v0, v3, v4, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5442
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const v2, -0x6ddddde

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->redrawPopup(I)V

    .line 5443
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0, v6}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 5444
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v2, 0x16

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 5445
    invoke-direct {v9, v12, v15}, Lorg/telegram/ui/PhotoViewer;->setMenuItemIcon(ZZ)V

    .line 5446
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const v2, 0xfffffff

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->setPopupItemsSelectorColor(I)V

    .line 5448
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$17;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$17;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->setSubMenuDelegate(Lorg/telegram/ui/ActionBar/ActionBarMenuItem$ActionBarSubMenuItemDelegate;)V

    .line 5464
    new-instance v0, Lorg/telegram/ui/PhotoViewer$18;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    invoke-direct {v0, v9, v2}, Lorg/telegram/ui/PhotoViewer$18;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    .line 5470
    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setBackgroundColor(I)V

    .line 5471
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/16 v7, 0x30

    const/16 v5, 0x53

    invoke-static {v8, v7, v5}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v0, v2, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 5473
    new-instance v0, Landroid/view/View;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    invoke-direct {v0, v2}, Landroid/view/View;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    .line 5474
    invoke-virtual {v0, v1}, Landroid/view/View;->setBackgroundColor(I)V

    .line 5475
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    const/high16 v3, -0x40800000    # -1.0f

    iget v4, v9, Lorg/telegram/ui/PhotoViewer;->navigationBarHeight:I

    int-to-float v4, v4

    sget v18, Lorg/telegram/messenger/AndroidUtilities;->density:F

    div-float v4, v4, v18

    const/16 v6, 0x57

    invoke-static {v3, v4, v6}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(FFI)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v0, v2, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 5477
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pressedDrawable:[Landroid/graphics/drawable/GradientDrawable;

    new-instance v2, Landroid/graphics/drawable/GradientDrawable;

    sget-object v3, Landroid/graphics/drawable/GradientDrawable$Orientation;->LEFT_RIGHT:Landroid/graphics/drawable/GradientDrawable$Orientation;

    new-array v4, v13, [I

    fill-array-data v4, :array_0

    invoke-direct {v2, v3, v4}, Landroid/graphics/drawable/GradientDrawable;-><init>(Landroid/graphics/drawable/GradientDrawable$Orientation;[I)V

    aput-object v2, v0, v12

    .line 5478
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pressedDrawable:[Landroid/graphics/drawable/GradientDrawable;

    aget-object v0, v0, v12

    invoke-virtual {v0, v12}, Landroid/graphics/drawable/GradientDrawable;->setShape(I)V

    .line 5479
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pressedDrawable:[Landroid/graphics/drawable/GradientDrawable;

    new-instance v2, Landroid/graphics/drawable/GradientDrawable;

    sget-object v3, Landroid/graphics/drawable/GradientDrawable$Orientation;->RIGHT_LEFT:Landroid/graphics/drawable/GradientDrawable$Orientation;

    new-array v4, v13, [I

    fill-array-data v4, :array_1

    invoke-direct {v2, v3, v4}, Landroid/graphics/drawable/GradientDrawable;-><init>(Landroid/graphics/drawable/GradientDrawable$Orientation;[I)V

    aput-object v2, v0, v15

    .line 5480
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pressedDrawable:[Landroid/graphics/drawable/GradientDrawable;

    aget-object v0, v0, v15

    invoke-virtual {v0, v12}, Landroid/graphics/drawable/GradientDrawable;->setShape(I)V

    .line 5482
    new-instance v0, Lorg/telegram/ui/Components/GroupedPhotosListView;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    const/high16 v3, 0x41200000    # 10.0f

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v3

    invoke-direct {v0, v2, v3}, Lorg/telegram/ui/Components/GroupedPhotosListView;-><init>(Landroid/content/Context;I)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    .line 5483
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/16 v3, 0x44

    invoke-static {v8, v3, v5}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v2, v0, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 5484
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$19;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$19;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v2}, Lorg/telegram/ui/Components/GroupedPhotosListView;->setDelegate(Lorg/telegram/ui/Components/GroupedPhotosListView$GroupedPhotosListViewDelegate;)V

    const/4 v0, 0x0

    :goto_2
    if-ge v0, v14, :cond_7

    .line 5561
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    new-instance v3, Landroid/widget/ImageView;

    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v3, v4}, Landroid/widget/ImageView;-><init>(Landroid/content/Context;)V

    aput-object v3, v2, v0

    .line 5562
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v0

    sget v3, Lorg/telegram/messenger/R$drawable;->msg_maxvideo:I

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 5563
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v0

    sget v3, Lorg/telegram/messenger/R$string;->AccSwitchToFullscreen:I

    const-string v4, "AccSwitchToFullscreen"

    invoke-static {v4, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 5564
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v0

    sget-object v3, Landroid/widget/ImageView$ScaleType;->CENTER:Landroid/widget/ImageView$ScaleType;

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setScaleType(Landroid/widget/ImageView$ScaleType;)V

    .line 5565
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v0

    const v4, 0x40ffffff    # 7.9999995f

    invoke-static {v4}, Lorg/telegram/ui/ActionBar/Theme;->createSelectorDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v3

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setBackground(Landroid/graphics/drawable/Drawable;)V

    .line 5566
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v0

    const/4 v3, 0x4

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 5567
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v0

    const/high16 v3, 0x3f800000    # 1.0f

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setAlpha(F)V

    .line 5568
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v3, v3, v0

    const/high16 v6, 0x42400000    # 48.0f

    invoke-static {v7, v6}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IF)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v6

    invoke-virtual {v2, v3, v6}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 5569
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v0

    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda40;

    invoke-direct {v3, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda40;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    add-int/lit8 v0, v0, 0x1

    goto :goto_2

    :cond_7
    const v4, 0x40ffffff    # 7.9999995f

    .line 5589
    new-instance v0, Lorg/telegram/ui/PhotoViewer$20;

    new-instance v2, Lorg/telegram/ui/Stories/DarkThemeResourceProvider;

    invoke-direct {v2}, Lorg/telegram/ui/Stories/DarkThemeResourceProvider;-><init>()V

    const/4 v6, 0x0

    invoke-direct {v0, v9, v6, v2}, Lorg/telegram/ui/PhotoViewer$20;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/Cells/TextSelectionHelper$SimpleSelectabeleView;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->textSelectionHelper:Lorg/telegram/ui/Cells/TextSelectionHelper$SimpleTextSelectionHelper;

    .line 5596
    new-instance v0, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v2

    invoke-direct {v0, v2}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    .line 5597
    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda51;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda51;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v2}, Landroid/widget/ViewSwitcher;->setFactory(Landroid/widget/ViewSwitcher$ViewFactory;)V

    .line 5598
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    const/4 v2, 0x4

    invoke-virtual {v0, v2}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setVisibility(I)V

    .line 5599
    invoke-direct {v9, v15}, Lorg/telegram/ui/PhotoViewer;->setCaptionHwLayerEnabled(Z)V

    const/4 v0, 0x0

    :goto_3
    if-ge v0, v14, :cond_8

    .line 5602
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    new-instance v3, Lorg/telegram/ui/PhotoViewer$21;

    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-direct {v3, v9, v4}, Lorg/telegram/ui/PhotoViewer$21;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V

    aput-object v3, v2, v0

    .line 5617
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v2, v2, v0

    invoke-virtual {v2, v12, v12, v15}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    add-int/lit8 v0, v0, 0x1

    const v4, 0x40ffffff    # 7.9999995f

    goto :goto_3

    .line 5620
    :cond_8
    new-instance v0, Lorg/telegram/ui/PhotoViewer$22;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    invoke-direct {v0, v9, v2, v10}, Lorg/telegram/ui/PhotoViewer$22;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    .line 5637
    invoke-virtual {v0, v15}, Lorg/telegram/ui/Components/RadialProgressView;->setUseSelfAlpha(Z)V

    .line 5638
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    invoke-virtual {v0, v8}, Lorg/telegram/ui/Components/RadialProgressView;->setProgressColor(I)V

    .line 5639
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    const/high16 v2, 0x42580000    # 54.0f

    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v2

    invoke-virtual {v0, v2}, Lorg/telegram/ui/Components/RadialProgressView;->setSize(I)V

    .line 5640
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    sget v2, Lorg/telegram/messenger/R$drawable;->circle_big:I

    invoke-virtual {v0, v2}, Landroid/view/View;->setBackgroundResource(I)V

    .line 5641
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    const/4 v3, 0x4

    invoke-virtual {v0, v3}, Landroid/view/View;->setVisibility(I)V

    .line 5642
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    const/4 v3, 0x0

    invoke-virtual {v0, v3}, Lorg/telegram/ui/Components/RadialProgressView;->setAlpha(F)V

    .line 5643
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    const/16 v4, 0x40

    const/16 v13, 0x11

    invoke-static {v4, v4, v13}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v6

    invoke-virtual {v0, v3, v6}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 5645
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->createVideoControlsInterface()V

    .line 5647
    new-instance v0, Lorg/telegram/ui/Components/RadialProgressView;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v3, v10}, Lorg/telegram/ui/Components/RadialProgressView;-><init>(Landroid/content/Context;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->progressView:Lorg/telegram/ui/Components/RadialProgressView;

    .line 5648
    invoke-virtual {v0, v8}, Lorg/telegram/ui/Components/RadialProgressView;->setProgressColor(I)V

    .line 5649
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->progressView:Lorg/telegram/ui/Components/RadialProgressView;

    invoke-virtual {v0, v2}, Landroid/view/View;->setBackgroundResource(I)V

    .line 5650
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->progressView:Lorg/telegram/ui/Components/RadialProgressView;

    const/4 v2, 0x4

    invoke-virtual {v0, v2}, Landroid/view/View;->setVisibility(I)V

    .line 5651
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->progressView:Lorg/telegram/ui/Components/RadialProgressView;

    const/16 v3, 0x36

    invoke-static {v3, v3, v13}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v6

    invoke-virtual {v0, v2, v6}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 5653
    new-instance v0, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v2}, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    .line 5654
    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setBackgroundColor(I)V

    .line 5655
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    invoke-virtual {v0, v12, v12}, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->updateSelectedCount(IZ)V

    .line 5656
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    const/high16 v2, 0x42f00000    # 120.0f

    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v2

    int-to-float v2, v2

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 5657
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v0, v0, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->doneButton:Landroid/widget/TextView;

    sget v2, Lorg/telegram/messenger/R$string;->Done:I

    const-string v6, "Done"

    invoke-static {v6, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/String;->toUpperCase()Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 5658
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v0, v0, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->doneButton:Landroid/widget/TextView;

    sget v6, Lorg/telegram/ui/ActionBar/Theme;->key_chat_editMediaButton:I

    invoke-direct {v9, v6}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v2

    invoke-virtual {v0, v2}, Landroid/widget/TextView;->setTextColor(I)V

    .line 5659
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    invoke-static {v8, v7, v5}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v0, v2, v4}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 5660
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v0, v0, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->cancelButton:Landroid/widget/TextView;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda43;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda43;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v2}, Landroid/widget/TextView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 5666
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v0, v0, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->doneButton:Landroid/widget/TextView;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda41;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda41;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v2}, Landroid/widget/TextView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 5675
    new-instance v0, Lorg/telegram/ui/Components/VideoForwardDrawable;

    invoke-direct {v0, v12}, Lorg/telegram/ui/Components/VideoForwardDrawable;-><init>(Z)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoForwardDrawable:Lorg/telegram/ui/Components/VideoForwardDrawable;

    .line 5676
    new-instance v2, Lorg/telegram/ui/PhotoViewer$23;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$23;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v2}, Lorg/telegram/ui/Components/VideoForwardDrawable;->setDelegate(Lorg/telegram/ui/Components/VideoForwardDrawable$VideoForwardDrawableDelegate;)V

    .line 5688
    new-instance v0, Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v9, v2}, Lorg/telegram/ui/PhotoViewer$QualityChooseView;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    const/high16 v2, 0x42f00000    # 120.0f

    .line 5689
    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v2

    int-to-float v2, v2

    invoke-virtual {v0, v2}, Landroid/view/View;->setTranslationY(F)V

    .line 5690
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    const/4 v2, 0x4

    invoke-virtual {v0, v2}, Landroid/view/View;->setVisibility(I)V

    .line 5691
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    invoke-virtual {v0, v1}, Landroid/view/View;->setBackgroundColor(I)V

    .line 5692
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    const/16 v20, -0x1

    const/high16 v21, 0x428c0000    # 70.0f

    const/16 v22, 0x53

    const/16 v23, 0x0

    const/16 v24, 0x0

    const/16 v25, 0x0

    const/high16 v26, 0x42400000    # 48.0f

    invoke-static/range {v20 .. v26}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IFIFFFF)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v0, v2, v4}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 5694
    new-instance v0, Landroid/graphics/Paint;

    invoke-direct {v0}, Landroid/graphics/Paint;-><init>()V

    .line 5695
    invoke-virtual {v0, v1}, Landroid/graphics/Paint;->setColor(I)V

    .line 5696
    new-instance v0, Lorg/telegram/ui/PhotoViewer$24;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    invoke-direct {v0, v9, v1}, Lorg/telegram/ui/PhotoViewer$24;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    .line 5774
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/4 v4, -0x2

    invoke-static {v8, v4, v5}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v1, v0, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 5776
    new-instance v0, Landroid/widget/TextView;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v1

    invoke-direct {v0, v1}, Landroid/widget/TextView;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docNameTextView:Landroid/widget/TextView;

    const/high16 v1, 0x41700000    # 15.0f

    .line 5777
    invoke-virtual {v0, v15, v1}, Landroid/widget/TextView;->setTextSize(IF)V

    .line 5778
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docNameTextView:Landroid/widget/TextView;

    const-string v17, "fonts/rmedium.ttf"

    invoke-static/range {v17 .. v17}, Lorg/telegram/messenger/AndroidUtilities;->getTypeface(Ljava/lang/String;)Landroid/graphics/Typeface;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setTypeface(Landroid/graphics/Typeface;)V

    .line 5779
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docNameTextView:Landroid/widget/TextView;

    invoke-virtual {v0, v15}, Landroid/widget/TextView;->setSingleLine(Z)V

    .line 5780
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docNameTextView:Landroid/widget/TextView;

    invoke-virtual {v0, v15}, Landroid/widget/TextView;->setMaxLines(I)V

    .line 5781
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docNameTextView:Landroid/widget/TextView;

    sget-object v1, Landroid/text/TextUtils$TruncateAt;->END:Landroid/text/TextUtils$TruncateAt;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setEllipsize(Landroid/text/TextUtils$TruncateAt;)V

    .line 5782
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docNameTextView:Landroid/widget/TextView;

    invoke-virtual {v0, v8}, Landroid/widget/TextView;->setTextColor(I)V

    .line 5783
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docNameTextView:Landroid/widget/TextView;

    invoke-virtual {v0, v14}, Landroid/widget/TextView;->setGravity(I)V

    .line 5784
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->docNameTextView:Landroid/widget/TextView;

    const/high16 v21, -0x40000000    # -2.0f

    const/16 v22, 0x33

    const/high16 v23, 0x41a00000    # 20.0f

    const/high16 v24, 0x41b80000    # 23.0f

    const/high16 v25, 0x42a80000    # 84.0f

    const/16 v26, 0x0

    invoke-static/range {v20 .. v26}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IFIFFFF)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 5786
    new-instance v0, Landroid/widget/TextView;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v1

    invoke-direct {v0, v1}, Landroid/widget/TextView;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docInfoTextView:Landroid/widget/TextView;

    const/high16 v2, 0x41600000    # 14.0f

    .line 5787
    invoke-virtual {v0, v15, v2}, Landroid/widget/TextView;->setTextSize(IF)V

    .line 5788
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docInfoTextView:Landroid/widget/TextView;

    invoke-virtual {v0, v15}, Landroid/widget/TextView;->setSingleLine(Z)V

    .line 5789
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docInfoTextView:Landroid/widget/TextView;

    invoke-virtual {v0, v15}, Landroid/widget/TextView;->setMaxLines(I)V

    .line 5790
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docInfoTextView:Landroid/widget/TextView;

    sget-object v1, Landroid/text/TextUtils$TruncateAt;->END:Landroid/text/TextUtils$TruncateAt;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setEllipsize(Landroid/text/TextUtils$TruncateAt;)V

    .line 5791
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docInfoTextView:Landroid/widget/TextView;

    invoke-virtual {v0, v8}, Landroid/widget/TextView;->setTextColor(I)V

    .line 5792
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docInfoTextView:Landroid/widget/TextView;

    invoke-virtual {v0, v14}, Landroid/widget/TextView;->setGravity(I)V

    .line 5793
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->docInfoTextView:Landroid/widget/TextView;

    const/high16 v24, 0x42380000    # 46.0f

    invoke-static/range {v20 .. v26}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IFIFFFF)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 5796
    new-instance v0, Landroid/widget/TextView;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v1

    invoke-direct {v0, v1}, Landroid/widget/TextView;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    .line 5797
    sget v2, Lorg/telegram/ui/ActionBar/Theme;->key_featuredStickers_addButton:I

    invoke-direct {v9, v2}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v1

    new-array v4, v15, [F

    const/high16 v21, 0x40c00000    # 6.0f

    aput v21, v4, v12

    invoke-static {v1, v4}, Lorg/telegram/ui/ActionBar/Theme$AdaptiveRipple;->filledRect(I[F)Landroid/graphics/drawable/Drawable;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setBackground(Landroid/graphics/drawable/Drawable;)V

    .line 5798
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    sget v4, Lorg/telegram/ui/ActionBar/Theme;->key_featuredStickers_buttonText:I

    invoke-direct {v9, v4}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v1

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setTextColor(I)V

    .line 5799
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    sget-object v1, Landroid/text/TextUtils$TruncateAt;->END:Landroid/text/TextUtils$TruncateAt;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setEllipsize(Landroid/text/TextUtils$TruncateAt;)V

    .line 5800
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    invoke-virtual {v0, v13}, Landroid/widget/TextView;->setGravity(I)V

    .line 5801
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    invoke-virtual {v0, v15}, Landroid/widget/TextView;->setLines(I)V

    .line 5802
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    invoke-virtual {v0, v15}, Landroid/widget/TextView;->setSingleLine(Z)V

    .line 5803
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    sget v1, Lorg/telegram/messenger/R$string;->SetAsMyPhoto:I

    const-string v7, "SetAsMyPhoto"

    invoke-static {v7, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 5804
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    const/high16 v1, 0x41700000    # 15.0f

    invoke-virtual {v0, v15, v1}, Landroid/widget/TextView;->setTextSize(IF)V

    .line 5805
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    invoke-static/range {v17 .. v17}, Lorg/telegram/messenger/AndroidUtilities;->getTypeface(Ljava/lang/String;)Landroid/graphics/Typeface;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setTypeface(Landroid/graphics/Typeface;)V

    .line 5806
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda37;

    invoke-direct {v1, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda37;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 5807
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    const/16 v7, 0x8

    invoke-virtual {v0, v7}, Landroid/widget/TextView;->setVisibility(I)V

    .line 5808
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    const/16 v22, -0x1

    const/high16 v23, 0x42400000    # 48.0f

    const/16 v24, 0x33

    const/high16 v25, 0x41a00000    # 20.0f

    const/high16 v27, 0x41a00000    # 20.0f

    const/high16 v28, 0x42800000    # 64.0f

    invoke-static/range {v22 .. v28}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IFIFFFF)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v7

    invoke-virtual {v0, v1, v7}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 5810
    new-instance v0, Lorg/telegram/ui/PhotoViewer$25;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v9, v1}, Lorg/telegram/ui/PhotoViewer$25;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    .line 5844
    new-instance v1, Lorg/telegram/ui/PhotoViewer$26;

    invoke-direct {v1, v9}, Lorg/telegram/ui/PhotoViewer$26;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setDelegate(Lorg/telegram/ui/Components/VideoTimelinePlayView$VideoTimelineViewDelegate;)V

    .line 5977
    new-instance v0, Landroid/widget/FrameLayout;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v1}, Landroid/widget/FrameLayout;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    .line 5978
    invoke-virtual {v0, v12}, Landroid/widget/FrameLayout;->setClipChildren(Z)V

    .line 5979
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-static {v8, v3, v5}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v0, v1, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 5980
    invoke-direct {v9, v12, v12}, Lorg/telegram/ui/PhotoViewer;->showVideoTimeline(ZZ)V

    .line 5981
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    const/high16 v23, 0x42580000    # 54.0f

    const/16 v24, 0x53

    const/16 v25, 0x0

    const/high16 v26, 0x41000000    # 8.0f

    const/16 v27, 0x0

    const/16 v28, 0x0

    invoke-static/range {v22 .. v28}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IFIFFFF)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v0, v1, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 5983
    new-instance v7, Lorg/telegram/ui/PhotoViewer$27;

    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v3

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v8, v9, Lorg/telegram/ui/PhotoViewer;->blurManager:Lorg/telegram/ui/Components/BlurringShader$BlurManager;

    new-instance v14, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda59;

    invoke-direct {v14, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda59;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    move-object/from16 v24, v0

    move-object v0, v7

    move-object/from16 v25, v1

    move-object/from16 v1, p0

    move/from16 v29, v2

    const/high16 v13, 0x41600000    # 14.0f

    move-object v2, v3

    move-object/from16 v3, v25

    move/from16 v30, v4

    const/16 v16, -0x2

    const v19, 0x40ffffff    # 7.9999995f

    move-object/from16 v4, v24

    const/16 v13, 0x53

    move-object/from16 v5, v24

    move/from16 v31, v6

    move-object/from16 v6, p3

    move-object v15, v7

    move-object v7, v8

    const/4 v13, -0x1

    move-object v8, v14

    invoke-direct/range {v0 .. v8}, Lorg/telegram/ui/PhotoViewer$27;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;Landroid/widget/FrameLayout;Lorg/telegram/ui/Components/SizeNotifierFrameLayout;Landroid/widget/FrameLayout;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;Lorg/telegram/ui/Components/BlurringShader$BlurManager;Ljava/lang/Runnable;)V

    iput-object v15, v9, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    .line 6050
    new-instance v0, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda90;

    invoke-direct {v0, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda90;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v15, v0}, Lorg/telegram/ui/Components/CaptionPhotoViewer;->setOnTimerChange(Lorg/telegram/messenger/Utilities$Callback;)V

    .line 6061
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->setAccount(I)V

    .line 6062
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda89;

    invoke-direct {v1, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda89;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->setOnHeightUpdate(Lorg/telegram/messenger/Utilities$Callback;)V

    .line 6066
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda45;

    invoke-direct {v1, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda45;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/CaptionPhotoViewer;->setOnAddPhotoClick(Landroid/view/View$OnClickListener;)V

    .line 6073
    invoke-direct {v9, v12, v12}, Lorg/telegram/ui/PhotoViewer;->showEditCaption(ZZ)V

    .line 6075
    new-instance v0, Lorg/telegram/ui/PhotoViewer$28;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v9, v1}, Lorg/telegram/ui/PhotoViewer$28;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->captionEditContainer:Landroid/widget/FrameLayout;

    .line 6082
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    const/16 v2, 0x53

    invoke-static {v13, v13, v2}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v0, v1, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6083
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->captionEditContainer:Landroid/widget/FrameLayout;

    const/4 v2, -0x1

    const/high16 v3, -0x40800000    # -1.0f

    const/16 v4, 0x53

    const/4 v5, 0x0

    const/high16 v6, 0x41000000    # 8.0f

    const/4 v7, 0x0

    const/4 v8, 0x0

    invoke-static/range {v2 .. v8}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IFIFFFF)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6085
    new-instance v0, Landroid/widget/TextView;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v1}, Landroid/widget/TextView;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    const/4 v1, 0x1

    .line 6086
    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setSingleLine(Z)V

    .line 6087
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    const/16 v2, 0x8

    invoke-virtual {v0, v2}, Landroid/widget/TextView;->setVisibility(I)V

    .line 6088
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    sget v3, Lorg/telegram/messenger/R$string;->ChooseCover:I

    const-string v4, "ChooseCover"

    invoke-static {v4, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v0, v3}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 6089
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setGravity(I)V

    .line 6090
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    const/high16 v3, 0x41600000    # 14.0f

    invoke-virtual {v0, v1, v3}, Landroid/widget/TextView;->setTextSize(IF)V

    .line 6091
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    const v1, -0x737374

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setTextColor(I)V

    .line 6092
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    const/16 v34, -0x1

    const/high16 v35, -0x40000000    # -2.0f

    const/16 v36, 0x53

    const/16 v37, 0x0

    const/high16 v38, 0x41000000    # 8.0f

    const/16 v39, 0x0

    const/16 v40, 0x0

    invoke-static/range {v34 .. v40}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IFIFFFF)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v0, v1, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6094
    new-instance v0, Landroid/widget/ImageView;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v1}, Landroid/widget/ImageView;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    .line 6095
    sget-object v1, Landroid/widget/ImageView$ScaleType;->CENTER:Landroid/widget/ImageView$ScaleType;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setScaleType(Landroid/widget/ImageView$ScaleType;)V

    const/high16 v0, 0x42400000    # 48.0f

    .line 6096
    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v0

    move/from16 v1, v31

    invoke-direct {v9, v1}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v3

    sget v4, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v5, 0x15

    if-lt v4, v5, :cond_9

    sget v6, Lorg/telegram/ui/ActionBar/Theme;->key_dialogFloatingButtonPressed:I

    goto :goto_4

    :cond_9
    move v6, v1

    :goto_4
    invoke-direct {v9, v6}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v4

    invoke-static {v0, v3, v4}, Lorg/telegram/ui/ActionBar/Theme;->createSimpleSelectorCircleDrawable(III)Landroid/graphics/drawable/Drawable;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pickerViewSendDrawable:Landroid/graphics/drawable/Drawable;

    .line 6097
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v3, v0}, Landroid/widget/ImageView;->setBackgroundDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 6098
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    sget v3, Lorg/telegram/messenger/R$drawable;->msg_input_send_mini:I

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 6099
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    new-instance v3, Landroid/graphics/PorterDuffColorFilter;

    sget v4, Lorg/telegram/ui/ActionBar/Theme;->key_dialogFloatingIcon:I

    invoke-direct {v9, v4}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v4

    sget-object v5, Landroid/graphics/PorterDuff$Mode;->MULTIPLY:Landroid/graphics/PorterDuff$Mode;

    invoke-direct {v3, v4, v5}, Landroid/graphics/PorterDuffColorFilter;-><init>(ILandroid/graphics/PorterDuff$Mode;)V

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 6100
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    const/16 v34, 0x30

    const/high16 v35, 0x42400000    # 48.0f

    const/16 v36, 0x55

    const/16 v37, 0x0

    const/16 v38, 0x0

    const/high16 v39, 0x41600000    # 14.0f

    const v40, 0x40151eb8    # 2.33f

    invoke-static/range {v34 .. v40}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IFIFFFF)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v0, v3, v4}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6101
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    sget v3, Lorg/telegram/messenger/R$string;->Send:I

    const-string v4, "Send"

    invoke-static {v4, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 6102
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-static {v0}, Lorg/telegram/ui/Components/ScaleStateListAnimator;->apply(Landroid/view/View;)V

    .line 6103
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda44;

    invoke-direct {v3, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda44;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6118
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda49;

    invoke-direct {v3, v9, v10}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda49;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setOnLongClickListener(Landroid/view/View$OnLongClickListener;)V

    .line 6257
    new-instance v0, Lorg/telegram/ui/PhotoViewer$29;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v9, v3}, Lorg/telegram/ui/PhotoViewer$29;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->itemsLayout:Landroid/widget/LinearLayout;

    .line 6302
    invoke-virtual {v0, v12}, Landroid/widget/LinearLayout;->setOrientation(I)V

    .line 6303
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->itemsLayout:Landroid/widget/LinearLayout;

    const/16 v34, -0x2

    const/16 v36, 0x51

    const/high16 v39, 0x428c0000    # 70.0f

    const/16 v40, 0x0

    invoke-static/range {v34 .. v40}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IFIFFFF)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v0, v3, v4}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6305
    new-instance v0, Landroid/widget/ImageView;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v3}, Landroid/widget/ImageView;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    .line 6306
    sget-object v3, Landroid/widget/ImageView$ScaleType;->CENTER:Landroid/widget/ImageView$ScaleType;

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setScaleType(Landroid/widget/ImageView$ScaleType;)V

    .line 6307
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    sget v3, Lorg/telegram/messenger/R$drawable;->media_crop:I

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 6308
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-static/range {v19 .. v19}, Lorg/telegram/ui/ActionBar/Theme;->createSelectorDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v3

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setBackgroundDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 6309
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->itemsLayout:Landroid/widget/LinearLayout;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    const/16 v4, 0x30

    invoke-static {v4, v4}, Lorg/telegram/ui/Components/LayoutHelper;->createLinear(II)Landroid/widget/LinearLayout$LayoutParams;

    move-result-object v5

    invoke-virtual {v0, v3, v5}, Landroid/widget/LinearLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6310
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda42;

    invoke-direct {v3, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda42;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6329
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    sget v3, Lorg/telegram/messenger/R$string;->CropImage:I

    const-string v5, "CropImage"

    invoke-static {v5, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 6331
    new-instance v0, Landroid/widget/ImageView;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v3}, Landroid/widget/ImageView;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    .line 6332
    sget-object v3, Landroid/widget/ImageView$ScaleType;->CENTER:Landroid/widget/ImageView$ScaleType;

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setScaleType(Landroid/widget/ImageView$ScaleType;)V

    .line 6333
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    sget v3, Lorg/telegram/messenger/R$drawable;->msg_photo_rotate:I

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 6334
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-static/range {v19 .. v19}, Lorg/telegram/ui/ActionBar/Theme;->createSelectorDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v3

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setBackgroundDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 6335
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->itemsLayout:Landroid/widget/LinearLayout;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-static {v4, v4}, Lorg/telegram/ui/Components/LayoutHelper;->createLinear(II)Landroid/widget/LinearLayout$LayoutParams;

    move-result-object v5

    invoke-virtual {v0, v3, v5}, Landroid/widget/LinearLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6336
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda36;

    invoke-direct {v3, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda36;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6337
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    sget v3, Lorg/telegram/messenger/R$string;->AccDescrRotate:I

    const-string v5, "AccDescrRotate"

    invoke-static {v5, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 6339
    new-instance v0, Landroid/widget/ImageView;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v3}, Landroid/widget/ImageView;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    .line 6340
    sget-object v3, Landroid/widget/ImageView$ScaleType;->CENTER:Landroid/widget/ImageView$ScaleType;

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setScaleType(Landroid/widget/ImageView$ScaleType;)V

    .line 6341
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    sget v3, Lorg/telegram/messenger/R$drawable;->media_flip:I

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 6342
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-static/range {v19 .. v19}, Lorg/telegram/ui/ActionBar/Theme;->createSelectorDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v3

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setBackgroundDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 6343
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->itemsLayout:Landroid/widget/LinearLayout;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-static {v4, v4}, Lorg/telegram/ui/Components/LayoutHelper;->createLinear(II)Landroid/widget/LinearLayout$LayoutParams;

    move-result-object v5

    invoke-virtual {v0, v3, v5}, Landroid/widget/LinearLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6344
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda46;

    invoke-direct {v3, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda46;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6345
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    sget v3, Lorg/telegram/messenger/R$string;->AccDescrMirror:I

    const-string v5, "AccDescrMirror"

    invoke-static {v5, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 6347
    new-instance v0, Landroid/widget/ImageView;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v3}, Landroid/widget/ImageView;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    .line 6348
    sget-object v3, Landroid/widget/ImageView$ScaleType;->CENTER:Landroid/widget/ImageView$ScaleType;

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setScaleType(Landroid/widget/ImageView$ScaleType;)V

    .line 6349
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    sget v3, Lorg/telegram/messenger/R$drawable;->media_draw:I

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 6350
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-static/range {v19 .. v19}, Lorg/telegram/ui/ActionBar/Theme;->createSelectorDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v3

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setBackgroundDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 6351
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->itemsLayout:Landroid/widget/LinearLayout;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-static {v4, v4}, Lorg/telegram/ui/Components/LayoutHelper;->createLinear(II)Landroid/widget/LinearLayout$LayoutParams;

    move-result-object v5

    invoke-virtual {v0, v3, v5}, Landroid/widget/LinearLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6352
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda35;

    invoke-direct {v3, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda35;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6371
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    sget v3, Lorg/telegram/messenger/R$string;->AccDescrPhotoEditor:I

    const-string v5, "AccDescrPhotoEditor"

    invoke-static {v5, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 6373
    new-instance v0, Landroid/widget/ImageView;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v3}, Landroid/widget/ImageView;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    .line 6374
    sget-object v3, Landroid/widget/ImageView$ScaleType;->CENTER:Landroid/widget/ImageView$ScaleType;

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setScaleType(Landroid/widget/ImageView$ScaleType;)V

    .line 6375
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-static/range {v19 .. v19}, Lorg/telegram/ui/ActionBar/Theme;->createSelectorDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v3

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setBackgroundDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 6376
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    const/16 v32, 0x30

    const/high16 v33, 0x42400000    # 48.0f

    const/16 v34, 0x53

    const/high16 v35, 0x41800000    # 16.0f

    const/16 v36, 0x0

    invoke-static/range {v32 .. v38}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IFIFFFF)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v5

    invoke-virtual {v0, v3, v5}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6377
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda33;

    invoke-direct {v3, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda33;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6394
    new-instance v0, Lorg/telegram/ui/Components/VideoCompressButton;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v3}, Lorg/telegram/ui/Components/VideoCompressButton;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    const/4 v3, 0x1

    .line 6395
    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v5

    invoke-virtual {v0, v5}, Landroid/view/View;->setTag(Ljava/lang/Object;)V

    .line 6396
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-static/range {v19 .. v19}, Lorg/telegram/ui/ActionBar/Theme;->createSelectorDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v5

    invoke-virtual {v0, v5}, Landroid/view/View;->setBackgroundDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 6398
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->selectCompression()I

    move-result v0

    iput v0, v9, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    .line 6399
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    iget-boolean v5, v9, Lorg/telegram/ui/PhotoViewer;->videoConvertSupported:Z

    if-eqz v5, :cond_a

    iget v5, v9, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    if-le v5, v3, :cond_a

    const/4 v3, 0x1

    goto :goto_5

    :cond_a
    const/4 v3, 0x0

    :goto_5
    iget-boolean v5, v9, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    iget v6, v9, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    iget v7, v9, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    invoke-static {v6, v7}, Ljava/lang/Math;->min(II)I

    move-result v6

    invoke-virtual {v0, v3, v5, v6}, Lorg/telegram/ui/Components/VideoCompressButton;->setState(ZZI)V

    .line 6400
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    sget v3, Lorg/telegram/messenger/R$string;->AccDescrVideoQuality:I

    const-string v5, "AccDescrVideoQuality"

    invoke-static {v5, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v0, v3}, Landroid/view/View;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 6401
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->itemsLayout:Landroid/widget/LinearLayout;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-static {v4, v4}, Lorg/telegram/ui/Components/LayoutHelper;->createLinear(II)Landroid/widget/LinearLayout$LayoutParams;

    move-result-object v5

    invoke-virtual {v0, v3, v5}, Landroid/widget/LinearLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6402
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda48;

    invoke-direct {v3, v9, v11}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda48;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/app/Activity;)V

    invoke-virtual {v0, v3}, Landroid/view/View;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6420
    new-instance v0, Landroid/widget/ImageView;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v3}, Landroid/widget/ImageView;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    .line 6421
    sget-object v3, Landroid/widget/ImageView$ScaleType;->CENTER:Landroid/widget/ImageView$ScaleType;

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setScaleType(Landroid/widget/ImageView$ScaleType;)V

    .line 6422
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    sget v3, Lorg/telegram/messenger/R$drawable;->media_settings:I

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 6423
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-static/range {v19 .. v19}, Lorg/telegram/ui/ActionBar/Theme;->createSelectorDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v3

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setBackgroundDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 6424
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->itemsLayout:Landroid/widget/LinearLayout;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-static {v4, v4}, Lorg/telegram/ui/Components/LayoutHelper;->createLinear(II)Landroid/widget/LinearLayout$LayoutParams;

    move-result-object v5

    invoke-virtual {v0, v3, v5}, Landroid/widget/LinearLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6425
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda38;

    invoke-direct {v3, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda38;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6444
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    sget v3, Lorg/telegram/messenger/R$string;->AccDescrPhotoAdjust:I

    const-string v5, "AccDescrPhotoAdjust"

    invoke-static {v5, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 6446
    new-instance v0, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    invoke-direct {v0, v3}, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    const/high16 v3, -0x34000000    # -3.3554432E7f

    .line 6447
    invoke-virtual {v0, v3}, Landroid/widget/FrameLayout;->setBackgroundColor(I)V

    .line 6448
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    invoke-virtual {v0, v12, v12}, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->updateSelectedCount(IZ)V

    .line 6449
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 6450
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    const/16 v5, 0x53

    invoke-static {v13, v4, v5}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v0, v3, v4}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6451
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v0, v0, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->cancelButton:Landroid/widget/TextView;

    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda34;

    invoke-direct {v3, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda34;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v3}, Landroid/widget/TextView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6483
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v0, v0, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->doneButton:Landroid/widget/TextView;

    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda32;

    invoke-direct {v3, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda32;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v3}, Landroid/widget/TextView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6491
    new-instance v0, Landroid/widget/TextView;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    invoke-direct {v0, v3}, Landroid/widget/TextView;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    .line 6492
    invoke-virtual {v0, v12}, Landroid/widget/TextView;->setClickable(Z)V

    .line 6493
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    invoke-virtual {v0, v2}, Landroid/widget/TextView;->setVisibility(I)V

    .line 6494
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    const/high16 v3, 0x41600000    # 14.0f

    const/4 v4, 0x1

    invoke-virtual {v0, v4, v3}, Landroid/widget/TextView;->setTextSize(IF)V

    .line 6495
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    invoke-virtual {v0, v13}, Landroid/widget/TextView;->setTextColor(I)V

    .line 6496
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    const/16 v3, 0x11

    invoke-virtual {v0, v3}, Landroid/widget/TextView;->setGravity(I)V

    .line 6497
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    const v3, -0xc2c2c3

    invoke-static {v3, v12}, Lorg/telegram/ui/ActionBar/Theme;->createSelectorDrawable(II)Landroid/graphics/drawable/Drawable;

    move-result-object v3

    invoke-virtual {v0, v3}, Landroid/widget/TextView;->setBackgroundDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 6498
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    const/high16 v3, 0x41a00000    # 20.0f

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v3

    const/high16 v4, 0x41a00000    # 20.0f

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v4

    invoke-virtual {v0, v3, v12, v4, v12}, Landroid/widget/TextView;->setPadding(IIII)V

    .line 6499
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    sget v3, Lorg/telegram/messenger/R$string;->CropReset:I

    const-string v4, "Reset"

    invoke-static {v4, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/String;->toUpperCase()Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v0, v3}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 6500
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    invoke-static/range {v17 .. v17}, Lorg/telegram/messenger/AndroidUtilities;->getTypeface(Ljava/lang/String;)Landroid/graphics/Typeface;

    move-result-object v3

    invoke-virtual {v0, v3}, Landroid/widget/TextView;->setTypeface(Landroid/graphics/Typeface;)V

    .line 6501
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    const/16 v4, 0x31

    const/4 v5, -0x2

    invoke-static {v5, v13, v4}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v0, v3, v4}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6502
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda28;

    invoke-direct {v3, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda28;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v3}, Landroid/widget/TextView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6512
    new-instance v0, Lorg/telegram/ui/Components/GestureDetector2;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v3

    invoke-direct {v0, v3, v9}, Lorg/telegram/ui/Components/GestureDetector2;-><init>(Landroid/content/Context;Lorg/telegram/ui/Components/GestureDetector2$OnGestureListener;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->gestureDetector:Lorg/telegram/ui/Components/GestureDetector2;

    .line 6513
    invoke-virtual {v0, v12}, Lorg/telegram/ui/Components/GestureDetector2;->setIsLongpressEnabled(Z)V

    const/4 v0, 0x1

    .line 6514
    invoke-direct {v9, v0}, Lorg/telegram/ui/PhotoViewer;->setDoubleTapEnabled(Z)V

    .line 6516
    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda85;

    invoke-direct {v3, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda85;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    .line 6538
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v5, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v4, v5}, Lorg/telegram/messenger/ImageReceiver;->setParentView(Landroid/view/View;)V

    .line 6539
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    const/4 v5, 0x2

    invoke-virtual {v4, v5}, Lorg/telegram/messenger/ImageReceiver;->setCrossfadeAlpha(B)V

    .line 6540
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v4, v0}, Lorg/telegram/messenger/ImageReceiver;->setInvalidateAll(Z)V

    .line 6541
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v4, v3}, Lorg/telegram/messenger/ImageReceiver;->setDelegate(Lorg/telegram/messenger/ImageReceiver$ImageReceiverDelegate;)V

    .line 6542
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v6, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v4, v6}, Lorg/telegram/messenger/ImageReceiver;->setParentView(Landroid/view/View;)V

    .line 6543
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v4, v5}, Lorg/telegram/messenger/ImageReceiver;->setCrossfadeAlpha(B)V

    .line 6544
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v4, v0}, Lorg/telegram/messenger/ImageReceiver;->setInvalidateAll(Z)V

    .line 6545
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v4, v3}, Lorg/telegram/messenger/ImageReceiver;->setDelegate(Lorg/telegram/messenger/ImageReceiver$ImageReceiverDelegate;)V

    .line 6546
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v6, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v4, v6}, Lorg/telegram/messenger/ImageReceiver;->setParentView(Landroid/view/View;)V

    .line 6547
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v4, v5}, Lorg/telegram/messenger/ImageReceiver;->setCrossfadeAlpha(B)V

    .line 6548
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v4, v0}, Lorg/telegram/messenger/ImageReceiver;->setInvalidateAll(Z)V

    .line 6549
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v3}, Lorg/telegram/messenger/ImageReceiver;->setDelegate(Lorg/telegram/messenger/ImageReceiver$ImageReceiverDelegate;)V

    .line 6551
    sget-object v0, Lorg/telegram/messenger/ApplicationLoader;->applicationContext:Landroid/content/Context;

    const-string v3, "window"

    invoke-virtual {v0, v3}, Landroid/content/Context;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/view/WindowManager;

    .line 6552
    invoke-interface {v0}, Landroid/view/WindowManager;->getDefaultDisplay()Landroid/view/Display;

    move-result-object v0

    invoke-virtual {v0}, Landroid/view/Display;->getRotation()I

    move-result v0

    .line 6554
    new-instance v3, Lorg/telegram/ui/Components/CheckBox;

    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v4

    sget v5, Lorg/telegram/messenger/R$drawable;->selectphoto_large:I

    invoke-direct {v3, v4, v5}, Lorg/telegram/ui/Components/CheckBox;-><init>(Landroid/content/Context;I)V

    iput-object v3, v9, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    const/4 v4, 0x1

    .line 6555
    invoke-virtual {v3, v4}, Lorg/telegram/ui/Components/CheckBox;->setDrawBackground(Z)V

    .line 6556
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {v3, v4}, Lorg/telegram/ui/Components/CheckBox;->setHasBorder(Z)V

    .line 6557
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    const/16 v4, 0x22

    invoke-virtual {v3, v4}, Lorg/telegram/ui/Components/CheckBox;->setSize(I)V

    .line 6558
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    const/high16 v4, 0x3f800000    # 1.0f

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v4

    invoke-virtual {v3, v4}, Lorg/telegram/ui/Components/CheckBox;->setCheckOffset(I)V

    .line 6559
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-direct {v9, v1}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v1

    invoke-virtual {v3, v1, v13}, Lorg/telegram/ui/Components/CheckBox;->setColor(II)V

    .line 6560
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {v1, v2}, Lorg/telegram/ui/Components/CheckBox;->setVisibility(I)V

    .line 6561
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    const/16 v32, 0x22

    const/high16 v33, 0x42080000    # 34.0f

    const/16 v34, 0x35

    const/16 v35, 0x0

    const/4 v4, 0x3

    if-eq v0, v4, :cond_c

    const/4 v4, 0x1

    if-ne v0, v4, :cond_b

    goto :goto_6

    :cond_b
    const/high16 v4, 0x428e0000    # 71.0f

    const/high16 v36, 0x428e0000    # 71.0f

    goto :goto_7

    :cond_c
    :goto_6
    const/high16 v4, 0x42740000    # 61.0f

    const/high16 v36, 0x42740000    # 61.0f

    :goto_7
    const/high16 v37, 0x41300000    # 11.0f

    const/16 v38, 0x0

    invoke-static/range {v32 .. v38}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IFIFFFF)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v1, v3, v4}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6562
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v1

    if-eqz v1, :cond_d

    .line 6563
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {v1}, Landroid/view/View;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

    move-result-object v1

    check-cast v1, Landroid/widget/FrameLayout$LayoutParams;

    iget v3, v1, Landroid/widget/FrameLayout$LayoutParams;->topMargin:I

    sget v4, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    add-int/2addr v3, v4

    iput v3, v1, Landroid/widget/FrameLayout$LayoutParams;->topMargin:I

    .line 6565
    :cond_d
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda26;

    invoke-direct {v3, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda26;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v1, v3}, Landroid/view/View;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6572
    new-instance v1, Lorg/telegram/ui/PhotoViewer$CounterView;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v1, v3}, Lorg/telegram/ui/PhotoViewer$CounterView;-><init>(Landroid/content/Context;)V

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    .line 6573
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/16 v32, 0x28

    const/high16 v33, 0x42200000    # 40.0f

    const/16 v34, 0x35

    const/16 v35, 0x0

    const/4 v4, 0x3

    if-eq v0, v4, :cond_f

    const/4 v4, 0x1

    if-ne v0, v4, :cond_e

    goto :goto_8

    :cond_e
    const/high16 v0, 0x42880000    # 68.0f

    const/high16 v36, 0x42880000    # 68.0f

    goto :goto_9

    :cond_f
    :goto_8
    const/high16 v0, 0x42680000    # 58.0f

    const/high16 v36, 0x42680000    # 58.0f

    :goto_9
    const/high16 v37, 0x42800000    # 64.0f

    const/16 v38, 0x0

    invoke-static/range {v32 .. v38}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IFIFFFF)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v0

    invoke-virtual {v3, v1, v0}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6574
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v0

    if-eqz v0, :cond_10

    .line 6575
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    invoke-virtual {v0}, Landroid/view/View;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

    move-result-object v0

    check-cast v0, Landroid/widget/FrameLayout$LayoutParams;

    iget v1, v0, Landroid/widget/FrameLayout$LayoutParams;->topMargin:I

    sget v3, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    add-int/2addr v1, v3

    iput v1, v0, Landroid/widget/FrameLayout$LayoutParams;->topMargin:I

    .line 6577
    :cond_10
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda27;

    invoke-direct {v1, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda27;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Landroid/view/View;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6584
    new-instance v0, Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v1}, Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    .line 6585
    invoke-virtual {v0, v2}, Lorg/telegram/ui/Components/RecyclerListView;->setVisibility(I)V

    .line 6586
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Landroid/view/ViewGroup;->setAlpha(F)V

    .line 6587
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$30;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const/4 v3, 0x1

    invoke-direct {v1, v9, v2, v12, v3}, Lorg/telegram/ui/PhotoViewer$30;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;IZ)V

    invoke-virtual {v0, v1}, Landroidx/recyclerview/widget/RecyclerView;->setLayoutManager(Landroidx/recyclerview/widget/RecyclerView$LayoutManager;)V

    .line 6600
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$ListAdapter;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v1, v9, v2}, Lorg/telegram/ui/PhotoViewer$ListAdapter;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->selectedPhotosAdapter:Lorg/telegram/ui/PhotoViewer$ListAdapter;

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/RecyclerListView;->setAdapter(Landroidx/recyclerview/widget/RecyclerView$Adapter;)V

    .line 6601
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    const/16 v2, 0x67

    const/16 v3, 0x33

    invoke-static {v13, v2, v3}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6602
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda95;

    invoke-direct {v1, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda95;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/RecyclerListView;->setOnItemClickListener(Lorg/telegram/ui/Components/RecyclerListView$OnItemClickListener;)V

    .line 6618
    new-instance v0, Lorg/telegram/ui/Components/UndoView;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    const/4 v2, 0x0

    invoke-direct {v0, v1, v2, v12, v10}, Lorg/telegram/ui/Components/UndoView;-><init>(Landroid/content/Context;Lorg/telegram/ui/ActionBar/BaseFragment;ZLorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->hintView:Lorg/telegram/ui/Components/UndoView;

    const/high16 v1, 0x42e00000    # 112.0f

    .line 6619
    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v1

    int-to-float v1, v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/UndoView;->setAdditionalTranslationY(F)V

    .line 6620
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->hintView:Lorg/telegram/ui/Components/UndoView;

    const v1, -0x6ddddde

    invoke-virtual {v0, v1, v13}, Lorg/telegram/ui/Components/UndoView;->setColors(II)V

    .line 6621
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->hintView:Lorg/telegram/ui/Components/UndoView;

    const/4 v2, -0x1

    const/high16 v3, -0x40000000    # -2.0f

    const/16 v4, 0x53

    const/high16 v5, 0x41000000    # 8.0f

    const/4 v6, 0x0

    const/high16 v7, 0x41000000    # 8.0f

    const/high16 v8, 0x41000000    # 8.0f

    invoke-static/range {v2 .. v8}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IFIFFFF)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6623
    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->isAccessibilityScreenReaderEnabled()Z

    move-result v0

    if-eqz v0, :cond_11

    .line 6624
    new-instance v0, Landroid/view/View;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    invoke-direct {v0, v1}, Landroid/view/View;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->playButtonAccessibilityOverlay:Landroid/view/View;

    .line 6625
    sget v1, Lorg/telegram/messenger/R$string;->AccActionPlay:I

    const-string v2, "AccActionPlay"

    invoke-static {v2, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/view/View;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 6626
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->playButtonAccessibilityOverlay:Landroid/view/View;

    const/4 v1, 0x1

    invoke-virtual {v0, v1}, Landroid/view/View;->setFocusable(Z)V

    .line 6627
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->playButtonAccessibilityOverlay:Landroid/view/View;

    const/16 v3, 0x40

    const/16 v4, 0x11

    invoke-static {v3, v3, v4}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v0, v2, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    goto :goto_a

    :cond_11
    const/4 v1, 0x1

    .line 6630
    :goto_a
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    move/from16 v2, v29

    invoke-direct {v9, v2}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v2

    new-array v3, v1, [F

    const/high16 v4, 0x40c00000    # 6.0f

    aput v4, v3, v12

    invoke-static {v2, v3}, Lorg/telegram/ui/ActionBar/Theme$AdaptiveRipple;->filledRect(I[F)Landroid/graphics/drawable/Drawable;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/widget/TextView;->setBackground(Landroid/graphics/drawable/Drawable;)V

    .line 6631
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    move/from16 v2, v30

    invoke-direct {v9, v2}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v2

    invoke-virtual {v0, v2}, Landroid/widget/TextView;->setTextColor(I)V

    .line 6633
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->textSelectionHelper:Lorg/telegram/ui/Cells/TextSelectionHelper$SimpleTextSelectionHelper;

    iput-boolean v1, v0, Lorg/telegram/ui/Cells/TextSelectionHelper;->allowScrollPrentRelative:Z

    .line 6634
    iput-boolean v12, v0, Lorg/telegram/ui/Cells/TextSelectionHelper;->useMovingOffset:Z

    .line 6635
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Cells/TextSelectionHelper;->getOverlayView(Landroid/content/Context;)Lorg/telegram/ui/Cells/TextSelectionHelper$TextSelectionOverlay;

    move-result-object v0

    if-eqz v0, :cond_12

    .line 6637
    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->removeFromParent(Landroid/view/View;)V

    .line 6638
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1, v0}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;)V

    .line 6640
    :cond_12
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->textSelectionHelper:Lorg/telegram/ui/Cells/TextSelectionHelper$SimpleTextSelectionHelper;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Cells/TextSelectionHelper;->setParentView(Landroid/view/ViewGroup;)V

    .line 6641
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->textSelectionHelper:Lorg/telegram/ui/Cells/TextSelectionHelper$SimpleTextSelectionHelper;

    invoke-virtual {v0}, Lorg/telegram/ui/Cells/TextSelectionHelper;->setInvalidateParent()V

    return-void

    .line 4280
    :cond_13
    :goto_b
    invoke-virtual/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->updateColors()V

    return-void

    nop

    :array_0
    .array-data 4
        0x32000000
        0x0
    .end array-data

    :array_1
    .array-data 4
        0x32000000
        0x0
    .end array-data
.end method

.method public setParentActivity(Landroid/app/Activity;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V
    .locals 1

    const/4 v0, 0x0

    .line 4256
    invoke-virtual {p0, p1, v0, p2}, Lorg/telegram/ui/PhotoViewer;->setParentActivity(Landroid/app/Activity;Lorg/telegram/ui/ActionBar/BaseFragment;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    return-void
.end method

.method public setParentActivity(Lorg/telegram/ui/ActionBar/BaseFragment;)V
    .locals 1

    const/4 v0, 0x0

    .line 4260
    invoke-virtual {p0, p1, v0}, Lorg/telegram/ui/PhotoViewer;->setParentActivity(Lorg/telegram/ui/ActionBar/BaseFragment;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    return-void
.end method

.method public setParentActivity(Lorg/telegram/ui/ActionBar/BaseFragment;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V
    .locals 1

    const/4 v0, 0x0

    .line 4264
    invoke-virtual {p0, v0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->setParentActivity(Landroid/app/Activity;Lorg/telegram/ui/ActionBar/BaseFragment;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    return-void
.end method

.method public setParentAlert(Lorg/telegram/ui/Components/ChatAttachAlert;)V
    .locals 0

    .line 4248
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

    return-void
.end method

.method public setParentChatActivity(Lorg/telegram/ui/ChatActivity;)V
    .locals 0

    .line 14013
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    return-void
.end method

.method public setTitle(Ljava/lang/CharSequence;)V
    .locals 1

    .line 14131
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->customTitle:Ljava/lang/CharSequence;

    invoke-virtual {v0, p1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setTitle(Ljava/lang/CharSequence;)V

    const/4 p1, 0x1

    const/4 v0, 0x0

    .line 14132
    invoke-direct {p0, p1, v0}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    return-void
.end method

.method public showAlertDialog(Lorg/telegram/ui/ActionBar/AlertDialog$Builder;)V
    .locals 1

    .line 9183
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-nez v0, :cond_0

    return-void

    .line 9187
    :cond_0
    :try_start_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->visibleDialog:Lorg/telegram/ui/ActionBar/AlertDialog;

    if-eqz v0, :cond_1

    .line 9188
    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/AlertDialog;->dismiss()V

    const/4 v0, 0x0

    .line 9189
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->visibleDialog:Lorg/telegram/ui/ActionBar/AlertDialog;
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_0

    :catch_0
    move-exception v0

    .line 9192
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    .line 9195
    :cond_1
    :goto_0
    :try_start_1
    invoke-virtual {p1}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->show()Lorg/telegram/ui/ActionBar/AlertDialog;

    move-result-object p1

    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->visibleDialog:Lorg/telegram/ui/ActionBar/AlertDialog;

    const/4 v0, 0x1

    .line 9196
    invoke-virtual {p1, v0}, Lorg/telegram/ui/ActionBar/AlertDialog;->setCanceledOnTouchOutside(Z)V

    .line 9197
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->visibleDialog:Lorg/telegram/ui/ActionBar/AlertDialog;

    new-instance v0, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda24;

    invoke-direct {v0, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda24;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {p1, v0}, Landroid/app/Dialog;->setOnDismissListener(Landroid/content/DialogInterface$OnDismissListener;)V
    :try_end_1
    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_1

    goto :goto_1

    :catch_1
    move-exception p1

    .line 9199
    invoke-static {p1}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :goto_1
    return-void
.end method

.method public showCaptionLimitBulletin(Landroid/widget/FrameLayout;)Z
    .locals 2

    .line 6646
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    instance-of v1, v0, Lorg/telegram/ui/ChatActivity;

    if-eqz v1, :cond_1

    check-cast v0, Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v0}, Lorg/telegram/ui/ChatActivity;->getCurrentChat()Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v0

    invoke-static {v0}, Lorg/telegram/messenger/ChatObject;->isChannelAndNotMegaGroup(Lorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v0

    if-nez v0, :cond_0

    goto :goto_0

    .line 6649
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    invoke-static {p1, v0}, Lorg/telegram/ui/Components/BulletinFactory;->of(Landroid/widget/FrameLayout;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)Lorg/telegram/ui/Components/BulletinFactory;

    move-result-object p1

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v0

    iget v0, v0, Lorg/telegram/messenger/MessagesController;->captionLengthLimitPremium:I

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda67;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda67;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {p1, v0, v1}, Lorg/telegram/ui/Components/BulletinFactory;->createCaptionLimitBulletin(ILjava/lang/Runnable;)Lorg/telegram/ui/Components/Bulletin;

    move-result-object p1

    new-instance v0, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda68;

    invoke-direct {v0, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda68;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    .line 6657
    invoke-virtual {p1, v0}, Lorg/telegram/ui/Components/Bulletin;->setOnHideListener(Ljava/lang/Runnable;)Lorg/telegram/ui/Components/Bulletin;

    move-result-object p1

    .line 6659
    invoke-virtual {p1}, Lorg/telegram/ui/Components/Bulletin;->show()Lorg/telegram/ui/Components/Bulletin;

    move-result-object p1

    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->limitBulletin:Lorg/telegram/ui/Components/Bulletin;

    const/4 p1, 0x1

    return p1

    :cond_1
    :goto_0
    const/4 p1, 0x0

    return p1
.end method

.method public switchToEditMode(I)V
    .locals 31

    move-object/from16 v0, p0

    move/from16 v1, p1

    .line 9861
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v2, v1, :cond_59

    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    const/4 v3, -0x1

    const/4 v4, 0x3

    const/4 v5, 0x0

    if-eqz v2, :cond_0

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v2, v2, v5

    invoke-static {v2}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$23900(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result v2

    if-eq v2, v4, :cond_0

    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v2, :cond_0

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v2}, Lorg/telegram/messenger/ImageReceiver;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v2

    if-eqz v2, :cond_59

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v2, v2, v5

    invoke-static {v2}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$23900(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result v2

    if-ne v2, v3, :cond_59

    :cond_0
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    if-nez v2, :cond_59

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    if-nez v2, :cond_59

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result v2

    if-eqz v2, :cond_1

    goto/16 :goto_2c

    .line 9864
    :cond_1
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    const/4 v6, 0x1

    if-eqz v2, :cond_4

    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eqz v7, :cond_2

    if-nez v1, :cond_4

    :cond_2
    if-eqz v1, :cond_3

    const/4 v7, 0x1

    goto :goto_0

    :cond_3
    const/4 v7, 0x0

    .line 9865
    :goto_0
    invoke-interface {v2, v7}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->onEditModeChanged(Z)V

    .line 9867
    :cond_4
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    const/4 v7, 0x2

    if-ne v1, v7, :cond_5

    const/4 v8, 0x1

    goto :goto_1

    :cond_5
    const/4 v8, 0x0

    :goto_1
    invoke-virtual {v2, v8}, Landroid/widget/FrameLayout;->setClipChildren(Z)V

    .line 9869
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    invoke-virtual {v2}, Landroid/view/View;->getBackground()Landroid/graphics/drawable/Drawable;

    move-result-object v2

    instance-of v2, v2, Landroid/graphics/drawable/ColorDrawable;

    const/high16 v8, 0x7f000000

    if-eqz v2, :cond_6

    .line 9870
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    invoke-virtual {v2}, Landroid/view/View;->getBackground()Landroid/graphics/drawable/Drawable;

    move-result-object v2

    check-cast v2, Landroid/graphics/drawable/ColorDrawable;

    invoke-virtual {v2}, Landroid/graphics/drawable/ColorDrawable;->getColor()I

    move-result v2

    goto :goto_2

    :cond_6
    const/high16 v2, 0x7f000000

    :goto_2
    if-ne v1, v6, :cond_7

    const/high16 v8, -0x34000000    # -3.3554432E7f

    goto :goto_3

    :cond_7
    if-ne v1, v4, :cond_8

    const/high16 v8, -0x1000000

    goto :goto_3

    :cond_8
    if-nez v1, :cond_9

    .line 9877
    iget-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->fancyShadows:Z

    if-eqz v9, :cond_9

    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->savedState:Lorg/telegram/ui/PhotoViewer$SavedState;

    if-nez v9, :cond_9

    const/4 v8, 0x0

    .line 9882
    :cond_9
    :goto_3
    iget-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->editing:Z

    if-eqz v9, :cond_a

    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->savedState:Lorg/telegram/ui/PhotoViewer$SavedState;

    if-nez v9, :cond_a

    if-nez v1, :cond_a

    const/4 v9, 0x1

    goto :goto_4

    :cond_a
    const/4 v9, 0x0

    :goto_4
    invoke-direct {v0, v9, v6}, Lorg/telegram/ui/PhotoViewer;->showEditCaption(ZZ)V

    .line 9883
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    if-eq v1, v7, :cond_b

    const/4 v11, 0x0

    goto :goto_5

    :cond_b
    const/4 v11, 0x4

    :goto_5
    invoke-virtual {v9, v11}, Landroid/view/View;->setVisibility(I)V

    .line 9884
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    .line 9885
    iget v9, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v9, :cond_d

    .line 9886
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v9, :cond_c

    invoke-virtual {v9}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->isShown()Z

    move-result v9

    if-eqz v9, :cond_c

    const/4 v9, 0x1

    goto :goto_6

    :cond_c
    const/4 v9, 0x0

    :goto_6
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->wasCountViewShown:Z

    .line 9888
    :cond_d
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v9, :cond_f

    if-nez v1, :cond_e

    .line 9889
    iget-boolean v11, v0, Lorg/telegram/ui/PhotoViewer;->wasCountViewShown:Z

    if-eqz v11, :cond_e

    const/4 v11, 0x1

    goto :goto_7

    :cond_e
    const/4 v11, 0x0

    :goto_7
    invoke-virtual {v9, v11, v6}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    :cond_f
    const/high16 v11, 0x3f800000    # 1.0f

    const-string v14, "backgroundColor"

    if-nez v1, :cond_2e

    .line 9892
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v3

    const/high16 v16, 0x41400000    # 12.0f

    if-eqz v3, :cond_2a

    .line 9894
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v3

    .line 9895
    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v12}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v12

    .line 9899
    iget v13, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/16 v9, 0x10e

    const/16 v10, 0x5a

    if-ne v13, v4, :cond_15

    .line 9900
    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v11, v6, :cond_11

    .line 9901
    iget-object v11, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v11

    if-eq v11, v10, :cond_10

    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v10}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v10

    if-ne v10, v9, :cond_14

    :cond_10
    move v9, v3

    move v3, v12

    goto :goto_8

    .line 9907
    :cond_11
    iget-object v11, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v11, v11, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v11, :cond_14

    .line 9908
    iget v13, v11, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    if-eq v13, v10, :cond_12

    if-ne v13, v9, :cond_13

    :cond_12
    move/from16 v30, v12

    move v12, v3

    move/from16 v3, v30

    :cond_13
    int-to-float v3, v3

    .line 9913
    iget v9, v11, Lorg/telegram/messenger/MediaController$CropState;->cropPw:F

    mul-float v3, v3, v9

    float-to-int v3, v3

    int-to-float v9, v12

    .line 9914
    iget v10, v11, Lorg/telegram/messenger/MediaController$CropState;->cropPh:F

    mul-float v9, v9, v10

    float-to-int v9, v9

    goto :goto_8

    :cond_14
    move v9, v12

    .line 9917
    :goto_8
    invoke-direct {v0, v5}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth(I)I

    move-result v10

    int-to-float v10, v10

    int-to-float v3, v3

    div-float/2addr v10, v3

    invoke-direct {v0, v5}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(I)I

    move-result v11

    int-to-float v11, v11

    int-to-float v9, v9

    div-float/2addr v11, v9

    invoke-static {v10, v11}, Ljava/lang/Math;->min(FF)F

    move-result v10

    .line 9918
    invoke-direct {v0, v4}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth(I)I

    move-result v11

    int-to-float v11, v11

    div-float/2addr v11, v3

    invoke-direct {v0, v4}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(I)I

    move-result v3

    int-to-float v3, v3

    div-float/2addr v3, v9

    invoke-static {v11, v3}, Ljava/lang/Math;->min(FF)F

    move-result v3

    goto/16 :goto_e

    :cond_15
    if-eq v13, v6, :cond_18

    .line 9920
    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v13, v13, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v13, :cond_18

    iget v13, v13, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    if-eq v13, v10, :cond_16

    if-ne v13, v9, :cond_18

    .line 9921
    :cond_16
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v13

    int-to-float v13, v13

    int-to-float v4, v12

    div-float/2addr v13, v4

    int-to-float v7, v3

    mul-float v17, v13, v7

    .line 9922
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v15

    int-to-float v15, v15

    cmpl-float v15, v17, v15

    if-lez v15, :cond_17

    .line 9923
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v13

    int-to-float v13, v13

    div-float/2addr v13, v7

    .line 9925
    :cond_17
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v15

    int-to-float v15, v15

    div-float/2addr v15, v7

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v7

    int-to-float v7, v7

    div-float/2addr v7, v4

    invoke-static {v15, v7}, Ljava/lang/Math;->min(FF)F

    move-result v4

    div-float/2addr v13, v4

    div-float/2addr v11, v13

    .line 9927
    iput v11, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    goto :goto_9

    .line 9928
    :cond_18
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v4, v6, :cond_1b

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v4

    if-eq v4, v10, :cond_19

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v4

    if-ne v4, v9, :cond_1b

    .line 9929
    :cond_19
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v4

    int-to-float v4, v4

    int-to-float v7, v12

    div-float/2addr v4, v7

    int-to-float v13, v3

    mul-float v15, v4, v13

    .line 9930
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v5

    int-to-float v5, v5

    cmpl-float v5, v15, v5

    if-lez v5, :cond_1a

    .line 9931
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v4

    int-to-float v4, v4

    div-float/2addr v4, v13

    .line 9933
    :cond_1a
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v5

    int-to-float v5, v5

    div-float/2addr v5, v13

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v13

    int-to-float v13, v13

    div-float/2addr v13, v7

    invoke-static {v5, v13}, Ljava/lang/Math;->min(FF)F

    move-result v5

    .line 9934
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getScale()F

    move-result v7

    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v13}, Lorg/telegram/ui/Components/Crop/CropTransform;->getTrueCropScale()F

    move-result v13

    div-float/2addr v7, v13

    mul-float v7, v7, v4

    div-float/2addr v7, v5

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/Crop/CropTransform;->getMinScale()F

    move-result v4

    div-float/2addr v7, v4

    div-float/2addr v11, v7

    .line 9935
    iput v11, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    .line 9937
    :cond_1b
    :goto_9
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v4, v4, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v4, :cond_1e

    .line 9938
    iget v5, v4, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    if-eq v5, v10, :cond_1c

    if-ne v5, v9, :cond_1d

    :cond_1c
    move/from16 v30, v12

    move v12, v3

    move/from16 v3, v30

    :cond_1d
    int-to-float v3, v3

    .line 9943
    iget v5, v4, Lorg/telegram/messenger/MediaController$CropState;->cropPw:F

    mul-float v3, v3, v5

    float-to-int v3, v3

    int-to-float v5, v12

    .line 9944
    iget v4, v4, Lorg/telegram/messenger/MediaController$CropState;->cropPh:F

    mul-float v5, v5, v4

    float-to-int v4, v5

    goto :goto_a

    .line 9945
    :cond_1e
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v4, v6, :cond_20

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v4

    if-eq v4, v10, :cond_1f

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v4

    if-ne v4, v9, :cond_20

    :cond_1f
    move v4, v3

    move v3, v12

    goto :goto_a

    :cond_20
    move v4, v12

    .line 9950
    :goto_a
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v5

    int-to-float v5, v5

    int-to-float v3, v3

    div-float/2addr v5, v3

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v7

    int-to-float v7, v7

    int-to-float v4, v4

    div-float/2addr v7, v4

    invoke-static {v5, v7}, Ljava/lang/Math;->min(FF)F

    move-result v5

    .line 9951
    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v7, v6, :cond_23

    .line 9952
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v3

    if-eq v3, v10, :cond_22

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v3

    if-ne v3, v9, :cond_21

    goto :goto_b

    :cond_21
    const/4 v3, 0x0

    goto :goto_c

    :cond_22
    :goto_b
    const/4 v3, 0x1

    :goto_c
    invoke-direct {v0, v3}, Lorg/telegram/ui/PhotoViewer;->getCropFillScale(Z)F

    move-result v10

    goto :goto_d

    :cond_23
    const/4 v7, 0x0

    .line 9954
    invoke-direct {v0, v7}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth(I)I

    move-result v9

    int-to-float v9, v9

    div-float/2addr v9, v3

    invoke-direct {v0, v7}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(I)I

    move-result v3

    int-to-float v3, v3

    div-float/2addr v3, v4

    invoke-static {v9, v3}, Ljava/lang/Math;->min(FF)F

    move-result v10

    :goto_d
    move v3, v5

    :goto_e
    div-float/2addr v10, v3

    .line 9957
    iput v10, v0, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    const/4 v3, 0x0

    .line 9958
    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    .line 9959
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v3

    const/4 v4, 0x2

    div-int/2addr v3, v4

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getRightInset()I

    move-result v5

    div-int/2addr v5, v4

    sub-int/2addr v3, v5

    int-to-float v3, v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 9960
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/high16 v5, 0x40000000    # 2.0f

    if-ne v3, v6, :cond_25

    .line 9961
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v3, v4, :cond_24

    const/high16 v3, 0x42100000    # 36.0f

    .line 9962
    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v3

    int-to-float v3, v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    goto :goto_10

    :cond_24
    const/4 v4, 0x3

    if-ne v3, v4, :cond_29

    .line 9964
    invoke-static/range {v16 .. v16}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v3

    neg-int v3, v3

    int-to-float v3, v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 9965
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v4, :cond_29

    .line 9966
    invoke-virtual {v4}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getAdditionalTop()I

    move-result v4

    int-to-float v4, v4

    div-float/2addr v4, v5

    sub-float/2addr v3, v4

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    goto :goto_10

    .line 9970
    :cond_25
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v3, v6, :cond_26

    const/high16 v3, 0x42600000    # 56.0f

    .line 9971
    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v3

    int-to-float v3, v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    goto :goto_f

    :cond_26
    const/4 v4, 0x2

    if-ne v3, v4, :cond_27

    const/high16 v3, 0x42ba0000    # 93.0f

    .line 9973
    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v3

    int-to-float v3, v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    goto :goto_f

    :cond_27
    const/4 v4, 0x3

    if-ne v3, v4, :cond_28

    const/high16 v3, 0x42300000    # 44.0f

    .line 9975
    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v3

    int-to-float v3, v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 9976
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v4, :cond_28

    .line 9977
    invoke-virtual {v4}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getAdditionalTop()I

    move-result v4

    int-to-float v4, v4

    div-float/2addr v4, v5

    sub-float/2addr v3, v4

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 9978
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getAdditionalBottom()I

    move-result v4

    int-to-float v4, v4

    div-float/2addr v4, v5

    add-float/2addr v3, v4

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 9981
    :cond_28
    :goto_f
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v3

    if-eqz v3, :cond_29

    .line 9982
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    sget v4, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    const/4 v5, 0x2

    div-int/2addr v4, v5

    int-to-float v4, v4

    sub-float/2addr v3, v4

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 9985
    :cond_29
    :goto_10
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v3

    iput-wide v3, v0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    .line 9986
    iput-boolean v6, v0, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    :cond_2a
    const/4 v3, 0x0

    .line 9988
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->padImageForHorizontalInsets:Z

    .line 9990
    new-instance v3, Landroid/animation/AnimatorSet;

    invoke-direct {v3}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v3, v0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    .line 9991
    new-instance v3, Ljava/util/ArrayList;

    const/4 v4, 0x4

    invoke-direct {v3, v4}, Ljava/util/ArrayList;-><init>(I)V

    .line 9992
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v4, v6, :cond_2b

    .line 9993
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    sget-object v5, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v7, v6, [F

    const/high16 v9, 0x42400000    # 48.0f

    invoke-static {v9}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v9

    int-to-float v9, v9

    const/4 v10, 0x0

    aput v9, v7, v10

    invoke-static {v4, v5, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 9994
    sget-object v4, Lorg/telegram/ui/Components/AnimationProperties;->PHOTO_VIEWER_ANIMATION_VALUE:Landroid/util/Property;

    const/4 v5, 0x2

    new-array v7, v5, [F

    fill-array-data v7, :array_0

    invoke-static {v0, v4, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 9995
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    sget-object v7, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v6, [F

    const/4 v11, 0x0

    aput v11, v9, v10

    invoke-static {v4, v7, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    new-array v4, v5, [F

    .line 9996
    fill-array-data v4, :array_1

    invoke-static {v4}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v4

    .line 9997
    new-instance v7, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda4;

    invoke-direct {v7, v0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda4;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v4, v7}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 10005
    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto/16 :goto_11

    :cond_2b
    const/4 v5, 0x2

    if-ne v4, v5, :cond_2c

    .line 10007
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/PhotoFilterView;->shutdown()V

    .line 10008
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/PhotoFilterView;->getToolsView()Landroid/widget/FrameLayout;

    move-result-object v4

    sget-object v5, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v7, v6, [F

    const/high16 v9, 0x433a0000    # 186.0f

    invoke-static {v9}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v9

    int-to-float v9, v9

    const/4 v10, 0x0

    aput v9, v7, v10

    invoke-static {v4, v5, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10009
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/PhotoFilterView;->getCurveControl()Lorg/telegram/ui/Components/PhotoFilterCurvesControl;

    move-result-object v4

    sget-object v5, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v7, v6, [F

    const/4 v9, 0x0

    aput v9, v7, v10

    invoke-static {v4, v5, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10010
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/PhotoFilterView;->getBlurControl()Lorg/telegram/ui/Components/PhotoFilterBlurControl;

    move-result-object v4

    sget-object v5, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v7, v6, [F

    aput v9, v7, v10

    invoke-static {v4, v5, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10011
    sget-object v4, Lorg/telegram/ui/Components/AnimationProperties;->PHOTO_VIEWER_ANIMATION_VALUE:Landroid/util/Property;

    const/4 v5, 0x2

    new-array v7, v5, [F

    fill-array-data v7, :array_2

    invoke-static {v0, v4, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_11

    :cond_2c
    const/4 v7, 0x3

    if-ne v4, v7, :cond_2d

    new-array v4, v5, [F

    .line 10013
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v7}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getOffsetTranslationY()F

    move-result v7

    const/4 v9, 0x0

    aput v7, v4, v9

    const/high16 v7, 0x42fc0000    # 126.0f

    invoke-static {v7}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v7

    int-to-float v7, v7

    aput v7, v4, v6

    invoke-static {v4}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v4

    new-array v7, v5, [F

    const/4 v5, 0x0

    aput v5, v7, v9

    .line 10014
    invoke-static/range {v16 .. v16}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v5

    neg-int v5, v5

    int-to-float v5, v5

    aput v5, v7, v6

    invoke-static {v7}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v5

    .line 10015
    new-instance v7, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda2;

    invoke-direct {v7, v0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda2;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v4, v7}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 10016
    new-instance v7, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda15;

    invoke-direct {v7, v0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda15;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v5, v7}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 10017
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v7}, Lorg/telegram/ui/Components/PaintingOverlay;->showAll()V

    .line 10018
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v7}, Landroid/widget/FrameLayout;->invalidate()V

    .line 10019
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v7}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->shutdown()V

    .line 10020
    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10021
    invoke-virtual {v3, v5}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10022
    sget-object v4, Lorg/telegram/ui/Components/AnimationProperties;->PHOTO_VIEWER_ANIMATION_VALUE:Landroid/util/Property;

    const/4 v5, 0x2

    new-array v7, v5, [F

    fill-array-data v7, :array_3

    invoke-static {v0, v4, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10023
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v4, v6}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->onAnimationStateChanged(Z)V

    .line 10025
    :cond_2d
    :goto_11
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    new-instance v7, Landroid/animation/ArgbEvaluator;

    invoke-direct {v7}, Landroid/animation/ArgbEvaluator;-><init>()V

    new-array v5, v5, [Ljava/lang/Object;

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    const/4 v9, 0x0

    aput-object v2, v5, v9

    invoke-static {v8}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    aput-object v2, v5, v6

    invoke-static {v4, v14, v7, v5}, Landroid/animation/ObjectAnimator;->ofObject(Ljava/lang/Object;Ljava/lang/String;Landroid/animation/TypeEvaluator;[Ljava/lang/Object;)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v3, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10026
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {v2, v3}, Landroid/animation/AnimatorSet;->playTogether(Ljava/util/Collection;)V

    .line 10027
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    const-wide/16 v3, 0xc8

    invoke-virtual {v2, v3, v4}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 10028
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    new-instance v3, Lorg/telegram/ui/PhotoViewer$52;

    invoke-direct {v3, v0, v1}, Lorg/telegram/ui/PhotoViewer$52;-><init>(Lorg/telegram/ui/PhotoViewer;I)V

    invoke-virtual {v2, v3}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 10139
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {v1}, Landroid/animation/AnimatorSet;->start()V

    goto/16 :goto_2b

    :cond_2e
    const/high16 v4, 0x42680000    # 58.0f

    const/high16 v5, 0x431a0000    # 154.0f

    const/high16 v7, 0x42c00000    # 96.0f

    if-ne v1, v6, :cond_38

    .line 10141
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->startVideoPlayer()V

    .line 10142
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->createCropView()V

    .line 10143
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->hasViewTransform()Z

    move-result v3

    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->previousHasTransform:Z

    .line 10144
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPx()F

    move-result v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPx:F

    .line 10145
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPy()F

    move-result v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPy:F

    .line 10146
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getScale()F

    move-result v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->previousCropScale:F

    .line 10147
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getRotation()F

    move-result v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->previousCropRotation:F

    .line 10148
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->previousCropOrientation:I

    .line 10149
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPw()F

    move-result v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPw:F

    .line 10150
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPh()F

    move-result v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPh:F

    .line 10151
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->isMirrored()Z

    move-result v3

    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->previousCropMirrored:Z

    .line 10152
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/PhotoCropView;->onAppear()V

    .line 10154
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v3, v3, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->doneButton:Landroid/widget/TextView;

    sget v9, Lorg/telegram/messenger/R$string;->Crop:I

    const-string v10, "Crop"

    invoke-static {v10, v9}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v9

    invoke-virtual {v3, v9}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 10155
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v3, v3, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->doneButton:Landroid/widget/TextView;

    sget v9, Lorg/telegram/ui/ActionBar/Theme;->key_chat_editMediaButton:I

    invoke-direct {v0, v9}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v9

    invoke-virtual {v3, v9}, Landroid/widget/TextView;->setTextColor(I)V

    .line 10157
    new-instance v3, Landroid/animation/AnimatorSet;

    invoke-direct {v3}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v3, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    .line 10158
    new-instance v3, Ljava/util/ArrayList;

    invoke-direct {v3}, Ljava/util/ArrayList;-><init>()V

    .line 10159
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    sget-object v10, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    const/4 v12, 0x2

    new-array v13, v12, [F

    const/4 v12, 0x0

    const/4 v15, 0x0

    aput v12, v13, v15

    invoke-virtual {v9}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v12

    iget-object v15, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v15}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->getEditTextHeight()I

    move-result v15

    add-int/2addr v12, v15

    iget-boolean v15, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v15, :cond_2f

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v4

    goto :goto_12

    :cond_2f
    const/4 v4, 0x0

    :goto_12
    add-int/2addr v12, v4

    int-to-float v4, v12

    aput v4, v13, v6

    invoke-static {v9, v10, v13}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10160
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    sget-object v9, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v10, v6, [F

    const/4 v12, 0x0

    const/4 v13, 0x0

    aput v12, v10, v13

    invoke-static {v4, v9, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10161
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    sget-object v9, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    const/4 v10, 0x2

    new-array v15, v10, [F

    aput v12, v15, v13

    iget-boolean v10, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v10, :cond_30

    const/high16 v10, 0x431a0000    # 154.0f

    goto :goto_13

    :cond_30
    const/high16 v10, 0x42c00000    # 96.0f

    :goto_13
    invoke-static {v10}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v10

    int-to-float v10, v10

    aput v10, v15, v6

    invoke-static {v4, v9, v15}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10162
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    sget-object v9, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    const/4 v10, 0x2

    new-array v12, v10, [F

    const/4 v13, 0x0

    const/4 v15, 0x0

    aput v13, v12, v15

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v13

    neg-int v13, v13

    int-to-float v13, v13

    aput v13, v12, v6

    invoke-static {v4, v9, v12}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10163
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    new-instance v9, Landroid/animation/ArgbEvaluator;

    invoke-direct {v9}, Landroid/animation/ArgbEvaluator;-><init>()V

    new-array v12, v10, [Ljava/lang/Object;

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    const/4 v13, 0x0

    aput-object v2, v12, v13

    invoke-static {v8}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    aput-object v2, v12, v6

    invoke-static {v4, v14, v9, v12}, Landroid/animation/ObjectAnimator;->ofObject(Ljava/lang/Object;Ljava/lang/String;Landroid/animation/TypeEvaluator;[Ljava/lang/Object;)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v3, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10164
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    if-eqz v2, :cond_32

    .line 10165
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    sget-object v4, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v8, v10, [F

    const/4 v9, 0x0

    aput v9, v8, v13

    iget-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v9, :cond_31

    goto :goto_14

    :cond_31
    const/high16 v5, 0x42c00000    # 96.0f

    :goto_14
    invoke-static {v5}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v5

    int-to-float v5, v5

    aput v5, v8, v6

    invoke-static {v2, v4, v8}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v3, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10167
    :cond_32
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eqz v2, :cond_34

    const/4 v4, 0x4

    if-ne v2, v4, :cond_33

    goto :goto_15

    :cond_33
    const/4 v5, 0x2

    goto :goto_16

    .line 10168
    :cond_34
    :goto_15
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    const/4 v5, 0x2

    new-array v7, v5, [F

    fill-array-data v7, :array_4

    invoke-static {v2, v4, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v3, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10169
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v7, v5, [F

    fill-array-data v7, :array_5

    invoke-static {v2, v4, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v3, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10171
    :goto_16
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    invoke-virtual {v2}, Landroid/view/ViewGroup;->getVisibility()I

    move-result v2

    if-nez v2, :cond_35

    .line 10172
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v7, v5, [F

    fill-array-data v7, :array_6

    invoke-static {v2, v4, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v3, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10174
    :cond_35
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v2}, Landroid/widget/ImageView;->getTag()Ljava/lang/Object;

    move-result-object v2

    if-eqz v2, :cond_36

    .line 10175
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v5, v5, [F

    fill-array-data v5, :array_7

    invoke-static {v2, v4, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v3, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10177
    :cond_36
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    if-eqz v2, :cond_37

    .line 10178
    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v5, v6, [F

    const/4 v6, 0x0

    aput v11, v5, v6

    invoke-static {v2, v4, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v3, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10180
    :cond_37
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {v2, v3}, Landroid/animation/AnimatorSet;->playTogether(Ljava/util/Collection;)V

    .line 10181
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    const-wide/16 v3, 0xc8

    invoke-virtual {v2, v3, v4}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 10182
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    new-instance v3, Lorg/telegram/ui/PhotoViewer$53;

    invoke-direct {v3, v0, v1}, Lorg/telegram/ui/PhotoViewer$53;-><init>(Lorg/telegram/ui/PhotoViewer;I)V

    invoke-virtual {v2, v3}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 10282
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {v1}, Landroid/animation/AnimatorSet;->start()V

    goto/16 :goto_2b

    :cond_38
    const/4 v9, 0x2

    if-ne v1, v9, :cond_4e

    .line 10284
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->startVideoPlayer()V

    .line 10285
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    if-nez v9, :cond_46

    .line 10290
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v9}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v9

    const/4 v10, 0x0

    if-nez v9, :cond_3a

    .line 10291
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v9, v11}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v9

    .line 10292
    instance-of v11, v9, Lorg/telegram/messenger/MediaController$PhotoEntry;

    if-eqz v11, :cond_39

    .line 10293
    move-object v11, v9

    check-cast v11, Lorg/telegram/messenger/MediaController$PhotoEntry;

    .line 10294
    iget v11, v11, Lorg/telegram/messenger/MediaController$PhotoEntry;->orientation:I

    goto :goto_17

    :cond_39
    const/4 v11, 0x0

    .line 10296
    :goto_17
    check-cast v9, Lorg/telegram/messenger/MediaController$MediaEditState;

    .line 10297
    iget-object v12, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    .line 10298
    invoke-virtual {v9}, Lorg/telegram/messenger/MediaController$MediaEditState;->getPath()Ljava/lang/String;

    move-result-object v9

    move-object/from16 v23, v12

    goto :goto_18

    :cond_3a
    move-object v9, v10

    move-object/from16 v23, v9

    const/4 v11, 0x0

    .line 10300
    :goto_18
    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v12, :cond_3b

    move-object/from16 v21, v10

    :goto_19
    move/from16 v22, v11

    goto :goto_1b

    :cond_3b
    if-nez v23, :cond_3c

    .line 10304
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v9}, Lorg/telegram/messenger/ImageReceiver;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v9

    .line 10305
    iget-object v11, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v11}, Lorg/telegram/messenger/ImageReceiver;->getOrientation()I

    move-result v11

    goto :goto_1a

    .line 10307
    :cond_3c
    invoke-static {v9}, Landroid/graphics/BitmapFactory;->decodeFile(Ljava/lang/String;)Landroid/graphics/Bitmap;

    move-result-object v9

    :goto_1a
    move-object/from16 v21, v9

    goto :goto_19

    .line 10312
    :goto_1b
    iget v9, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v9, v6, :cond_3d

    const/16 v25, 0x1

    goto :goto_1e

    .line 10314
    :cond_3d
    iget-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v9, :cond_40

    iget v9, v0, Lorg/telegram/ui/PhotoViewer;->currentImageHasFace:I

    const/4 v11, 0x2

    if-ne v9, v11, :cond_3e

    goto :goto_1d

    :cond_3e
    if-ne v9, v6, :cond_3f

    const/4 v9, 0x1

    goto :goto_1c

    :cond_3f
    const/4 v9, 0x0

    :goto_1c
    move/from16 v25, v9

    goto :goto_1e

    :cond_40
    :goto_1d
    const/16 v25, 0x2

    .line 10319
    :goto_1e
    new-instance v9, Lorg/telegram/ui/Components/PhotoFilterView;

    iget-object v11, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v12, :cond_41

    move-object v13, v12

    check-cast v13, Lorg/telegram/ui/Components/VideoEditTextureView;

    move-object/from16 v20, v13

    goto :goto_1f

    :cond_41
    move-object/from16 v20, v10

    :goto_1f
    iget-boolean v13, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v13, :cond_42

    goto :goto_20

    :cond_42
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    :goto_20
    move-object/from16 v24, v10

    if-nez v12, :cond_45

    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v10, v10, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v10, :cond_43

    iget-boolean v10, v10, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-nez v10, :cond_44

    :cond_43
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v10}, Lorg/telegram/ui/Components/Crop/CropTransform;->isMirrored()Z

    move-result v10

    if-eqz v10, :cond_45

    :cond_44
    const/16 v26, 0x1

    goto :goto_21

    :cond_45
    const/16 v26, 0x0

    :goto_21
    const/16 v27, 0x1

    const/16 v28, 0x0

    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    move-object/from16 v18, v9

    move-object/from16 v19, v11

    move-object/from16 v29, v10

    invoke-direct/range {v18 .. v29}, Lorg/telegram/ui/Components/PhotoFilterView;-><init>(Landroid/content/Context;Lorg/telegram/ui/Components/VideoEditTextureView;Landroid/graphics/Bitmap;ILorg/telegram/messenger/MediaController$SavedFilterState;Lorg/telegram/ui/Components/PaintingOverlay;IZZLorg/telegram/ui/Components/BlurringShader$BlurManager;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    iput-object v9, v0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    .line 10320
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/high16 v11, -0x40800000    # -1.0f

    invoke-static {v3, v11}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IF)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v10, v9, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 10321
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/PhotoFilterView;->getDoneTextView()Landroid/widget/TextView;

    move-result-object v3

    new-instance v9, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda29;

    invoke-direct {v9, v0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda29;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v3, v9}, Landroid/widget/TextView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 10325
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/PhotoFilterView;->getCancelTextView()Landroid/widget/TextView;

    move-result-object v3

    new-instance v9, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda39;

    invoke-direct {v9, v0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda39;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v3, v9}, Landroid/widget/TextView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 10340
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/PhotoFilterView;->getToolsView()Landroid/widget/FrameLayout;

    move-result-object v3

    const/high16 v9, 0x433a0000    # 186.0f

    invoke-static {v9}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v9

    int-to-float v9, v9

    invoke-virtual {v3, v9}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 10343
    :cond_46
    new-instance v3, Landroid/animation/AnimatorSet;

    invoke-direct {v3}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v3, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    .line 10344
    new-instance v3, Ljava/util/ArrayList;

    invoke-direct {v3}, Ljava/util/ArrayList;-><init>()V

    .line 10345
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    sget-object v10, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    const/4 v11, 0x2

    new-array v12, v11, [F

    const/4 v11, 0x0

    const/4 v13, 0x0

    aput v11, v12, v13

    invoke-virtual {v9}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v11

    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v13}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->getEditTextHeight()I

    move-result v13

    add-int/2addr v11, v13

    iget-boolean v13, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v13, :cond_47

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v4

    goto :goto_22

    :cond_47
    const/4 v4, 0x0

    :goto_22
    add-int/2addr v11, v4

    int-to-float v4, v11

    aput v4, v12, v6

    invoke-static {v9, v10, v12}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10346
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    sget-object v9, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v10, v6, [F

    const/4 v11, 0x0

    const/4 v12, 0x0

    aput v11, v10, v12

    invoke-static {v4, v9, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10347
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    sget-object v9, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    const/4 v10, 0x2

    new-array v13, v10, [F

    aput v11, v13, v12

    iget-boolean v10, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v10, :cond_48

    goto :goto_23

    :cond_48
    const/high16 v5, 0x42c00000    # 96.0f

    :goto_23
    invoke-static {v5}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v5

    int-to-float v5, v5

    aput v5, v13, v6

    invoke-static {v4, v9, v13}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10348
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    sget-object v5, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    const/4 v7, 0x2

    new-array v9, v7, [F

    const/4 v7, 0x0

    const/4 v10, 0x0

    aput v7, v9, v10

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v7

    neg-int v7, v7

    int-to-float v7, v7

    aput v7, v9, v6

    invoke-static {v4, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10349
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eqz v4, :cond_4b

    const/4 v5, 0x4

    if-ne v4, v5, :cond_49

    goto :goto_24

    :cond_49
    if-ne v4, v6, :cond_4a

    .line 10353
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    sget-object v5, Landroid/view/View;->ALPHA:Landroid/util/Property;

    const/4 v7, 0x2

    new-array v9, v7, [F

    fill-array-data v9, :array_8

    invoke-static {v4, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_25

    :cond_4a
    const/4 v7, 0x2

    goto :goto_25

    :cond_4b
    :goto_24
    const/4 v7, 0x2

    .line 10350
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    sget-object v5, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v7, [F

    fill-array-data v9, :array_9

    invoke-static {v4, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10351
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    sget-object v5, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v7, [F

    fill-array-data v9, :array_a

    invoke-static {v4, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10355
    :goto_25
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    invoke-virtual {v4}, Landroid/view/ViewGroup;->getVisibility()I

    move-result v4

    if-nez v4, :cond_4c

    .line 10356
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    sget-object v5, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v7, [F

    fill-array-data v9, :array_b

    invoke-static {v4, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10358
    :cond_4c
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v4}, Landroid/widget/ImageView;->getTag()Ljava/lang/Object;

    move-result-object v4

    if-eqz v4, :cond_4d

    .line 10359
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    sget-object v5, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v7, [F

    fill-array-data v9, :array_c

    invoke-static {v4, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10361
    :cond_4d
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    new-instance v5, Landroid/animation/ArgbEvaluator;

    invoke-direct {v5}, Landroid/animation/ArgbEvaluator;-><init>()V

    new-array v7, v7, [Ljava/lang/Object;

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    const/4 v9, 0x0

    aput-object v2, v7, v9

    invoke-static {v8}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    aput-object v2, v7, v6

    invoke-static {v4, v14, v5, v7}, Landroid/animation/ObjectAnimator;->ofObject(Ljava/lang/Object;Ljava/lang/String;Landroid/animation/TypeEvaluator;[Ljava/lang/Object;)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v3, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10362
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {v2, v3}, Landroid/animation/AnimatorSet;->playTogether(Ljava/util/Collection;)V

    .line 10363
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    const-wide/16 v3, 0xc8

    invoke-virtual {v2, v3, v4}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 10364
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    new-instance v3, Lorg/telegram/ui/PhotoViewer$54;

    invoke-direct {v3, v0, v1}, Lorg/telegram/ui/PhotoViewer$54;-><init>(Lorg/telegram/ui/PhotoViewer;I)V

    invoke-virtual {v2, v3}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 10453
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {v1}, Landroid/animation/AnimatorSet;->start()V

    goto/16 :goto_2b

    :cond_4e
    const/4 v3, 0x3

    if-ne v1, v3, :cond_58

    .line 10455
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->startVideoPlayer()V

    .line 10456
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->createPaintView()V

    .line 10458
    new-instance v1, Landroid/animation/AnimatorSet;

    invoke-direct {v1}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    .line 10459
    new-instance v1, Ljava/util/ArrayList;

    invoke-direct {v1}, Ljava/util/ArrayList;-><init>()V

    .line 10460
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    sget-object v9, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v10, v6, [F

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v11

    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v12}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->getEditTextHeight()I

    move-result v12

    add-int/2addr v11, v12

    iget-boolean v12, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v12, :cond_4f

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v4

    goto :goto_26

    :cond_4f
    const/4 v4, 0x0

    :goto_26
    add-int/2addr v11, v4

    int-to-float v4, v11

    const/4 v11, 0x0

    aput v4, v10, v11

    invoke-static {v3, v9, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10461
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v6, [F

    const/4 v10, 0x0

    aput v10, v9, v11

    invoke-static {v3, v4, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10462
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    sget-object v4, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v9, v6, [F

    iget-boolean v10, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v10, :cond_50

    const/high16 v10, 0x431a0000    # 154.0f

    goto :goto_27

    :cond_50
    const/high16 v10, 0x42c00000    # 96.0f

    :goto_27
    invoke-static {v10}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v10

    int-to-float v10, v10

    const/4 v11, 0x0

    aput v10, v9, v11

    invoke-static {v3, v4, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10463
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    sget-object v4, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v9, v6, [F

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v10

    neg-int v10, v10

    int-to-float v10, v10

    aput v10, v9, v11

    invoke-static {v3, v4, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10464
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    new-instance v4, Landroid/animation/ArgbEvaluator;

    invoke-direct {v4}, Landroid/animation/ArgbEvaluator;-><init>()V

    const/4 v9, 0x2

    new-array v10, v9, [Ljava/lang/Object;

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    aput-object v2, v10, v11

    invoke-static {v8}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    aput-object v2, v10, v6

    invoke-static {v3, v14, v4, v10}, Landroid/animation/ObjectAnimator;->ofObject(Ljava/lang/Object;Ljava/lang/String;Landroid/animation/TypeEvaluator;[Ljava/lang/Object;)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10465
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    if-eqz v2, :cond_52

    .line 10466
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    sget-object v3, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v4, v6, [F

    iget-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v8, :cond_51

    goto :goto_28

    :cond_51
    const/high16 v5, 0x42c00000    # 96.0f

    :goto_28
    invoke-static {v5}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v5

    int-to-float v5, v5

    const/4 v7, 0x0

    aput v5, v4, v7

    invoke-static {v2, v3, v4}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10468
    :cond_52
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eqz v2, :cond_55

    const/4 v3, 0x4

    if-ne v2, v3, :cond_53

    goto :goto_29

    :cond_53
    if-ne v2, v6, :cond_54

    .line 10472
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    sget-object v3, Landroid/view/View;->ALPHA:Landroid/util/Property;

    const/4 v4, 0x2

    new-array v5, v4, [F

    fill-array-data v5, :array_d

    invoke-static {v2, v3, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_2a

    :cond_54
    const/4 v4, 0x2

    goto :goto_2a

    :cond_55
    :goto_29
    const/4 v4, 0x2

    .line 10469
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    sget-object v3, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v5, v4, [F

    fill-array-data v5, :array_e

    invoke-static {v2, v3, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10470
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    sget-object v3, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v5, v4, [F

    fill-array-data v5, :array_f

    invoke-static {v2, v3, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10474
    :goto_2a
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    invoke-virtual {v2}, Landroid/view/ViewGroup;->getVisibility()I

    move-result v2

    if-nez v2, :cond_56

    .line 10475
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    sget-object v3, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v5, v4, [F

    fill-array-data v5, :array_10

    invoke-static {v2, v3, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10477
    :cond_56
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v2}, Landroid/widget/ImageView;->getTag()Ljava/lang/Object;

    move-result-object v2

    if-eqz v2, :cond_57

    .line 10478
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    sget-object v3, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v4, v4, [F

    fill-array-data v4, :array_11

    invoke-static {v2, v3, v4}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10480
    :cond_57
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {v2, v1}, Landroid/animation/AnimatorSet;->playTogether(Ljava/util/Collection;)V

    .line 10481
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    const-wide/16 v2, 0xc8

    invoke-virtual {v1, v2, v3}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 10482
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$55;

    invoke-direct {v2, v0}, Lorg/telegram/ui/PhotoViewer$55;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v1, v2}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 10488
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {v1}, Landroid/animation/AnimatorSet;->start()V

    .line 10491
    :cond_58
    :goto_2b
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    if-eqz v1, :cond_59

    .line 10492
    invoke-virtual {v1}, Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;->updateExclusionRects()V

    :cond_59
    :goto_2c
    return-void

    :array_0
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data

    :array_1
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data

    :array_2
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data

    :array_3
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data

    :array_4
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_5
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_6
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_7
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_8
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_9
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_a
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_b
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_c
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_d
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_e
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_f
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_10
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_11
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data
.end method

.method public updateColors()V
    .locals 8

    .line 8245
    sget v0, Lorg/telegram/ui/ActionBar/Theme;->key_chat_editMediaButton:I

    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v1

    .line 8246
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    const/4 v3, 0x0

    const/4 v4, 0x1

    if-eqz v2, :cond_1

    .line 8247
    invoke-virtual {v2}, Landroid/widget/ImageView;->getBackground()Landroid/graphics/drawable/Drawable;

    move-result-object v2

    .line 8248
    invoke-static {v2, v1, v3}, Lorg/telegram/ui/ActionBar/Theme;->setSelectorDrawableColor(Landroid/graphics/drawable/Drawable;IZ)V

    .line 8249
    sget v5, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v6, 0x15

    if-lt v5, v6, :cond_0

    sget v5, Lorg/telegram/ui/ActionBar/Theme;->key_dialogFloatingButtonPressed:I

    goto :goto_0

    :cond_0
    move v5, v0

    :goto_0
    invoke-direct {p0, v5}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v5

    invoke-static {v2, v5, v4}, Lorg/telegram/ui/ActionBar/Theme;->setSelectorDrawableColor(Landroid/graphics/drawable/Drawable;IZ)V

    .line 8250
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    new-instance v5, Landroid/graphics/PorterDuffColorFilter;

    sget v6, Lorg/telegram/ui/ActionBar/Theme;->key_dialogFloatingIcon:I

    invoke-direct {p0, v6}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v6

    sget-object v7, Landroid/graphics/PorterDuff$Mode;->MULTIPLY:Landroid/graphics/PorterDuff$Mode;

    invoke-direct {v5, v6, v7}, Landroid/graphics/PorterDuffColorFilter;-><init>(ILandroid/graphics/PorterDuff$Mode;)V

    invoke-virtual {v2, v5}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 8252
    :cond_1
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    if-eqz v2, :cond_2

    .line 8253
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v0

    const/4 v5, -0x1

    invoke-virtual {v2, v0, v5}, Lorg/telegram/ui/Components/CheckBox;->setColor(II)V

    .line 8255
    :cond_2
    new-instance v0, Landroid/graphics/PorterDuffColorFilter;

    sget-object v2, Landroid/graphics/PorterDuff$Mode;->MULTIPLY:Landroid/graphics/PorterDuff$Mode;

    invoke-direct {v0, v1, v2}, Landroid/graphics/PorterDuffColorFilter;-><init>(ILandroid/graphics/PorterDuff$Mode;)V

    .line 8256
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    if-eqz v2, :cond_3

    invoke-virtual {v2}, Landroid/widget/ImageView;->getColorFilter()Landroid/graphics/ColorFilter;

    move-result-object v2

    if-eqz v2, :cond_3

    .line 8257
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-virtual {v2, v0}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 8259
    :cond_3
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    if-eqz v2, :cond_4

    invoke-virtual {v2}, Landroid/widget/ImageView;->getColorFilter()Landroid/graphics/ColorFilter;

    move-result-object v2

    if-eqz v2, :cond_4

    .line 8260
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-virtual {v2, v0}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 8262
    :cond_4
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    if-eqz v2, :cond_5

    invoke-virtual {v2}, Landroid/widget/ImageView;->getColorFilter()Landroid/graphics/ColorFilter;

    move-result-object v2

    if-eqz v2, :cond_5

    .line 8263
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v2, v0}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 8265
    :cond_5
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    if-eqz v2, :cond_6

    invoke-virtual {v2}, Landroid/widget/ImageView;->getColorFilter()Landroid/graphics/ColorFilter;

    move-result-object v2

    if-eqz v2, :cond_6

    .line 8266
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v2, v0}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 8268
    :cond_6
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    if-eqz v2, :cond_7

    invoke-virtual {v2}, Landroid/widget/ImageView;->getColorFilter()Landroid/graphics/ColorFilter;

    move-result-object v2

    if-eqz v2, :cond_7

    .line 8269
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v2, v0}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 8271
    :cond_7
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    if-eqz v0, :cond_8

    .line 8272
    iget-object v0, v0, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->doneButton:Landroid/widget/TextView;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setTextColor(I)V

    .line 8274
    :cond_8
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    if-eqz v0, :cond_9

    .line 8275
    iget-object v0, v0, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->doneButton:Landroid/widget/TextView;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setTextColor(I)V

    .line 8277
    :cond_9
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v0, :cond_a

    .line 8278
    invoke-virtual {v0}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->updateColors()V

    .line 8280
    :cond_a
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    if-eqz v0, :cond_b

    .line 8281
    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoFilterView;->updateColors()V

    .line 8283
    :cond_b
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    if-eqz v0, :cond_c

    .line 8284
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/CaptionPhotoViewer;->updateColors(Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    .line 8286
    :cond_c
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    if-eqz v0, :cond_d

    .line 8287
    invoke-virtual {v0}, Landroid/view/View;->invalidate()V

    .line 8289
    :cond_d
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    if-eqz v0, :cond_f

    .line 8290
    invoke-virtual {v0}, Landroid/view/ViewGroup;->getChildCount()I

    move-result v0

    :goto_1
    if-ge v3, v0, :cond_f

    .line 8292
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    invoke-virtual {v1, v3}, Landroid/view/ViewGroup;->getChildAt(I)Landroid/view/View;

    move-result-object v1

    .line 8293
    instance-of v2, v1, Lorg/telegram/ui/Cells/PhotoPickerPhotoCell;

    if-eqz v2, :cond_e

    .line 8294
    check-cast v1, Lorg/telegram/ui/Cells/PhotoPickerPhotoCell;

    invoke-virtual {v1}, Lorg/telegram/ui/Cells/PhotoPickerPhotoCell;->updateColors()V

    :cond_e
    add-int/lit8 v3, v3, 0x1

    goto :goto_1

    .line 8298
    :cond_f
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->masksAlert:Lorg/telegram/ui/Components/StickersAlert;

    if-eqz v0, :cond_10

    .line 8299
    invoke-virtual {v0, v4}, Lorg/telegram/ui/Components/StickersAlert;->updateColors(Z)V

    :cond_10
    return-void
.end method

.method public updateMuteButton()V
    .locals 7

    .line 17656
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_0

    .line 17657
    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/VideoPlayer;->setMute(Z)V

    .line 17659
    :cond_0
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->videoConvertSupported:Z

    const/high16 v1, 0x3f000000    # 0.5f

    const-wide/16 v2, 0xb4

    const/4 v4, 0x0

    if-nez v0, :cond_1

    .line 17660
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v4}, Landroid/widget/ImageView;->setEnabled(Z)V

    .line 17661
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v4}, Landroid/widget/ImageView;->setClickable(Z)V

    .line 17662
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v0}, Landroid/widget/ImageView;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    invoke-virtual {v0, v1}, Landroid/view/ViewPropertyAnimator;->alpha(F)Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    invoke-virtual {v0, v2, v3}, Landroid/view/ViewPropertyAnimator;->setDuration(J)Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    invoke-virtual {v0}, Landroid/view/ViewPropertyAnimator;->start()V

    .line 17663
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0, v4}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setMode(I)V

    goto/16 :goto_1

    .line 17665
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    const/4 v5, 0x1

    invoke-virtual {v0, v5}, Landroid/widget/ImageView;->setEnabled(Z)V

    .line 17666
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v5}, Landroid/widget/ImageView;->setClickable(Z)V

    .line 17667
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v0}, Landroid/widget/ImageView;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    const/high16 v6, 0x3f800000    # 1.0f

    invoke-virtual {v0, v6}, Landroid/view/ViewPropertyAnimator;->alpha(F)Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    invoke-virtual {v0, v2, v3}, Landroid/view/ViewPropertyAnimator;->setDuration(J)Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    invoke-virtual {v0}, Landroid/view/ViewPropertyAnimator;->start()V

    .line 17668
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-eqz v0, :cond_5

    .line 17669
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->customTitle:Ljava/lang/CharSequence;

    if-nez v0, :cond_2

    .line 17670
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    sget v2, Lorg/telegram/messenger/R$string;->SoundMuted:I

    const-string v3, "SoundMuted"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;)V

    .line 17672
    :cond_2
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    sget v2, Lorg/telegram/messenger/R$drawable;->video_send_mute:I

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 17673
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {v0}, Landroid/view/View;->getTag()Ljava/lang/Object;

    move-result-object v0

    if-eqz v0, :cond_3

    .line 17674
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {v0, v1}, Landroid/view/View;->setAlpha(F)V

    .line 17675
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {v0, v4}, Landroid/view/View;->setEnabled(Z)V

    .line 17677
    :cond_3
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v0, v5, :cond_4

    .line 17678
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    const/high16 v1, 0x46160000    # 9600.0f

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    div-float/2addr v1, v2

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setMaxProgressDiff(F)V

    .line 17679
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0, v5}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setMode(I)V

    .line 17680
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateVideoInfo()V

    goto :goto_0

    .line 17682
    :cond_4
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0, v6}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setMaxProgressDiff(F)V

    .line 17683
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0, v4}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setMode(I)V

    .line 17685
    :goto_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    sget v1, Lorg/telegram/messenger/R$string;->NoSound:I

    const-string v2, "NoSound"

    invoke-static {v2, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setContentDescription(Ljava/lang/CharSequence;)V

    goto :goto_1

    .line 17687
    :cond_5
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentSubtitle:Ljava/lang/String;

    invoke-virtual {v0, v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;)V

    .line 17688
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    sget v1, Lorg/telegram/messenger/R$drawable;->video_send_unmute:I

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 17689
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    sget v1, Lorg/telegram/messenger/R$string;->Sound:I

    const-string v2, "Sound"

    invoke-static {v2, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 17690
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {v0}, Landroid/view/View;->getTag()Ljava/lang/Object;

    move-result-object v0

    if-eqz v0, :cond_6

    .line 17691
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {v0, v6}, Landroid/view/View;->setAlpha(F)V

    .line 17692
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {v0, v5}, Landroid/view/View;->setEnabled(Z)V

    .line 17694
    :cond_6
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0, v6}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setMaxProgressDiff(F)V

    .line 17695
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0, v4}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setMode(I)V

    :goto_1
    return-void
.end method

.method public updateWebPlayerState(ZI)V
    .locals 0

    .line 8337
    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->updatePlayerState(ZI)V

    return-void
.end method

.method public zoomOut()V
    .locals 3

    const/high16 v0, 0x3f800000    # 1.0f

    const/4 v1, 0x0

    const/4 v2, 0x0

    .line 16029
    invoke-direct {p0, v0, v1, v1, v2}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZ)V

    return-void
.end method
